function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var d6=Object.defineProperty;var h6=(t,e,n)=>e in t?d6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>(h6(t,typeof e!="symbol"?e+"":e,n),n),a1=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var E=(t,e,n)=>(a1(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},S=(t,e,n,r)=>(a1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Df=(t,e,n,r)=>({set _(i){S(t,e,i,n)},get _(){return E(t,e,r)}}),q=(t,e,n)=>(a1(t,e,"access private method"),n);function p6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var i3={exports:{}},bg={},s3={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),m6=Symbol.for("react.portal"),g6=Symbol.for("react.fragment"),y6=Symbol.for("react.strict_mode"),v6=Symbol.for("react.profiler"),b6=Symbol.for("react.provider"),A6=Symbol.for("react.context"),w6=Symbol.for("react.forward_ref"),E6=Symbol.for("react.suspense"),x6=Symbol.for("react.memo"),F6=Symbol.for("react.lazy"),mx=Symbol.iterator;function C6(t){return t===null||typeof t!="object"?null:(t=mx&&t[mx]||t["@@iterator"],typeof t=="function"?t:null)}var u3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a3=Object.assign,o3={};function cf(t,e,n){this.props=t,this.context=e,this.refs=o3,this.updater=n||u3}cf.prototype.isReactComponent={};cf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l3(){}l3.prototype=cf.prototype;function Dw(t,e,n){this.props=t,this.context=e,this.refs=o3,this.updater=n||u3}var kw=Dw.prototype=new l3;kw.constructor=Dw;a3(kw,cf.prototype);kw.isPureReactComponent=!0;var gx=Array.isArray,c3=Object.prototype.hasOwnProperty,Sw={current:null},f3={key:!0,ref:!0,__self:!0,__source:!0};function d3(t,e,n){var r,i={},s=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(s=""+e.key),e)c3.call(e,r)&&!f3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zh,type:t,key:s,ref:u,props:i,_owner:Sw.current}}function D6(t,e){return{$$typeof:zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bw(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh}function k6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yx=/\/+/g;function o1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k6(""+t.key):e.toString(36)}function vp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case zh:case m6:u=!0}}if(u)return u=t,i=i(u),t=r===""?"."+o1(u,0):r,gx(i)?(n="",t!=null&&(n=t.replace(yx,"$&/")+"/"),vp(i,e,n,"",function(c){return c})):i!=null&&(Bw(i)&&(i=D6(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(yx,"$&/")+"/")+t)),e.push(i)),1;if(u=0,r=r===""?".":r+":",gx(t))for(var a=0;a<t.length;a++){s=t[a];var o=r+o1(s,a);u+=vp(s,e,n,o,i)}else if(o=C6(t),typeof o=="function")for(t=o.call(t),a=0;!(s=t.next()).done;)s=s.value,o=r+o1(s,a++),u+=vp(s,e,n,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function B0(t,e,n){if(t==null)return t;var r=[],i=0;return vp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},bp={transition:null},B6={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:bp,ReactCurrentOwner:Sw};Fe.Children={map:B0,forEach:function(t,e,n){B0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return B0(t,function(){e++}),e},toArray:function(t){return B0(t,function(e){return e})||[]},only:function(t){if(!Bw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=cf;Fe.Fragment=g6;Fe.Profiler=v6;Fe.PureComponent=Dw;Fe.StrictMode=y6;Fe.Suspense=E6;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B6;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a3({},t.props),i=t.key,s=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,u=Sw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)c3.call(e,o)&&!f3.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zh,type:t.type,key:i,ref:s,props:r,_owner:u}};Fe.createContext=function(t){return t={$$typeof:A6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b6,_context:t},t.Consumer=t};Fe.createElement=d3;Fe.createFactory=function(t){var e=d3.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:w6,render:t}};Fe.isValidElement=Bw;Fe.lazy=function(t){return{$$typeof:F6,_payload:{_status:-1,_result:t},_init:S6}};Fe.memo=function(t,e){return{$$typeof:x6,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=bp.transition;bp.transition={};try{t()}finally{bp.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return Mn.current.useCallback(t,e)};Fe.useContext=function(t){return Mn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Mn.current.useEffect(t,e)};Fe.useId=function(){return Mn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Mn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Mn.current.useRef(t)};Fe.useState=function(t){return Mn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Mn.current.useTransition()};Fe.version="18.2.0";s3.exports=Fe;var x=s3.exports;const Ct=n3(x),h3=p6({__proto__:null,default:Ct},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=x,N6=Symbol.for("react.element"),_6=Symbol.for("react.fragment"),T6=Object.prototype.hasOwnProperty,P6=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j6={key:!0,ref:!0,__self:!0,__source:!0};function p3(t,e,n){var r,i={},s=null,u=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)T6.call(e,r)&&!j6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N6,type:t,key:s,ref:u,props:i,_owner:P6.current}}bg.Fragment=_6;bg.jsx=p3;bg.jsxs=p3;i3.exports=bg;var l=i3.exports,Qv={},m3={exports:{}},br={},g3={exports:{}},y3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,G){var W=M.length;M.push(G);e:for(;0<W;){var oe=W-1>>>1,Z=M[oe];if(0<i(Z,G))M[oe]=G,M[W]=Z,W=oe;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],W=M.pop();if(W!==G){M[0]=W;e:for(var oe=0,Z=M.length,ye=Z>>>1;oe<ye;){var we=2*(oe+1)-1,ft=M[we],be=we+1,dt=M[be];if(0>i(ft,W))be<Z&&0>i(dt,ft)?(M[oe]=dt,M[be]=W,oe=be):(M[oe]=ft,M[we]=W,oe=we);else if(be<Z&&0>i(dt,W))M[oe]=dt,M[be]=W,oe=be;else break e}}return G}function i(M,G){var W=M.sortIndex-G.sortIndex;return W!==0?W:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,a=u.now();t.unstable_now=function(){return u.now()-a}}var o=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=M)r(c),G.sortIndex=G.expirationTime,e(o,G);else break;G=n(c)}}function w(M){if(m=!1,A(M),!v)if(n(o)!==null)v=!0,L(F);else{var G=n(c);G!==null&&Y(w,G.startTime-M)}}function F(M,G){v=!1,m&&(m=!1,g(D),D=-1),p=!0;var W=h;try{for(A(G),d=n(o);d!==null&&(!(d.expirationTime>G)||M&&!V());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var Z=oe(d.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(o)&&r(o),A(G)}else r(o);d=n(o)}if(d!==null)var ye=!0;else{var we=n(c);we!==null&&Y(w,we.startTime-G),ye=!1}return ye}finally{d=null,h=W,p=!1}}var k=!1,C=null,D=-1,T=5,N=-1;function V(){return!(t.unstable_now()-N<T)}function H(){if(C!==null){var M=t.unstable_now();N=M;var G=!0;try{G=C(!0,M)}finally{G?Q():(k=!1,C=null)}}else k=!1}var Q;if(typeof y=="function")Q=function(){y(H)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,P=ne.port2;ne.port1.onmessage=H,Q=function(){P.postMessage(null)}}else Q=function(){b(H,0)};function L(M){C=M,k||(k=!0,Q())}function Y(M,G){D=b(function(){M(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var W=h;h=G;try{return M()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return G()}finally{h=W}},t.unstable_scheduleCallback=function(M,G,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,M={id:f++,callback:G,priorityLevel:M,startTime:W,expirationTime:Z,sortIndex:-1},W>oe?(M.sortIndex=W,e(c,M),n(o)===null&&M===n(c)&&(m?(g(D),D=-1):m=!0,Y(w,W-oe))):(M.sortIndex=Z,e(o,M),v||p||(v=!0,L(F))),M},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(M){var G=h;return function(){var W=h;h=G;try{return M.apply(this,arguments)}finally{h=W}}}})(y3);g3.exports=y3;var I6=g3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3=x,yr=I6;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b3=new Set,Pd={};function To(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(Pd[t]=e,t=0;t<e.length;t++)b3.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gv=Object.prototype.hasOwnProperty,R6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vx={},bx={};function L6(t){return Gv.call(bx,t)?!0:Gv.call(vx,t)?!1:R6.test(t)?bx[t]=!0:(vx[t]=!0,!1)}function M6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $6(t,e,n,r){if(e===null||typeof e>"u"||M6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,i,s,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=u}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ow=/[\-:]([a-z])/g;function Nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ow,Nw);on[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ow,Nw);on[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ow,Nw);on[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function _w(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($6(e,n,i,r)&&(n=null),r||i===null?L6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gs=v3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),ul=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),A3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),ou=Symbol.for("react.lazy"),E3=Symbol.for("react.offscreen"),Ax=Symbol.iterator;function kf(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,l1;function td(t){if(l1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);l1=e&&e[1]||""}return`
`+l1+t}var c1=!1;function f1(t,e){if(!t||c1)return"";c1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),u=i.length-1,a=s.length-1;1<=u&&0<=a&&i[u]!==s[a];)a--;for(;1<=u&&0<=a;u--,a--)if(i[u]!==s[a]){if(u!==1||a!==1)do if(u--,a--,0>a||i[u]!==s[a]){var o=`
`+i[u].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=u&&0<=a);break}}}finally{c1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?td(t):""}function U6(t){switch(t.tag){case 5:return td(t.type);case 16:return td("Lazy");case 13:return td("Suspense");case 19:return td("SuspenseList");case 0:case 2:case 15:return t=f1(t.type,!1),t;case 11:return t=f1(t.type.render,!1),t;case 1:return t=f1(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case al:return"Fragment";case ul:return"Portal";case Wv:return"Profiler";case Tw:return"StrictMode";case qv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w3:return(t.displayName||"Context")+".Consumer";case A3:return(t._context.displayName||"Context")+".Provider";case Pw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jw:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case ou:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function V6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===Tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ju(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H6(t){var e=x3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function N0(t){t._valueTracker||(t._valueTracker=H6(t))}function F3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ju(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C3(t,e){e=e.checked,e!=null&&_w(t,"checked",e,!1)}function Zv(t,e){C3(t,e);var n=Ju(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xv(t,e.type,Ju(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xv(t,e,n){(e!=="number"||tm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nd=Array.isArray;function Pl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ju(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(nd(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ju(n)}}function D3(t,e){var n=Ju(e.value),r=Ju(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _0,S3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_0=_0||document.createElement("div"),_0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z6=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){z6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function B3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function O3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q6=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nb(t,e){if(e){if(Q6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function rb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=null;function Iw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sb=null,jl=null,Il=null;function Cx(t){if(t=Wh(t)){if(typeof sb!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Fg(e),sb(t.stateNode,t.type,e))}}function N3(t){jl?Il?Il.push(t):Il=[t]:jl=t}function _3(){if(jl){var t=jl,e=Il;if(Il=jl=null,Cx(t),e)for(t=0;t<e.length;t++)Cx(e[t])}}function T3(t,e){return t(e)}function P3(){}var d1=!1;function j3(t,e,n){if(d1)return t(e,n);d1=!0;try{return T3(t,e,n)}finally{d1=!1,(jl!==null||Il!==null)&&(P3(),_3())}}function Id(t,e){var n=t.stateNode;if(n===null)return null;var r=Fg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ub=!1;if(Rs)try{var Sf={};Object.defineProperty(Sf,"passive",{get:function(){ub=!0}}),window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,Sf)}catch{ub=!1}function G6(t,e,n,r,i,s,u,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var pd=!1,nm=null,rm=!1,ab=null,W6={onError:function(t){pd=!0,nm=t}};function q6(t,e,n,r,i,s,u,a,o){pd=!1,nm=null,G6.apply(W6,arguments)}function K6(t,e,n,r,i,s,u,a,o){if(q6.apply(this,arguments),pd){if(pd){var c=nm;pd=!1,nm=null}else throw Error(K(198));rm||(rm=!0,ab=c)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dx(t){if(Po(t)!==t)throw Error(K(188))}function J6(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dx(i),t;if(s===r)return Dx(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var u=!1,a=i.child;a;){if(a===n){u=!0,n=i,r=s;break}if(a===r){u=!0,r=i,n=s;break}a=a.sibling}if(!u){for(a=s.child;a;){if(a===n){u=!0,n=s,r=i;break}if(a===r){u=!0,r=s,n=i;break}a=a.sibling}if(!u)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function R3(t){return t=J6(t),t!==null?L3(t):null}function L3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L3(t);if(e!==null)return e;t=t.sibling}return null}var M3=yr.unstable_scheduleCallback,kx=yr.unstable_cancelCallback,Y6=yr.unstable_shouldYield,Z6=yr.unstable_requestPaint,St=yr.unstable_now,X6=yr.unstable_getCurrentPriorityLevel,Rw=yr.unstable_ImmediatePriority,$3=yr.unstable_UserBlockingPriority,im=yr.unstable_NormalPriority,e4=yr.unstable_LowPriority,U3=yr.unstable_IdlePriority,Ag=null,Xi=null;function t4(t){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(Ag,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:i4,n4=Math.log,r4=Math.LN2;function i4(t){return t>>>=0,t===0?32:31-(n4(t)/r4|0)|0}var T0=64,P0=4194304;function rd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,u=n&268435455;if(u!==0){var a=u&~i;a!==0?r=rd(a):(s&=u,s!==0&&(r=rd(s)))}else u=n&~i,u!==0?r=rd(u):s!==0&&(r=rd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),i=1<<n,r|=t[n],e&=~i;return r}function s4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ai(s),a=1<<u,o=i[u];o===-1?(!(a&n)||a&r)&&(i[u]=s4(a,e)):o<=e&&(t.expiredLanes|=a),s&=~a}}function ob(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V3(){var t=T0;return T0<<=1,!(T0&4194240)&&(T0=64),t}function h1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function a4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function H3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z3,Mw,Q3,G3,W3,lb=!1,j0=[],$u=null,Uu=null,Vu=null,Rd=new Map,Ld=new Map,yu=[],o4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(t,e){switch(t){case"focusin":case"focusout":$u=null;break;case"dragenter":case"dragleave":Uu=null;break;case"mouseover":case"mouseout":Vu=null;break;case"pointerover":case"pointerout":Rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(e.pointerId)}}function Bf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wh(e),e!==null&&Mw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function l4(t,e,n,r,i){switch(e){case"focusin":return $u=Bf($u,t,e,n,r,i),!0;case"dragenter":return Uu=Bf(Uu,t,e,n,r,i),!0;case"mouseover":return Vu=Bf(Vu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rd.set(s,Bf(Rd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ld.set(s,Bf(Ld.get(s)||null,t,e,n,r,i)),!0}return!1}function q3(t){var e=Sa(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=I3(n),e!==null){t.blockedOn=e,W3(t.priority,function(){Q3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ap(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ib=r,n.target.dispatchEvent(r),ib=null}else return e=Wh(n),e!==null&&Mw(e),t.blockedOn=n,!1;e.shift()}return!0}function Bx(t,e,n){Ap(t)&&n.delete(e)}function c4(){lb=!1,$u!==null&&Ap($u)&&($u=null),Uu!==null&&Ap(Uu)&&(Uu=null),Vu!==null&&Ap(Vu)&&(Vu=null),Rd.forEach(Bx),Ld.forEach(Bx)}function Of(t,e){t.blockedOn===e&&(t.blockedOn=null,lb||(lb=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,c4)))}function Md(t){function e(i){return Of(i,t)}if(0<j0.length){Of(j0[0],t);for(var n=1;n<j0.length;n++){var r=j0[n];r.blockedOn===t&&(r.blockedOn=null)}}for($u!==null&&Of($u,t),Uu!==null&&Of(Uu,t),Vu!==null&&Of(Vu,t),Rd.forEach(e),Ld.forEach(e),n=0;n<yu.length;n++)r=yu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yu.length&&(n=yu[0],n.blockedOn===null);)q3(n),n.blockedOn===null&&yu.shift()}var Rl=Gs.ReactCurrentBatchConfig,um=!0;function f4(t,e,n,r){var i=Ve,s=Rl.transition;Rl.transition=null;try{Ve=1,$w(t,e,n,r)}finally{Ve=i,Rl.transition=s}}function d4(t,e,n,r){var i=Ve,s=Rl.transition;Rl.transition=null;try{Ve=4,$w(t,e,n,r)}finally{Ve=i,Rl.transition=s}}function $w(t,e,n,r){if(um){var i=cb(t,e,n,r);if(i===null)x1(t,e,r,am,n),Sx(t,r);else if(l4(i,t,e,n,r))r.stopPropagation();else if(Sx(t,r),e&4&&-1<o4.indexOf(t)){for(;i!==null;){var s=Wh(i);if(s!==null&&z3(s),s=cb(t,e,n,r),s===null&&x1(t,e,r,am,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else x1(t,e,r,null,n)}}var am=null;function cb(t,e,n,r){if(am=null,t=Iw(r),t=Sa(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return am=t,null}function K3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X6()){case Rw:return 1;case $3:return 4;case im:case e4:return 16;case U3:return 536870912;default:return 16}default:return 16}}var Iu=null,Uw=null,wp=null;function J3(){if(wp)return wp;var t,e=Uw,n=e.length,r,i="value"in Iu?Iu.value:Iu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===i[s-r];r++);return wp=i.slice(t,1<r?1-r:void 0)}function Ep(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function I0(){return!0}function Ox(){return!1}function Ar(t){function e(n,r,i,s,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?I0:Ox,this.isPropagationStopped=Ox,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),e}var ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vw=Ar(ff),Gh=ct({},ff,{view:0,detail:0}),h4=Ar(Gh),p1,m1,Nf,wg=ct({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nf&&(Nf&&t.type==="mousemove"?(p1=t.screenX-Nf.screenX,m1=t.screenY-Nf.screenY):m1=p1=0,Nf=t),p1)},movementY:function(t){return"movementY"in t?t.movementY:m1}}),Nx=Ar(wg),p4=ct({},wg,{dataTransfer:0}),m4=Ar(p4),g4=ct({},Gh,{relatedTarget:0}),g1=Ar(g4),y4=ct({},ff,{animationName:0,elapsedTime:0,pseudoElement:0}),v4=Ar(y4),b4=ct({},ff,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A4=Ar(b4),w4=ct({},ff,{data:0}),_x=Ar(w4),E4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F4[t])?!!e[t]:!1}function Hw(){return C4}var D4=ct({},Gh,{key:function(t){if(t.key){var e=E4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ep(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?Ep(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ep(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k4=Ar(D4),S4=ct({},wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tx=Ar(S4),B4=ct({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),O4=Ar(B4),N4=ct({},ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),_4=Ar(N4),T4=ct({},wg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P4=Ar(T4),j4=[9,13,27,32],zw=Rs&&"CompositionEvent"in window,md=null;Rs&&"documentMode"in document&&(md=document.documentMode);var I4=Rs&&"TextEvent"in window&&!md,Y3=Rs&&(!zw||md&&8<md&&11>=md),Px=" ",jx=!1;function Z3(t,e){switch(t){case"keyup":return j4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ol=!1;function R4(t,e){switch(t){case"compositionend":return X3(e);case"keypress":return e.which!==32?null:(jx=!0,Px);case"textInput":return t=e.data,t===Px&&jx?null:t;default:return null}}function L4(t,e){if(ol)return t==="compositionend"||!zw&&Z3(t,e)?(t=J3(),wp=Uw=Iu=null,ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y3&&e.locale!=="ko"?null:e.data;default:return null}}var M4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M4[t.type]:e==="textarea"}function eB(t,e,n,r){N3(r),e=om(e,"onChange"),0<e.length&&(n=new Vw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gd=null,$d=null;function $4(t){fB(t,0)}function Eg(t){var e=fl(t);if(F3(e))return t}function U4(t,e){if(t==="change")return e}var tB=!1;if(Rs){var y1;if(Rs){var v1="oninput"in document;if(!v1){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),v1=typeof Rx.oninput=="function"}y1=v1}else y1=!1;tB=y1&&(!document.documentMode||9<document.documentMode)}function Lx(){gd&&(gd.detachEvent("onpropertychange",nB),$d=gd=null)}function nB(t){if(t.propertyName==="value"&&Eg($d)){var e=[];eB(e,$d,t,Iw(t)),j3($4,e)}}function V4(t,e,n){t==="focusin"?(Lx(),gd=e,$d=n,gd.attachEvent("onpropertychange",nB)):t==="focusout"&&Lx()}function H4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eg($d)}function z4(t,e){if(t==="click")return Eg(e)}function Q4(t,e){if(t==="input"||t==="change")return Eg(e)}function G4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ei=typeof Object.is=="function"?Object.is:G4;function Ud(t,e){if(Ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gv.call(e,i)||!Ei(t[i],e[i]))return!1}return!0}function Mx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=Mx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mx(n)}}function rB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iB(){for(var t=window,e=tm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tm(t.document)}return e}function Qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W4(t){var e=iB(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rB(n.ownerDocument.documentElement,n)){if(r!==null&&Qw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$x(n,s);var u=$x(n,r);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q4=Rs&&"documentMode"in document&&11>=document.documentMode,ll=null,fb=null,yd=null,db=!1;function Ux(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;db||ll==null||ll!==tm(r)||(r=ll,"selectionStart"in r&&Qw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yd&&Ud(yd,r)||(yd=r,r=om(fb,"onSelect"),0<r.length&&(e=new Vw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ll)))}function R0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cl={animationend:R0("Animation","AnimationEnd"),animationiteration:R0("Animation","AnimationIteration"),animationstart:R0("Animation","AnimationStart"),transitionend:R0("Transition","TransitionEnd")},b1={},sB={};Rs&&(sB=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function xg(t){if(b1[t])return b1[t];if(!cl[t])return t;var e=cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sB)return b1[t]=e[n];return t}var uB=xg("animationend"),aB=xg("animationiteration"),oB=xg("animationstart"),lB=xg("transitionend"),cB=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){cB.set(t,e),To(e,[t])}for(var A1=0;A1<Vx.length;A1++){var w1=Vx[A1],K4=w1.toLowerCase(),J4=w1[0].toUpperCase()+w1.slice(1);aa(K4,"on"+J4)}aa(uB,"onAnimationEnd");aa(aB,"onAnimationIteration");aa(oB,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(lB,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function Hx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K6(r,e,void 0,t),t.currentTarget=null}function fB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var u=r.length-1;0<=u;u--){var a=r[u],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==s&&i.isPropagationStopped())break e;Hx(i,a,c),s=o}else for(u=0;u<r.length;u++){if(a=r[u],o=a.instance,c=a.currentTarget,a=a.listener,o!==s&&i.isPropagationStopped())break e;Hx(i,a,c),s=o}}}if(rm)throw t=ab,rm=!1,ab=null,t}function Ye(t,e){var n=e[yb];n===void 0&&(n=e[yb]=new Set);var r=t+"__bubble";n.has(r)||(dB(e,t,2,!1),n.add(r))}function E1(t,e,n){var r=0;e&&(r|=4),dB(n,t,r,e)}var L0="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[L0]){t[L0]=!0,b3.forEach(function(n){n!=="selectionchange"&&(Y4.has(n)||E1(n,!1,t),E1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[L0]||(e[L0]=!0,E1("selectionchange",!1,e))}}function dB(t,e,n,r){switch(K3(e)){case 1:var i=f4;break;case 4:i=d4;break;default:i=$w}n=i.bind(null,e,n,t),i=void 0,!ub||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function x1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var o=u.tag;if((o===3||o===4)&&(o=u.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;u=u.return}for(;a!==null;){if(u=Sa(a),u===null)return;if(o=u.tag,o===5||o===6){r=s=u;continue e}a=a.parentNode}}r=r.return}j3(function(){var c=s,f=Iw(n),d=[];e:{var h=cB.get(t);if(h!==void 0){var p=Vw,v=t;switch(t){case"keypress":if(Ep(n)===0)break e;case"keydown":case"keyup":p=k4;break;case"focusin":v="focus",p=g1;break;case"focusout":v="blur",p=g1;break;case"beforeblur":case"afterblur":p=g1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=O4;break;case uB:case aB:case oB:p=v4;break;case lB:p=_4;break;case"scroll":p=h4;break;case"wheel":p=P4;break;case"copy":case"cut":case"paste":p=A4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tx}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,A;y!==null;){A=y;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,g!==null&&(w=Id(y,g),w!=null&&m.push(Hd(y,w,A)))),b)break;y=y.return}0<m.length&&(h=new p(h,v,null,n,f),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ib&&(v=n.relatedTarget||n.fromElement)&&(Sa(v)||v[Ls]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Sa(v):null,v!==null&&(b=Po(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=Nx,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Tx,w="onPointerLeave",g="onPointerEnter",y="pointer"),b=p==null?h:fl(p),A=v==null?h:fl(v),h=new m(w,y+"leave",p,n,f),h.target=b,h.relatedTarget=A,w=null,Sa(f)===c&&(m=new m(g,y+"enter",v,n,f),m.target=A,m.relatedTarget=b,w=m),b=w,p&&v)t:{for(m=p,g=v,y=0,A=m;A;A=zo(A))y++;for(A=0,w=g;w;w=zo(w))A++;for(;0<y-A;)m=zo(m),y--;for(;0<A-y;)g=zo(g),A--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=zo(m),g=zo(g)}m=null}else m=null;p!==null&&zx(d,h,p,m,!1),v!==null&&b!==null&&zx(d,b,v,m,!0)}}e:{if(h=c?fl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var F=U4;else if(Ix(h))if(tB)F=Q4;else{F=H4;var k=V4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=z4);if(F&&(F=F(t,c))){eB(d,F,n,f);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Xv(h,"number",h.value)}switch(k=c?fl(c):window,t){case"focusin":(Ix(k)||k.contentEditable==="true")&&(ll=k,fb=c,yd=null);break;case"focusout":yd=fb=ll=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,Ux(d,n,f);break;case"selectionchange":if(q4)break;case"keydown":case"keyup":Ux(d,n,f)}var C;if(zw)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ol?Z3(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Y3&&n.locale!=="ko"&&(ol||D!=="onCompositionStart"?D==="onCompositionEnd"&&ol&&(C=J3()):(Iu=f,Uw="value"in Iu?Iu.value:Iu.textContent,ol=!0)),k=om(c,D),0<k.length&&(D=new _x(D,t,null,n,f),d.push({event:D,listeners:k}),C?D.data=C:(C=X3(n),C!==null&&(D.data=C)))),(C=I4?R4(t,n):L4(t,n))&&(c=om(c,"onBeforeInput"),0<c.length&&(f=new _x("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=C))}fB(d,e)})}function Hd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function om(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Id(t,n),s!=null&&r.unshift(Hd(t,s,i)),s=Id(t,e),s!=null&&r.push(Hd(t,s,i))),t=t.return}return r}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zx(t,e,n,r,i){for(var s=e._reactName,u=[];n!==null&&n!==r;){var a=n,o=a.alternate,c=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&c!==null&&(a=c,i?(o=Id(n,s),o!=null&&u.unshift(Hd(n,o,a))):i||(o=Id(n,s),o!=null&&u.push(Hd(n,o,a)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Z4=/\r\n?/g,X4=/\u0000|\uFFFD/g;function Qx(t){return(typeof t=="string"?t:""+t).replace(Z4,`
`).replace(X4,"")}function M0(t,e,n){if(e=Qx(e),Qx(t)!==e&&n)throw Error(K(425))}function lm(){}var hb=null,pb=null;function mb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gb=typeof setTimeout=="function"?setTimeout:void 0,eI=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(t){return Gx.resolve(null).then(t).catch(nI)}:gb;function nI(t){setTimeout(function(){throw t})}function F1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Md(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Md(e)}function Hu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var df=Math.random().toString(36).slice(2),qi="__reactFiber$"+df,zd="__reactProps$"+df,Ls="__reactContainer$"+df,yb="__reactEvents$"+df,rI="__reactListeners$"+df,iI="__reactHandles$"+df;function Sa(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ls]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wx(t);t!==null;){if(n=t[qi])return n;t=Wx(t)}return e}t=n,n=t.parentNode}return null}function Wh(t){return t=t[qi]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Fg(t){return t[zd]||null}var vb=[],dl=-1;function oa(t){return{current:t}}function nt(t){0>dl||(t.current=vb[dl],vb[dl]=null,dl--)}function qe(t,e){dl++,vb[dl]=t.current,t.current=e}var Yu={},xn=oa(Yu),tr=oa(!1),mo=Yu;function Lc(t,e){var n=t.type.contextTypes;if(!n)return Yu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function cm(){nt(tr),nt(xn)}function qx(t,e,n){if(xn.current!==Yu)throw Error(K(168));qe(xn,e),qe(tr,n)}function hB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,V6(t)||"Unknown",i));return ct({},n,r)}function fm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yu,mo=xn.current,qe(xn,t),qe(tr,tr.current),!0}function Kx(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=hB(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,nt(tr),nt(xn),qe(xn,t)):nt(tr),qe(tr,n)}var fs=null,Cg=!1,C1=!1;function pB(t){fs===null?fs=[t]:fs.push(t)}function sI(t){Cg=!0,pB(t)}function la(){if(!C1&&fs!==null){C1=!0;var t=0,e=Ve;try{var n=fs;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fs=null,Cg=!1}catch(i){throw fs!==null&&(fs=fs.slice(t+1)),M3(Rw,la),i}finally{Ve=e,C1=!1}}return null}var hl=[],pl=0,dm=null,hm=0,Rr=[],Lr=0,go=null,Bs=1,Os="";function wa(t,e){hl[pl++]=hm,hl[pl++]=dm,dm=t,hm=e}function mB(t,e,n){Rr[Lr++]=Bs,Rr[Lr++]=Os,Rr[Lr++]=go,go=t;var r=Bs;t=Os;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var s=32-Ai(e)+i;if(30<s){var u=i-i%5;s=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Bs=1<<32-Ai(e)+i|n<<i|r,Os=s+t}else Bs=1<<s|n<<i|r,Os=t}function Gw(t){t.return!==null&&(wa(t,1),mB(t,1,0))}function Ww(t){for(;t===dm;)dm=hl[--pl],hl[pl]=null,hm=hl[--pl],hl[pl]=null;for(;t===go;)go=Rr[--Lr],Rr[Lr]=null,Os=Rr[--Lr],Rr[Lr]=null,Bs=Rr[--Lr],Rr[Lr]=null}var mr=null,pr=null,rt=!1,mi=null;function gB(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,pr=Hu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:Bs,overflow:Os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,pr=null,!0):!1;default:return!1}}function bb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ab(t){if(rt){var e=pr;if(e){var n=e;if(!Jx(t,e)){if(bb(t))throw Error(K(418));e=Hu(n.nextSibling);var r=mr;e&&Jx(t,e)?gB(r,n):(t.flags=t.flags&-4097|2,rt=!1,mr=t)}}else{if(bb(t))throw Error(K(418));t.flags=t.flags&-4097|2,rt=!1,mr=t}}}function Yx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function $0(t){if(t!==mr)return!1;if(!rt)return Yx(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mb(t.type,t.memoizedProps)),e&&(e=pr)){if(bb(t))throw yB(),Error(K(418));for(;e;)gB(t,e),e=Hu(e.nextSibling)}if(Yx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Hu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=mr?Hu(t.stateNode.nextSibling):null;return!0}function yB(){for(var t=pr;t;)t=Hu(t.nextSibling)}function Mc(){pr=mr=null,rt=!1}function qw(t){mi===null?mi=[t]:mi.push(t)}var uI=Gs.ReactCurrentBatchConfig;function ai(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pm=oa(null),mm=null,ml=null,Kw=null;function Jw(){Kw=ml=mm=null}function Yw(t){var e=pm.current;nt(pm),t._currentValue=e}function wb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ll(t,e){mm=t,Kw=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(Kw!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(mm===null)throw Error(K(308));ml=t,mm.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var Ba=null;function Zw(t){Ba===null?Ba=[t]:Ba.push(t)}function vB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ms(t,r)}function Ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lu=!1;function Xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ms(t,n)}return i=r.interleaved,i===null?(e.next=e,Zw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ms(t,n)}function xp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lw(t,n)}}function Zx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gm(t,e,n,r){var i=t.updateQueue;lu=!1;var s=i.firstBaseUpdate,u=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var o=a,c=o.next;o.next=null,u===null?s=c:u.next=c,u=o;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==u&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;u=0,f=c=o=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(h=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=ct({},d,h);break e;case 2:lu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,o=d):f=f.next=p,u|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(o=d),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vo|=u,t.lanes=u,t.memoizedState=d}}function Xx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var AB=new v3.Component().refs;function Eb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dg={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Gu(t),s=_s(r,i);s.payload=e,n!=null&&(s.callback=n),e=zu(t,s,i),e!==null&&(wi(e,t,i,r),xp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Gu(t),s=_s(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zu(t,s,i),e!==null&&(wi(e,t,i,r),xp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=Gu(t),i=_s(n,r);i.tag=2,e!=null&&(i.callback=e),e=zu(t,i,r),e!==null&&(wi(e,t,r,n),xp(e,t,r))}};function eF(t,e,n,r,i,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,u):e.prototype&&e.prototype.isPureReactComponent?!Ud(n,r)||!Ud(i,s):!0}function wB(t,e,n){var r=!1,i=Yu,s=e.contextType;return typeof s=="object"&&s!==null?s=Gr(s):(i=nr(e)?mo:xn.current,r=e.contextTypes,s=(r=r!=null)?Lc(t,i):Yu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tF(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dg.enqueueReplaceState(e,e.state,null)}function xb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=AB,Xw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gr(s):(s=nr(e)?mo:xn.current,i.context=Lc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Eb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dg.enqueueReplaceState(i,i.state,null),gm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _f(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(u){var a=i.refs;a===AB&&(a=i.refs={}),u===null?delete a[s]:a[s]=u},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function U0(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nF(t){var e=t._init;return e(t._payload)}function EB(t){function e(g,y){if(t){var A=g.deletions;A===null?(g.deletions=[y],g.flags|=16):A.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Wu(g,y),g.index=0,g.sibling=null,g}function s(g,y,A){return g.index=A,t?(A=g.alternate,A!==null?(A=A.index,A<y?(g.flags|=2,y):A):(g.flags|=2,y)):(g.flags|=1048576,y)}function u(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,A,w){return y===null||y.tag!==6?(y=_1(A,g.mode,w),y.return=g,y):(y=i(y,A),y.return=g,y)}function o(g,y,A,w){var F=A.type;return F===al?f(g,y,A.props.children,w,A.key):y!==null&&(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ou&&nF(F)===y.type)?(w=i(y,A.props),w.ref=_f(g,y,A),w.return=g,w):(w=Bp(A.type,A.key,A.props,null,g.mode,w),w.ref=_f(g,y,A),w.return=g,w)}function c(g,y,A,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=T1(A,g.mode,w),y.return=g,y):(y=i(y,A.children||[]),y.return=g,y)}function f(g,y,A,w,F){return y===null||y.tag!==7?(y=ao(A,g.mode,w,F),y.return=g,y):(y=i(y,A),y.return=g,y)}function d(g,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_1(""+y,g.mode,A),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case O0:return A=Bp(y.type,y.key,y.props,null,g.mode,A),A.ref=_f(g,null,y),A.return=g,A;case ul:return y=T1(y,g.mode,A),y.return=g,y;case ou:var w=y._init;return d(g,w(y._payload),A)}if(nd(y)||kf(y))return y=ao(y,g.mode,A,null),y.return=g,y;U0(g,y)}return null}function h(g,y,A,w){var F=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(g,y,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case O0:return A.key===F?o(g,y,A,w):null;case ul:return A.key===F?c(g,y,A,w):null;case ou:return F=A._init,h(g,y,F(A._payload),w)}if(nd(A)||kf(A))return F!==null?null:f(g,y,A,w,null);U0(g,A)}return null}function p(g,y,A,w,F){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(A)||null,a(y,g,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O0:return g=g.get(w.key===null?A:w.key)||null,o(y,g,w,F);case ul:return g=g.get(w.key===null?A:w.key)||null,c(y,g,w,F);case ou:var k=w._init;return p(g,y,A,k(w._payload),F)}if(nd(w)||kf(w))return g=g.get(A)||null,f(y,g,w,F,null);U0(y,w)}return null}function v(g,y,A,w){for(var F=null,k=null,C=y,D=y=0,T=null;C!==null&&D<A.length;D++){C.index>D?(T=C,C=null):T=C.sibling;var N=h(g,C,A[D],w);if(N===null){C===null&&(C=T);break}t&&C&&N.alternate===null&&e(g,C),y=s(N,y,D),k===null?F=N:k.sibling=N,k=N,C=T}if(D===A.length)return n(g,C),rt&&wa(g,D),F;if(C===null){for(;D<A.length;D++)C=d(g,A[D],w),C!==null&&(y=s(C,y,D),k===null?F=C:k.sibling=C,k=C);return rt&&wa(g,D),F}for(C=r(g,C);D<A.length;D++)T=p(C,g,D,A[D],w),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?D:T.key),y=s(T,y,D),k===null?F=T:k.sibling=T,k=T);return t&&C.forEach(function(V){return e(g,V)}),rt&&wa(g,D),F}function m(g,y,A,w){var F=kf(A);if(typeof F!="function")throw Error(K(150));if(A=F.call(A),A==null)throw Error(K(151));for(var k=F=null,C=y,D=y=0,T=null,N=A.next();C!==null&&!N.done;D++,N=A.next()){C.index>D?(T=C,C=null):T=C.sibling;var V=h(g,C,N.value,w);if(V===null){C===null&&(C=T);break}t&&C&&V.alternate===null&&e(g,C),y=s(V,y,D),k===null?F=V:k.sibling=V,k=V,C=T}if(N.done)return n(g,C),rt&&wa(g,D),F;if(C===null){for(;!N.done;D++,N=A.next())N=d(g,N.value,w),N!==null&&(y=s(N,y,D),k===null?F=N:k.sibling=N,k=N);return rt&&wa(g,D),F}for(C=r(g,C);!N.done;D++,N=A.next())N=p(C,g,D,N.value,w),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?D:N.key),y=s(N,y,D),k===null?F=N:k.sibling=N,k=N);return t&&C.forEach(function(H){return e(g,H)}),rt&&wa(g,D),F}function b(g,y,A,w){if(typeof A=="object"&&A!==null&&A.type===al&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case O0:e:{for(var F=A.key,k=y;k!==null;){if(k.key===F){if(F=A.type,F===al){if(k.tag===7){n(g,k.sibling),y=i(k,A.props.children),y.return=g,g=y;break e}}else if(k.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ou&&nF(F)===k.type){n(g,k.sibling),y=i(k,A.props),y.ref=_f(g,k,A),y.return=g,g=y;break e}n(g,k);break}else e(g,k);k=k.sibling}A.type===al?(y=ao(A.props.children,g.mode,w,A.key),y.return=g,g=y):(w=Bp(A.type,A.key,A.props,null,g.mode,w),w.ref=_f(g,y,A),w.return=g,g=w)}return u(g);case ul:e:{for(k=A.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){n(g,y.sibling),y=i(y,A.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=T1(A,g.mode,w),y.return=g,g=y}return u(g);case ou:return k=A._init,b(g,y,k(A._payload),w)}if(nd(A))return v(g,y,A,w);if(kf(A))return m(g,y,A,w);U0(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,A),y.return=g,g=y):(n(g,y),y=_1(A,g.mode,w),y.return=g,g=y),u(g)):n(g,y)}return b}var $c=EB(!0),xB=EB(!1),qh={},es=oa(qh),Qd=oa(qh),Gd=oa(qh);function Oa(t){if(t===qh)throw Error(K(174));return t}function eE(t,e){switch(qe(Gd,e),qe(Qd,t),qe(es,qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tb(e,t)}nt(es),qe(es,e)}function Uc(){nt(es),nt(Qd),nt(Gd)}function FB(t){Oa(Gd.current);var e=Oa(es.current),n=tb(e,t.type);e!==n&&(qe(Qd,t),qe(es,n))}function tE(t){Qd.current===t&&(nt(es),nt(Qd))}var at=oa(0);function ym(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D1=[];function nE(){for(var t=0;t<D1.length;t++)D1[t]._workInProgressVersionPrimary=null;D1.length=0}var Fp=Gs.ReactCurrentDispatcher,k1=Gs.ReactCurrentBatchConfig,yo=0,lt=null,$t=null,Gt=null,vm=!1,vd=!1,Wd=0,aI=0;function dn(){throw Error(K(321))}function rE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ei(t[n],e[n]))return!1;return!0}function iE(t,e,n,r,i,s){if(yo=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fp.current=t===null||t.memoizedState===null?fI:dI,t=n(r,i),vd){s=0;do{if(vd=!1,Wd=0,25<=s)throw Error(K(301));s+=1,Gt=$t=null,e.updateQueue=null,Fp.current=hI,t=n(r,i)}while(vd)}if(Fp.current=bm,e=$t!==null&&$t.next!==null,yo=0,Gt=$t=lt=null,vm=!1,e)throw Error(K(300));return t}function sE(){var t=Wd!==0;return Wd=0,t}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?lt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Wr(){if($t===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Gt===null?lt.memoizedState:Gt.next;if(e!==null)Gt=e,$t=t;else{if(t===null)throw Error(K(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Gt===null?lt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function qd(t,e){return typeof e=="function"?e(t):e}function S1(t){var e=Wr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var u=i.next;i.next=s.next,s.next=u}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=u=null,o=null,c=s;do{var f=c.lane;if((yo&f)===f)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=d,u=r):o=o.next=d,lt.lanes|=f,vo|=f}c=c.next}while(c!==null&&c!==s);o===null?u=r:o.next=a,Ei(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,vo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function B1(t){var e=Wr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do s=t(s,u.action),u=u.next;while(u!==i);Ei(s,e.memoizedState)||(er=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CB(){}function DB(t,e){var n=lt,r=Wr(),i=e(),s=!Ei(r.memoizedState,i);if(s&&(r.memoizedState=i,er=!0),r=r.queue,uE(BB.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Kd(9,SB.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(K(349));yo&30||kB(n,e,i)}return i}function kB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SB(t,e,n,r){e.value=n,e.getSnapshot=r,OB(e)&&NB(t)}function BB(t,e,n){return n(function(){OB(e)&&NB(t)})}function OB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ei(t,n)}catch{return!0}}function NB(t){var e=Ms(t,1);e!==null&&wi(e,t,1,-1)}function rF(t){var e=Mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:t},e.queue=t,t=t.dispatch=cI.bind(null,lt,t),[e.memoizedState,t]}function Kd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _B(){return Wr().memoizedState}function Cp(t,e,n,r){var i=Mi();lt.flags|=t,i.memoizedState=Kd(1|e,n,void 0,r===void 0?null:r)}function kg(t,e,n,r){var i=Wr();r=r===void 0?null:r;var s=void 0;if($t!==null){var u=$t.memoizedState;if(s=u.destroy,r!==null&&rE(r,u.deps)){i.memoizedState=Kd(e,n,s,r);return}}lt.flags|=t,i.memoizedState=Kd(1|e,n,s,r)}function iF(t,e){return Cp(8390656,8,t,e)}function uE(t,e){return kg(2048,8,t,e)}function TB(t,e){return kg(4,2,t,e)}function PB(t,e){return kg(4,4,t,e)}function jB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IB(t,e,n){return n=n!=null?n.concat([t]):null,kg(4,4,jB.bind(null,e,t),n)}function aE(){}function RB(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LB(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MB(t,e,n){return yo&21?(Ei(n,e)||(n=V3(),lt.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function oI(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=k1.transition;k1.transition={};try{t(!1),e()}finally{Ve=n,k1.transition=r}}function $B(){return Wr().memoizedState}function lI(t,e,n){var r=Gu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UB(t))VB(e,n);else if(n=vB(t,e,n,r),n!==null){var i=Ln();wi(n,t,r,i),HB(n,e,r)}}function cI(t,e,n){var r=Gu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UB(t))VB(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,a=s(u,n);if(i.hasEagerState=!0,i.eagerState=a,Ei(a,u)){var o=e.interleaved;o===null?(i.next=i,Zw(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}n=vB(t,e,i,r),n!==null&&(i=Ln(),wi(n,t,r,i),HB(n,e,r))}}function UB(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function VB(t,e){vd=vm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HB(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lw(t,n)}}var bm={readContext:Gr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},fI={readContext:Gr,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:iF,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cp(4194308,4,jB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cp(4,2,t,e)},useMemo:function(t,e){var n=Mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lI.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:rF,useDebugValue:aE,useDeferredValue:function(t){return Mi().memoizedState=t},useTransition:function(){var t=rF(!1),e=t[0];return t=oI.bind(null,t[1]),Mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=Mi();if(rt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Yt===null)throw Error(K(349));yo&30||kB(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iF(BB.bind(null,r,s,t),[t]),r.flags|=2048,Kd(9,SB.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mi(),e=Yt.identifierPrefix;if(rt){var n=Os,r=Bs;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dI={readContext:Gr,useCallback:RB,useContext:Gr,useEffect:uE,useImperativeHandle:IB,useInsertionEffect:TB,useLayoutEffect:PB,useMemo:LB,useReducer:S1,useRef:_B,useState:function(){return S1(qd)},useDebugValue:aE,useDeferredValue:function(t){var e=Wr();return MB(e,$t.memoizedState,t)},useTransition:function(){var t=S1(qd)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:CB,useSyncExternalStore:DB,useId:$B,unstable_isNewReconciler:!1},hI={readContext:Gr,useCallback:RB,useContext:Gr,useEffect:uE,useImperativeHandle:IB,useInsertionEffect:TB,useLayoutEffect:PB,useMemo:LB,useReducer:B1,useRef:_B,useState:function(){return B1(qd)},useDebugValue:aE,useDeferredValue:function(t){var e=Wr();return $t===null?e.memoizedState=t:MB(e,$t.memoizedState,t)},useTransition:function(){var t=B1(qd)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:CB,useSyncExternalStore:DB,useId:$B,unstable_isNewReconciler:!1};function Vc(t,e){try{var n="",r=e;do n+=U6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function O1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pI=typeof WeakMap=="function"?WeakMap:Map;function zB(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wm||(wm=!0,Pb=r),Fb(t,e)},n}function QB(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fb(t,e),typeof r!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function sF(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SI.bind(null,t,e,n),e.then(t,t))}function uF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aF(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,zu(n,e,1))),n.lanes|=1),t)}var mI=Gs.ReactCurrentOwner,er=!1;function Bn(t,e,n,r){e.child=t===null?xB(e,null,n,r):$c(e,t.child,n,r)}function oF(t,e,n,r,i){n=n.render;var s=e.ref;return Ll(e,i),r=iE(t,e,n,r,s,i),n=sE(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(rt&&n&&Gw(e),e.flags|=1,Bn(t,e,r,i),e.child)}function lF(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GB(t,e,s,r,i)):(t=Bp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ud,n(u,r)&&t.ref===e.ref)return $s(t,e,i)}return e.flags|=1,t=Wu(s,r),t.ref=e.ref,t.return=e,e.child=t}function GB(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ud(s,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,$s(t,e,i)}return Cb(t,e,n,r,i)}function WB(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(yl,hr),hr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(yl,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(yl,hr),hr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(yl,hr),hr|=r;return Bn(t,e,i,n),e.child}function qB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cb(t,e,n,r,i){var s=nr(n)?mo:xn.current;return s=Lc(e,s),Ll(e,i),n=iE(t,e,n,r,s,i),r=sE(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(rt&&r&&Gw(e),e.flags|=1,Bn(t,e,n,i),e.child)}function cF(t,e,n,r,i){if(nr(n)){var s=!0;fm(e)}else s=!1;if(Ll(e,i),e.stateNode===null)Dp(t,e),wB(e,n,r),xb(e,n,r,i),r=!0;else if(t===null){var u=e.stateNode,a=e.memoizedProps;u.props=a;var o=u.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=nr(n)?mo:xn.current,c=Lc(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof u.getSnapshotBeforeUpdate=="function";d||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(a!==r||o!==c)&&tF(e,u,r,c),lu=!1;var h=e.memoizedState;u.state=h,gm(e,r,u,i),o=e.memoizedState,a!==r||h!==o||tr.current||lu?(typeof f=="function"&&(Eb(e,n,f,r),o=e.memoizedState),(a=lu||eF(e,n,a,r,h,o,c))?(d||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),u.props=r,u.state=o,u.context=c,r=a):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,bB(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ai(e.type,a),u.props=c,d=e.pendingProps,h=u.context,o=n.contextType,typeof o=="object"&&o!==null?o=Gr(o):(o=nr(n)?mo:xn.current,o=Lc(e,o));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(a!==d||h!==o)&&tF(e,u,r,o),lu=!1,h=e.memoizedState,u.state=h,gm(e,r,u,i);var v=e.memoizedState;a!==d||h!==v||tr.current||lu?(typeof p=="function"&&(Eb(e,n,p,r),v=e.memoizedState),(c=lu||eF(e,n,c,r,h,v,o)||!1)?(f||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,v,o),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,v,o)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),u.props=r,u.state=v,u.context=o,r=c):(typeof u.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Db(t,e,n,r,s,i)}function Db(t,e,n,r,i,s){qB(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return i&&Kx(e,n,!1),$s(t,e,s);r=e.stateNode,mI.current=e;var a=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=$c(e,t.child,null,s),e.child=$c(e,null,a,s)):Bn(t,e,a,s),e.memoizedState=r.state,i&&Kx(e,n,!0),e.child}function KB(t){var e=t.stateNode;e.pendingContext?qx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qx(t,e.context,!1),eE(t,e.containerInfo)}function fF(t,e,n,r,i){return Mc(),qw(i),e.flags|=256,Bn(t,e,n,r),e.child}var kb={dehydrated:null,treeContext:null,retryLane:0};function Sb(t){return{baseLanes:t,cachePool:null,transitions:null}}function JB(t,e,n){var r=e.pendingProps,i=at.current,s=!1,u=(e.flags&128)!==0,a;if((a=u)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(at,i&1),t===null)return Ab(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,s?(r=e.mode,s=e.child,u={mode:"hidden",children:u},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=Og(u,r,0,null),t=ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sb(n),e.memoizedState=kb,t):oE(e,u));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gI(t,e,u,r,a,i,n);if(s){s=r.fallback,u=e.mode,i=t.child,a=i.sibling;var o={mode:"hidden",children:r.children};return!(u&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Wu(i,o),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wu(a,s):(s=ao(s,u,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,u=t.child.memoizedState,u=u===null?Sb(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=kb,r}return s=t.child,t=s.sibling,r=Wu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oE(t,e){return e=Og({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function V0(t,e,n,r){return r!==null&&qw(r),$c(e,t.child,null,n),t=oE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gI(t,e,n,r,i,s,u){if(n)return e.flags&256?(e.flags&=-257,r=O1(Error(K(422))),V0(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Og({mode:"visible",children:r.children},i,0,null),s=ao(s,i,u,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$c(e,t.child,null,u),e.child.memoizedState=Sb(u),e.memoizedState=kb,s);if(!(e.mode&1))return V0(t,e,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=O1(s,r,void 0),V0(t,e,u,r)}if(a=(u&t.childLanes)!==0,er||a){if(r=Yt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ms(t,i),wi(r,t,i,-1))}return pE(),r=O1(Error(K(421))),V0(t,e,u,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=Hu(i.nextSibling),mr=e,rt=!0,mi=null,t!==null&&(Rr[Lr++]=Bs,Rr[Lr++]=Os,Rr[Lr++]=go,Bs=t.id,Os=t.overflow,go=e),e=oE(e,r.children),e.flags|=4096,e)}function dF(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wb(t.return,e,n)}function N1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function YB(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dF(t,n,e);else if(t.tag===19)dF(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ym(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ym(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N1(e,!0,n,null,s);break;case"together":N1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Wu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yI(t,e,n){switch(e.tag){case 3:KB(e),Mc();break;case 5:FB(e);break;case 1:nr(e.type)&&fm(e);break;case 4:eE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(pm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?JB(t,e,n):(qe(at,at.current&1),t=$s(t,e,n),t!==null?t.sibling:null);qe(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,WB(t,e,n)}return $s(t,e,n)}var ZB,Bb,XB,eO;ZB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bb=function(){};XB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oa(es.current);var s=null;switch(n){case"input":i=Yv(t,i),r=Yv(t,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=eb(t,i),r=eb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lm)}nb(n,r);var u;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(u in a)a.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var o=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(u in a)!a.hasOwnProperty(u)||o&&o.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in o)o.hasOwnProperty(u)&&a[u]!==o[u]&&(n||(n={}),n[u]=o[u])}else n||(s||(s=[]),s.push(c,n)),n=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(s=s||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pd.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&Ye("scroll",t),s||a===o||(s=[])):(s=s||[]).push(c,o))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tf(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vI(t,e,n){var r=e.pendingProps;switch(Ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return nr(e.type)&&cm(),hn(e),null;case 3:return r=e.stateNode,Uc(),nt(tr),nt(xn),nE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mi!==null&&(Rb(mi),mi=null))),Bb(t,e),hn(e),null;case 5:tE(e);var i=Oa(Gd.current);if(n=e.type,t!==null&&e.stateNode!=null)XB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return hn(e),null}if(t=Oa(es.current),$0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qi]=e,r[zd]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<id.length;i++)Ye(id[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":wx(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":xx(r,s),Ye("invalid",r)}nb(n,s),i=null;for(var u in s)if(s.hasOwnProperty(u)){var a=s[u];u==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&M0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&M0(r.textContent,a,t),i=["children",""+a]):Pd.hasOwnProperty(u)&&a!=null&&u==="onScroll"&&Ye("scroll",r)}switch(n){case"input":N0(r),Ex(r,s,!0);break;case"textarea":N0(r),Fx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[qi]=e,t[zd]=r,ZB(t,e,!1,!1),e.stateNode=t;e:{switch(u=rb(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<id.length;i++)Ye(id[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":wx(t,r),i=Yv(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":xx(t,r),i=eb(t,r),Ye("invalid",t);break;default:i=r}nb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="style"?O3(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&S3(t,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&jd(t,o):typeof o=="number"&&jd(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pd.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Ye("scroll",t):o!=null&&_w(t,s,o,u))}switch(n){case"input":N0(t),Ex(t,r,!1);break;case"textarea":N0(t),Fx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ju(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)eO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Oa(Gd.current),Oa(es.current),$0(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:M0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&M0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return hn(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&pr!==null&&e.mode&1&&!(e.flags&128))yB(),Mc(),e.flags|=98560,s=!1;else if(s=$0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[qi]=e}else Mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),s=!1}else mi!==null&&(Rb(mi),mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Ut===0&&(Ut=3):pE())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Uc(),Bb(t,e),t===null&&Vd(e.stateNode.containerInfo),hn(e),null;case 10:return Yw(e.type._context),hn(e),null;case 17:return nr(e.type)&&cm(),hn(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return hn(e),null;if(r=(e.flags&128)!==0,u=s.rendering,u===null)if(r)Tf(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=ym(t),u!==null){for(e.flags|=128,Tf(s,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>Hc&&(e.flags|=128,r=!0,Tf(s,!1),e.lanes=4194304)}else{if(!r)if(t=ym(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!rt)return hn(e),null}else 2*St()-s.renderingStartTime>Hc&&n!==1073741824&&(e.flags|=128,r=!0,Tf(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(n=s.last,n!==null?n.sibling=u:e.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=at.current,qe(at,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return hE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hr&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function bI(t,e){switch(Ww(e),e.tag){case 1:return nr(e.type)&&cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uc(),nt(tr),nt(xn),nE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tE(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Mc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return Uc(),null;case 10:return Yw(e.type._context),null;case 22:case 23:return hE(),null;case 24:return null;default:return null}}var H0=!1,vn=!1,AI=typeof WeakSet=="function"?WeakSet:Set,ue=null;function gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function Ob(t,e,n){try{n()}catch(r){mt(t,e,r)}}var hF=!1;function wI(t,e){if(hb=um,t=iB(),Qw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,a=-1,o=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=u+i),d!==s||r!==0&&d.nodeType!==3||(o=u+r),d.nodeType===3&&(u+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=u),h===s&&++f===r&&(o=u),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(pb={focusedElem:t,selectionRange:n},um=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ai(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(w){mt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=hF,hF=!1,v}function bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ob(e,n,s)}i=i.next}while(i!==r)}}function Sg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tO(t){var e=t.alternate;e!==null&&(t.alternate=null,tO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[zd],delete e[yb],delete e[rI],delete e[iI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nO(t){return t.tag===5||t.tag===3||t.tag===4}function pF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _b(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lm));else if(r!==4&&(t=t.child,t!==null))for(_b(t,e,n),t=t.sibling;t!==null;)_b(t,e,n),t=t.sibling}function Tb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tb(t,e,n),t=t.sibling;t!==null;)Tb(t,e,n),t=t.sibling}var rn=null,pi=!1;function tu(t,e,n){for(n=n.child;n!==null;)rO(t,e,n),n=n.sibling}function rO(t,e,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(Ag,n)}catch{}switch(n.tag){case 5:vn||gl(n,e);case 6:var r=rn,i=pi;rn=null,tu(t,e,n),rn=r,pi=i,rn!==null&&(pi?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(pi?(t=rn,n=n.stateNode,t.nodeType===8?F1(t.parentNode,n):t.nodeType===1&&F1(t,n),Md(t)):F1(rn,n.stateNode));break;case 4:r=rn,i=pi,rn=n.stateNode.containerInfo,pi=!0,tu(t,e,n),rn=r,pi=i;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&Ob(n,e,u),i=i.next}while(i!==r)}tu(t,e,n);break;case 1:if(!vn&&(gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mt(n,e,a)}tu(t,e,n);break;case 21:tu(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,tu(t,e,n),vn=r):tu(t,e,n);break;default:tu(t,e,n)}}function mF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AI),e.forEach(function(r){var i=OI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ti(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,u=e,a=u;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,pi=!1;break e;case 3:rn=a.stateNode.containerInfo,pi=!0;break e;case 4:rn=a.stateNode.containerInfo,pi=!0;break e}a=a.return}if(rn===null)throw Error(K(160));rO(s,u,i),rn=null,pi=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(c){mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iO(e,t),e=e.sibling}function iO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),ji(t),r&4){try{bd(3,t,t.return),Sg(3,t)}catch(m){mt(t,t.return,m)}try{bd(5,t,t.return)}catch(m){mt(t,t.return,m)}}break;case 1:ti(e,t),ji(t),r&512&&n!==null&&gl(n,n.return);break;case 5:if(ti(e,t),ji(t),r&512&&n!==null&&gl(n,n.return),t.flags&32){var i=t.stateNode;try{jd(i,"")}catch(m){mt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,u=n!==null?n.memoizedProps:s,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&C3(i,s),rb(a,u);var c=rb(a,s);for(u=0;u<o.length;u+=2){var f=o[u],d=o[u+1];f==="style"?O3(i,d):f==="dangerouslySetInnerHTML"?S3(i,d):f==="children"?jd(i,d):_w(i,f,d,c)}switch(a){case"input":Zv(i,s);break;case"textarea":D3(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Pl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Pl(i,!!s.multiple,s.defaultValue,!0):Pl(i,!!s.multiple,s.multiple?[]:"",!1))}i[zd]=s}catch(m){mt(t,t.return,m)}}break;case 6:if(ti(e,t),ji(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){mt(t,t.return,m)}}break;case 3:if(ti(e,t),ji(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Md(e.containerInfo)}catch(m){mt(t,t.return,m)}break;case 4:ti(e,t),ji(t);break;case 13:ti(e,t),ji(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fE=St())),r&4&&mF(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(c=vn)||f,ti(e,t),vn=c):ti(e,t),ji(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ue=t,f=t.child;f!==null;){for(d=ue=f;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:bd(4,h,h.return);break;case 1:gl(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){mt(r,n,m)}}break;case 5:gl(h,h.return);break;case 22:if(h.memoizedState!==null){yF(d);continue}}p!==null?(p.return=h,ue=p):yF(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,o=d.memoizedProps.style,u=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=B3("display",u))}catch(m){mt(t,t.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){mt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ti(e,t),ji(t),r&4&&mF(t);break;case 21:break;default:ti(e,t),ji(t)}}function ji(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nO(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jd(i,""),r.flags&=-33);var s=pF(t);Tb(t,s,i);break;case 3:case 4:var u=r.stateNode.containerInfo,a=pF(t);_b(t,a,u);break;default:throw Error(K(161))}}catch(o){mt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EI(t,e,n){ue=t,sO(t)}function sO(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||H0;if(!u){var a=i.alternate,o=a!==null&&a.memoizedState!==null||vn;a=H0;var c=vn;if(H0=u,(vn=o)&&!c)for(ue=i;ue!==null;)u=ue,o=u.child,u.tag===22&&u.memoizedState!==null?vF(i):o!==null?(o.return=u,ue=o):vF(i);for(;s!==null;)ue=s,sO(s),s=s.sibling;ue=i,H0=a,vn=c}gF(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):gF(t)}}function gF(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||Sg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ai(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xx(e,s,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xx(e,u,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Md(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}vn||e.flags&512&&Nb(e)}catch(h){mt(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function yF(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function vF(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sg(4,e)}catch(o){mt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(o){mt(e,i,o)}}var s=e.return;try{Nb(e)}catch(o){mt(e,s,o)}break;case 5:var u=e.return;try{Nb(e)}catch(o){mt(e,u,o)}}}catch(o){mt(e,e.return,o)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var xI=Math.ceil,Am=Gs.ReactCurrentDispatcher,lE=Gs.ReactCurrentOwner,Hr=Gs.ReactCurrentBatchConfig,Se=0,Yt=null,jt=null,un=0,hr=0,yl=oa(0),Ut=0,Jd=null,vo=0,Bg=0,cE=0,Ad=null,Yn=null,fE=0,Hc=1/0,as=null,wm=!1,Pb=null,Qu=null,z0=!1,Ru=null,Em=0,wd=0,jb=null,kp=-1,Sp=0;function Ln(){return Se&6?St():kp!==-1?kp:kp=St()}function Gu(t){return t.mode&1?Se&2&&un!==0?un&-un:uI.transition!==null?(Sp===0&&(Sp=V3()),Sp):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:K3(t.type)),t):1}function wi(t,e,n,r){if(50<wd)throw wd=0,jb=null,Error(K(185));Qh(t,n,r),(!(Se&2)||t!==Yt)&&(t===Yt&&(!(Se&2)&&(Bg|=n),Ut===4&&vu(t,un)),rr(t,r),n===1&&Se===0&&!(e.mode&1)&&(Hc=St()+500,Cg&&la()))}function rr(t,e){var n=t.callbackNode;u4(t,e);var r=sm(t,t===Yt?un:0);if(r===0)n!==null&&kx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kx(n),e===1)t.tag===0?sI(bF.bind(null,t)):pB(bF.bind(null,t)),tI(function(){!(Se&6)&&la()}),n=null;else{switch(H3(r)){case 1:n=Rw;break;case 4:n=$3;break;case 16:n=im;break;case 536870912:n=U3;break;default:n=im}n=hO(n,uO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uO(t,e){if(kp=-1,Sp=0,Se&6)throw Error(K(327));var n=t.callbackNode;if(Ml()&&t.callbackNode!==n)return null;var r=sm(t,t===Yt?un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xm(t,r);else{e=r;var i=Se;Se|=2;var s=oO();(Yt!==t||un!==e)&&(as=null,Hc=St()+500,uo(t,e));do try{DI();break}catch(a){aO(t,a)}while(!0);Jw(),Am.current=s,Se=i,jt!==null?e=0:(Yt=null,un=0,e=Ut)}if(e!==0){if(e===2&&(i=ob(t),i!==0&&(r=i,e=Ib(t,i))),e===1)throw n=Jd,uo(t,0),vu(t,r),rr(t,St()),n;if(e===6)vu(t,r);else{if(i=t.current.alternate,!(r&30)&&!FI(i)&&(e=xm(t,r),e===2&&(s=ob(t),s!==0&&(r=s,e=Ib(t,s))),e===1))throw n=Jd,uo(t,0),vu(t,r),rr(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ea(t,Yn,as);break;case 3:if(vu(t,r),(r&130023424)===r&&(e=fE+500-St(),10<e)){if(sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gb(Ea.bind(null,t,Yn,as),e);break}Ea(t,Yn,as);break;case 4:if(vu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var u=31-Ai(r);s=1<<u,u=e[u],u>i&&(i=u),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xI(r/1960))-r,10<r){t.timeoutHandle=gb(Ea.bind(null,t,Yn,as),r);break}Ea(t,Yn,as);break;case 5:Ea(t,Yn,as);break;default:throw Error(K(329))}}}return rr(t,St()),t.callbackNode===n?uO.bind(null,t):null}function Ib(t,e){var n=Ad;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=xm(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&Rb(e)),t}function Rb(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function FI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vu(t,e){for(e&=~cE,e&=~Bg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function bF(t){if(Se&6)throw Error(K(327));Ml();var e=sm(t,0);if(!(e&1))return rr(t,St()),null;var n=xm(t,e);if(t.tag!==0&&n===2){var r=ob(t);r!==0&&(e=r,n=Ib(t,r))}if(n===1)throw n=Jd,uo(t,0),vu(t,e),rr(t,St()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t,Yn,as),rr(t,St()),null}function dE(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Hc=St()+500,Cg&&la())}}function bo(t){Ru!==null&&Ru.tag===0&&!(Se&6)&&Ml();var e=Se;Se|=1;var n=Hr.transition,r=Ve;try{if(Hr.transition=null,Ve=1,t)return t()}finally{Ve=r,Hr.transition=n,Se=e,!(Se&6)&&la()}}function hE(){hr=yl.current,nt(yl)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eI(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(Ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cm();break;case 3:Uc(),nt(tr),nt(xn),nE();break;case 5:tE(r);break;case 4:Uc();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Yw(r.type._context);break;case 22:case 23:hE()}n=n.return}if(Yt=t,jt=t=Wu(t.current,null),un=hr=e,Ut=0,Jd=null,cE=Bg=vo=0,Yn=Ad=null,Ba!==null){for(e=0;e<Ba.length;e++)if(n=Ba[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var u=s.next;s.next=i,r.next=u}n.pending=r}Ba=null}return t}function aO(t,e){do{var n=jt;try{if(Jw(),Fp.current=bm,vm){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vm=!1}if(yo=0,Gt=$t=lt=null,vd=!1,Wd=0,lE.current=null,n===null||n.return===null){Ut=1,Jd=e,jt=null;break}e:{var s=t,u=n.return,a=n,o=e;if(e=un,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uF(u);if(p!==null){p.flags&=-257,aF(p,u,a,s,e),p.mode&1&&sF(s,c,e),e=p,o=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(o),e.updateQueue=m}else v.add(o);break e}else{if(!(e&1)){sF(s,c,e),pE();break e}o=Error(K(426))}}else if(rt&&a.mode&1){var b=uF(u);if(b!==null){!(b.flags&65536)&&(b.flags|=256),aF(b,u,a,s,e),qw(Vc(o,a));break e}}s=o=Vc(o,a),Ut!==4&&(Ut=2),Ad===null?Ad=[s]:Ad.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=zB(s,o,e);Zx(s,g);break e;case 1:a=o;var y=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Qu===null||!Qu.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=QB(s,a,e);Zx(s,w);break e}}s=s.return}while(s!==null)}cO(n)}catch(F){e=F,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(!0)}function oO(){var t=Am.current;return Am.current=bm,t===null?bm:t}function pE(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||!(vo&268435455)&&!(Bg&268435455)||vu(Yt,un)}function xm(t,e){var n=Se;Se|=2;var r=oO();(Yt!==t||un!==e)&&(as=null,uo(t,e));do try{CI();break}catch(i){aO(t,i)}while(!0);if(Jw(),Se=n,Am.current=r,jt!==null)throw Error(K(261));return Yt=null,un=0,Ut}function CI(){for(;jt!==null;)lO(jt)}function DI(){for(;jt!==null&&!Y6();)lO(jt)}function lO(t){var e=dO(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?cO(t):jt=e,lE.current=null}function cO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bI(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,jt=null;return}}else if(n=vI(n,e,hr),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ea(t,e,n){var r=Ve,i=Hr.transition;try{Hr.transition=null,Ve=1,kI(t,e,n,r)}finally{Hr.transition=i,Ve=r}return null}function kI(t,e,n,r){do Ml();while(Ru!==null);if(Se&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(a4(t,s),t===Yt&&(jt=Yt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||z0||(z0=!0,hO(im,function(){return Ml(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hr.transition,Hr.transition=null;var u=Ve;Ve=1;var a=Se;Se|=4,lE.current=null,wI(t,n),iO(n,t),W4(pb),um=!!hb,pb=hb=null,t.current=n,EI(n),Z6(),Se=a,Ve=u,Hr.transition=s}else t.current=n;if(z0&&(z0=!1,Ru=t,Em=i),s=t.pendingLanes,s===0&&(Qu=null),t4(n.stateNode),rr(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wm)throw wm=!1,t=Pb,Pb=null,t;return Em&1&&t.tag!==0&&Ml(),s=t.pendingLanes,s&1?t===jb?wd++:(wd=0,jb=t):wd=0,la(),null}function Ml(){if(Ru!==null){var t=H3(Em),e=Hr.transition,n=Ve;try{if(Hr.transition=null,Ve=16>t?16:t,Ru===null)var r=!1;else{if(t=Ru,Ru=null,Em=0,Se&6)throw Error(K(331));var i=Se;for(Se|=4,ue=t.current;ue!==null;){var s=ue,u=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(ue=c;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:bd(8,f,s)}var d=f.child;if(d!==null)d.return=f,ue=d;else for(;ue!==null;){f=ue;var h=f.sibling,p=f.return;if(tO(f),f===c){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ue=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,ue=u;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ue=g;break e}ue=s.return}}var y=t.current;for(ue=y;ue!==null;){u=ue;var A=u.child;if(u.subtreeFlags&2064&&A!==null)A.return=u,ue=A;else e:for(u=y;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sg(9,a)}}catch(F){mt(a,a.return,F)}if(a===u){ue=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ue=w;break e}ue=a.return}}if(Se=i,la(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(Ag,t)}catch{}r=!0}return r}finally{Ve=n,Hr.transition=e}}return!1}function AF(t,e,n){e=Vc(n,e),e=zB(t,e,1),t=zu(t,e,1),e=Ln(),t!==null&&(Qh(t,1,e),rr(t,e))}function mt(t,e,n){if(t.tag===3)AF(t,t,n);else for(;e!==null;){if(e.tag===3){AF(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qu===null||!Qu.has(r))){t=Vc(n,t),t=QB(e,t,1),e=zu(e,t,1),t=Ln(),e!==null&&(Qh(e,1,t),rr(e,t));break}}e=e.return}}function SI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(un&n)===n&&(Ut===4||Ut===3&&(un&130023424)===un&&500>St()-fE?uo(t,0):cE|=n),rr(t,e)}function fO(t,e){e===0&&(t.mode&1?(e=P0,P0<<=1,!(P0&130023424)&&(P0=4194304)):e=1);var n=Ln();t=Ms(t,e),t!==null&&(Qh(t,e,n),rr(t,n))}function BI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fO(t,n)}function OI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),fO(t,n)}var dO;dO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,yI(t,e,n);er=!!(t.flags&131072)}else er=!1,rt&&e.flags&1048576&&mB(e,hm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dp(t,e),t=e.pendingProps;var i=Lc(e,xn.current);Ll(e,n),i=iE(null,e,r,t,i,n);var s=sE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(s=!0,fm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xw(e),i.updater=Dg,e.stateNode=i,i._reactInternals=e,xb(e,r,t,n),e=Db(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&Gw(e),Bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_I(r),t=ai(r,t),i){case 0:e=Cb(null,e,r,t,n);break e;case 1:e=cF(null,e,r,t,n);break e;case 11:e=oF(null,e,r,t,n);break e;case 14:e=lF(null,e,r,ai(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),Cb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),cF(t,e,r,i,n);case 3:e:{if(KB(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bB(t,e),gm(e,r,null,n);var u=e.memoizedState;if(r=u.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vc(Error(K(423)),e),e=fF(t,e,r,n,i);break e}else if(r!==i){i=Vc(Error(K(424)),e),e=fF(t,e,r,n,i);break e}else for(pr=Hu(e.stateNode.containerInfo.firstChild),mr=e,rt=!0,mi=null,n=xB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mc(),r===i){e=$s(t,e,n);break e}Bn(t,e,r,n)}e=e.child}return e;case 5:return FB(e),t===null&&Ab(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,u=i.children,mb(r,i)?u=null:s!==null&&mb(r,s)&&(e.flags|=32),qB(t,e),Bn(t,e,u,n),e.child;case 6:return t===null&&Ab(e),null;case 13:return JB(t,e,n);case 4:return eE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$c(e,null,r,n):Bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),oF(t,e,r,i,n);case 7:return Bn(t,e,e.pendingProps,n),e.child;case 8:return Bn(t,e,e.pendingProps.children,n),e.child;case 12:return Bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,u=i.value,qe(pm,r._currentValue),r._currentValue=u,s!==null)if(Ei(s.value,u)){if(s.children===i.children&&!tr.current){e=$s(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){u=s.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=_s(-1,n&-n),o.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),wb(s.return,n,e),a.lanes|=n;break}o=o.next}}else if(s.tag===10)u=s.type===e.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(K(341));u.lanes|=n,a=u.alternate,a!==null&&(a.lanes|=n),wb(u,n,e),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}Bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ll(e,n),i=Gr(i),r=r(i),e.flags|=1,Bn(t,e,r,n),e.child;case 14:return r=e.type,i=ai(r,e.pendingProps),i=ai(r.type,i),lF(t,e,r,i,n);case 15:return GB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),Dp(t,e),e.tag=1,nr(r)?(t=!0,fm(e)):t=!1,Ll(e,n),wB(e,r,i),xb(e,r,i,n),Db(null,e,r,!0,t,n);case 19:return YB(t,e,n);case 22:return WB(t,e,n)}throw Error(K(156,e.tag))};function hO(t,e){return M3(t,e)}function NI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new NI(t,e,n,r)}function mE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _I(t){if(typeof t=="function")return mE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pw)return 11;if(t===jw)return 14}return 2}function Wu(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bp(t,e,n,r,i,s){var u=2;if(r=t,typeof t=="function")mE(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case al:return ao(n.children,i,s,e);case Tw:u=8,i|=8;break;case Wv:return t=$r(12,n,e,i|2),t.elementType=Wv,t.lanes=s,t;case qv:return t=$r(13,n,e,i),t.elementType=qv,t.lanes=s,t;case Kv:return t=$r(19,n,e,i),t.elementType=Kv,t.lanes=s,t;case E3:return Og(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A3:u=10;break e;case w3:u=9;break e;case Pw:u=11;break e;case jw:u=14;break e;case ou:u=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=$r(u,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ao(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function Og(t,e,n,r){return t=$r(22,t,r,e),t.elementType=E3,t.lanes=n,t.stateNode={isHidden:!1},t}function _1(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function T1(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h1(0),this.expirationTimes=h1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gE(t,e,n,r,i,s,u,a,o){return t=new TI(t,e,n,a,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xw(s),t}function PI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pO(t){if(!t)return Yu;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(nr(n))return hB(t,n,e)}return e}function mO(t,e,n,r,i,s,u,a,o){return t=gE(n,r,!0,t,i,s,u,a,o),t.context=pO(null),n=t.current,r=Ln(),i=Gu(n),s=_s(r,i),s.callback=e??null,zu(n,s,i),t.current.lanes=i,Qh(t,i,r),rr(t,r),t}function Ng(t,e,n,r){var i=e.current,s=Ln(),u=Gu(i);return n=pO(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(s,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zu(i,e,u),t!==null&&(wi(t,i,u,s),xp(t,i,u)),u}function Fm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yE(t,e){wF(t,e),(t=t.alternate)&&wF(t,e)}function jI(){return null}var gO=typeof reportError=="function"?reportError:function(t){console.error(t)};function vE(t){this._internalRoot=t}_g.prototype.render=vE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Ng(t,e,null,null)};_g.prototype.unmount=vE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){Ng(null,t,null,null)}),e[Ls]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=G3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yu.length&&e!==0&&e<yu[n].priority;n++);yu.splice(n,0,t),n===0&&q3(t)}};function bE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EF(){}function II(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fm(u);s.call(c)}}var u=mO(e,r,t,0,null,!1,!1,"",EF);return t._reactRootContainer=u,t[Ls]=u.current,Vd(t.nodeType===8?t.parentNode:t),bo(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fm(o);a.call(c)}}var o=gE(t,0,!1,null,null,!1,!1,"",EF);return t._reactRootContainer=o,t[Ls]=o.current,Vd(t.nodeType===8?t.parentNode:t),bo(function(){Ng(e,o,n,r)}),o}function Pg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var u=s;if(typeof i=="function"){var a=i;i=function(){var o=Fm(u);a.call(o)}}Ng(e,u,t,i)}else u=II(n,e,t,i,r);return Fm(u)}z3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rd(e.pendingLanes);n!==0&&(Lw(e,n|1),rr(e,St()),!(Se&6)&&(Hc=St()+500,la()))}break;case 13:bo(function(){var r=Ms(t,1);if(r!==null){var i=Ln();wi(r,t,1,i)}}),yE(t,1)}};Mw=function(t){if(t.tag===13){var e=Ms(t,134217728);if(e!==null){var n=Ln();wi(e,t,134217728,n)}yE(t,134217728)}};Q3=function(t){if(t.tag===13){var e=Gu(t),n=Ms(t,e);if(n!==null){var r=Ln();wi(n,t,e,r)}yE(t,e)}};G3=function(){return Ve};W3=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};sb=function(t,e,n){switch(e){case"input":if(Zv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fg(r);if(!i)throw Error(K(90));F3(r),Zv(r,i)}}}break;case"textarea":D3(t,n);break;case"select":e=n.value,e!=null&&Pl(t,!!n.multiple,e,!1)}};T3=dE;P3=bo;var RI={usingClientEntryPoint:!1,Events:[Wh,fl,Fg,N3,_3,dE]},Pf={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LI={bundleType:Pf.bundleType,version:Pf.version,rendererPackageName:Pf.rendererPackageName,rendererConfig:Pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R3(t),t===null?null:t.stateNode},findFiberByHostInstance:Pf.findFiberByHostInstance||jI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q0.isDisabled&&Q0.supportsFiber)try{Ag=Q0.inject(LI),Xi=Q0}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bE(e))throw Error(K(200));return PI(t,e,null,n)};br.createRoot=function(t,e){if(!bE(t))throw Error(K(299));var n=!1,r="",i=gO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gE(t,1,!1,null,null,n,!1,r,i),t[Ls]=e.current,Vd(t.nodeType===8?t.parentNode:t),new vE(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=R3(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return bo(t)};br.hydrate=function(t,e,n){if(!Tg(e))throw Error(K(200));return Pg(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!bE(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",u=gO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=mO(e,null,t,1,n??null,i,!1,s,u),t[Ls]=e.current,Vd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _g(e)};br.render=function(t,e,n){if(!Tg(e))throw Error(K(200));return Pg(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!Tg(t))throw Error(K(40));return t._reactRootContainer?(bo(function(){Pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};br.unstable_batchedUpdates=dE;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tg(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Pg(t,e,n,!1,r)};br.version="18.2.0-next-9e3b772b8-20220608";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(t){console.error(t)}}yO(),m3.exports=br;var vO=m3.exports,bO,xF=vO;bO=Qv.createRoot=xF.createRoot,Qv.hydrateRoot=xF.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}var Lu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lu||(Lu={}));const FF="popstate";function MI(t){t===void 0&&(t={});function e(i,s){let{pathname:u="/",search:a="",hash:o=""}=jo(i.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Lb("",{pathname:u,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let u=i.document.querySelector("base"),a="";if(u&&u.getAttribute("href")){let o=i.location.href,c=o.indexOf("#");a=c===-1?o:o.slice(0,c)}return a+"#"+(typeof s=="string"?s:Cm(s))}function r(i,s){AE(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return UI(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $I(){return Math.random().toString(36).substr(2,8)}function CF(t,e){return{usr:t.state,key:t.key,idx:e}}function Lb(t,e,n,r){return n===void 0&&(n=null),Yd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||$I()})}function Cm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,u=i.history,a=Lu.Pop,o=null,c=f();c==null&&(c=0,u.replaceState(Yd({},u.state,{idx:c}),""));function f(){return(u.state||{idx:null}).idx}function d(){a=Lu.Pop;let b=f(),g=b==null?null:b-c;c=b,o&&o({action:a,location:m.location,delta:g})}function h(b,g){a=Lu.Push;let y=Lb(m.location,b,g);n&&n(y,b),c=f()+1;let A=CF(y,c),w=m.createHref(y);try{u.pushState(A,"",w)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(w)}s&&o&&o({action:a,location:m.location,delta:1})}function p(b,g){a=Lu.Replace;let y=Lb(m.location,b,g);n&&n(y,b),c=f();let A=CF(y,c),w=m.createHref(y);u.replaceState(A,"",w),s&&o&&o({action:a,location:m.location,delta:0})}function v(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Cm(b);return y=y.replace(/ $/,"%20"),It(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(i,u)},listen(b){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(FF,d),o=b,()=>{i.removeEventListener(FF,d),o=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(b){return u.go(b)}};return m}var DF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DF||(DF={}));function VI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jo(e):e,i=wE(r.pathname||"/",n);if(i==null)return null;let s=AO(t);HI(s);let u=null;for(let a=0;u==null&&a<s.length;++a){let o=tR(i);u=ZI(s[a],o)}return u}function AO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,u,a)=>{let o={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};o.relativePath.startsWith("/")&&(It(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let c=qu([r,o.relativePath]),f=n.concat(o);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AO(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JI(c,s.index),routesMeta:f})};return t.forEach((s,u)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,u);else for(let o of wO(s.path))i(s,u,o)}),e}function wO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let u=wO(r.join("/")),a=[];return a.push(...u.map(o=>o===""?s:[s,o].join("/"))),i&&a.push(...u),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function HI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zI=/^:[\w-]+$/,QI=3,GI=2,WI=1,qI=10,KI=-2,kF=t=>t==="*";function JI(t,e){let n=t.split("/"),r=n.length;return n.some(kF)&&(r+=KI),e&&(r+=GI),n.filter(i=>!kF(i)).reduce((i,s)=>i+(zI.test(s)?QI:s===""?WI:qI),r)}function YI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZI(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let u=0;u<n.length;++u){let a=n[u],o=u===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=XI({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},c);if(!f)return null;Object.assign(r,f.params);let d=a.route;s.push({params:r,pathname:qu([i,f.pathname]),pathnameBase:sR(qu([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=qu([i,f.pathnameBase]))}return s}function XI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],u=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let m=a[d]||"";u=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:u,pattern:t}}function eR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:rR(n,e):e,search:uR(r),hash:aR(i)}}function rR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EO(t,e){let n=iR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jo(t):(i=Yd({},t),It(!i.pathname||!i.pathname.includes("?"),P1("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),P1("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),P1("#","search","hash",i)));let s=t===""||i.pathname==="",u=s?"/":i.pathname,a;if(u==null)a=n;else{let d=e.length-1;if(!r&&u.startsWith("..")){let h=u.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let o=nR(i,a),c=u&&u!=="/"&&u.endsWith("/"),f=(s||u===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||f)&&(o.pathname+="/"),o}const qu=t=>t.join("/").replace(/\/\/+/g,"/"),sR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FO=["post","put","patch","delete"];new Set(FO);const lR=["get",...FO];new Set(lR);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}const EE=x.createContext(null),cR=x.createContext(null),Io=x.createContext(null),jg=x.createContext(null),ca=x.createContext({outlet:null,matches:[],isDataRoute:!1}),CO=x.createContext(null);function fR(t,e){let{relative:n}=e===void 0?{}:e;Kh()||It(!1);let{basename:r,navigator:i}=x.useContext(Io),{hash:s,pathname:u,search:a}=kO(t,{relative:n}),o=u;return r!=="/"&&(o=u==="/"?r:qu([r,u])),i.createHref({pathname:o,search:a,hash:s})}function Kh(){return x.useContext(jg)!=null}function Si(){return Kh()||It(!1),x.useContext(jg).location}function DO(t){x.useContext(Io).static||x.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=x.useContext(ca);return t?FR():dR()}function dR(){Kh()||It(!1);let t=x.useContext(EE),{basename:e,future:n,navigator:r}=x.useContext(Io),{matches:i}=x.useContext(ca),{pathname:s}=Si(),u=JSON.stringify(EO(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return DO(()=>{a.current=!0}),x.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=xO(c,JSON.parse(u),s,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qu([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,u,s,t])}function Zu(){let{matches:t}=x.useContext(ca),e=t[t.length-1];return e?e.params:{}}function kO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Io),{matches:i}=x.useContext(ca),{pathname:s}=Si(),u=JSON.stringify(EO(i,r.v7_relativeSplatPath));return x.useMemo(()=>xO(t,JSON.parse(u),s,n==="path"),[t,u,s,n])}function hR(t,e){return pR(t,e)}function pR(t,e,n,r){Kh()||It(!1);let{navigator:i}=x.useContext(Io),{matches:s}=x.useContext(ca),u=s[s.length-1],a=u?u.params:{};u&&u.pathname;let o=u?u.pathnameBase:"/";u&&u.route;let c=Si(),f;if(e){var d;let b=typeof e=="string"?jo(e):e;o==="/"||(d=b.pathname)!=null&&d.startsWith(o)||It(!1),f=b}else f=c;let h=f.pathname||"/",p=h;if(o!=="/"){let b=o.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=VI(t,{pathname:p}),m=bR(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:qu([o,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?o:qu([o,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&m?x.createElement(jg.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lu.Pop}},m):m}function mR(){let t=xR(),e=oR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const gR=x.createElement(mR,null);class yR extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ca.Provider,{value:this.props.routeContext},x.createElement(CO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vR(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(EE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ca.Provider,{value:e},r)}function bR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let u=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=u.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));f>=0||It(!1),u=u.slice(0,Math.min(u.length,f+1))}let o=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<u.length;f++){let d=u[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){o=!0,c>=0?u=u.slice(0,c+1):u=[u[0]];break}}}return u.reduceRight((f,d,h)=>{let p,v=!1,m=null,b=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||gR,o&&(c<0&&h===0?(CR("route-fallback",!1),v=!0,b=null):c===h&&(v=!0,b=d.route.hydrateFallbackElement||null)));let g=e.concat(u.slice(0,h+1)),y=()=>{let A;return p?A=m:v?A=b:d.route.Component?A=x.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=f,x.createElement(vR,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(yR,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var SO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SO||{}),Dm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dm||{});function AR(t){let e=x.useContext(EE);return e||It(!1),e}function wR(t){let e=x.useContext(cR);return e||It(!1),e}function ER(t){let e=x.useContext(ca);return e||It(!1),e}function BO(t){let e=ER(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function xR(){var t;let e=x.useContext(CO),n=wR(Dm.UseRouteError),r=BO(Dm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FR(){let{router:t}=AR(SO.UseNavigateStable),e=BO(Dm.UseNavigateStable),n=x.useRef(!1);return DO(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zd({fromRouteId:e},s)))},[t,e])}const SF={};function CR(t,e,n){!e&&!SF[t]&&(SF[t]=!0)}function Qn(t){It(!1)}function DR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lu.Pop,navigator:s,static:u=!1,future:a}=t;Kh()&&It(!1);let o=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:o,navigator:s,static:u,future:Zd({v7_relativeSplatPath:!1},a)}),[o,a,s,u]);typeof r=="string"&&(r=jo(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:v="default"}=r,m=x.useMemo(()=>{let b=wE(f,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:v},navigationType:i}},[o,f,d,h,p,v,i]);return m==null?null:x.createElement(Io.Provider,{value:c},x.createElement(jg.Provider,{children:n,value:m}))}function kR(t){let{children:e,location:n}=t;return hR(Mb(e),n)}new Promise(()=>{});function Mb(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Mb(r.props.children,s));return}r.type!==Qn&&It(!1),!r.props.index||!r.props.children||It(!1);let u={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Mb(r.props.children,s)),n.push(u)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function SR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OR(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}const NR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_R="6";try{window.__reactRouterVersion=_R}catch{}const TR="startTransition",BF=h3[TR];function PR(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=MI({window:i,v5Compat:!0}));let u=s.current,[a,o]=x.useState({action:u.action,location:u.location}),{v7_startTransition:c}=r||{},f=x.useCallback(d=>{c&&BF?BF(()=>o(d)):o(d)},[o,c]);return x.useLayoutEffect(()=>u.listen(f),[u,f]),x.createElement(DR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:u,future:r})}const jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:u,state:a,target:o,to:c,preventScrollReset:f,unstable_viewTransition:d}=e,h=SR(e,NR),{basename:p}=x.useContext(Io),v,m=!1;if(typeof c=="string"&&IR.test(c)&&(v=c,jR))try{let A=new URL(window.location.href),w=c.startsWith("//")?new URL(A.protocol+c):new URL(c),F=wE(w.pathname,p);w.origin===A.origin&&F!=null?c=F+w.search+w.hash:m=!0}catch{}let b=fR(c,{relative:i}),g=RR(c,{replace:u,state:a,target:o,preventScrollReset:f,relative:i,unstable_viewTransition:d});function y(A){r&&r(A),A.defaultPrevented||g(A)}return x.createElement("a",$b({},h,{href:v||b,onClick:m||s?r:y,ref:n,target:o}))});var OF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(OF||(OF={}));var NF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NF||(NF={}));function RR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:u,unstable_viewTransition:a}=e===void 0?{}:e,o=Un(),c=Si(),f=kO(t,{relative:u});return x.useCallback(d=>{if(OR(d,n)){d.preventDefault();let h=r!==void 0?r:Cm(c)===Cm(f);o(t,{replace:h,state:i,preventScrollReset:s,relative:u,unstable_viewTransition:a})}},[c,o,f,r,i,n,t,s,u,a])}var LR=function(e){var n=e.initValue,r=e.useHookBody,i=e.applyStateChange,s=x.useRef(n);if(typeof r!="function")throw new Error("function expected as hook body parameter. got "+typeof r);var u=r();return x.useLayoutEffect(function(){s.current!==u&&(s.current=u,i(u))},[i,u]),null},Ub=function(e){console&&console.warn&&console.warn(e)},j1=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,MR=function(e){return vO.unstable_batchedUpdates(e)},$R=function(e){if(j1.document&&j1.document.createElement){var n=j1.document.createElement("div"),r=bO(n);r.render(Ct.createElement(e,{automaticContainerInternalUseOnly:!0}))}else Ub("Can not mount SingletonHooksContainer on server side. Did you manage to run useEffect on server? Please mount SingletonHooksContainer into your components tree manually.")};function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}var UR=1,Hb=!1,OO=!1,Op=[],vl=[],km=function(){vl.forEach(function(e){return e()})},NO=function(e){var n=e.automaticContainerInternalUseOnly,r=x.useState([]),i=r[0],s=r[1],u=x.useRef();return u.current=i,!n&&Hb===!1&&(OO=!0),x.useEffect(function(){var a=!0;function o(){if(a){if(vl[0]!==o){!n&&Hb===!0&&Ub("SingletonHooksContainer is mounted after some singleton hook has been used.Your SingletonHooksContainer will not be used in favor of internal one."),s(function(c){return[]});return}s([].concat(Op))}}return vl.push(o),km(),function(){a=!1,u.current.length>0&&Ub("SingletonHooksContainer is unmounted, but it has active singleton hooks. They will be reevaluated once SingletonHooksContainer is mounted again"),vl.splice(vl.indexOf(o),1),km()}},[n]),Ct.createElement(Ct.Fragment,null,i.map(function(a){var o=a.hook,c=a.key;return Ct.createElement(LR,Vb({},o,{key:c}))}))},VR=function(e){var n=UR++;return Op.push({hook:e,key:n}),vl.length===0&&OO===!1&&(Hb=!0,$R(NO)),km(),function(){Op.splice(Op.findIndex(function(r){return r.key===n}),1),km()}},_O=function(e,n,r){r===void 0&&(r={});var i=!1,s=void 0,u=!1,a=void 0,o=[],c=r,f=c.unmountIfNoConsumers,d=f===void 0?!1:f,h=function(m){a=m,MR(function(){return o.forEach(function(b){return b(m)})})},p=function(){return u||(a=typeof e=="function"?e():e,u=!0),a};return function(){var v=x.useState(p),m=v[0],b=v[1];return x.useEffect(function(){return i||(i=!0,s=VR({initValue:e,useHookBody:n,applyStateChange:h})),o.push(b),a!==m&&b(a),function(){o.splice(o.indexOf(b),1),o.length===0&&d&&(s(),i=!1)}},[]),m}};function HR(t,e,n=window){const r=x.useRef();x.useEffect(()=>{r.current=e},[e]),x.useEffect(()=>{if(!(n&&n.addEventListener))return;const s=u=>(r==null?void 0:r.current)&&(r==null?void 0:r.current(u));return n.addEventListener(t,s),()=>{n.removeEventListener(t,s)}},[t,n])}const ma=new Map;function xE(t,e){if(x.useSyncExternalStore===void 0)throw new TypeError('You are using React 17 or below. Install with "npm install use-local-storage-state@17".');const[n]=x.useState(e==null?void 0:e.defaultValue);if(typeof window>"u")return[n,()=>{},{isPersistent:!0,removeItem:()=>{}}];const r=e==null?void 0:e.serializer;return zR(t,n,e==null?void 0:e.storageSync,r==null?void 0:r.parse,r==null?void 0:r.stringify)}function zR(t,e,n=!0,r=QR,i=JSON.stringify){!ma.has(t)&&e!==void 0&&jf(()=>localStorage.getItem(t))===null&&jf(()=>localStorage.setItem(t,i(e)));const s=x.useRef({item:null,parsed:e}),u=x.useSyncExternalStore(x.useCallback(o=>{const c=f=>{t===f&&o()};return zb.add(c),()=>{zb.delete(c)}},[t]),()=>{var o;const c=(o=jf(()=>localStorage.getItem(t)))!==null&&o!==void 0?o:null;if(ma.has(t))s.current={item:c,parsed:ma.get(t)};else if(c!==s.current.item){let f;try{f=c===null?e:r(c)}catch{f=e}s.current={item:c,parsed:f}}return s.current.parsed},()=>e),a=x.useCallback(o=>{const c=o instanceof Function?o(s.current.parsed):o;try{localStorage.setItem(t,i(c)),ma.delete(t)}catch{ma.set(t,c)}I1(t)},[t,i]);return x.useEffect(()=>{if(!n)return;const o=c=>{c.storageArea===jf(()=>localStorage)&&c.key===t&&I1(t)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[t,n]),x.useMemo(()=>[u,a,{isPersistent:u===e||!ma.has(t),removeItem(){jf(()=>localStorage.removeItem(t)),ma.delete(t),I1(t)}}],[t,a,u,e])}const zb=new Set;function I1(t){for(const e of[...zb])e(t)}function QR(t){return t==="undefined"?void 0:JSON.parse(t)}function jf(t){try{return t()}catch{return}}const TO=()=>xE("4dchan.org.eula.accepted",{defaultValue:!1}),GR=(t,{watch:e,setValue:n},{storage:r=window.localStorage,include:i=[],onDataRestored:s=void 0,validate:u=!1,dirty:a=!1}={})=>{const[o,c]=x.useState(!1),f=e(i);return x.useEffect(()=>{const d=r.getItem(t);if(!o&&d){const h=JSON.parse(d),p={};Object.keys(h).forEach(v=>{p[v]=h[v];const m=h[v];n(v,m,{shouldValidate:u,shouldDirty:!0})}),s&&s(p),c(!0)}},[a,i,r,s,n,u,t,o,c]),x.useEffect(()=>{if(f.filter(d=>d).length>0){const d={};f.forEach((h,p)=>{d[i[p]]=h}),r.setItem(t,JSON.stringify(d))}}),{clear:()=>r.removeItem(t)}};var Sm={exports:{}};Sm.exports;(function(t,e){(function(n,r){var i={};n.PubSub?(i=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=i,r(i)),t!==void 0&&t.exports&&(e=t.exports=i),e.PubSub=i,t.exports=e=i})(typeof window=="object"&&window||yp,function(n){var r={},i=-1,s="*";function u(m){var b;for(b in m)if(Object.prototype.hasOwnProperty.call(m,b))return!0;return!1}function a(m){return function(){throw m}}function o(m,b,g){try{m(b,g)}catch(y){setTimeout(a(y),0)}}function c(m,b,g){m(b,g)}function f(m,b,g,y){var A=r[b],w=y?c:o,F;if(Object.prototype.hasOwnProperty.call(r,b))for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&w(A[F],m,g)}function d(m,b,g){return function(){var A=String(m),w=A.lastIndexOf(".");for(f(m,m,b,g);w!==-1;)A=A.substr(0,w),w=A.lastIndexOf("."),f(m,A,b,g);f(m,s,b,g)}}function h(m){var b=String(m),g=!!(Object.prototype.hasOwnProperty.call(r,b)&&u(r[b]));return g}function p(m){for(var b=String(m),g=h(b)||h(s),y=b.lastIndexOf(".");!g&&y!==-1;)b=b.substr(0,y),y=b.lastIndexOf("."),g=h(b);return g}function v(m,b,g,y){m=typeof m=="symbol"?m.toString():m;var A=d(m,b,y),w=p(m);return w?(g===!0?A():setTimeout(A,0),!0):!1}n.publish=function(m,b){return v(m,b,!1,n.immediateExceptions)},n.publishSync=function(m,b){return v(m,b,!0,n.immediateExceptions)},n.subscribe=function(m,b){if(typeof b!="function")return!1;m=typeof m=="symbol"?m.toString():m,Object.prototype.hasOwnProperty.call(r,m)||(r[m]={});var g="uid_"+String(++i);return r[m][g]=b,g},n.subscribeAll=function(m){return n.subscribe(s,m)},n.subscribeOnce=function(m,b){var g=n.subscribe(m,function(){n.unsubscribe(g),b.apply(this,arguments)});return n},n.clearAllSubscriptions=function(){r={}},n.clearSubscriptions=function(b){var g;for(g in r)Object.prototype.hasOwnProperty.call(r,g)&&g.indexOf(b)===0&&delete r[g]},n.countSubscriptions=function(b){var g,y,A=0;for(g in r)if(Object.prototype.hasOwnProperty.call(r,g)&&g.indexOf(b)===0){for(y in r[g])A++;break}return A},n.getSubscriptions=function(b){var g,y=[];for(g in r)Object.prototype.hasOwnProperty.call(r,g)&&g.indexOf(b)===0&&y.push(g);return y},n.unsubscribe=function(m){var b=function(D){var T;for(T in r)if(Object.prototype.hasOwnProperty.call(r,T)&&T.indexOf(D)===0)return!0;return!1},g=typeof m=="string"&&(Object.prototype.hasOwnProperty.call(r,m)||b(m)),y=!g&&typeof m=="string",A=typeof m=="function",w=!1,F,k,C;if(g){n.clearSubscriptions(m);return}for(F in r)if(Object.prototype.hasOwnProperty.call(r,F)){if(k=r[F],y&&k[m]){delete k[m],w=m;break}if(A)for(C in k)Object.prototype.hasOwnProperty.call(k,C)&&k[C]===m&&(delete k[C],w=!0)}return w}})})(Sm,Sm.exports);var gi=Sm.exports;const hf=_O({publish:gi.publish,subscribe:gi.subscribe,unsubscribe:gi.unsubscribe},()=>({publish:gi.publish,subscribe:gi.subscribe,unsubscribe:gi.unsubscribe}));var Qb=function(t,e){return Qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qb(t,e)};function Bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var R=function(){return R=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R.apply(this,arguments)};function Xu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cu(t,e,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function a(f){try{c(r.next(f))}catch(d){u(d)}}function o(f){try{c(r.throw(f))}catch(d){u(d)}}function c(f){f.done?s(f.value):i(f.value).then(a,o)}c((r=r.apply(t,e||[])).next())})}function fu(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(c){return function(f){return o([c,f])}}function o(c){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function oo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var R1="Invariant Violation",_F=Object.setPrototypeOf,WR=_F===void 0?function(t,e){return t.__proto__=e,t}:_F,Ie=function(t){Bi(e,t);function e(n){n===void 0&&(n=R1);var r=t.call(this,typeof n=="number"?R1+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=R1,WR(r,e.prototype),r}return e}(Error);function J(t,e){if(!t)throw new Ie(e)}var PO=["debug","log","warn","error","silent"],qR=PO.indexOf("log");function G0(t){return function(){if(PO.indexOf(t)>=qR){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=G0("debug"),t.log=G0("log"),t.warn=G0("warn"),t.error=G0("error")})(J||(J={}));function Mr(t){try{return t()}catch{}}const TF=Mr(function(){return globalThis})||Mr(function(){return window})||Mr(function(){return self})||Mr(function(){return global})||Mr(function(){return Mr.constructor("return this")()});var PF="__",jF=[PF,PF].join("DEV");function KR(){try{return!!__DEV__}catch{return Object.defineProperty(TF,jF,{value:Mr(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),TF[jF]}}const L1=KR();function du(t){try{return t()}catch{}}var Gb=du(function(){return globalThis})||du(function(){return window})||du(function(){return self})||du(function(){return global})||du(function(){return du.constructor("return this")()}),Wb=!1;function JR(){Gb&&!du(function(){return"production"})&&!du(function(){return process})&&(Object.defineProperty(Gb,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Wb=!0)}JR();function IF(){Wb&&(delete Gb.process,Wb=!1)}function Np(t,e){if(!!!t)throw new Error(e)}function YR(t){return typeof t=="object"&&t!==null}function ZR(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const XR=/\r\n|[\n\r]/g;function qb(t,e){let n=0,r=1;for(const i of t.body.matchAll(XR)){if(typeof i.index=="number"||ZR(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function e9(t){return jO(t.source,qb(t.source,t.start))}function jO(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,u=e.line+s,a=e.line===1?n:0,o=e.column+a,c=`${t.name}:${u}:${o}
`,f=r.split(/\r\n|[\n\r]/g),d=f[i];if(d.length>120){const h=Math.floor(o/80),p=o%80,v=[];for(let m=0;m<d.length;m+=80)v.push(d.slice(m,m+80));return c+RF([[`${u} |`,v[0]],...v.slice(1,h+1).map(m=>["|",m]),["|","^".padStart(p)],["|",v[h+1]]])}return c+RF([[`${u-1} |`,f[i-1]],[`${u} |`,d],["|","^".padStart(o)],[`${u+1} |`,f[i+1]]])}function RF(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function t9(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class FE extends Error{constructor(e,...n){var r,i,s;const{nodes:u,source:a,positions:o,path:c,originalError:f,extensions:d}=t9(n);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=f??void 0,this.nodes=LF(Array.isArray(u)?u:u?[u]:void 0);const h=LF((r=this.nodes)===null||r===void 0?void 0:r.map(v=>v.loc).filter(v=>v!=null));this.source=a??(h==null||(i=h[0])===null||i===void 0?void 0:i.source),this.positions=o??(h==null?void 0:h.map(v=>v.start)),this.locations=o&&a?o.map(v=>qb(a,v)):h==null?void 0:h.map(v=>qb(v.source,v.start));const p=YR(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(s=d??p)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,FE):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+e9(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+jO(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function LF(t){return t===void 0||t.length===0?void 0:t}function Wt(t,e,n){return new FE(`Syntax Error: ${n}`,{source:t,positions:[e]})}class n9{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class IO{constructor(e,n,r,i,s,u){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=u,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const RO={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},r9=new Set(Object.keys(RO));function MF(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&r9.has(e)}var bl;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(bl||(bl={}));var Kb;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Kb||(Kb={}));var ae;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ae||(ae={}));function Jb(t){return t===9||t===32}function Xd(t){return t>=48&&t<=57}function LO(t){return t>=97&&t<=122||t>=65&&t<=90}function MO(t){return LO(t)||t===95}function i9(t){return LO(t)||Xd(t)||t===95}function s9(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let u=0;u<t.length;++u){var s;const a=t[u],o=u9(a);o!==a.length&&(r=(s=r)!==null&&s!==void 0?s:u,i=u,u!==0&&o<n&&(n=o))}return t.map((u,a)=>a===0?u:u.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function u9(t){let e=0;for(;e<t.length&&Jb(t.charCodeAt(e));)++e;return e}function a9(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(p=>p.length===0||Jb(p.charCodeAt(0))),u=n.endsWith('\\"""'),a=t.endsWith('"')&&!u,o=t.endsWith("\\"),c=a||o,f=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||u);let d="";const h=i&&Jb(t.charCodeAt(0));return(f&&!h||s)&&(d+=`
`),d+=n,(f||c)&&(d+=`
`),'"""'+d+'"""'}var U;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(U||(U={}));class o9{constructor(e){const n=new IO(U.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==U.EOF)do if(e.next)e=e.next;else{const n=c9(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===U.COMMENT);return e}}function l9(t){return t===U.BANG||t===U.DOLLAR||t===U.AMP||t===U.PAREN_L||t===U.PAREN_R||t===U.SPREAD||t===U.COLON||t===U.EQUALS||t===U.AT||t===U.BRACKET_L||t===U.BRACKET_R||t===U.BRACE_L||t===U.PIPE||t===U.BRACE_R}function pf(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Ig(t,e){return $O(t.charCodeAt(e))&&UO(t.charCodeAt(e+1))}function $O(t){return t>=55296&&t<=56319}function UO(t){return t>=56320&&t<=57343}function Ao(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return U.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function _t(t,e,n,r,i){const s=t.line,u=1+n-t.lineStart;return new IO(e,n,r,s,u,i)}function c9(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return f9(t,i);case 33:return _t(t,U.BANG,i,i+1);case 36:return _t(t,U.DOLLAR,i,i+1);case 38:return _t(t,U.AMP,i,i+1);case 40:return _t(t,U.PAREN_L,i,i+1);case 41:return _t(t,U.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return _t(t,U.SPREAD,i,i+3);break;case 58:return _t(t,U.COLON,i,i+1);case 61:return _t(t,U.EQUALS,i,i+1);case 64:return _t(t,U.AT,i,i+1);case 91:return _t(t,U.BRACKET_L,i,i+1);case 93:return _t(t,U.BRACKET_R,i,i+1);case 123:return _t(t,U.BRACE_L,i,i+1);case 124:return _t(t,U.PIPE,i,i+1);case 125:return _t(t,U.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?y9(t,i):h9(t,i)}if(Xd(s)||s===45)return d9(t,i,s);if(MO(s))return v9(t,i);throw Wt(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:pf(s)||Ig(n,i)?`Unexpected character: ${Ao(t,i)}.`:`Invalid character: ${Ao(t,i)}.`)}return _t(t,U.EOF,r,r)}function f9(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(pf(s))++i;else if(Ig(n,i))i+=2;else break}return _t(t,U.COMMENT,e,i,n.slice(e+1,i))}function d9(t,e,n){const r=t.source.body;let i=e,s=n,u=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),Xd(s))throw Wt(t.source,i,`Invalid number, unexpected digit after 0: ${Ao(t,i)}.`)}else i=M1(t,i,s),s=r.charCodeAt(i);if(s===46&&(u=!0,s=r.charCodeAt(++i),i=M1(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(u=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=M1(t,i,s),s=r.charCodeAt(i)),s===46||MO(s))throw Wt(t.source,i,`Invalid number, expected digit but got: ${Ao(t,i)}.`);return _t(t,u?U.FLOAT:U.INT,e,i,r.slice(e,i))}function M1(t,e,n){if(!Xd(n))throw Wt(t.source,e,`Invalid number, expected digit but got: ${Ao(t,e)}.`);const r=t.source.body;let i=e+1;for(;Xd(r.charCodeAt(i));)++i;return i}function h9(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,u="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return u+=n.slice(s,i),_t(t,U.STRING,e,i+1,u);if(a===92){u+=n.slice(s,i);const o=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?p9(t,i):m9(t,i):g9(t,i);u+=o.value,i+=o.size,s=i;continue}if(a===10||a===13)break;if(pf(a))++i;else if(Ig(n,i))i+=2;else throw Wt(t.source,i,`Invalid character within String: ${Ao(t,i)}.`)}throw Wt(t.source,i,"Unterminated string.")}function p9(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!pf(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|sd(s),r<0)break}throw Wt(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function m9(t,e){const n=t.source.body,r=$F(n,e+2);if(pf(r))return{value:String.fromCodePoint(r),size:6};if($O(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=$F(n,e+8);if(UO(i))return{value:String.fromCodePoint(r,i),size:12}}throw Wt(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function $F(t,e){return sd(t.charCodeAt(e))<<12|sd(t.charCodeAt(e+1))<<8|sd(t.charCodeAt(e+2))<<4|sd(t.charCodeAt(e+3))}function sd(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function g9(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Wt(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function y9(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,u=s,a="";const o=[];for(;s<r;){const c=n.charCodeAt(s);if(c===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(u,s),o.push(a);const f=_t(t,U.BLOCK_STRING,e,s+3,s9(o).join(`
`));return t.line+=o.length-1,t.lineStart=i,f}if(c===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(u,s),u=s+1,s+=4;continue}if(c===10||c===13){a+=n.slice(u,s),o.push(a),c===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",u=s,i=s;continue}if(pf(c))++s;else if(Ig(n,s))s+=2;else throw Wt(t.source,s,`Invalid character within String: ${Ao(t,s)}.`)}throw Wt(t.source,s,"Unterminated string.")}function v9(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(i9(s))++i;else break}return _t(t,U.NAME,e,i,n.slice(e,i))}const b9=10,VO=2;function HO(t){return Rg(t,[])}function Rg(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return A9(t,e);default:return String(t)}}function A9(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(w9(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Rg(r,n)}else if(Array.isArray(t))return x9(t,n);return E9(t,n)}function w9(t){return typeof t.toJSON=="function"}function E9(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>VO?"["+F9(t)+"]":"{ "+n.map(([i,s])=>i+": "+Rg(s,e)).join(", ")+" }"}function x9(t,e){if(t.length===0)return"[]";if(e.length>VO)return"[Array]";const n=Math.min(b9,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(Rg(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function F9(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const C9=function(e,n){return e instanceof n};class CE{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Np(!1,`Body must be a string. Received: ${HO(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Np(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Np(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function D9(t){return C9(t,CE)}function k9(t,e){return new S9(t,e).parseDocument()}class S9{constructor(e,n={}){const r=D9(e)?e:new CE(e);this._lexer=new o9(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(U.NAME);return this.node(e,{kind:ae.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ae.DOCUMENT,definitions:this.many(U.SOF,this.parseDefinition,U.EOF)})}parseDefinition(){if(this.peek(U.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===U.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Wt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(U.BRACE_L))return this.node(e,{kind:ae.OPERATION_DEFINITION,operation:bl.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(U.NAME)&&(r=this.parseName()),this.node(e,{kind:ae.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(U.NAME);switch(e.value){case"query":return bl.QUERY;case"mutation":return bl.MUTATION;case"subscription":return bl.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(U.PAREN_L,this.parseVariableDefinition,U.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ae.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(U.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(U.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(U.DOLLAR),this.node(e,{kind:ae.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ae.SELECTION_SET,selections:this.many(U.BRACE_L,this.parseSelection,U.BRACE_R)})}parseSelection(){return this.peek(U.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(U.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:ae.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(U.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(U.PAREN_L,n,U.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(U.COLON),this.node(n,{kind:ae.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(U.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(U.NAME)?this.node(e,{kind:ae.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ae.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case U.BRACKET_L:return this.parseList(e);case U.BRACE_L:return this.parseObject(e);case U.INT:return this.advanceLexer(),this.node(n,{kind:ae.INT,value:n.value});case U.FLOAT:return this.advanceLexer(),this.node(n,{kind:ae.FLOAT,value:n.value});case U.STRING:case U.BLOCK_STRING:return this.parseStringLiteral();case U.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:ae.BOOLEAN,value:!0});case"false":return this.node(n,{kind:ae.BOOLEAN,value:!1});case"null":return this.node(n,{kind:ae.NULL});default:return this.node(n,{kind:ae.ENUM,value:n.value})}case U.DOLLAR:if(e)if(this.expectToken(U.DOLLAR),this._lexer.token.kind===U.NAME){const r=this._lexer.token.value;throw Wt(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ae.STRING,value:e.value,block:e.kind===U.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:ae.LIST,values:this.any(U.BRACKET_L,n,U.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:ae.OBJECT,fields:this.any(U.BRACE_L,n,U.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(U.COLON),this.node(n,{kind:ae.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(U.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(U.AT),this.node(n,{kind:ae.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(U.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(U.BRACKET_R),n=this.node(e,{kind:ae.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(U.BANG)?this.node(e,{kind:ae.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:ae.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(U.STRING)||this.peek(U.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(U.BRACE_L,this.parseOperationTypeDefinition,U.BRACE_R);return this.node(e,{kind:ae.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(U.COLON);const r=this.parseNamedType();return this.node(e,{kind:ae.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:ae.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),u=this.parseFieldsDefinition();return this.node(e,{kind:ae.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:u})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(U.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(U.BRACE_L,this.parseFieldDefinition,U.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(U.COLON);const s=this.parseTypeReference(),u=this.parseConstDirectives();return this.node(e,{kind:ae.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:u})}parseArgumentDefs(){return this.optionalMany(U.PAREN_L,this.parseInputValueDef,U.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(U.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(U.EQUALS)&&(s=this.parseConstValueLiteral());const u=this.parseConstDirectives();return this.node(e,{kind:ae.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:u})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),u=this.parseFieldsDefinition();return this.node(e,{kind:ae.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:u})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:ae.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(U.EQUALS)?this.delimitedMany(U.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:ae.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(U.BRACE_L,this.parseEnumValueDefinition,U.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:ae.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Wt(this._lexer.source,this._lexer.token.start,`${W0(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(U.BRACE_L,this.parseInputValueDef,U.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===U.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(U.BRACE_L,this.parseOperationTypeDefinition,U.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:ae.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:ae.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ae.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ae.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(U.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const u=this.parseDirectiveLocations();return this.node(e,{kind:ae.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:u})}parseDirectiveLocations(){return this.delimitedMany(U.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Kb,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new n9(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw Wt(this._lexer.source,n.start,`Expected ${zO(e)}, found ${W0(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===U.NAME&&n.value===e)this.advanceLexer();else throw Wt(this._lexer.source,n.start,`Expected "${e}", found ${W0(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===U.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return Wt(this._lexer.source,n.start,`Unexpected ${W0(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==U.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Wt(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function W0(t){const e=t.value;return zO(t.kind)+(e!=null?` "${e}"`:"")}function zO(t){return l9(t)?`"${t}"`:t}function B9(t){return`"${t.replace(O9,N9)}"`}const O9=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function N9(t){return _9[t.charCodeAt(0)]}const _9=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],DE=Object.freeze({});function Us(t,e,n=RO){const r=new Map;for(const g of Object.values(ae))r.set(g,T9(e,g));let i,s=Array.isArray(t),u=[t],a=-1,o=[],c=t,f,d;const h=[],p=[];do{a++;const g=a===u.length,y=g&&o.length!==0;if(g){if(f=p.length===0?void 0:h[h.length-1],c=d,d=p.pop(),y)if(s){c=c.slice();let w=0;for(const[F,k]of o){const C=F-w;k===null?(c.splice(C,1),w++):c[C]=k}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[w,F]of o)c[w]=F}a=i.index,u=i.keys,o=i.edits,s=i.inArray,i=i.prev}else if(d){if(f=s?a:u[a],c=d[f],c==null)continue;h.push(f)}let A;if(!Array.isArray(c)){var v,m;MF(c)||Np(!1,`Invalid AST Node: ${HO(c)}.`);const w=g?(v=r.get(c.kind))===null||v===void 0?void 0:v.leave:(m=r.get(c.kind))===null||m===void 0?void 0:m.enter;if(A=w==null?void 0:w.call(e,c,f,d,h,p),A===DE)break;if(A===!1){if(!g){h.pop();continue}}else if(A!==void 0&&(o.push([f,A]),!g))if(MF(A))c=A;else{h.pop();continue}}if(A===void 0&&y&&o.push([f,c]),g)h.pop();else{var b;i={inArray:s,index:a,keys:u,edits:o,prev:i},s=Array.isArray(c),u=s?c:(b=n[c.kind])!==null&&b!==void 0?b:[],a=-1,o=[],d&&p.push(d),d=c}}while(i!==void 0);return o.length!==0?o[o.length-1][1]:t}function T9(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function P9(t){return Us(t,I9)}const j9=80,I9={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>le(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Ee("(",le(t.variableDefinitions,", "),")"),n=le([t.operation,le([t.name,e]),le(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Ee(" = ",n)+Ee(" ",le(r," "))},SelectionSet:{leave:({selections:t})=>ni(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=Ee("",t,": ")+e;let u=s+Ee("(",le(n,", "),")");return u.length>j9&&(u=s+Ee(`(
`,_p(le(n,`
`)),`
)`)),le([u,le(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ee(" ",le(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>le(["...",Ee("on ",t),le(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Ee("(",le(n,", "),")")} on ${e} ${Ee("",le(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?a9(t):B9(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+le(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+le(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ee("(",le(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Ee("",t,`
`)+le(["schema",le(e," "),ni(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Ee("",t,`
`)+le(["scalar",e,le(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ee("",t,`
`)+le(["type",e,Ee("implements ",le(n," & ")),le(r," "),ni(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Ee("",t,`
`)+e+(UF(n)?Ee(`(
`,_p(le(n,`
`)),`
)`):Ee("(",le(n,", "),")"))+": "+r+Ee(" ",le(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Ee("",t,`
`)+le([e+": "+n,Ee("= ",r),le(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ee("",t,`
`)+le(["interface",e,Ee("implements ",le(n," & ")),le(r," "),ni(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Ee("",t,`
`)+le(["union",e,le(n," "),Ee("= ",le(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Ee("",t,`
`)+le(["enum",e,le(n," "),ni(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Ee("",t,`
`)+le([e,le(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Ee("",t,`
`)+le(["input",e,le(n," "),ni(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Ee("",t,`
`)+"directive @"+e+(UF(n)?Ee(`(
`,_p(le(n,`
`)),`
)`):Ee("(",le(n,", "),")"))+(r?" repeatable":"")+" on "+le(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>le(["extend schema",le(t," "),ni(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>le(["extend scalar",t,le(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>le(["extend type",t,Ee("implements ",le(e," & ")),le(n," "),ni(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>le(["extend interface",t,Ee("implements ",le(e," & ")),le(n," "),ni(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>le(["extend union",t,le(e," "),Ee("= ",le(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>le(["extend enum",t,le(e," "),ni(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>le(["extend input",t,le(e," "),ni(n)]," ")}};function le(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ni(t){return Ee(`{
`,_p(le(t,`
`)),`
}`)}function Ee(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function _p(t){return Ee("  ",t.replace(/\n/g,`
  `))}function UF(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function VF(t){return t.kind===ae.FIELD||t.kind===ae.FRAGMENT_SPREAD||t.kind===ae.INLINE_FRAGMENT}function R9(){return IF()}function L9(){__DEV__?J(typeof L1=="boolean",L1):J(typeof L1=="boolean",39)}R9();L9();function Lg(t,e){var n=t.directives;return!n||!n.length?!0:U9(n).every(function(r){var i=r.directive,s=r.ifArgument,u=!1;return s.value.kind==="Variable"?(u=e&&e[s.value.name.value],__DEV__?J(u!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):J(u!==void 0,40)):u=s.value.value,i.name.value==="skip"?!u:u})}function kE(t,e,n){var r=new Set(t),i=r.size;return Us(e,{Directive:function(s){if(r.delete(s.name.value)&&(!n||!r.size))return DE}}),n?!r.size:r.size<i}function M9(t){return t&&kE(["client","export"],t,!0)}function $9(t){var e=t.name.value;return e==="skip"||e==="include"}function U9(t){var e=[];return t&&t.length&&t.forEach(function(n){if($9(n)){var r=n.arguments,i=n.name.value;__DEV__?J(r&&r.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):J(r&&r.length===1,41);var s=r[0];__DEV__?J(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):J(s.name&&s.name.value==="if",42);var u=s.value;__DEV__?J(u&&(u.kind==="Variable"||u.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):J(u&&(u.kind==="Variable"||u.kind==="BooleanValue"),43),e.push({directive:n,ifArgument:s})}}),e}function V9(t,e){var n=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new Ie("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Ie(44);s.kind==="FragmentDefinition"&&r.push(s)}),typeof n>"u"&&(__DEV__?J(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):J(r.length===1,45),n=r[0].name.value);var i=R(R({},t),{definitions:oo([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function SE(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function BE(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return __DEV__?J(r,"No fragment named ".concat(n)):J(r,46),r||null}default:return null}}function ut(t){return t!==null&&typeof t=="object"}function $l(t){return{__ref:String(t)}}function Ue(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function H9(t){return ut(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function z9(t){return t.kind==="StringValue"}function Q9(t){return t.kind==="BooleanValue"}function G9(t){return t.kind==="IntValue"}function W9(t){return t.kind==="FloatValue"}function q9(t){return t.kind==="Variable"}function K9(t){return t.kind==="ObjectValue"}function J9(t){return t.kind==="ListValue"}function Y9(t){return t.kind==="EnumValue"}function Z9(t){return t.kind==="NullValue"}function zc(t,e,n,r){if(G9(n)||W9(n))t[e.value]=Number(n.value);else if(Q9(n)||z9(n))t[e.value]=n.value;else if(K9(n)){var i={};n.fields.map(function(u){return zc(i,u.name,u.value,r)}),t[e.value]=i}else if(q9(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(J9(n))t[e.value]=n.values.map(function(u){var a={};return zc(a,e,u,r),a[e.value]});else if(Y9(n))t[e.value]=n.value;else if(Z9(n))t[e.value]=null;else throw __DEV__?new Ie('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Ie(55)}function X9(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var u=s.name,a=s.value;return zc(n[i.name.value],u,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var s=i.name,u=i.value;return zc(r,s,u,e)})),OE(t.name.value,r,n)}var e7=["connection","include","skip","client","rest","export"],OE=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(If(i),")")}else return n.connection.key;var s=t;if(e){var u=If(e);s+="(".concat(u,")")}return n&&Object.keys(n).forEach(function(a){e7.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?s+="@".concat(a,"(").concat(If(n[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=If;return If=t,e}}),If=function(e){return JSON.stringify(e,t7)};function t7(t,e){return ut(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function Mg(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,s=r.value;return zc(n,i,s,e)}),n}return null}function wo(t){return t.alias?t.alias.value:t.name.value}function Yb(t,e,n){for(var r,i=0,s=e.selections;i<s.length;i++){var u=s[i];if(Eo(u)){if(u.name.value==="__typename")return t[wo(u)]}else r?r.push(u):r=[u]}if(typeof t.__typename=="string")return t.__typename;if(r)for(var a=0,o=r;a<o.length;a++){var u=o[a],c=Yb(t,BE(u,n).selectionSet,n);if(typeof c=="string")return c}}function Eo(t){return t.kind==="Field"}function n7(t){return t.kind==="InlineFragment"}function $g(t){__DEV__?J(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):J(t&&t.kind==="Document",47);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw __DEV__?new Ie('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new Ie(48);return n});return __DEV__?J(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):J(e.length<=1,49),t}function Jh(t){return $g(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Zb(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function NE(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function QO(t){var e=Jh(t);return __DEV__?J(e&&e.operation==="query","Must contain a query definition."):J(e&&e.operation==="query",50),e}function r7(t){__DEV__?J(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):J(t.kind==="Document",51),__DEV__?J(t.definitions.length<=1,"Fragment must have exactly one definition."):J(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?J(e.kind==="FragmentDefinition","Must be a fragment definition."):J(e.kind==="FragmentDefinition",53),e}function Ug(t){$g(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new Ie("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Ie(54)}function _E(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&zc(e,r.variable.name,r.defaultValue)}),e}var yt=Array.isArray;function qr(t){return Array.isArray(t)&&t.length>0}var HF={kind:ae.FIELD,name:{kind:ae.NAME,value:"__typename"}};function GO(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===ae.FRAGMENT_SPREAD&&GO(e[n.name.value],e)})}function i7(t){return GO(Jh(t)||r7(t),SE(NE(t)))?null:t}function s7(t){var e=new Set,n=[];return t.forEach(function(r){r.name?e.add(r.name):r.test&&n.push(r.test)}),function(r){return e.has(r.name.value)||n.some(function(i){return i(r)})}}function zF(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function WO(t,e){for(var n=zF(""),r=zF(""),i=function(y){for(var A=0,w=void 0;A<y.length&&(w=y[A]);++A)if(!yt(w)){if(w.kind===ae.OPERATION_DEFINITION)return n(w.name&&w.name.value);if(w.kind===ae.FRAGMENT_DEFINITION)return r(w.name.value)}return __DEV__&&J.error("Could not find operation or fragment"),null},s=0,u=e.definitions.length-1;u>=0;--u)e.definitions[u].kind===ae.OPERATION_DEFINITION&&++s;var a=s7(t),o=t.some(function(y){return y.remove}),c=function(y){return o&&y&&y.some(a)},f=new Map,d=!1,h={enter:function(y){if(c(y.directives))return d=!0,null}},p=Us(e,{Field:h,InlineFragment:h,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(y,A,w,F,k){var C=i(k);C&&C.variables.add(y.name.value)}},FragmentSpread:{enter:function(y,A,w,F,k){if(c(y.directives))return d=!0,null;var C=i(k);C&&C.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter:function(y,A,w,F){f.set(JSON.stringify(F),y)},leave:function(y,A,w,F){var k=f.get(JSON.stringify(F));if(y===k)return y;if(s>0&&y.selectionSet.selections.every(function(C){return C.kind===ae.FIELD&&C.name.value==="__typename"}))return r(y.name.value).removed=!0,d=!0,null}},Directive:{leave:function(y){if(a(y))return d=!0,null}}});if(!d)return e;var v=function(y){return y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(function(A){v(r(A)).transitiveVars.forEach(function(w){y.transitiveVars.add(w)})})),y},m=new Set;p.definitions.forEach(function(y){y.kind===ae.OPERATION_DEFINITION?v(n(y.name&&y.name.value)).fragmentSpreads.forEach(function(A){m.add(A)}):y.kind===ae.FRAGMENT_DEFINITION&&s===0&&!r(y.name.value).removed&&m.add(y.name.value)}),m.forEach(function(y){v(r(y)).fragmentSpreads.forEach(function(A){m.add(A)})});var b=function(y){return!!(!m.has(y)||r(y).removed)},g={enter:function(y){if(b(y.name.value))return null}};return i7(Us(p,{FragmentSpread:g,FragmentDefinition:g,OperationDefinition:{leave:function(y){if(y.variableDefinitions){var A=v(n(y.name&&y.name.value)).transitiveVars;if(A.size<y.variableDefinitions.length)return R(R({},y),{variableDefinitions:y.variableDefinitions.filter(function(w){return A.has(w.variable.name.value)})})}}}}))}var TE=Object.assign(function(t){return Us(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===ae.OPERATION_DEFINITION)){var i=e.selections;if(i){var s=i.some(function(a){return Eo(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var u=r;if(!(Eo(u)&&u.directives&&u.directives.some(function(a){return a.name.value==="export"})))return R(R({},e),{selections:oo(oo([],i,!0),[HF],!1)})}}}}}})},{added:function(t){return t===HF}}),u7={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(n){return n.name.value==="key"}))&&__DEV__&&J.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function a7(t){return WO([u7],$g(t))}function o7(t){var e=Ug(t),n=e.operation;if(n==="query")return t;var r=Us(t,{OperationDefinition:{enter:function(i){return R(R({},i),{operation:"query"})}}});return r}function l7(t){$g(t);var e=WO([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var c7=Object.prototype.hasOwnProperty;function QF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return PE(t)}function PE(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new ea,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var f7=function(t,e,n){return this.merge(t[n],e[n])},ea=function(){function t(e){e===void 0&&(e=f7),this.reconciler=e,this.isObject=ut,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return ut(n)&&ut(e)?(Object.keys(n).forEach(function(u){if(c7.call(e,u)){var a=e[u];if(n[u]!==a){var o=r.reconciler.apply(r,oo([e,n,u],i,!1));o!==a&&(e=r.shallowCopyForMerge(e),e[u]=o)}}else e=r.shallowCopyForMerge(e),e[u]=n[u]}),e):n},t.prototype.shallowCopyForMerge=function(e){return ut(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=R({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function d7(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=h7(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(t,e){if(t){if(typeof t=="string")return GF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GF(t,e)}}function GF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jE(t,e,n){return e&&WF(t.prototype,e),n&&WF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var IE=function(){return typeof Symbol=="function"},RE=function(t){return IE()&&!!Symbol[t]},LE=function(t){return RE(t)?Symbol[t]:"@@"+t};IE()&&!RE("observable")&&(Symbol.observable=Symbol("observable"));var p7=LE("iterator"),Xb=LE("observable"),qO=LE("species");function Bm(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function Rf(t){var e=t.constructor;return e!==void 0&&(e=e[qO],e===null&&(e=void 0)),e!==void 0?e:et}function m7(t){return t instanceof et}function Qc(t){Qc.log?Qc.log(t):setTimeout(function(){throw t})}function Tp(t){Promise.resolve().then(function(){try{t()}catch(e){Qc(e)}})}function KO(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=Bm(e,"unsubscribe");n&&n.call(e)}}catch(r){Qc(r)}}function eA(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function g7(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(JO(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function JO(t,e,n){t._state="running";var r=t._observer;try{var i=Bm(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(eA(t),i)i.call(r,n);else throw n;break;case"complete":eA(t),i&&i.call(r);break}}catch(s){Qc(s)}t._state==="closed"?KO(t):t._state==="running"&&(t._state="ready")}function $1(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],Tp(function(){return g7(t)});return}JO(t,e,n)}}var y7=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new v7(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(eA(this),KO(this))},jE(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),v7=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){$1(this._subscription,"next",r)},e.error=function(r){$1(this._subscription,"error",r)},e.complete=function(){$1(this._subscription,"complete")},jE(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),et=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new y7(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,u){if(typeof r!="function"){u(new TypeError(r+" is not a function"));return}function a(){o.unsubscribe(),s()}var o=i.subscribe({next:function(c){try{r(c,a)}catch(f){u(f),o.unsubscribe()}},error:u,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Rf(this);return new s(function(u){return i.subscribe({next:function(a){try{a=r(a)}catch(o){return u.error(o)}u.next(a)},error:function(a){u.error(a)},complete:function(){u.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Rf(this);return new s(function(u){return i.subscribe({next:function(a){try{if(!r(a))return}catch(o){return u.error(o)}u.next(a)},error:function(a){u.error(a)},complete:function(){u.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Rf(this),u=arguments.length>1,a=!1,o=arguments[1],c=o;return new s(function(f){return i.subscribe({next:function(d){var h=!a;if(a=!0,!h||u)try{c=r(c,d)}catch(p){return f.error(p)}else c=d},error:function(d){f.error(d)},complete:function(){if(!a&&!u)return f.error(new TypeError("Cannot reduce an empty sequence"));f.next(c),f.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];var a=Rf(this);return new a(function(o){var c,f=0;function d(h){c=h.subscribe({next:function(p){o.next(p)},error:function(p){o.error(p)},complete:function(){f===s.length?(c=void 0,o.complete()):d(a.from(s[f++]))}})}return d(r),function(){c&&(c.unsubscribe(),c=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Rf(this);return new s(function(u){var a=[],o=i.subscribe({next:function(f){if(r)try{f=r(f)}catch(h){return u.error(h)}var d=s.from(f).subscribe({next:function(h){u.next(h)},error:function(h){u.error(h)},complete:function(){var h=a.indexOf(d);h>=0&&a.splice(h,1),c()}});a.push(d)},error:function(f){u.error(f)},complete:function(){c()}});function c(){o.closed&&a.length===0&&u.complete()}return function(){a.forEach(function(f){return f.unsubscribe()}),o.unsubscribe()}})},e[Xb]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var s=Bm(r,Xb);if(s){var u=s.call(r);if(Object(u)!==u)throw new TypeError(u+" is not an object");return m7(u)&&u.constructor===i?u:new i(function(a){return u.subscribe(a)})}if(RE("iterator")&&(s=Bm(r,p7),s))return new i(function(a){Tp(function(){if(!a.closed){for(var o=d7(s.call(r)),c;!(c=o()).done;){var f=c.value;if(a.next(f),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){Tp(function(){if(!a.closed){for(var o=0;o<r.length;++o)if(a.next(r[o]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var u=typeof this=="function"?this:t;return new u(function(a){Tp(function(){if(!a.closed){for(var o=0;o<i.length;++o)if(a.next(i[o]),a.closed)return;a.complete()}})})},jE(t,null,[{key:qO,get:function(){return this}}]),t}();IE()&&Object.defineProperty(et,Symbol("extensions"),{value:{symbol:Xb,hostReportError:Qc},configurable:!0});function b7(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var el;typeof self<"u"?el=self:typeof window<"u"?el=window:typeof global<"u"?el=global:typeof module<"u"?el=module:el=Function("return this")();b7(el);var qF=et.prototype,KF="@@observable";qF[KF]||(qF[KF]=function(){return this});var A7=Object.prototype.toString;function YO(t){return tA(t)}function tA(t,e){switch(A7.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,s){n[s]=tA(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=tA(t[i],e)}),r}default:return t}}function w7(t){var e=new Set([t]);return e.forEach(function(n){ut(n)&&E7(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){ut(n[r])&&e.add(n[r])})}),t}function E7(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function eh(t){return __DEV__&&w7(t),t}function Ed(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function U1(t,e,n){return new et(function(r){var i=r.next,s=r.error,u=r.complete,a=0,o=!1,c={then:function(p){return new Promise(function(v){return v(p())})}};function f(p,v){return p?function(m){++a;var b=function(){return p(m)};c=c.then(b,b).then(function(g){--a,i&&i.call(r,g),o&&d.complete()},function(g){throw--a,g}).catch(function(g){s&&s.call(r,g)})}:function(m){return v&&v.call(r,m)}}var d={next:f(e,i),error:f(n,s),complete:function(){o=!0,a||u&&u.call(r)}},h=t.subscribe(d);return function(){return h.unsubscribe()}})}var fa=typeof WeakMap=="function"&&Mr(function(){return navigator.product})!=="ReactNative",x7=typeof WeakSet=="function",ME=typeof Symbol=="function"&&typeof Symbol.for=="function",Vg=ME&&Symbol.asyncIterator,F7=typeof Mr(function(){return window.document.createElement})=="function",C7=Mr(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,D7=F7&&!C7;function ZO(t){function e(n){Object.defineProperty(t,n,{value:et})}return ME&&Symbol.species&&e(Symbol.species),e("@@species"),t}function JF(t){return t&&typeof t.then=="function"}var tl=function(t){Bi(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Ed(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Ed(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,u=i.sources,a=u===void 0?[]:u;if(s!==null){var o=a.shift();o?JF(o)?o.then(function(c){return r.sub=c.subscribe(r.handlers)}):r.sub=o.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Ed(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new et(n)]),JF(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,n(i,s))})},e}(et);ZO(tl);function Ul(t){return"incremental"in t}function k7(t){return"hasNext"in t&&"data"in t}function S7(t){return Ul(t)||k7(t)}function B7(t){return ut(t)&&"payload"in t}function XO(t,e){var n=t,r=new ea;return Ul(e)&&qr(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,u=i.path,a=u.length-1;a>=0;--a){var o=u[a],c=!isNaN(+o),f=c?[]:{};f[o]=s,s=f}n=r.merge(n,s)}),n}function Pp(t){var e=nA(t);return qr(e)}function nA(t){var e=qr(t.errors)?t.errors.slice(0):[];return Ul(t)&&qr(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(n[i]=s)})}),n}var YF=new Map;function rA(t){var e=YF.get(t)||1;return YF.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function O7(t){var e=rA("stringifyForDisplay");return JSON.stringify(t,function(n,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function jp(t,e){return Yh(t,e,e.variables&&{variables:R(R({},t&&t.variables),e.variables)})}function ZF(t){return new et(function(e){e.error(t)})}var iA=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function N7(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw __DEV__?new Ie("illegal argument: ".concat(i)):new Ie(27)}return t}function _7(t,e){var n=R({},t),r=function(s){typeof s=="function"?n=R(R({},n),s(n)):n=R(R({},n),s)},i=function(){return R({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function T7(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Zb(e.query)||void 0:""),e}function XF(t,e){return e?e(t):et.of()}function Lf(t){return typeof t=="function"?new Zh(t):t}function q0(t){return t.request.length<=1}var P7=function(t){Bi(e,t);function e(n,r){var i=t.call(this,n)||this;return i.link=r,i}return e}(Error),Zh=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return et.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Lf).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=Lf(n),s=Lf(r||new t(XF));return q0(i)&&q0(s)?new t(function(u){return e(u)?i.request(u)||et.of():s.request(u)||et.of()}):new t(function(u,a){return e(u)?i.request(u,a)||et.of():s.request(u,a)||et.of()})},t.execute=function(e,n){return e.request(_7(n.context,T7(N7(n))))||et.of()},t.concat=function(e,n){var r=Lf(e);if(q0(r))return __DEV__&&J.warn(new P7("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Lf(n);return q0(i)?new t(function(s){return r.request(s,function(u){return i.request(u)||et.of()})||et.of()}):new t(function(s,u){return r.request(s,function(a){return i.request(a,u)||et.of()})||et.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(XF)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new Ie("request is not implemented"):new Ie(22)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),sA=Zh.execute,j7="3.7.15";function I7(t){return!!t.body}function R7(t){return!!t.getReader}function L7(t){return!!(Vg&&t[Symbol.asyncIterator])}function M7(t){return!!t.stream}function $7(t){return!!t.arrayBuffer}function U7(t){return!!t.pipe}function V7(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function H7(t){var e=null,n=null,r=!1,i=[],s=[];function u(d){if(!n){if(s.length){var h=s.shift();if(Array.isArray(h)&&h[0])return h[0]({value:d,done:!1})}i.push(d)}}function a(d){n=d;var h=s.slice();h.forEach(function(p){p[1](d)}),!e||e()}function o(){r=!0;var d=s.slice();d.forEach(function(h){h[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",u),t.removeListener("error",a),t.removeListener("end",o),t.removeListener("finish",o),t.removeListener("close",o)},t.on("data",u),t.on("error",a),t.on("end",o),t.on("finish",o),t.on("close",o);function c(){return new Promise(function(d,h){if(n)return h(n);if(i.length)return d({value:i.shift(),done:!1});if(r)return d({value:void 0,done:!0});s.push([d,h])})}var f={next:function(){return c()}};return Vg&&(f[Symbol.asyncIterator]=function(){return this}),f}function z7(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return Vg&&(n[Symbol.asyncIterator]=function(){return this}),n}function eC(t){var e={next:function(){return t.read()}};return Vg&&(e[Symbol.asyncIterator]=function(){return this}),e}function Q7(t){var e=t;if(I7(t)&&(e=t.body),L7(e))return V7(e);if(R7(e))return eC(e.getReader());if(M7(e))return eC(e.stream().getReader());if($7(e))return z7(e.arrayBuffer());if(U7(e))return H7(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var $E=Symbol();function G7(t){return t.extensions?Array.isArray(t.extensions[$E]):!1}function W7(t){return t.hasOwnProperty("graphQLErrors")}var q7=function(t){var e=oo(oo(oo([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(n){return ut(n)&&n.message||"Error message not found."}).join(`
`)},hu=function(t){Bi(e,t);function e(n){var r=n.graphQLErrors,i=n.protocolErrors,s=n.clientErrors,u=n.networkError,a=n.errorMessage,o=n.extraInfo,c=t.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=r||[],c.protocolErrors=i||[],c.clientErrors=s||[],c.networkError=u||null,c.message=a||q7(c),c.extraInfo=o,c.__proto__=e.prototype,c}return e}(Error),tC=Object.prototype.hasOwnProperty;function K7(t,e){var n,r,i,s,u;return cu(this,void 0,void 0,function(){var a,o,c,f,d,h,p,v,m,b,g,y,A,w,F,k,C,D,T,N,V,H,Q;return fu(this,function(ne){switch(ne.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");a=new TextDecoder("utf-8"),o=(n=t.headers)===null||n===void 0?void 0:n.get("content-type"),c="boundary=",f=o!=null&&o.includes(c)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(c))+c.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",d=`\r
--`.concat(f),h="",p=Q7(t),v=!0,ne.label=1;case 1:return v?[4,p.next()]:[3,3];case 2:for(m=ne.sent(),b=m.value,g=m.done,y=typeof b=="string"?b:a.decode(b),A=h.length-d.length+1,v=!g,h+=y,w=h.indexOf(d,A);w>-1;){if(F=void 0,H=[h.slice(0,w),h.slice(w+d.length)],F=H[0],h=H[1],k=F.indexOf(`\r
\r
`),C=J7(F.slice(0,k)),D=C["content-type"],D&&D.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(T=F.slice(k),T)try{N=eN(t,T),Object.keys(N).length>1||"data"in N||"incremental"in N||"errors"in N||"payload"in N?B7(N)?(V={},"payload"in N&&(V=R({},N.payload)),"errors"in N&&(V=R(R({},V),{extensions:R(R({},"extensions"in V?V.extensions:null),(Q={},Q[$E]=N.errors,Q))})),(r=e.next)===null||r===void 0||r.call(e,V)):(i=e.next)===null||i===void 0||i.call(e,N):Object.keys(N).length===1&&"hasNext"in N&&!N.hasNext&&((s=e.complete)===null||s===void 0||s.call(e))}catch(P){UE(P,e)}w=h.indexOf(d)}return[3,1];case 3:return(u=e.complete)===null||u===void 0||u.call(e),[2]}})})}function J7(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();e[i]=s}}),e}function eN(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};iA(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function UE(t,e){var n,r;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((n=e.next)===null||n===void 0||n.call(e,t.result)),(r=e.error)===null||r===void 0||r.call(e,t))}function Y7(t,e,n){Z7(e)(t).then(function(r){var i,s;(i=n.next)===null||i===void 0||i.call(n,r),(s=n.complete)===null||s===void 0||s.call(n)}).catch(function(r){return UE(r,n)})}function Z7(t){return function(e){return e.text().then(function(n){return eN(e,n)}).then(function(n){return e.status>=300&&iA(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!tC.call(n,"data")&&!tC.call(n,"errors")&&iA(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var uA=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=__DEV__?new Ie("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new Ie(24);throw r.parseError=i,r}return n},X7={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},eL={accept:"*/*","content-type":"application/json"},tL={method:"POST"},nL={http:X7,headers:eL,options:tL},rL=function(t,e){return e(t)};function iL(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach(function(d){i=R(R(R({},i),d.options),{headers:R(R({},i.headers),d.headers)}),d.credentials&&(i.credentials=d.credentials),s=R(R({},s),d.http)}),i.headers&&(i.headers=sL(i.headers,s.preserveHeaderCase));var u=t.operationName,a=t.extensions,o=t.variables,c=t.query,f={operationName:u,variables:o};return s.includeExtensions&&(f.extensions=a),s.includeQuery&&(f.query=e(c,P9)),{options:i,body:f}}function sL(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]=t[s]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var uL=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new Ie(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new Ie(23)},aL=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},oL=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function lL(t,e){var n=[],r=function(d,h){n.push("".concat(d,"=").concat(encodeURIComponent(h)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=uA(e.variables,"Variables map")}catch(d){return{parseError:d}}r("variables",i)}if(e.extensions){var s=void 0;try{s=uA(e.extensions,"Extensions map")}catch(d){return{parseError:d}}r("extensions",s)}var u="",a=t,o=t.indexOf("#");o!==-1&&(u=t.substr(o),a=t.substr(0,o));var c=a.indexOf("?")===-1?"?":"&",f=a+c+n.join("&")+u;return{newURI:f}}var nC=Mr(function(){return fetch}),cL=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,s=i===void 0?rL:i,u=t.includeExtensions,a=t.preserveHeaderCase,o=t.useGETForQueries,c=t.includeUnusedVariables,f=c===void 0?!1:c,d=Xu(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&uL(r||nC);var h={http:{includeExtensions:u,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Zh(function(p){var v=oL(p,n),m=p.getContext(),b={};if(m.clientAwareness){var g=m.clientAwareness,y=g.name,A=g.version;y&&(b["apollographql-client-name"]=y),A&&(b["apollographql-client-version"]=A)}var w=R(R({},b),m.headers),F={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:w},k=iL(p,s,nL,h,F),C=k.options,D=k.body;if(D.variables&&!f){var T=new Set(Object.keys(D.variables));Us(p.query,{Variable:function(Z,ye,we){we&&we.kind!=="VariableDefinition"&&T.delete(Z.name.value)}}),T.size&&(D.variables=R({},D.variables),T.forEach(function(Z){delete D.variables[Z]}))}var N;if(!C.signal){var V=aL(),H=V.controller,Q=V.signal;N=H,N&&(C.signal=Q)}var ne=function(Z){return Z.kind==="OperationDefinition"&&Z.operation==="mutation"},P=function(Z){return Z.kind==="OperationDefinition"&&Z.operation==="subscription"},L=P(Ug(p.query)),Y=kE(["defer"],p.query);if(o&&!p.query.definitions.some(ne)&&(C.method="GET"),Y||L){C.headers=C.headers||{};var M="multipart/mixed;";L&&Y&&__DEV__&&J.warn("Multipart-subscriptions do not support @defer"),L?M+="boundary=graphql;subscriptionSpec=1.0,application/json":Y&&(M+="deferSpec=20220824,application/json"),C.headers.accept=M}if(C.method==="GET"){var G=lL(v,D),W=G.newURI,oe=G.parseError;if(oe)return ZF(oe);v=W}else try{C.body=uA(D,"Payload")}catch(Z){return ZF(Z)}return new et(function(Z){var ye=r||Mr(function(){return fetch})||nC;return ye(v,C).then(function(we){var ft;p.setContext({response:we});var be=(ft=we.headers)===null||ft===void 0?void 0:ft.get("content-type");return be!==null&&/^multipart\/mixed/i.test(be)?K7(we,Z):Y7(we,p,Z)}).catch(function(we){return UE(we,Z)}),function(){N&&N.abort()}})})},fL=function(t){Bi(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,cL(n).request)||this;return r.options=n,r}return e}(Zh);const{toString:rC,hasOwnProperty:dL}=Object.prototype,iC=Function.prototype.toString,aA=new Map;function gt(t,e){try{return oA(t,e)}finally{aA.clear()}}function oA(t,e){if(t===e)return!0;const n=rC.call(t),r=rC.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(uC(t,e))return!0;const i=sC(t),s=sC(e),u=i.length;if(u!==s.length)return!1;for(let a=0;a<u;++a)if(!dL.call(e,i[a]))return!1;for(let a=0;a<u;++a){const o=i[a];if(!oA(t[o],e[o]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(uC(t,e))return!0;const i=t.entries(),s=n==="[object Map]";for(;;){const u=i.next();if(u.done)break;const[a,o]=u.value;if(!e.has(a)||s&&!oA(o,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=iC.call(t);return i!==iC.call(e)?!1:!mL(i,pL)}}return!1}function sC(t){return Object.keys(t).filter(hL,t)}function hL(t){return this[t]!==void 0}const pL="{ [native code] }";function mL(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function uC(t,e){let n=aA.get(t);if(n){if(n.has(e))return!0}else aA.set(t,n=new Set);return n.add(e),!1}var gL=function(){return Object.create(null)},tN=Array.prototype,yL=tN.forEach,vL=tN.slice,bL=function(){function t(e,n){e===void 0&&(e=!0),n===void 0&&(n=gL),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return yL.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(vL.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&AL(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}();function AL(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let Xt=null;const aC={};let wL=1;const EL=()=>class{constructor(){this.id=["slot",wL++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Xt;e;e=e.parent)if(this.id in e.slots){const n=e.slots[this.id];if(n===aC)break;return e!==Xt&&(Xt.slots[this.id]=n),!0}return Xt&&(Xt.slots[this.id]=aC),!1}getValue(){if(this.hasValue())return Xt.slots[this.id]}withValue(e,n,r,i){const s={__proto__:null,[this.id]:e},u=Xt;Xt={parent:u,slots:s};try{return n.apply(i,r)}finally{Xt=u}}static bind(e){const n=Xt;return function(){const r=Xt;try{return Xt=n,e.apply(this,arguments)}finally{Xt=r}}}static noContext(e,n,r){if(Xt){const i=Xt;try{return Xt=null,e.apply(r,n)}finally{Xt=i}}else return e.apply(r,n)}};function oC(t){try{return t()}catch{}}const V1="@wry/context:Slot",xL=oC(()=>globalThis)||oC(()=>global)||Object.create(null),lC=xL,nN=lC[V1]||Array[V1]||function(t){try{Object.defineProperty(lC,V1,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(EL());function FL(){}var CL=function(){function t(e,n){e===void 0&&(e=1/0),n===void 0&&(n=FL),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,i=n.newer;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1},t}(),Hg=new nN,H1,DL=Object.prototype.hasOwnProperty,VE=(H1=Array.from,H1===void 0?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:H1);function Om(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var th=[],kL=100;function Gc(t,e){if(!t)throw new Error(e||"assertion failure")}function SL(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function rN(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function BL(t){return t.slice(0)}var OL=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!ta(this))return cC(this),this.value[0]},t.prototype.recompute=function(e){return Gc(!this.recomputing,"already recomputing"),cC(this),ta(this)?NL(this,e):rN(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,iN(this),Om(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),lN(this),HE(this,function(n,r){n.setDirty(),cN(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=th.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(VE(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),th.push(this.deps),this.deps=null)},t.count=0,t}();function cC(t){var e=Hg.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),ta(t)?uN(e,t):aN(e,t),e}function NL(t,e){return lN(t),Hg.withValue(t,_L,[t,e]),PL(t,e)&&TL(t),rN(t.value)}function _L(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function ta(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function TL(t){t.dirty=!1,!ta(t)&&sN(t)}function iN(t){HE(t,uN)}function sN(t){HE(t,aN)}function HE(t,e){var n=t.parents.size;if(n)for(var r=VE(t.parents),i=0;i<n;++i)e(r[i],t)}function uN(t,e){Gc(t.childValues.has(e)),Gc(ta(e));var n=!ta(t);if(!t.dirtyChildren)t.dirtyChildren=th.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&iN(t)}function aN(t,e){Gc(t.childValues.has(e)),Gc(!ta(e));var n=t.childValues.get(e);n.length===0?t.childValues.set(e,BL(e.value)):SL(n,e.value)||t.setDirty(),oN(t,e),!ta(t)&&sN(t)}function oN(t,e){var n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(th.length<kL&&th.push(n),t.dirtyChildren=null))}function lN(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){cN(t,n)}),t.forgetDeps(),Gc(t.dirtyChildren===null)}function cN(t,e){e.parents.delete(t),t.childValues.delete(e),oN(t,e)}function PL(t,e){if(typeof t.subscribe=="function")try{Om(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var jL={setDirty:!0,dispose:!0,forget:!0};function fN(t){var e=new Map,n=t&&t.subscribe;function r(i){var s=Hg.getValue();if(s){var u=e.get(i);u||e.set(i,u=new Set),s.dependOn(u),typeof n=="function"&&(Om(u),u.unsubscribe=n(i))}}return r.dirty=function(s,u){var a=e.get(s);if(a){var o=u&&DL.call(jL,u)?u:"setDirty";VE(a).forEach(function(c){return c[o]()}),e.delete(s),Om(a)}},r}function dN(){var t=new bL(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}dN();var z1=new Set;function Nm(t,e){e===void 0&&(e=Object.create(null));var n=new CL(e.max||Math.pow(2,16),function(c){return c.dispose()}),r=e.keyArgs,i=e.makeCacheKey||dN(),s=function(){var c=i.apply(null,r?r.apply(null,arguments):arguments);if(c===void 0)return t.apply(null,arguments);var f=n.get(c);f||(n.set(c,f=new OL(t)),f.subscribe=e.subscribe,f.forget=function(){return n.delete(c)});var d=f.recompute(Array.prototype.slice.call(arguments));return n.set(c,f),z1.add(n),Hg.hasValue()||(z1.forEach(function(h){return h.clean()}),z1.clear()),d};Object.defineProperty(s,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1});function u(c){var f=n.get(c);f&&f.setDirty()}s.dirtyKey=u,s.dirty=function(){u(i.apply(null,arguments))};function a(c){var f=n.get(c);if(f)return f.peek()}s.peekKey=a,s.peek=function(){return a(i.apply(null,arguments))};function o(c){return n.delete(c)}return s.forgetKey=o,s.forget=function(){return o(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(s)}var IL=function(){function t(){this.getFragmentDoc=Nm(V9)}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(R(R({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(R(R({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=Xu(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,s=e.fragmentName,u=Xu(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(u,{query:this.getFragmentDoc(i,s),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),s=n(i);return s==null?i:(r.writeQuery(R(R({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),s=n(i);return s==null?i:(r.writeFragment(R(R({},e),{data:s})),s)}})},t}(),hN=function(t){Bi(e,t);function e(n,r,i,s){var u,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var o=a.path.length-1;o>=0;--o)a.missing=(u={},u[a.path[o]]=a.missing,u)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error);const RL=()=>Object.create(null),{forEach:LL,slice:ML}=Array.prototype,{hasOwnProperty:$L}=Object.prototype;class mf{constructor(e=!0,n=RL){this.weakness=e,this.makeData=n}lookup(...e){return this.lookupArray(e)}lookupArray(e){let n=this;return LL.call(e,r=>n=n.getChildTrie(r)),$L.call(n,"data")?n.data:n.data=this.makeData(ML.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const s=this.weakness&&fC(e[r])?n.weak:n.strong;n=s&&s.get(e[r])}return n&&n.data}getChildTrie(e){const n=this.weakness&&fC(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=n.get(e);return r||n.set(e,r=new mf(this.weakness,this.makeData)),r}}function fC(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Qt=Object.prototype.hasOwnProperty;function Mf(t){return t==null}function pN(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=Mf(r)?Mf(i)?void 0:{_id:i}:{id:r}),Mf(r)&&!Mf(i)&&(r=i),!Mf(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var mN={dataIdFromObject:pN,addTypename:!0,resultCaching:!0,canonizeResults:!1};function UL(t){return Yh(mN,t)}function gN(t){var e=t.canonizeResults;return e===void 0?mN.canonizeResults:e}function VL(t,e){return Ue(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var yN=/^[_a-z][_0-9a-z]*/i;function na(t){var e=t.match(yN);return e?e[0]:t}function lA(t,e,n){return ut(e)?yt(e)?e.every(function(r){return lA(t,r,n)}):t.selections.every(function(r){if(Eo(r)&&Lg(r,n)){var i=wo(r);return Qt.call(e,i)&&(!r.selectionSet||lA(r.selectionSet,e[i],n))}return!0}):!1}function Al(t){return ut(t)&&!Ue(t)&&!yt(t)}function HL(){return new ea}function vN(t,e){var n=SE(NE(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var Ip=Object.create(null),Q1=function(){return Ip},dC=Object.create(null),nh=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return eh(Ue(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return Ue(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return $l(i);if(Ue(i))return i;var u=r.policies.identify(i)[0];if(u){var a=$l(u);return s&&r.merge(u,i),a}}}return t.prototype.toObject=function(){return R({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),Qt.call(this.data,e)){var r=this.data[e];if(r&&Qt.call(r,n))return r[n]}if(n==="__typename"&&Qt.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof uu)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),Qt.call(this.data,e))return this.data[e];if(this instanceof uu)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;Ue(e)&&(e=e.__ref),Ue(n)&&(n=n.__ref);var s=typeof e=="string"?this.lookup(i=e):e,u=typeof n=="string"?this.lookup(i=n):n;if(u){__DEV__?J(typeof i=="string","store.merge expects a string ID"):J(typeof i=="string",1);var a=new ea(QL).merge(s,u);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var o=Object.create(null);s||(o.__exists=1),Object.keys(u).forEach(function(c){if(!s||s[c]!==a[c]){o[c]=1;var f=na(c);f!==c&&!r.policies.hasKeyArgs(a.__typename,f)&&(o[f]=1),a[c]===void 0&&!(r instanceof uu)&&delete a[c]}}),o.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete o.__typename,Object.keys(o).forEach(function(c){return r.group.dirty(i,c)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),u=!1,a=!0,o={DELETE:Ip,INVALIDATE:dC,isReference:Ue,toReference:this.toReference,canRead:this.canRead,readField:function(c,f){return r.policies.readField(typeof c=="string"?{fieldName:c,from:f||$l(e)}:c,{store:r})}};if(Object.keys(i).forEach(function(c){var f=na(c),d=i[c];if(d!==void 0){var h=typeof n=="function"?n:n[c]||n[f];if(h){var p=h===Q1?Ip:h(eh(d),R(R({},o),{fieldName:f,storeFieldName:c,storage:r.getStorage(e,c)}));p===dC?r.group.dirty(e,c):(p===Ip&&(p=void 0),p!==d&&(s[c]=p,u=!0,d=p))}d!==void 0&&(a=!1)}}),u)return this.merge(e,s),a&&(this instanceof uu?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,s=this.lookup(e);if(s){var u=this.getFieldValue(s,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:u,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=Q1,i):Q1)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(Qt.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof uu&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){Qt.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(s){e&&Qt.call(e,s)||n.delete(s)}),e){var r=e.__META,i=Xu(e,["__META"]);Object.keys(i).forEach(function(s){n.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof uu?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(u){Qt.call(r,u)&&(Object.keys(e.findChildRefIds(u)).forEach(n.add,n),delete r[u])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof uu;)s=s.parent;i.forEach(function(u){return s.delete(u)})}return i},t.prototype.findChildRefIds=function(e){if(!Qt.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(s){Ue(s)&&(n[s.__ref]=!0),ut(s)&&Object.keys(s).forEach(function(u){var a=s[u];ut(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),bN=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?fN():null,this.keyMaker=new mf(fa)},t.prototype.depend=function(e,n){if(this.d){this.d(G1(e,n));var r=na(n);r!==n&&this.d(G1(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(G1(e,n),n==="__exists"?"forget":"setDirty")},t}();function G1(t,e){return e+"#"+t}function hC(t,e){xd(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){Bi(r,n);function r(i){var s=i.policies,u=i.resultCaching,a=u===void 0?!0:u,o=i.seed,c=n.call(this,s,new bN(a))||this;return c.stump=new zL(c),c.storageTrie=new mf(fa),o&&c.replace(o),c}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(nh||(nh={}));var uu=function(t){Bi(e,t);function e(n,r,i,s){var u=t.call(this,r.policies,s)||this;return u.id=n,u.parent=r,u.replay=i,u.group=s,i(u),u}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var u=r.data[s],a=i.lookup(s);a?u?u!==a&&Object.keys(u).forEach(function(o){gt(u[o],a[o])||r.group.dirty(s,o)}):(r.group.dirty(s,"__exists"),Object.keys(a).forEach(function(o){r.group.dirty(s,o)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return R(R({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return Qt.call(this.data,n)?R(R({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(nh),zL=function(t){Bi(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new bN(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(uu);function QL(t,e,n){var r=t[n],i=e[n];return gt(r,i)?r:i}function xd(t){return!!(t instanceof nh&&t.group.caching)}function GL(t){return ut(t)?yt(t)?t.slice(0):R({__proto__:Object.getPrototypeOf(t)},t):t}var cA=function(){function t(){this.known=new(x7?WeakSet:Set),this.pool=new mf(fa),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return ut(e)&&this.known.has(e)},t.prototype.pass=function(e){if(ut(e)){var n=GL(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(ut(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),u=this.pool.lookupArray(s);return u.array||(this.known.add(u.array=s),__DEV__&&Object.freeze(s)),u.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),o=[a],c=this.sortedKeys(e);o.push(c.json);var f=o.length;c.sorted.forEach(function(p){o.push(n.admit(e[p]))});var u=this.pool.lookupArray(o);if(!u.object){var d=u.object=Object.create(a);this.known.add(d),c.sorted.forEach(function(p,v){d[p]=o[f+v]}),__DEV__&&Object.freeze(d)}return u.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}(),lo=Object.assign(function(t){if(ut(t)){fA===void 0&&pC();var e=fA.admit(t),n=dA.get(e);return n===void 0&&dA.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:pC}),fA,dA;function pC(){fA=new cA,dA=new(fa?WeakMap:Map)}function mC(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var WL=function(){function t(e){var n=this;this.knownResults=new(fa?WeakMap:Map),this.config=Yh(e,{addTypename:e.addTypename!==!1,canonizeResults:gN(e)}),this.canon=e.canon||new cA,this.executeSelectionSet=Nm(function(r){var i,s=r.context.canonizeResults,u=mC(r);u[3]=!s;var a=(i=n.executeSelectionSet).peek.apply(i,u);return a?s?R(R({},a),{result:n.canon.admit(a.result)}):a:(hC(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:mC,makeCacheKey:function(r,i,s,u){if(xd(s.store))return s.store.makeCacheKey(r,Ue(i)?i.__ref:i,s.varString,u)}}),this.executeSubSelectedArray=Nm(function(r){return hC(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,s=r.array,u=r.context;if(xd(u.store))return u.store.makeCacheKey(i,s,u.varString)}})}return t.prototype.resetCanon=function(){this.canon=new cA},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,u=e.variables,a=e.returnPartialData,o=a===void 0?!0:a,c=e.canonizeResults,f=c===void 0?this.config.canonizeResults:c,d=this.config.cache.policies;u=R(R({},_E(QO(r))),u);var h=$l(s),p=this.executeSelectionSet({selectionSet:Ug(r).selectionSet,objectOrReference:h,enclosingRef:h,context:R({store:n,query:r,policies:d,variables:u,varString:lo(u),canonizeResults:f},vN(r,this.config.fragments))}),v;if(p.missing&&(v=[new hN(qL(p.missing),p.missing,r,u)],!o))throw v[0];return{result:p.result,complete:!v,missing:v}},t.prototype.isFresh=function(e,n,r,i){if(xd(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,u=e.context;if(Ue(i)&&!u.policies.rootTypenamesById[i.__ref]&&!u.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=u.variables,o=u.policies,c=u.store,f=c.getFieldValue(i,"__typename"),d=[],h,p=new ea;this.config.addTypename&&typeof f=="string"&&!o.rootIdsByTypename[f]&&d.push({__typename:f});function v(A,w){var F;return A.missing&&(h=p.merge(h,(F={},F[w]=A.missing,F))),A.result}var m=new Set(r.selections);m.forEach(function(A){var w,F;if(Lg(A,a))if(Eo(A)){var k=o.readField({fieldName:A.name.value,field:A,variables:u.variables,from:i},u),C=wo(A);k===void 0?TE.added(A)||(h=p.merge(h,(w={},w[C]="Can't find field '".concat(A.name.value,"' on ").concat(Ue(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),w))):yt(k)?k=v(n.executeSubSelectedArray({field:A,array:k,enclosingRef:s,context:u}),C):A.selectionSet?k!=null&&(k=v(n.executeSelectionSet({selectionSet:A.selectionSet,objectOrReference:k,enclosingRef:Ue(k)?k:s,context:u}),C)):u.canonizeResults&&(k=n.canon.pass(k)),k!==void 0&&d.push((F={},F[C]=k,F))}else{var D=BE(A,u.lookupFragment);if(!D&&A.kind===ae.FRAGMENT_SPREAD)throw __DEV__?new Ie("No fragment named ".concat(A.name.value)):new Ie(5);D&&o.fragmentMatches(D,f)&&D.selectionSet.selections.forEach(m.add,m)}});var b=PE(d),g={result:b,missing:h},y=u.canonizeResults?this.canon.admit(g):eh(g);return y.result&&this.knownResults.set(y.result,r),y},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,s=e.enclosingRef,u=e.context,a,o=new ea;function c(f,d){var h;return f.missing&&(a=o.merge(a,(h={},h[d]=f.missing,h))),f.result}return r.selectionSet&&(i=i.filter(u.store.canRead)),i=i.map(function(f,d){return f===null?null:yt(f)?c(n.executeSubSelectedArray({field:r,array:f,enclosingRef:s,context:u}),d):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:f,enclosingRef:Ue(f)?f:s,context:u}),d):(__DEV__&&KL(u.store,r,f),f)}),{result:u.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function qL(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function KL(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){ut(i)&&(__DEV__?J(!Ue(i),"Missing selection set for object of type ".concat(VL(t,i)," returned for query field ").concat(e.name.value)):J(!Ue(i),6),Object.values(i).forEach(r.add,r))})}}var zE=new nN,gC=new WeakMap;function Fd(t){var e=gC.get(t);return e||gC.set(t,e={vars:new Set,dep:fN()}),e}function yC(t){Fd(t).vars.forEach(function(e){return e.forgetCache(t)})}function JL(t){Fd(t).vars.forEach(function(e){return e.attachCache(t)})}function YL(t){var e=new Set,n=new Set,r=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(o){Fd(o).dep.dirty(r),ZL(o)});var u=Array.from(n);n.clear(),u.forEach(function(o){return o(t)})}}else{var a=zE.getValue();a&&(i(a),Fd(a).dep(r))}return t};r.onNextChange=function(s){return n.add(s),function(){n.delete(s)}};var i=r.attachCache=function(s){return e.add(s),Fd(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function ZL(t){t.broadcastWatches&&t.broadcastWatches()}var vC=Object.create(null);function QE(t){var e=JSON.stringify(t);return vC[e]||(vC[e]=Object.create(null))}function bC(t){var e=QE(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(u,a){return r.readField(a,u)},s=r.keyObject=GE(t,function(u){var a=Vl(r.storeObject,u,i);return a===void 0&&n!==r.storeObject&&Qt.call(n,u[0])&&(a=Vl(n,u,wN)),__DEV__?J(a!==void 0,"Missing field '".concat(u.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):J(a!==void 0,2),a});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function AC(t){var e=QE(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,s=r.variables,u=r.fieldName,a=GE(t,function(c){var f=c[0],d=f.charAt(0);if(d==="@"){if(i&&qr(i.directives)){var h=f.slice(1),p=i.directives.find(function(g){return g.name.value===h}),v=p&&Mg(p,s);return v&&Vl(v,c.slice(1))}return}if(d==="$"){var m=f.slice(1);if(s&&Qt.call(s,m)){var b=c.slice(0);return b[0]=m,Vl(s,b)}return}if(n)return Vl(n,c)}),o=JSON.stringify(a);return(n||o!=="{}")&&(u+=":"+o),u})}function GE(t,e){var n=new ea;return AN(t).reduce(function(r,i){var s,u=e(i);if(u!==void 0){for(var a=i.length-1;a>=0;--a)u=(s={},s[i[a]]=u,s);r=n.merge(r,u)}return r},Object.create(null))}function AN(t){var e=QE(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,s){yt(i)?(AN(i).forEach(function(u){return n.push(r.concat(u))}),r.length=0):(r.push(i),yt(t[s+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function wN(t,e){return t[e]}function Vl(t,e,n){return n=n||wN,EN(e.reduce(function r(i,s){return yt(i)?i.map(function(u){return r(u,s)}):i&&n(i,s)},t))}function EN(t){return ut(t)?yt(t)?t.map(EN):GE(Object.keys(t).sort(),function(e){return Vl(t,e)}):t}OE.setStringify(lo);function hA(t){return t.args!==void 0?t.args:t.field?Mg(t.field,t.variables):null}var XL=function(){},wC=function(t,e){return e.fieldName},EC=function(t,e,n){var r=n.mergeObjects;return r(t,e)},xC=function(t,e){return e},e5=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=R({dataIdFromObject:pN},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,s=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var u=n&&n.storeObject||e,a=R(R({},n),{typename:s,storeObject:u,readField:n&&n.readField||function(){var h=WE(arguments,u);return i.readField(h,{store:i.cache.data,variables:h.variables})}}),o,c=s&&this.getTypePolicy(s),f=c&&c.keyFn||this.config.dataIdFromObject;f;){var d=f(R(R({},e),u),a);if(yt(d))f=bC(d);else{o=d;break}}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,u=i.mutationType,a=i.subscriptionType,o=Xu(i,["queryType","mutationType","subscriptionType"]);s&&n.setRootTypename("Query",r),u&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),Qt.call(n.toBeAdded,r)?n.toBeAdded[r].push(o):n.toBeAdded[r]=[o]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),s=n.keyFields,u=n.fields;function a(o,c){o.merge=typeof c=="function"?c:c===!0?EC:c===!1?xC:o.merge}a(i,n.merge),i.keyFn=s===!1?XL:yt(s)?bC(s):typeof s=="function"?s:i.keyFn,u&&Object.keys(u).forEach(function(o){var c=r.getFieldPolicy(e,o,!0),f=u[o];if(typeof f=="function")c.read=f;else{var d=f.keyArgs,h=f.read,p=f.merge;c.keyFn=d===!1?wC:yt(d)?AC(d):typeof d=="function"?d:c.keyFn,typeof h=="function"&&(c.read=h),a(c,p)}c.read&&c.merge&&(c.keyFn=c.keyFn||wC)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(__DEV__?J(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):J(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var s=i.match(yN);(!s||s[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!Qt.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(u){var a=n.getTypePolicy(u),o=a.fields,c=Xu(a,["fields"]);Object.assign(r,c),Object.assign(r.fields,o)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(u){n.updateTypePolicy(e,u)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var s=this;if(!e.typeCondition)return!0;if(!n)return!1;var u=e.typeCondition.name.value;if(n===u)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(u))for(var a=this.getSupertypeSet(n,!0),o=[a],c=function(v){var m=s.getSupertypeSet(v,!1);m&&m.size&&o.indexOf(m)<0&&o.push(m)},f=!!(r&&this.fuzzySubtypes.size),d=!1,h=0;h<o.length;++h){var p=o[h];if(p.has(u))return a.has(u)||(d&&__DEV__&&J.warn("Inferring subtype ".concat(n," of supertype ").concat(u)),a.add(u)),!0;p.forEach(c),f&&h===o.length-1&&lA(e.selectionSet,r,i)&&(f=!1,d=!0,this.fuzzySubtypes.forEach(function(v,m){var b=n.match(v);b&&b[0]===n&&c(m)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s,u=i&&i.keyFn;if(u&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},o=hA(e);u;){var c=u(o,a);if(yt(c))u=AC(c);else{s=c||r;break}}return s===void 0&&(s=e.field?X9(e.field,e.variables):OE(r,hA(e))),s===!1?r:r===na(s)?s:r+":"+s},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var s=n.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var u=this.getStoreFieldName(e),a=na(u),o=n.store.getFieldValue(r,u),c=this.getFieldPolicy(e.typename,a,!1),f=c&&c.read;if(f){var d=FC(this,r,e,n,n.store.getStorage(Ue(r)?r.__ref:r,u));return zE.withValue(this.cache,f,[o,d])}return o}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,n,r,i,s){var u=r.field,a=r.typename,o=r.merge;return o===EC?xN(i.store)(e,n):o===xC?n:(i.overwrite&&(e=void 0),o(e,n,FC(this,void 0,{typename:a,fieldName:u.name.value,field:u,variables:i.variables},i,s||Object.create(null))))},t}();function FC(t,e,n,r,i){var s=t.getStoreFieldName(n),u=na(s),a=n.variables||r.variables,o=r.store,c=o.toReference,f=o.canRead;return{args:hA(n),field:n.field||null,fieldName:u,storeFieldName:s,variables:a,isReference:Ue,toReference:c,storage:i,cache:t.cache,canRead:f,readField:function(){return t.readField(WE(arguments,e,a),r)},mergeObjects:xN(r.store)}}function WE(t,e,n){var r=t[0],i=t[1],s=t.length,u;return typeof r=="string"?u={fieldName:r,from:s>1?i:e}:(u=R({},r),Qt.call(u,"from")||(u.from=e)),__DEV__&&u.from===void 0&&__DEV__&&J.warn("Undefined 'from' passed to readField with arguments ".concat(O7(Array.from(t)))),u.variables===void 0&&(u.variables=n),u}function xN(t){return function(n,r){if(yt(n)||yt(r))throw __DEV__?new Ie("Cannot automatically merge arrays"):new Ie(4);if(ut(n)&&ut(r)){var i=t.getFieldValue(n,"__typename"),s=t.getFieldValue(r,"__typename"),u=i&&s&&i!==s;if(u)return r;if(Ue(n)&&Al(r))return t.merge(n.__ref,r),n;if(Al(n)&&Ue(r))return t.merge(n,r.__ref),r;if(Al(n)&&Al(r))return R(R({},n),r)}return r}}function W1(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:R(R({},t),{clientOnly:e,deferred:n})),i}var t5=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,s=n.result,u=n.dataId,a=n.variables,o=n.overwrite,c=Jh(i),f=HL();a=R(R({},_E(c)),a);var d=R(R({store:e,written:Object.create(null),merge:function(p,v){return f.merge(p,v)},variables:a,varString:lo(a)},vN(i,this.fragments)),{overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:s||Object.create(null),dataId:u,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:d});if(!Ue(h))throw __DEV__?new Ie("Could not identify object ".concat(JSON.stringify(s))):new Ie(7);return d.incomingById.forEach(function(p,v){var m=p.storeObject,b=p.mergeTree,g=p.fieldNodeSet,y=$l(v);if(b&&b.map.size){var A=r.applyMerges(b,y,m,d);if(Ue(A))return;m=A}if(__DEV__&&!d.overwrite){var w=Object.create(null);g.forEach(function(C){C.selectionSet&&(w[C.name.value]=!0)});var F=function(C){return w[na(C)]===!0},k=function(C){var D=b&&b.map.get(C);return!!(D&&D.info&&D.info.merge)};Object.keys(m).forEach(function(C){F(C)&&!k(C)&&n5(y,m,C,d.store)})}e.merge(v,m)}),e.retain(h.__ref),h},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,s=e.selectionSet,u=e.context,a=e.mergeTree,o=this.cache.policies,c=Object.create(null),f=r&&o.rootTypenamesById[r]||Yb(i,s,u.fragmentMap)||r&&u.store.get(r,"__typename");typeof f=="string"&&(c.__typename=f);var d=function(){var A=WE(arguments,c,u.variables);if(Ue(A.from)){var w=u.incomingById.get(A.from.__ref);if(w){var F=o.readField(R(R({},A),{from:w.storeObject}),u);if(F!==void 0)return F}}return o.readField(A,u)},h=new Set;this.flattenFields(s,i,u,f).forEach(function(A,w){var F,k=wo(w),C=i[k];if(h.add(w),C!==void 0){var D=o.getStoreFieldName({typename:f,fieldName:w.name.value,field:w,variables:A.variables}),T=CC(a,D),N=n.processFieldValue(C,w,w.selectionSet?W1(A,!1,!1):A,T),V=void 0;w.selectionSet&&(Ue(N)||Al(N))&&(V=d("__typename",N));var H=o.getMergeFunction(f,w.name.value,V);H?T.info={field:w,typename:f,merge:H}:DC(a,D),c=A.merge(c,(F={},F[D]=N,F))}else __DEV__&&!A.clientOnly&&!A.deferred&&!TE.added(w)&&!o.getReadFunction(f,w.name.value)&&__DEV__&&J.error("Missing field '".concat(wo(w),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var p=o.identify(i,{typename:f,selectionSet:s,fragmentMap:u.fragmentMap,storeObject:c,readField:d}),v=p[0],m=p[1];r=r||v,m&&(c=u.merge(c,m))}catch(A){if(!r)throw A}if(typeof r=="string"){var b=$l(r),g=u.written[r]||(u.written[r]=[]);if(g.indexOf(s)>=0||(g.push(s),this.reader&&this.reader.isFresh(i,b,s,u)))return b;var y=u.incomingById.get(r);return y?(y.storeObject=u.merge(y.storeObject,c),y.mergeTree=pA(y.mergeTree,a),h.forEach(function(A){return y.fieldNodeSet.add(A)})):u.incomingById.set(r,{storeObject:c,mergeTree:_m(a)?void 0:a,fieldNodeSet:h}),b}return c},t.prototype.processFieldValue=function(e,n,r,i){var s=this;return!n.selectionSet||e===null?__DEV__?YO(e):e:yt(e)?e.map(function(u,a){var o=s.processFieldValue(u,n,r,CC(i,a));return DC(i,a),o}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=Yb(n,e,r.fragmentMap));var s=new Map,u=this.cache.policies,a=new mf(!1);return function o(c,f){var d=a.lookup(c,f.clientOnly,f.deferred);d.visited||(d.visited=!0,c.selections.forEach(function(h){if(Lg(h,r.variables)){var p=f.clientOnly,v=f.deferred;if(!(p&&v)&&qr(h.directives)&&h.directives.forEach(function(g){var y=g.name.value;if(y==="client"&&(p=!0),y==="defer"){var A=Mg(g,r.variables);(!A||A.if!==!1)&&(v=!0)}}),Eo(h)){var m=s.get(h);m&&(p=p&&m.clientOnly,v=v&&m.deferred),s.set(h,W1(r,p,v))}else{var b=BE(h,r.lookupFragment);if(!b&&h.kind===ae.FRAGMENT_SPREAD)throw __DEV__?new Ie("No fragment named ".concat(h.name.value)):new Ie(8);b&&u.fragmentMatches(b,i,n,r.variables)&&o(b.selectionSet,W1(r,p,v))}}}))}(e,r),s},t.prototype.applyMerges=function(e,n,r,i,s){var u,a=this;if(e.map.size&&!Ue(r)){var o=!yt(r)&&(Ue(n)||Al(n))?n:void 0,c=r;o&&!s&&(s=[Ue(o)?o.__ref:o]);var f,d=function(h,p){return yt(h)?typeof p=="number"?h[p]:void 0:i.store.getFieldValue(h,String(p))};e.map.forEach(function(h,p){var v=d(o,p),m=d(c,p);if(m!==void 0){s&&s.push(p);var b=a.applyMerges(h,v,m,i,s);b!==m&&(f=f||new Map,f.set(p,b)),s&&J(s.pop()===p)}}),f&&(r=yt(c)?c.slice(0):R({},c),f.forEach(function(h,p){r[p]=h}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,s&&(u=i.store).getStorage.apply(u,s)):r},t}(),FN=[];function CC(t,e){var n=t.map;return n.has(e)||n.set(e,FN.pop()||{map:new Map}),n.get(e)}function pA(t,e){if(t===e||!e||_m(e))return t;if(!t||_m(t))return e;var n=t.info&&e.info?R(R({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,s={info:n,map:i};if(r){var u=new Set(e.map.keys());t.map.forEach(function(a,o){s.map.set(o,pA(a,e.map.get(o))),u.delete(o)}),u.forEach(function(a){s.map.set(a,pA(e.map.get(a),t.map.get(a)))})}return s}function _m(t){return!t||!(t.info||t.map.size)}function DC(t,e){var n=t.map,r=n.get(e);r&&_m(r)&&(FN.push(r),n.delete(e))}var kC=new Set;function n5(t,e,n,r){var i=function(d){var h=r.getFieldValue(d,n);return typeof h=="object"&&h},s=i(t);if(s){var u=i(e);if(u&&!Ue(s)&&!gt(s,u)&&!Object.keys(s).every(function(d){return r.getFieldValue(u,d)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),o=na(n),c="".concat(a,".").concat(o);if(!kC.has(c)){kC.add(c);var f=[];!yt(s)&&!yt(u)&&[s,u].forEach(function(d){var h=r.getFieldValue(d,"__typename");typeof h=="string"&&!f.includes(h)&&f.push(h)}),__DEV__&&J.warn("Cache data may be lost when replacing the ".concat(o," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(u).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var r5=function(t){Bi(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=YL,r.txCount=0,r.config=UL(n),r.addTypename=!!r.config.addTypename,r.policies=new e5({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new nh.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new t5(this,this.storeReader=new WL({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:gN(this.config),canon:n?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=Nm(function(u,a){return r.broadcastWatch(u,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(u){var a=u.optimistic?r.optimisticData:r.data;if(xd(a)){var o=u.optimistic,c=u.id,f=u.variables;return a.makeCacheKey(u.query,u.callback,lo({optimistic:o,id:c,variables:f}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(u){return u.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(R(R({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof hN)return null;throw s}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(Qt.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(R(R({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||JL(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&yC(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){lo.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(Ue(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&J.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(Qt.call(n,"id"))return!1;n=R(R({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),lo.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),yC(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,s=n.optimistic,u=s===void 0?!0:s,a=n.removeOptimistic,o=n.onWatchUpdated,c,f=function(h){var p=r,v=p.data,m=p.optimisticData;++r.txCount,h&&(r.data=r.optimisticData=h);try{return c=i(r)}finally{--r.txCount,r.data=v,r.optimisticData=m}},d=new Set;return o&&!this.txCount&&this.broadcastWatches(R(R({},n),{onWatchUpdated:function(h){return d.add(h),!1}})),typeof u=="string"?this.optimisticData=this.optimisticData.addLayer(u,f):u===!1?f(this.data):f(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),o&&d.size?(this.broadcastWatches(R(R({},n),{onWatchUpdated:function(h,p){var v=o.call(this,h,p);return v!==!1&&d.delete(h),v}})),d.size&&d.forEach(function(h){return r.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(n),c},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=TE(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.transformForLink=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!gt(i.result,s.result))&&n.callback(n.lastDiff=s,i)},e}(IL),_e;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(_e||(_e={}));function rh(t){return t?t<7:!1}var i5=Object.assign,s5=Object.hasOwnProperty,mA=function(t){Bi(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,s=n.options,u=t.call(this,function(b){try{var g=b._subscription._observer;g&&!g.error&&(g.error=u5)}catch{}var y=!u.observers.size;u.observers.add(b);var A=u.last;return A&&A.error?b.error&&b.error(A.error):A&&A.result&&b.next&&b.next(A.result),y&&u.reobserve().catch(function(){}),function(){u.observers.delete(b)&&!u.observers.size&&u.tearDownQuery()}})||this;u.observers=new Set,u.subscriptions=new Set,u.queryInfo=i,u.queryManager=r,u.isTornDown=!1;var a=r.defaultOptions.watchQuery,o=a===void 0?{}:a,c=o.fetchPolicy,f=c===void 0?"cache-first":c,d=s.fetchPolicy,h=d===void 0?f:d,p=s.initialFetchPolicy,v=p===void 0?h==="standby"?f:h:p;u.options=R(R({},s),{initialFetchPolicy:v,fetchPolicy:h}),u.queryId=i.queryId||r.generateQueryId();var m=Jh(u.query);return u.queryName=m&&m.name&&m.name.value,u}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var s={next:function(a){r(a),n.observers.delete(s),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){u.unsubscribe()},0)},error:i},u=n.subscribe(s)})},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||_e.ready,s=R(R({},r),{loading:rh(i),networkStatus:i}),u=this.options.fetchPolicy,a=u===void 0?"cache-first":u;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var o=this.queryInfo.getDiff();(o.complete||this.options.returnPartialData)&&(s.data=o.result),gt(s.data,{})&&(s.data=void 0),o.complete?(delete s.partial,o.complete&&s.networkStatus===_e.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=_e.ready,s.loading=!1)):s.partial=!0,__DEV__&&!o.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&DN(o.missing)}return n&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(n,r){return!this.last||!gt(this.last.result,n)||r&&!gt(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||gt(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&n&&s5.call(n,"variables")){var u=QO(this.query),a=u.variableDefinitions;(!a||!a.some(function(o){return o.variable.name.value==="variables"}))&&__DEV__&&J.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat(((r=u.name)===null||r===void 0?void 0:r.value)||JSON.stringify(u),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return n&&!gt(this.options.variables,n)&&(i.variables=this.options.variables=R(R({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,_e.refetch)},e.prototype.fetchMore=function(n){var r=this,i=R(R({},n.query?n:R(R(R(R({},this.options),{query:this.query}),n),{variables:R(R({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),u=this.queryInfo,a=u.networkStatus;u.networkStatus=_e.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var o=new Set;return this.queryManager.fetchQuery(s,i,_e.fetchMore).then(function(c){return r.queryManager.removeQuery(s),u.networkStatus===_e.fetchMore&&(u.networkStatus=a),r.queryManager.cache.batch({update:function(f){var d=n.updateQuery;d?f.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(h){return d(h,{fetchMoreResult:c.data,variables:i.variables})}):f.writeQuery({query:i.query,variables:i.variables,data:c.data})},onWatchUpdated:function(f){o.add(f.query)}}),c}).finally(function(){o.has(r.query)||CN(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(s){var u=n.updateQuery;u&&r.updateQuery(function(a,o){var c=o.variables;return u(a,{subscriptionData:s,variables:c})})},error:function(s){if(n.onError){n.onError(s);return}__DEV__&&J.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return gt(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},_e.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=n(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,u=r.initialFetchPolicy,a=u===void 0?s:u;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?J(s,"Attempted to start a polling query without a polling interval."):J(s,13);var u=i||(this.pollingInfo={});u.interval=s;var a=function(){n.pollingInfo&&(rh(n.queryInfo.networkStatus)?o():n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},_e.poll).then(o,o))},o=function(){var c=n.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};o()}}},e.prototype.updateLastResult=function(n,r){return r===void 0&&(r=this.variables),this.last=R(R({},this.last),{result:this.queryManager.assumeImmutableResults?n:YO(n),variables:r}),qr(n.errors)||delete this.last.error,this.last},e.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var s=r===_e.refetch||r===_e.fetchMore||r===_e.poll,u=this.options.variables,a=this.options.fetchPolicy,o=Yh(this.options,n||{}),c=s?o:i5(this.options,o);s||(this.updatePolling(),n&&n.variables&&!gt(n.variables,u)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),r===void 0&&(r=_e.setVariables)));var f=c.variables&&R({},c.variables),d=this.fetch(c,r),h=d.concast,p=d.fromLink,v={next:function(m){i.reportResult(m,f)},error:function(m){i.reportError(m,f)}};return!s&&p&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=v),h.addObserver(v),h},e.prototype.reobserve=function(n,r){return this.reobserveAsConcast(n,r).promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(n,r))&&((i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),Ed(this.observers,"next",n))},e.prototype.reportError=function(n,r){var i=R(R({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:_e.error,loading:!1});this.updateLastResult(i,r),Ed(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(et);ZO(mA);function CN(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):n}}):t.reobserve()}function u5(t){__DEV__&&J.error("Unhandled error",t.message,t.stack)}function DN(t){__DEV__&&t&&__DEV__&&J.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var kN=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=QF(n.resolvers,r)}):this.resolvers=QF(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,i=e.context,s=e.variables,u=e.onlyRunForcedResolvers,a=u===void 0?!1:u;return cu(this,void 0,void 0,function(){return fu(this,function(o){return n?[2,this.resolveDocument(n,r.data,i,s,this.fragmentMatcher,a).then(function(c){return R(R({},r),{data:c.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return kE(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return l7(e)},t.prototype.prepareContext=function(e){var n=this.cache;return R(R({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return n===void 0&&(n={}),r===void 0&&(r={}),cu(this,void 0,void 0,function(){return fu(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(s){return R(R({},n),s.exportedVariables)})]:[2,R({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return Us(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return DE}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:o7(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,i,s,u){return r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),u===void 0&&(u=!1),cu(this,void 0,void 0,function(){var a,o,c,f,d,h,p,v,m,b,g;return fu(this,function(y){return a=Ug(e),o=NE(e),c=SE(o),f=this.collectSelectionsToResolve(a,c),d=a.operation,h=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",p=this,v=p.cache,m=p.client,b={fragmentMap:c,context:R(R({},r),{cache:v,client:m}),variables:i,fragmentMatcher:s,defaultOperationType:h,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:u},g=!1,[2,this.resolveSelectionSet(a.selectionSet,g,n,b).then(function(A){return{result:A,exportedVariables:b.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return cu(this,void 0,void 0,function(){var s,u,a,o,c,f=this;return fu(this,function(d){return s=i.fragmentMap,u=i.context,a=i.variables,o=[r],c=function(h){return cu(f,void 0,void 0,function(){var p,v;return fu(this,function(m){return!n&&!i.selectionsToResolve.has(h)?[2]:Lg(h,a)?Eo(h)?[2,this.resolveField(h,n,r,i).then(function(b){var g;typeof b<"u"&&o.push((g={},g[wo(h)]=b,g))})]:(n7(h)?p=h:(p=s[h.name.value],__DEV__?J(p,"No fragment named ".concat(h.name.value)):J(p,11)),p&&p.typeCondition&&(v=p.typeCondition.name.value,i.fragmentMatcher(r,v,u))?[2,this.resolveSelectionSet(p.selectionSet,n,r,i).then(function(b){o.push(b)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(c)).then(function(){return PE(o)})]})})},t.prototype.resolveField=function(e,n,r,i){return cu(this,void 0,void 0,function(){var s,u,a,o,c,f,d,h,p,v=this;return fu(this,function(m){return r?(s=i.variables,u=e.name.value,a=wo(e),o=u!==a,c=r[a]||r[u],f=Promise.resolve(c),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=r.__typename||i.defaultOperationType,h=this.resolvers&&this.resolvers[d],h&&(p=h[o?u:a],p&&(f=Promise.resolve(zE.withValue(this.cache,p,[r,Mg(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,f.then(function(b){var g,y;if(b===void 0&&(b=c),e.directives&&e.directives.forEach(function(w){w.name.value==="export"&&w.arguments&&w.arguments.forEach(function(F){F.name.value==="as"&&F.value.kind==="StringValue"&&(i.exportedVariables[F.value.value]=b)})}),!e.selectionSet||b==null)return b;var A=(y=(g=e.directives)===null||g===void 0?void 0:g.some(function(w){return w.name.value==="client"}))!==null&&y!==void 0?y:!1;if(Array.isArray(b))return v.resolveSubSelectedArray(e,n||A,b,i);if(e.selectionSet)return v.resolveSelectionSet(e.selectionSet,n||A,b,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var s=this;return Promise.all(r.map(function(u){if(u===null)return null;if(Array.isArray(u))return s.resolveSubSelectedArray(e,n,u,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,n,u,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(u){return!Array.isArray(u)},i=this.selectionsToResolveCache;function s(u){if(!i.has(u)){var a=new Set;i.set(u,a),Us(u,{Directive:function(o,c,f,d,h){o.name.value==="client"&&h.forEach(function(p){r(p)&&VF(p)&&a.add(p)})},FragmentSpread:function(o,c,f,d,h){var p=n[o.name.value];__DEV__?J(p,"No fragment named ".concat(o.name.value)):J(p,12);var v=s(p);v.size>0&&(h.forEach(function(m){r(m)&&VF(m)&&a.add(m)}),a.add(o),v.forEach(function(m){a.add(m)}))}})}return i.get(u)}return s(e)},t}(),wl=new(fa?WeakMap:Map);function q1(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return wl.set(t,(wl.get(t)+1)%1e15),n.apply(this,arguments)})}function SC(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var K1=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;wl.has(r)||(wl.set(r,0),q1(r,"evict"),q1(r,"modify"),q1(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||_e.loading;return this.variables&&this.networkStatus!==_e.loading&&!gt(this.variables,e.variables)&&(n=_e.setVariables),gt(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){SC(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&gt(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!gt(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():CN(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;SC(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(rh(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=R(R({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return n.setDiff(s)}});(!this.lastWatch||!gt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===wl.get(this.cache)&&gt(n,r.variables)&&gt(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var s=this,u=new ea,a=qr(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&qr(e.incremental)){var o=XO(this.getDiff().result,e);e.data=o}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=u.merge(c.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(gA(e,r.errorPolicy)?this.cache.performTransaction(function(f){if(s.shouldWrite(e,r.variables))f.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:wl.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var d=s.getDiffOptions(r.variables),h=f.diff(d);s.stopped||s.updateWatch(r.variables),s.updateLastDiff(h,d),h.complete&&(e.data=h.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=_e.ready},t.prototype.markError=function(e){return this.networkStatus=_e.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function gA(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!Pp(t);return!r&&n&&t.data&&(r=!0),r}var a5=Object.prototype.hasOwnProperty,o5=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,s=e.queryDeduplication,u=s===void 0?!1:s,a=e.onBroadcast,o=e.ssrMode,c=o===void 0?!1:o,f=e.clientAwareness,d=f===void 0?{}:f,h=e.localState,p=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(fa?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=u,this.clientAwareness=d,this.localState=h||new kN({cache:n}),this.ssrMode=c,this.assumeImmutableResults=!!p,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new Ie("QueryManager stopped while query was in flight"):new Ie(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n,r,i=e.mutation,s=e.variables,u=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,c=o===void 0?[]:o,f=e.awaitRefetchQueries,d=f===void 0?!1:f,h=e.update,p=e.onQueryUpdated,v=e.fetchPolicy,m=v===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.fetchPolicy)||"network-only":v,b=e.errorPolicy,g=b===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":b,y=e.keepRootFields,A=e.context;return cu(this,void 0,void 0,function(){var w,F,k,C,D,T;return fu(this,function(N){switch(N.label){case 0:return __DEV__?J(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):J(i,15),__DEV__?J(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):J(m==="network-only"||m==="no-cache",16),w=this.generateMutationId(),F=this.transform(i),k=F.document,C=F.hasClientExports,i=this.cache.transformForLink(k),s=this.getVariables(i,s),C?[4,this.localState.addExportedVariables(i,s,A)]:[3,2];case 1:s=N.sent(),N.label=2;case 2:return D=this.mutationStore&&(this.mutationStore[w]={mutation:i,variables:s,loading:!0,error:null}),u&&this.markMutationOptimistic(u,{mutationId:w,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:A,updateQueries:a,update:h,keepRootFields:y}),this.broadcastQueries(),T=this,[2,new Promise(function(V,H){return U1(T.getObservableFromLink(i,R(R({},A),{optimisticResponse:u}),s,!1),function(Q){if(Pp(Q)&&g==="none")throw new hu({graphQLErrors:nA(Q)});D&&(D.loading=!1,D.error=null);var ne=R({},Q);return typeof c=="function"&&(c=c(ne)),g==="ignore"&&Pp(ne)&&delete ne.errors,T.markMutationResult({mutationId:w,result:ne,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:A,update:h,updateQueries:a,awaitRefetchQueries:d,refetchQueries:c,removeOptimistic:u?w:void 0,onQueryUpdated:p,keepRootFields:y})}).subscribe({next:function(Q){T.broadcastQueries(),(!("hasNext"in Q)||Q.hasNext===!1)&&V(Q)},error:function(Q){D&&(D.loading=!1,D.error=Q),u&&T.cache.removeOptimistic(w),T.broadcastQueries(),H(Q instanceof hu?Q:new hu({networkError:Q}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,s=[],u=e.fetchPolicy==="no-cache";if(!u&&gA(i,e.errorPolicy)){if(Ul(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Ul(i)&&qr(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),o=void 0;a.result&&(o=XO(a.result,i)),typeof o<"u"&&(i.data=o,s.push({result:o,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach(function(d,h){var p=d.observableQuery,v=p&&p.queryName;if(!(!v||!a5.call(c,v))){var m=c[v],b=r.queries.get(h),g=b.document,y=b.variables,A=n.diff({query:g,variables:y,returnPartialData:!0,optimistic:!1}),w=A.result,F=A.complete;if(F&&w){var k=m(w,{mutationResult:i,queryName:g&&Zb(g)||void 0,queryVariables:y});k&&s.push({result:k,dataId:"ROOT_QUERY",query:g,variables:y})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var f=[];if(this.refetchQueries({updateCache:function(d){u||s.forEach(function(m){return d.write(m)});var h=e.update,p=!S7(i)||Ul(i)&&!i.hasNext;if(h){if(!u){var v=d.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});v.complete&&(i=R(R({},i),{data:v.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}p&&h(d,i,{context:e.context,variables:e.variables})}!u&&!e.keepRootFields&&p&&d.modify({id:"ROOT_MUTATION",fields:function(m,b){var g=b.fieldName,y=b.DELETE;return g==="__typename"?m:y}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(d){return f.push(d)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(f).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(R(R({},n),{result:{data:i}}),s)}catch(u){__DEV__&&J.error(u)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=a7(r),s=this.localState.clientQuery(r),u=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:M9(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:u,defaultVars:_E(Jh(r)),asQuery:R(R({},r),{definitions:r.definitions.map(function(c){return c.kind==="OperationDefinition"&&c.operation!=="query"?R(R({},c),{operation:"query"}):c})})},o=function(c){c&&!n.has(c)&&n.set(c,a)};o(e),o(r),o(s),o(u)}return n.get(e)},t.prototype.getVariables=function(e,n){return R(R({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){e=R(R({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new K1(this),r=new mA({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:r.query,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),__DEV__?J(e.query,"query option is required. You must specify your GraphQL document in the query option."):J(e.query,17),__DEV__?J(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):J(e.query.kind==="Document",18),__DEV__?J(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):J(!e.returnPartialData,19),__DEV__?J(!e.pollInterval,"pollInterval option only supported on watchQuery."):J(!e.pollInterval,20),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Ie("Store reset while query was in flight (not completed in link chain)"):new Ie(21)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=_e.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(u){typeof u=="string"?i.set(u,!1):H9(u)?i.set(n.transform(u).document,!1):ut(u)&&u.query&&s.add(u)}),this.queries.forEach(function(u,a){var o=u.observableQuery,c=u.document;if(o){if(e==="all"){r.set(a,o);return}var f=o.queryName,d=o.options.fetchPolicy;if(d==="standby"||e==="active"&&!o.hasObservers())return;(e==="active"||f&&i.has(f)||c&&i.has(c))&&(r.set(a,o),f&&i.set(f,!0),c&&i.set(c,!0))}}),s.size&&s.forEach(function(u){var a=rA("legacyOneTimeQuery"),o=n.getQuery(a).init({document:u.query,variables:u.variables}),c=new mA({queryManager:n,queryInfo:o,options:R(R({},u),{fetchPolicy:"network-only"})});J(c.queryId===a),o.setObservableQuery(c),r.set(a,c)}),__DEV__&&i.size&&i.forEach(function(u,a){u||__DEV__&&J.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var u=i.options.fetchPolicy;i.resetLastResults(),(e||u!=="standby"&&u!=="cache-only")&&r.push(i.refetch()),n.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,u=e.variables,a=e.context,o=a===void 0?{}:a;r=this.transform(r).document,u=this.getVariables(r,u);var c=function(d){return n.getObservableFromLink(r,o,d).map(function(h){i!=="no-cache"&&(gA(h,s)&&n.cache.write({query:r,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),n.broadcastQueries());var p=Pp(h),v=G7(h);if(p||v){var m={};throw p&&(m.graphQLErrors=h.errors),v&&(m.protocolErrors=h.extensions[$E]),new hu(m)}return h})};if(this.transform(r).hasClientExports){var f=this.localState.addExportedVariables(r,u,o).then(c);return new et(function(d){var h=null;return f.then(function(p){return h=p.subscribe(d)},d.error),function(){return h&&h.unsubscribe()}})}return c(u)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s=this,u;i===void 0&&(i=(u=n==null?void 0:n.queryDeduplication)!==null&&u!==void 0?u:this.queryDeduplication);var a,o=this.transform(e).serverQuery;if(o){var c=this,f=c.inFlightLinkObservables,d=c.link,h={query:o,variables:r,operationName:Zb(o)||void 0,context:this.prepareContext(R(R({},n),{forceFetch:!i}))};if(n=h.context,i){var p=f.get(o)||new Map;f.set(o,p);var v=lo(r);if(a=p.get(v),!a){var m=new tl([sA(d,h)]);p.set(v,a=m),m.beforeNext(function(){p.delete(v)&&p.size<1&&f.delete(o)})}}else a=new tl([sA(d,h)])}else a=new tl([et.of({data:{}})]),n=this.prepareContext(n);var b=this.transform(e).clientQuery;return b&&(a=U1(a,function(g){return s.localState.runResolvers({document:b,remoteResult:g,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return U1(this.getObservableFromLink(s,r.context,r.variables),function(u){var a=nA(u),o=a.length>0;if(i>=e.lastRequestId){if(o&&r.errorPolicy==="none")throw e.markError(new hu({graphQLErrors:a}));e.markResult(u,s,r,n),e.markReady()}var c={data:u.data,loading:!1,networkStatus:_e.ready};return o&&r.errorPolicy!=="ignore"&&(c.errors=a,c.networkStatus=_e.error),c},function(u){var a=W7(u)?u:new hu({networkError:u});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,n,r){return this.fetchConcastWithInfo(e,n,r).concast},t.prototype.fetchConcastWithInfo=function(e,n,r){var i=this;r===void 0&&(r=_e.loading);var s=this.transform(n.query).document,u=this.getVariables(s,n.variables),a=this.getQuery(e),o=this.defaultOptions.watchQuery,c=n.fetchPolicy,f=c===void 0?o&&o.fetchPolicy||"cache-first":c,d=n.errorPolicy,h=d===void 0?o&&o.errorPolicy||"none":d,p=n.returnPartialData,v=p===void 0?!1:p,m=n.notifyOnNetworkStatusChange,b=m===void 0?!1:m,g=n.context,y=g===void 0?{}:g,A=Object.assign({},n,{query:s,variables:u,fetchPolicy:f,errorPolicy:h,returnPartialData:v,notifyOnNetworkStatusChange:b,context:y}),w=function(T){A.variables=T;var N=i.fetchQueryByPolicy(a,A,r);return A.fetchPolicy!=="standby"&&N.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),N},F=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(T){F(),setTimeout(function(){return k.cancel(T)})});var k,C;if(this.transform(A.query).hasClientExports)k=new tl(this.localState.addExportedVariables(A.query,A.variables,A.context).then(w).then(function(T){return T.sources})),C=!0;else{var D=w(A.variables);C=D.fromLink,k=new tl(D.sources)}return k.promise.then(F,F),{concast:k,fromLink:C}},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,s=e.optimistic,u=s===void 0?!1:s,a=e.removeOptimistic,o=a===void 0?u?rA("refetchQueries"):void 0:a,c=e.onQueryUpdated,f=new Map;i&&this.getObservableQueries(i).forEach(function(h,p){f.set(p,{oq:h,lastDiff:n.getQuery(p).getDiff()})});var d=new Map;return r&&this.cache.batch({update:r,optimistic:u&&o||!1,removeOptimistic:o,onWatchUpdated:function(h,p,v){var m=h.watcher instanceof K1&&h.watcher.observableQuery;if(m){if(c){f.delete(m.queryId);var b=c(m,p,v);return b===!0&&(b=m.refetch()),b!==!1&&d.set(m,b),b}c!==null&&f.set(m.queryId,{oq:m,lastDiff:v,diff:p})}}}),f.size&&f.forEach(function(h,p){var v=h.oq,m=h.lastDiff,b=h.diff,g;if(c){if(!b){var y=v.queryInfo;y.reset(),b=y.getDiff()}g=c(v,b,m)}(!c||g===!0)&&(g=v.refetch()),g!==!1&&d.set(v,g),p.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(p)}),o&&this.cache.removeOptimistic(o),d},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,s=n.query,u=n.variables,a=n.fetchPolicy,o=n.refetchWritePolicy,c=n.errorPolicy,f=n.returnPartialData,d=n.context,h=n.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:this.transform(s).document,variables:u,networkStatus:r});var v=function(){return e.getDiff(u)},m=function(w,F){F===void 0&&(F=e.networkStatus||_e.loading);var k=w.result;__DEV__&&!f&&!gt(k,{})&&DN(w.missing);var C=function(D){return et.of(R({data:D,loading:rh(F),networkStatus:F},w.complete?null:{partial:!0}))};return k&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:k},context:d,variables:u,onlyRunForcedResolvers:!0}).then(function(D){return C(D.data||void 0)}):c==="none"&&F===_e.refetch&&Array.isArray(w.missing)?C(void 0):C(k)},b=a==="no-cache"?0:r===_e.refetch&&o!=="merge"?1:2,g=function(){return i.getResultsFromLink(e,b,{variables:u,context:d,fetchPolicy:a,errorPolicy:c})},y=h&&typeof p=="number"&&p!==r&&rh(r);switch(a){default:case"cache-first":{var A=v();return A.complete?{fromLink:!1,sources:[m(A,e.markReady())]}:f||y?{fromLink:!0,sources:[m(A),g()]}:{fromLink:!0,sources:[g()]}}case"cache-and-network":{var A=v();return A.complete||f||y?{fromLink:!0,sources:[m(A),g()]}:{fromLink:!0,sources:[g()]}}case"cache-only":return{fromLink:!1,sources:[m(v(),e.markReady())]};case"network-only":return y?{fromLink:!0,sources:[m(v()),g()]}:{fromLink:!0,sources:[g()]};case"no-cache":return y?{fromLink:!0,sources:[m(e.getDiff()),g()]}:{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new K1(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return R(R({},n),{clientAwareness:this.clientAwareness})},t}(),BC=!1,l5=function(){function t(e){var n=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,s=e.headers,u=e.cache,a=e.ssrMode,o=a===void 0?!1:a,c=e.ssrForceFetchDelay,f=c===void 0?0:c,d=e.connectToDevTools,h=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:d,p=e.queryDeduplication,v=p===void 0?!0:p,m=e.defaultOptions,b=e.assumeImmutableResults,g=b===void 0?!1:b,y=e.resolvers,A=e.typeDefs,w=e.fragmentMatcher,F=e.name,k=e.version,C=e.link;if(C||(C=r?new fL({uri:r,credentials:i,headers:s}):Zh.empty()),!u)throw __DEV__?new Ie(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new Ie(9);if(this.link=C,this.cache=u,this.disableNetworkFetches=o||f>0,this.queryDeduplication=v,this.defaultOptions=m||Object.create(null),this.typeDefs=A,f&&setTimeout(function(){return n.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!BC&&h&&__DEV__&&(BC=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var D=window.navigator,T=D&&D.userAgent,N=void 0;typeof T=="string"&&(T.indexOf("Chrome/")>-1?N="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":T.indexOf("Firefox/")>-1&&(N="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),N&&__DEV__&&J.log("Download the Apollo DevTools for a better development experience: "+N)}this.version=j7,this.localState=new kN({cache:u,client:this,resolvers:y,fragmentMatcher:w}),this.queryManager=new o5({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:v,ssrMode:o,clientAwareness:{name:F,version:k},localState:this.localState,assumeImmutableResults:g,onBroadcast:h?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=jp(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=R(R({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=jp(this.defaultOptions.query,e)),__DEV__?J(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):J(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=R(R({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=jp(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return sA(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(u,a){r.push(a),i.push(u)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(u){__DEV__&&J.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(u))}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),Rp=new Map,yA=new Map,SN=!0,Tm=!1;function BN(t){return t.replace(/[\s,]+/g," ").trim()}function c5(t){return BN(t.source.body.substring(t.start,t.end))}function f5(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=c5(r.loc),u=yA.get(i);u&&!u.has(s)?SN&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):u||yA.set(i,u=new Set),u.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),R(R({},t),{definitions:n})}function d5(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function h5(t){var e=BN(t);if(!Rp.has(e)){var n=k9(t,{experimentalFragmentVariables:Tm,allowLegacyFragmentVariables:Tm});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Rp.set(e,d5(f5(n)))}return Rp.get(e)}function ge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),h5(r)}function p5(){Rp.clear(),yA.clear()}function m5(){SN=!1}function g5(){Tm=!0}function y5(){Tm=!1}var $f={gql:ge,resetCaches:p5,disableFragmentWarnings:m5,enableExperimentalFragmentVariables:g5,disableExperimentalFragmentVariables:y5};(function(t){t.gql=$f.gql,t.resetCaches=$f.resetCaches,t.disableFragmentWarnings=$f.disableFragmentWarnings,t.enableExperimentalFragmentVariables=$f.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=$f.disableExperimentalFragmentVariables})(ge||(ge={}));ge.default=ge;var OC=ME?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function qE(){var t=x.createContext[OC];return t||(Object.defineProperty(x.createContext,OC,{value:t=x.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var v5=function(t){var e=t.client,n=t.children,r=qE();return x.createElement(r.Consumer,null,function(i){return i===void 0&&(i={}),e&&i.client!==e&&(i=Object.assign({},i,{client:e})),__DEV__?J(i.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):J(i.client,29),x.createElement(r.Provider,{value:i},n)})};function b5(t){var e=x.useContext(qE()),n=t||e.client;return __DEV__?J(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):J(!!n,32),n}var NC=!1,A5="useSyncExternalStore",w5=h3[A5],E5=w5||function(t,e,n){var r=e();__DEV__&&!NC&&r!==e()&&(NC=!0,__DEV__&&J.error("The result of getSnapshot should be cached to avoid an infinite loop"));var i=x.useState({inst:{value:r,getSnapshot:e}}),s=i[0].inst,u=i[1];return D7?x.useLayoutEffect(function(){Object.assign(s,{value:r,getSnapshot:e}),J1(s)&&u({inst:s})},[t,r,e]):Object.assign(s,{value:r,getSnapshot:e}),x.useEffect(function(){return J1(s)&&u({inst:s}),t(function(){J1(s)&&u({inst:s})})},[t]),r};function J1(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var Ts;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Ts||(Ts={}));var _C=new Map;function TC(t){var e;switch(t){case Ts.Query:e="Query";break;case Ts.Mutation:e="Mutation";break;case Ts.Subscription:e="Subscription";break}return e}function x5(t){var e=_C.get(t);if(e)return e;var n,r,i;__DEV__?J(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):J(!!t&&!!t.kind,33);for(var s=[],u=[],a=[],o=[],c=0,f=t.definitions;c<f.length;c++){var d=f[c];if(d.kind==="FragmentDefinition"){s.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":u.push(d);break;case"mutation":a.push(d);break;case"subscription":o.push(d);break}}__DEV__?J(!s.length||u.length||a.length||o.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):J(!s.length||u.length||a.length||o.length,34),__DEV__?J(u.length+a.length+o.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(u.length," queries, ").concat(o.length," ")+"subscriptions and ".concat(a.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):J(u.length+a.length+o.length<=1,35),r=u.length?Ts.Query:Ts.Mutation,!u.length&&!a.length&&(r=Ts.Subscription);var h=u.length?u:a.length?a:o;__DEV__?J(h.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(h.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):J(h.length===1,36);var p=h[0];n=p.variableDefinitions||[],p.name&&p.name.kind==="Name"?i=p.name.value:i="data";var v={name:i,type:r,variables:n};return _C.set(t,v),v}function F5(t,e){var n=x5(t),r=TC(e),i=TC(n.type);__DEV__?J(n.type===e,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):J(n.type===e,37)}var C5=Object.prototype.hasOwnProperty;function ln(t,e){return e===void 0&&(e=Object.create(null)),D5(b5(e.client),t).useQuery(e)}function D5(t,e){var n=x.useRef();(!n.current||t!==n.current.client||e!==n.current.query)&&(n.current=new k5(t,e,n.current));var r=n.current,i=x.useState(0);i[0];var s=i[1];return r.forceUpdate=function(){s(function(u){return u+1})},r}var k5=function(){function t(e,n,r){this.client=e,this.query=n,this.ssrDisabledResult=eh({loading:!0,data:void 0,error:void 0,networkStatus:_e.loading}),this.skipStandbyResult=eh({loading:!1,data:void 0,error:void 0,networkStatus:_e.ready}),this.toQueryResultCache=new(fa?WeakMap:Map),F5(n,Ts.Query);var i=r&&r.result,s=i&&i.data;s&&(this.previousData=s)}return t.prototype.forceUpdate=function(){__DEV__&&J.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.executeQuery=function(e){var n=this,r;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var i=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(s){var u;i.subscribe({next:function(a){u=a},error:function(){s(n.toQueryResult(n.observable.getCurrentResult()))},complete:function(){s(n.toQueryResult(u))}})})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=x.useContext(qE()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=E5(x.useCallback(function(){if(n.renderPromises)return function(){};var s=function(){var o=n.result,c=r.getCurrentResult();o&&o.loading===c.loading&&o.networkStatus===c.networkStatus&&gt(o.data,c.data)||n.setResult(c)},u=function(o){var c=r.last;a.unsubscribe();try{r.resetLastResults(),a=r.subscribe(s,u)}finally{r.last=c}if(!C5.call(o,"graphQLErrors"))throw o;var f=n.result;(!f||f&&f.loading||!gt(o,f.error))&&n.setResult({data:f&&f.data,error:o,loading:!1,networkStatus:_e.error})},a=r.subscribe(s,u);return function(){return setTimeout(function(){return a.unsubscribe()})}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});return this.unsafeHandlePartialRefetch(i),this.toQueryResult(i)},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;gt(r,i)||(this.watchQueryOptions=r,i&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Yh(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(jp)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=Xu(e,["skip","ssr","onCompleted","onError","defaultOptions"]),s=Object.assign(i,{query:this.query});if(this.renderPromises&&(s.fetchPolicy==="network-only"||s.fetchPolicy==="cache-and-network")&&(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),r){var u=s.fetchPolicy,a=u===void 0?this.getDefaultFetchPolicy():u,o=s.initialFetchPolicy,c=o===void 0?a:o;Object.assign(s,{initialFetchPolicy:c,fetchPolicy:"standby"})}else s.fetchPolicy||(s.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return s},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=x.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var n=this;if(!e.loading){var r=this.toApolloError(e);Promise.resolve().then(function(){r?n.onError(r):e.data&&n.onCompleted(e.data)}).catch(function(i){__DEV__&&J.warn(i)})}},t.prototype.toApolloError=function(e){return qr(e.errors)?new hu({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var i=Xu(e,["data","partial"]);return this.toQueryResultCache.set(e,n=R(R(R({data:r},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&qr(e.errors)&&(n.error=new hu({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:_e.refetch}),this.observable.refetch())},t}();const S5=ge`
  query BlockByDate($timestampMin: String!, $timestampMax: String!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: asc,
            where: {timestamp_gte: $timestampMin, timestamp_lte: $timestampMax}) {
        timestamp
        number
    }
}
`,B5=ge`
  query BlockByNumber($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: desc,
            where: {number_lte: $number}) {
        timestamp
        number
    }
}
`,O5=ge`
  query BlockNext($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: asc,
            where: {number_gt: $number}) {
        timestamp
        number
    }
}
`,N5=ge`
  query BlockPrevious($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: desc,
            where: {number_lt: $number}) {
        timestamp
        number
    }
}
`,_5=ge`
  query BlockRange {
    last: blocks(first: 1, orderBy: timestamp, orderDirection: desc) {
        timestamp
        number
    }
    first: blocks(first: 1, orderBy: timestamp, orderDirection: asc) {
        timestamp
        number
    }
  }
`,Xh=ge`
  fragment User on User{
    id
    b58id
    address
  }
`,Oi=ge`
  ${Xh}

  fragment Post on Post{
    id
    n
    from {
      ...User
    }
    thread {
      board {
        id
        name
        isNsfw
      }
      id
      n
      op {
        from {
          ...User
        }
      }
    }
    board {
      id
      name
      isNsfw
    }
    name
    comment
    image {
      id
      name
      ipfsHash
      score
      isSpoiler
      isNsfw
    }
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    bans {
      ban {
        reason
        expiresAt
      }
    }
    score
    sage
  }
`,sr=ge`
  ${Oi}
  ${Xh}

  fragment Thread on Thread{
    id
    n
    isPinned
    isLocked
    from {
      ...User
    }
    op {
      ...Post
    }
    board {
      id
      name
      isNsfw
    }
    subject
    replyCount
    imageCount
    score
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    lastBumpedAt
    lastBumpedAtBlock {
      timestamp
      number
    }
    lastReplies: replies(first: 3, orderBy: n, orderDirection: desc) {
      ...Post
    }
  }
`,T5=ge`
  ${sr}
  ${Oi}
  
  query BoardArchive($board: String!, $block: Int!, $orderDirection: String!, $limit: Int!, $skip: Int!, $cutoff: Int!) {
    threads(where: {lastBumpedAt_lt: $cutoff, board: $board, isPinned: false}, orderBy: "lastBumpedAt", orderDirection: $orderDirection, first: $limit, skip: $skip, block: {number: $block}) {
      ...Thread
    }
  }
`,P5=ge`
  ${sr}
  ${Oi}
  
  query BoardCatalog($board: String!, $block: Int!, $orderBy: String!, $orderDirection: String!, $limit: Int!, $skip: Int!, $cutoff: Int!) {
    pinned: threads(where: {board: $board, isPinned: true}, orderBy: lastBumpedAt, orderDirection: $orderDirection, block: {number: $block}) {
      ...Thread
    }
    threads(where: {lastBumpedAt_gt: $cutoff, board: $board, isPinned: false}, orderBy: $orderBy, orderDirection: $orderDirection, first: $limit, skip: $skip, block: {number: $block}) {
      ...Thread
    }
  }
`,Ws=ge`
  ${Xh}

  fragment Board on Board{
    id
    title
    threadCount
    postCount
    name
    isLocked
    isNsfw
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    lastBumpedAtBlock {
      timestamp
      number
    }
    jannies {
      user {
        ...User
      }
    }
  }
`,ON=ge`
  ${Ws}
  
  query BoardGet($board: String!, $block: Int!) {
    boardRef(id: $board, block: {number: $block}) {
      board {
        ...Board
      }
    }
    board(id: $board, block: {number: $block}) {
      ...Board
    }
  }
`;ge`
  fragment MostPopularByBlockBoard on Board {
    id
    title
    postCount
    name
    isLocked
    isNsfw
  }

  query Boards($block: Int!) {
    boards(orderBy: postCount, orderDirection: desc, first: 10, block: {number: $block}) {
      ...MostPopularByBlockBoard
    }
  }
`;const j5=ge`
  fragment MostPopularBoard on Board {
    id
    title
    postCount
    name
    isLocked
    isNsfw
  }

  query Boards {
    boards(orderBy: postCount, orderDirection: desc, first: 10) {
      ...MostPopularBoard
    }
  }
`,I5=ge`
  ${Ws}

  query BoardsSearch($searchName: String!, $searchTitle: String!, $block: Int) {
    searchByTitle: boardSearch(text: $searchTitle, block: {number: $block}) {
      ...Board
    }
    searchByName: boards(where: {name: $searchName}, block: {number: $block}) {
      ...Board
    }
  }
`,R5=ge`
  ${Ws}

  query BoardsSearch($searchName: String!, $searchTitle: String!) {
    searchByTitle: boardSearch(text: $searchTitle) {
      ...Board
    }
    searchByName: boards(where: {name: $searchName}) {
      ...Board
    }
  }
`,L5=ge`
  ${Ws}
  
  query Boards($block: Int, $limit: Int) {
    mostPopular: boards(orderBy: postCount, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
    lastBumped: boards(orderBy: lastBumpedAt, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
    lastCreated: boards(orderBy: createdAt, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
  }
`,M5=ge`
  ${Ws}
  
  query Boards($limit: Int) {
    mostPopular: boards(orderBy: postCount, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
    lastBumped: boards(orderBy: lastBumpedAt, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
    lastCreated: boards(orderBy: createdAt, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
  }
`,$5=ge`
  query ChanStatus($id: String!) {
    chanStatus(id: $id) {
      isLocked
    }
  }
`,U5=ge`
  fragment Client on Client {
    id
    ipfsHash
    version
    publishedAtBlock {
      timestamp
      number
    }
  }
`;ge`
  ${U5}

  query IPFSClients {
    dev: clients(first: 1, orderBy: publishedAt, orderDirection: desc, where: {channel: ""}) {
      ...Client
    }
    stable: clients(first: 1, orderBy: publishedAt, orderDirection: desc, where: {channel: "stable"}) {
      ...Client
    }
  }  
`;const V5=ge`
  ${Oi}

  query PostsGetLast($block: Int!, $limit: Int = 10, $board: String = "", $skip: Int = 0) {
    posts(orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip, where: {sage: false, board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Post
    }
  }
`,H5=ge`
  ${Oi}

  query PostsGetLast($limit: Int = 10, $board: String = "", $skip: Int = 0) {
    posts(orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip, where: {sage: false, board_starts_with: $board, board_ends_with: $board}) {
      ...Post
    }
  }
`,z5=ge`
  ${Oi}
  
  query PostSearch($search: String!, $limit: Int = 10, $board: String = "", $skip: Int = 0, $block: Int!) {
    postSearch(text: $search, orderBy: createdAt, orderDirection: desc, block: {number: $block}, first: $limit, skip: $skip) {
      ...Post
    }
  }
`,Q5=ge`
  ${Oi}
  
  query PostSearch($search: String!, $limit: Int = 10, $board: String = "", $skip: Int = 0) {
    postSearch(text: $search, orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip) {
      ...Post
    }
  }
`,G5=ge`
  ${Ws}
  ${sr}
  ${Oi}

  query SearchById($id: String!, $block: Int!) {
    boardRef(id: $id, block: {number: $block}) {
      board {
        ...Board
      }
    }
    threadRef(id: $id, block: {number: $block}) {
      thread {
        ...Thread
      }
    }
    postRef(id: $id, block: {number: $block}) {
      post {
        ...Post
      }
    }
    board(id: $id, block: {number: $block}) {
      ...Board
    }
    thread(id: $id, block: {number: $block}) {
      ...Thread
    }
    post(id: $id, block: {number: $block}) {
      ...Post
    }
    user(id: $id, block: {number: $block}) {
      id
    }
  }
`,W5=ge`
  ${Ws}
  ${sr}
  ${Oi}

  query SearchById($id: String!) {
    boardRef(id: $id) {
      board {
        ...Board
      }
    }
    threadRef(id: $id) {
      thread {
        ...Thread
      }
    }
    postRef(id: $id) {
      post {
        ...Post
      }
    }
    board(id: $id) {
      ...Board
    }
    thread(id: $id) {
      ...Thread
    }
    post(id: $id) {
      ...Post
    }
    user(id: $id) {
      id
    }
  }
`,NN=ge`
  ${Xh}

  fragment SearchBoard on Board {
    id
    name
  }

  fragment SearchThread on Thread {
    id
    n
    board {
      ...SearchBoard
    }
    op {
      from {
        ...User
      }
    }
  }

  fragment SearchPost on Post {
    id
    n
    from {
      id
    }
    board {
      ...SearchBoard
    }
    thread {
      ...SearchThread
    }
  }

  fragment SearchPostRef on PostRef {
    id
    post {
      ...SearchPost
    }
  }
`,q5=ge`
  ${NN}
  query SearchByRef($id: String!, $post_n: BigInt!, $post_ref: String!) {
    threads(where: { board: $id, n: $post_n }) {
      ...SearchThread
    }
    posts(where: { from: $id, n: $post_n }) {
      ...SearchPost
    }
    postRef(id: $post_ref) {
      ...SearchPostRef
    }
  }
`,K5=ge`
  ${NN}
  query SearchByRef(
    $id: String!
    $post_n: BigInt!
    $post_ref: String!
    $block: Int!
  ) {
    threads(where: { board: $id, n: $post_n }, block: { number: $block }) {
      ...Thread
    }
    posts(where: { from: $id, n: $post_n }, block: { number: $block }) {
      ...Post
    }
    postRef(id: $post_ref, block: { number: $block }) {
      ...PostRef
    }
  }
`,PC={query_ref:q5,query_ref_by_block:K5},J5=ge`
  ${Ws}
  ${sr}
  ${Oi}
  
  query Thread($board: String!, $n: String!) {
    board(id: $board) {
      ...Board
    }
    posts(first: 1, where: {board: $board, n: $n}) {
      ...Post
    }
    threads(first: 1, where: {board: $board, n: $n}) {
      ...Thread
      replies(orderBy: n) {
        ...Post
      }
    }
  }
`,Y5=ge`
  ${Ws}
  ${sr}
  ${Oi}
  
  query Thread($board: String!, $n: String!, $block: Int!) {
    board(id: $board) {
      ...Board
    }
    posts(first: 1, where: {board: $board, n: $n}, block: {number: $block}) {
      ...Post
    }
    threads(first: 1, where: {board: $board, n: $n}, block: {number: $block}) {
      ...Thread
      replies(orderBy: n) {
        ...Post
      }
    }
  }
`;ge`
  ${sr}

  query FavoriteThreads($ids: [String!]!, $block: Int!) {
    threads(orderBy: lastBumpedAt, orderDirection: desc, where: {id_in: $ids}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`;const Z5=ge`
  ${sr}

  query FavoriteThreads($ids: [String!]!) {
    threads(orderBy: lastBumpedAt, orderDirection: desc, where: {id_in: $ids}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`;ge`
  ${sr}

  query ThreadsListLatestBlock($block: Int!, $board: String!) {
    threads(orderBy: createdAt, orderDirection: desc, first: 10, where: {board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
    }
  }
`;ge`
  ${sr}

  query ThreadsListLatest($board: String!) {
    threads(orderBy: createdAt, orderDirection: desc, first: 10, where: {board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
    }
  }
`;ge`
  ${sr}

  query ThreadsListMostPopular($cutoff: Int!, $board: String!, $block: Int!) {
    threads(orderBy: replyCount, orderDirection: desc, first: 10, where: {lastBumpedAt_gt: $cutoff, board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
    }
  }
`;ge`
  ${sr}

  query ThreadsListMostPopular($cutoff: Int!, $board: String!) {
    threads(orderBy: replyCount, orderDirection: desc, first: 10, where: {lastBumpedAt_gt: $cutoff, board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
    }
  }
`;const X5=ge`
  ${sr}
  
  query ThreadsTabs($cutoff: Int!, $block: Int!, $board: String = "", $limit: Int = 10) {
    mostPopular: threads(orderBy: replyCount, orderDirection: desc, first: $limit, where: {lastBumpedAt_gt: $cutoff, score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastBumped: threads(orderBy: lastBumpedAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastCreated: threads(orderBy: createdAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`,eM=ge`
  ${sr}
  
  query ThreadsTabs($cutoff: Int!, $board: String = "", $limit: Int = 10) {
    mostPopular: threads(orderBy: replyCount, orderDirection: desc, first: $limit, where: {lastBumpedAt_gt: $cutoff, score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastBumped: threads(orderBy: lastBumpedAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastCreated: threads(orderBy: createdAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`,tM=ge`
  ${Xh}
  query User($address: String!) {
    admin(id: $address) {
      id
    }
    user(id: $address) {
      ...User
      jannies {
        board {
          id
        }
      }
    }
  }
`,ra=t=>{const{accounts:e}=wr(),n=t??(e.length>0?e[0]:""),r=ln(tM,{variables:{address:n},skip:!n}),{loading:i,data:s}=r,u=x.useCallback(()=>{var c;return i||(c=s==null?void 0:s.admin)==null?void 0:c.id},[i,s]),a=x.useCallback(o=>{var f,d;return i?void 0:u()||((d=(f=s==null?void 0:s.user)==null?void 0:f.jannies)==null?void 0:d.filter(({board:h})=>(h==null?void 0:h.id)===o).length)},[u,i,s]);return{...r,isJannyOf:a,isAdmin:u}},_N=x.createContext([!1,()=>({})]),zg=()=>x.useContext(_N),Qg=x.createContext(["blueboard",()=>({})]);class Ro extends Error{}class nM extends Ro{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class rM extends Ro{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class iM extends Ro{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class El extends Ro{}class TN extends Ro{constructor(e){super(`Invalid unit ${e}`)}}class Zn extends Ro{}class nu extends Ro{constructor(){super("Zone is an abstract class")}}const te="numeric",xi="short",gr="long",Pm={year:te,month:te,day:te},PN={year:te,month:xi,day:te},sM={year:te,month:xi,day:te,weekday:xi},jN={year:te,month:gr,day:te},IN={year:te,month:gr,day:te,weekday:gr},RN={hour:te,minute:te},LN={hour:te,minute:te,second:te},MN={hour:te,minute:te,second:te,timeZoneName:xi},$N={hour:te,minute:te,second:te,timeZoneName:gr},UN={hour:te,minute:te,hourCycle:"h23"},VN={hour:te,minute:te,second:te,hourCycle:"h23"},HN={hour:te,minute:te,second:te,hourCycle:"h23",timeZoneName:xi},zN={hour:te,minute:te,second:te,hourCycle:"h23",timeZoneName:gr},QN={year:te,month:te,day:te,hour:te,minute:te},GN={year:te,month:te,day:te,hour:te,minute:te,second:te},WN={year:te,month:xi,day:te,hour:te,minute:te},qN={year:te,month:xi,day:te,hour:te,minute:te,second:te},uM={year:te,month:xi,day:te,weekday:xi,hour:te,minute:te},KN={year:te,month:gr,day:te,hour:te,minute:te,timeZoneName:xi},JN={year:te,month:gr,day:te,hour:te,minute:te,second:te,timeZoneName:xi},YN={year:te,month:gr,day:te,weekday:gr,hour:te,minute:te,timeZoneName:gr},ZN={year:te,month:gr,day:te,weekday:gr,hour:te,minute:te,second:te,timeZoneName:gr};class e0{get type(){throw new nu}get name(){throw new nu}get ianaName(){return this.name}get isUniversal(){throw new nu}offsetName(e,n){throw new nu}formatOffset(e,n){throw new nu}offset(e){throw new nu}equals(e){throw new nu}get isValid(){throw new nu}}let Y1=null;class Gg extends e0{static get instance(){return Y1===null&&(Y1=new Gg),Y1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return a_(e,n,r)}formatOffset(e,n){return Cd(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Lp={};function aM(t){return Lp[t]||(Lp[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Lp[t]}const oM={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function lM(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,u,a,o,c,f]=r;return[u,i,s,a,o,c,f]}function cM(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:u}=n[i],a=oM[s];s==="era"?r[a]=u:ve(a)||(r[a]=parseInt(u,10))}return r}let K0={};class Vs extends e0{static create(e){return K0[e]||(K0[e]=new Vs(e)),K0[e]}static resetCache(){K0={},Lp={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Vs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return a_(e,n,r,this.name)}formatOffset(e,n){return Cd(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=aM(this.name);let[i,s,u,a,o,c,f]=r.formatToParts?cM(r,n):lM(r,n);a==="BC"&&(i=-Math.abs(i)+1);const h=qg({year:i,month:s,day:u,hour:o===24?0:o,minute:c,second:f,millisecond:0});let p=+n;const v=p%1e3;return p-=v>=0?v:1e3+v,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let jC={};function fM(t,e={}){const n=JSON.stringify([t,e]);let r=jC[n];return r||(r=new Intl.ListFormat(t,e),jC[n]=r),r}let vA={};function bA(t,e={}){const n=JSON.stringify([t,e]);let r=vA[n];return r||(r=new Intl.DateTimeFormat(t,e),vA[n]=r),r}let AA={};function dM(t,e={}){const n=JSON.stringify([t,e]);let r=AA[n];return r||(r=new Intl.NumberFormat(t,e),AA[n]=r),r}let wA={};function hM(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=wA[i];return s||(s=new Intl.RelativeTimeFormat(t,e),wA[i]=s),s}let ud=null;function pM(){return ud||(ud=new Intl.DateTimeFormat().resolvedOptions().locale,ud)}let IC={};function mM(t){let e=IC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,IC[t]=e}return e}function gM(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=bA(t).resolvedOptions(),i=t}catch{const o=t.substring(0,n);r=bA(o).resolvedOptions(),i=o}const{numberingSystem:s,calendar:u}=r;return[i,s,u]}}function yM(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function vM(t){const e=[];for(let n=1;n<=12;n++){const r=ie.utc(2009,n,1);e.push(t(r))}return e}function bM(t){const e=[];for(let n=1;n<=7;n++){const r=ie.utc(2016,11,13+n);e.push(t(r))}return e}function J0(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function AM(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class wM{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...u}=r;if(!n||Object.keys(u).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=dM(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):ZE(e,3);return Pt(n,this.padTo)}}}class EM{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const u=-1*(e.offset/60),a=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;e.offset!==0&&Vs.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=bA(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class xM{constructor(e,n,r){this.opts={style:"long",...r},!n&&s_()&&(this.rtf=hM(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):HM(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const FM={firstDay:1,minimalDays:4,weekend:[6,7]};class Qe{static fromOpts(e){return Qe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const u=e||Ft.defaultLocale,a=u||(s?"en-US":pM()),o=n||Ft.defaultNumberingSystem,c=r||Ft.defaultOutputCalendar,f=EA(i)||Ft.defaultWeekSettings;return new Qe(a,o,c,f,u)}static resetCache(){ud=null,vA={},AA={},wA={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Qe.create(e,n,r,i)}constructor(e,n,r,i,s){const[u,a,o]=gM(e);this.locale=u,this.numberingSystem=n||a||null,this.outputCalendar=r||o||null,this.weekSettings=i,this.intl=yM(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=AM(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Qe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,EA(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return J0(this,e,c_,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=vM(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return J0(this,e,h_,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=bM(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return J0(this,void 0,()=>p_,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ie.utc(2016,11,13,9),ie.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return J0(this,e,m_,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ie.utc(-40,1,1),ie.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),u=s.find(a=>a.type.toLowerCase()===r);return u?u.value:null}numberFormatter(e={}){return new wM(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new EM(e,this.intl,n)}relFormatter(e={}){return new xM(this.intl,this.isEnglish(),e)}listFormatter(e={}){return fM(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:u_()?mM(this.locale):FM}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Z1=null;class Tn extends e0{static get utcInstance(){return Z1===null&&(Z1=new Tn(0)),Z1}static instance(e){return e===0?Tn.utcInstance:new Tn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Tn(Kg(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Cd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Cd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Cd(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class CM extends e0{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bu(t,e){if(ve(t)||t===null)return e;if(t instanceof e0)return t;if(SM(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Gg.instance:n==="utc"||n==="gmt"?Tn.utcInstance:Tn.parseSpecifier(n)||Vs.create(t)}else return co(t)?Tn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new CM(t)}let RC=()=>Date.now(),LC="system",MC=null,$C=null,UC=null,VC=60,HC,zC=null;class Ft{static get now(){return RC}static set now(e){RC=e}static set defaultZone(e){LC=e}static get defaultZone(){return bu(LC,Gg.instance)}static get defaultLocale(){return MC}static set defaultLocale(e){MC=e}static get defaultNumberingSystem(){return $C}static set defaultNumberingSystem(e){$C=e}static get defaultOutputCalendar(){return UC}static set defaultOutputCalendar(e){UC=e}static get defaultWeekSettings(){return zC}static set defaultWeekSettings(e){zC=EA(e)}static get twoDigitCutoffYear(){return VC}static set twoDigitCutoffYear(e){VC=e%100}static get throwOnInvalid(){return HC}static set throwOnInvalid(e){HC=e}static resetCaches(){Qe.resetCache(),Vs.resetCache()}}class bi{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const XN=[0,31,59,90,120,151,181,212,243,273,304,334],e_=[0,31,60,91,121,152,182,213,244,274,305,335];function Ur(t,e){return new bi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function KE(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function t_(t,e,n){return n+(t0(t)?e_:XN)[e-1]}function n_(t,e){const n=t0(t)?e_:XN,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function JE(t,e){return(t-e+7)%7+1}function jm(t,e=4,n=1){const{year:r,month:i,day:s}=t,u=t_(r,i,s),a=JE(KE(r,i,s),n);let o=Math.floor((u-a+14-e)/7),c;return o<1?(c=r-1,o=ih(c,e,n)):o>ih(r,e,n)?(c=r+1,o=1):c=r,{weekYear:c,weekNumber:o,weekday:a,...Jg(t)}}function QC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,u=JE(KE(r,1,e),n),a=Hl(r);let o=i*7+s-u-7+e,c;o<1?(c=r-1,o+=Hl(c)):o>a?(c=r+1,o-=Hl(r)):c=r;const{month:f,day:d}=n_(c,o);return{year:c,month:f,day:d,...Jg(t)}}function X1(t){const{year:e,month:n,day:r}=t,i=t_(e,n,r);return{year:e,ordinal:i,...Jg(t)}}function GC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=n_(e,n);return{year:e,month:r,day:i,...Jg(t)}}function WC(t,e){if(!ve(t.localWeekday)||!ve(t.localWeekNumber)||!ve(t.localWeekYear)){if(!ve(t.weekday)||!ve(t.weekNumber)||!ve(t.weekYear))throw new El("Cannot mix locale-based week fields with ISO-based week fields");return ve(t.localWeekday)||(t.weekday=t.localWeekday),ve(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ve(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function DM(t,e=4,n=1){const r=Wg(t.weekYear),i=Vr(t.weekNumber,1,ih(t.weekYear,e,n)),s=Vr(t.weekday,1,7);return r?i?s?!1:Ur("weekday",t.weekday):Ur("week",t.weekNumber):Ur("weekYear",t.weekYear)}function kM(t){const e=Wg(t.year),n=Vr(t.ordinal,1,Hl(t.year));return e?n?!1:Ur("ordinal",t.ordinal):Ur("year",t.year)}function r_(t){const e=Wg(t.year),n=Vr(t.month,1,12),r=Vr(t.day,1,Im(t.year,t.month));return e?n?r?!1:Ur("day",t.day):Ur("month",t.month):Ur("year",t.year)}function i_(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=Vr(e,0,23)||e===24&&n===0&&r===0&&i===0,u=Vr(n,0,59),a=Vr(r,0,59),o=Vr(i,0,999);return s?u?a?o?!1:Ur("millisecond",i):Ur("second",r):Ur("minute",n):Ur("hour",e)}function ve(t){return typeof t>"u"}function co(t){return typeof t=="number"}function Wg(t){return typeof t=="number"&&t%1===0}function SM(t){return typeof t=="string"}function BM(t){return Object.prototype.toString.call(t)==="[object Date]"}function s_(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function u_(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function OM(t){return Array.isArray(t)?t:[t]}function qC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function NM(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Wc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function EA(t){if(t==null)return null;if(typeof t!="object")throw new Zn("Week settings must be an object");if(!Vr(t.firstDay,1,7)||!Vr(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Vr(e,1,7)))throw new Zn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Vr(t,e,n){return Wg(t)&&t>=e&&t<=n}function _M(t,e){return t-e*Math.floor(t/e)}function Pt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function pu(t){if(!(ve(t)||t===null||t===""))return parseInt(t,10)}function ga(t){if(!(ve(t)||t===null||t===""))return parseFloat(t)}function YE(t){if(!(ve(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ZE(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function t0(t){return t%4===0&&(t%100!==0||t%400===0)}function Hl(t){return t0(t)?366:365}function Im(t,e){const n=_M(e-1,12)+1,r=t+(e-n)/12;return n===2?t0(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function qg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function KC(t,e,n){return-JE(KE(t,1,e),n)+e-1}function ih(t,e=4,n=1){const r=KC(t,e,n),i=KC(t+1,e,n);return(Hl(t)-r+i)/7}function xA(t){return t>99?t:t>Ft.twoDigitCutoffYear?1900+t:2e3+t}function a_(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const u={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,u).formatToParts(i).find(o=>o.type.toLowerCase()==="timezonename");return a?a.value:null}function Kg(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function o_(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Zn(`Invalid unit value ${t}`);return e}function Rm(t,e){const n={};for(const r in t)if(Wc(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=o_(i)}return n}function Cd(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Pt(n,2)}:${Pt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Pt(n,2)}${Pt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Jg(t){return NM(t,["hour","minute","second","millisecond"])}const TM=["January","February","March","April","May","June","July","August","September","October","November","December"],l_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],PM=["J","F","M","A","M","J","J","A","S","O","N","D"];function c_(t){switch(t){case"narrow":return[...PM];case"short":return[...l_];case"long":return[...TM];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const f_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],d_=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],jM=["M","T","W","T","F","S","S"];function h_(t){switch(t){case"narrow":return[...jM];case"short":return[...d_];case"long":return[...f_];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const p_=["AM","PM"],IM=["Before Christ","Anno Domini"],RM=["BC","AD"],LM=["B","A"];function m_(t){switch(t){case"narrow":return[...LM];case"short":return[...RM];case"long":return[...IM];default:return null}}function MM(t){return p_[t.hour<12?0:1]}function $M(t,e){return h_(e)[t.weekday-1]}function UM(t,e){return c_(e)[t.month-1]}function VM(t,e){return m_(e)[t.year<0?0:1]}function HM(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${i[t][0]}`;case-1:return d?"yesterday":`last ${i[t][0]}`;case 0:return d?"today":`this ${i[t][0]}`}}const u=Object.is(e,-0)||e<0,a=Math.abs(e),o=a===1,c=i[t],f=r?o?c[1]:c[2]||c[1]:o?i[t][0]:t;return u?`${a} ${f} ago`:`in ${a} ${f}`}function JC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const zM={D:Pm,DD:PN,DDD:jN,DDDD:IN,t:RN,tt:LN,ttt:MN,tttt:$N,T:UN,TT:VN,TTT:HN,TTTT:zN,f:QN,ff:WN,fff:KN,ffff:YN,F:GN,FF:qN,FFF:JN,FFFF:ZN};class bn{static create(e,n={}){return new bn(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let u=0;u<e.length;u++){const a=e.charAt(u);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||a===n?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,n=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return zM[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Pt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,v)=>this.loc.extract(e,p,v),u=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>r?MM(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(p,v)=>r?UM(e,p):s(v?{month:p}:{month:p,day:"numeric"},"month"),c=(p,v)=>r?$M(e,p):s(v?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const v=bn.macroTokenToFormatOpts(p);return v?this.formatWithSystemDefault(e,v):p},d=p=>r?VM(e,p):s({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return JC(bn.parseFormat(n),h)}formatDurationFromString(e,n){const r=o=>{switch(o[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=o=>c=>{const f=r(c);return f?this.num(o.get(f),c.length):c},s=bn.parseFormat(n),u=s.reduce((o,{literal:c,val:f})=>c?o:o.concat(f),[]),a=e.shiftTo(...u.map(r).filter(o=>o));return JC(s,i(a))}}const g_=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function gf(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function yf(...t){return e=>t.reduce(([n,r,i],s)=>{const[u,a,o]=s(e,i);return[{...n,...u},a||r,o]},[{},null,1]).slice(0,2)}function vf(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function y_(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=pu(e[n+i]);return[r,null,n+i]}}const v_=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,QM=`(?:${v_.source}?(?:\\[(${g_.source})\\])?)?`,XE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,b_=RegExp(`${XE.source}${QM}`),e2=RegExp(`(?:T${b_.source})?`),GM=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,WM=/(\d{4})-?W(\d\d)(?:-?(\d))?/,qM=/(\d{4})-?(\d{3})/,KM=y_("weekYear","weekNumber","weekDay"),JM=y_("year","ordinal"),YM=/(\d{4})-(\d\d)-(\d\d)/,A_=RegExp(`${XE.source} ?(?:${v_.source}|(${g_.source}))?`),ZM=RegExp(`(?: ${A_.source})?`);function zl(t,e,n){const r=t[e];return ve(r)?n:pu(r)}function XM(t,e){return[{year:zl(t,e),month:zl(t,e+1,1),day:zl(t,e+2,1)},null,e+3]}function bf(t,e){return[{hours:zl(t,e,0),minutes:zl(t,e+1,0),seconds:zl(t,e+2,0),milliseconds:YE(t[e+3])},null,e+4]}function n0(t,e){const n=!t[e]&&!t[e+1],r=Kg(t[e+1],t[e+2]),i=n?null:Tn.instance(r);return[{},i,e+3]}function r0(t,e){const n=t[e]?Vs.create(t[e]):null;return[{},n,e+1]}const e$=RegExp(`^T?${XE.source}$`),t$=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function n$(t){const[e,n,r,i,s,u,a,o,c]=t,f=e[0]==="-",d=o&&o[0]==="-",h=(p,v=!1)=>p!==void 0&&(v||p&&f)?-p:p;return[{years:h(ga(n)),months:h(ga(r)),weeks:h(ga(i)),days:h(ga(s)),hours:h(ga(u)),minutes:h(ga(a)),seconds:h(ga(o),o==="-0"),milliseconds:h(YE(c),d)}]}const r$={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function t2(t,e,n,r,i,s,u){const a={year:e.length===2?xA(pu(e)):pu(e),month:l_.indexOf(n)+1,day:pu(r),hour:pu(i),minute:pu(s)};return u&&(a.second=pu(u)),t&&(a.weekday=t.length>3?f_.indexOf(t)+1:d_.indexOf(t)+1),a}const i$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function s$(t){const[,e,n,r,i,s,u,a,o,c,f,d]=t,h=t2(e,i,r,n,s,u,a);let p;return o?p=r$[o]:c?p=0:p=Kg(f,d),[h,new Tn(p)]}function u$(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const a$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,o$=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,l$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function YC(t){const[,e,n,r,i,s,u,a]=t;return[t2(e,i,r,n,s,u,a),Tn.utcInstance]}function c$(t){const[,e,n,r,i,s,u,a]=t;return[t2(e,a,n,r,i,s,u),Tn.utcInstance]}const f$=gf(GM,e2),d$=gf(WM,e2),h$=gf(qM,e2),p$=gf(b_),w_=yf(XM,bf,n0,r0),m$=yf(KM,bf,n0,r0),g$=yf(JM,bf,n0,r0),y$=yf(bf,n0,r0);function v$(t){return vf(t,[f$,w_],[d$,m$],[h$,g$],[p$,y$])}function b$(t){return vf(u$(t),[i$,s$])}function A$(t){return vf(t,[a$,YC],[o$,YC],[l$,c$])}function w$(t){return vf(t,[t$,n$])}const E$=yf(bf);function x$(t){return vf(t,[e$,E$])}const F$=gf(YM,ZM),C$=gf(A_),D$=yf(bf,n0,r0);function k$(t){return vf(t,[F$,w_],[C$,D$])}const ZC="Invalid Duration",E_={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},S$={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...E_},Cr=146097/400,Qo=146097/4800,B$={years:{quarters:4,months:12,weeks:Cr/7,days:Cr,hours:Cr*24,minutes:Cr*24*60,seconds:Cr*24*60*60,milliseconds:Cr*24*60*60*1e3},quarters:{months:3,weeks:Cr/28,days:Cr/4,hours:Cr*24/4,minutes:Cr*24*60/4,seconds:Cr*24*60*60/4,milliseconds:Cr*24*60*60*1e3/4},months:{weeks:Qo/7,days:Qo,hours:Qo*24,minutes:Qo*24*60,seconds:Qo*24*60*60,milliseconds:Qo*24*60*60*1e3},...E_},Na=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],O$=Na.slice(0).reverse();function ru(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new De(r)}function x_(t,e){let n=e.milliseconds??0;for(const r of O$.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function XC(t,e){const n=x_(t,e)<0?-1:1;Na.reduceRight((r,i)=>{if(ve(e[i]))return r;if(r){const s=e[r]*n,u=t[i][r],a=Math.floor(s/u);e[i]+=a*n,e[r]-=a*u*n}return i},null),Na.reduce((r,i)=>{if(ve(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function N$(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class De{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?B$:S$;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Qe.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return De.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Zn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new De({values:Rm(e,De.normalizeUnit),loc:Qe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(co(e))return De.fromMillis(e);if(De.isDuration(e))return e;if(typeof e=="object")return De.fromObject(e);throw new Zn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=w$(e);return r?De.fromObject(r,n):De.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=x$(e);return r?De.fromObject(r,n):De.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Zn("need to specify a reason the Duration is invalid");const r=e instanceof bi?e:new bi(e,n);if(Ft.throwOnInvalid)throw new iM(r);return new De({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new TN(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?bn.create(this.loc,r).formatDurationFromString(this,e):ZC}toHuman(e={}){if(!this.isValid)return ZC;const n=Na.map(r=>{const i=this.values[r];return ve(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ZE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ie.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?x_(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=De.fromDurationLike(e),r={};for(const i of Na)(Wc(n.values,i)||Wc(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ru(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=De.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=o_(e(this.values[r],r));return ru(this,{values:n},!0)}get(e){return this[De.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Rm(e,De.normalizeUnit)};return ru(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const u={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ru(this,u)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return XC(this.matrix,e),ru(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=N$(this.normalize().shiftToAll().toObject());return ru(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(u=>De.normalizeUnit(u));const n={},r={},i=this.toObject();let s;for(const u of Na)if(e.indexOf(u)>=0){s=u;let a=0;for(const c in r)a+=this.matrix[c][u]*r[c],r[c]=0;co(i[u])&&(a+=i[u]);const o=Math.trunc(a);n[u]=o,r[u]=(a*1e3-o*1e3)/1e3}else co(i[u])&&(r[u]=i[u]);for(const u in r)r[u]!==0&&(n[s]+=u===s?r[u]:r[u]/this.matrix[s][u]);return XC(this.matrix,n),ru(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ru(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Na)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Go="Invalid Interval";function _$(t,e){return!t||!t.isValid?ht.invalid("missing or invalid start"):!e||!e.isValid?ht.invalid("missing or invalid end"):e<t?ht.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ht{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Zn("need to specify a reason the Interval is invalid");const r=e instanceof bi?e:new bi(e,n);if(Ft.throwOnInvalid)throw new rM(r);return new ht({invalid:r})}static fromDateTimes(e,n){const r=Vf(e),i=Vf(n),s=_$(r,i);return s??new ht({start:r,end:i})}static after(e,n){const r=De.fromDurationLike(n),i=Vf(e);return ht.fromDateTimes(i,i.plus(r))}static before(e,n){const r=De.fromDurationLike(n),i=Vf(e);return ht.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,u;try{s=ie.fromISO(r,n),u=s.isValid}catch{u=!1}let a,o;try{a=ie.fromISO(i,n),o=a.isValid}catch{o=!1}if(u&&o)return ht.fromDateTimes(s,a);if(u){const c=De.fromISO(i,n);if(c.isValid)return ht.after(s,c)}else if(o){const c=De.fromISO(r,n);if(c.isValid)return ht.before(a,c)}}return ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ht.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Vf).filter(u=>this.contains(u)).sort((u,a)=>u.toMillis()-a.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const u=n[s]||this.e,a=+u>+this.e?this.e:u;r.push(ht.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(e){const n=De.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const u=[];for(;r<this.e;){const a=this.start.plus(n.mapUnits(o=>o*i));s=+a>+this.e?this.e:a,u.push(ht.fromDateTimes(r,s)),r=s,i+=1}return u}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ht.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ht.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],u)=>s?s.overlaps(u)||s.abutsStart(u)?[i,s.union(u)]:[i.concat([s]),u]:[i,u],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(o=>[{time:o.s,type:"s"},{time:o.e,type:"e"}]),u=Array.prototype.concat(...s),a=u.sort((o,c)=>o.time-c.time);for(const o of a)r+=o.type==="s"?1:-1,r===1?n=o.time:(n&&+n!=+o.time&&i.push(ht.fromDateTimes(n,o.time)),n=null);return ht.merge(i)}difference(...e){return ht.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Go}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Pm,n={}){return this.isValid?bn.create(this.s.loc.clone(n),e).formatInterval(this):Go}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Go}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Go}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Go}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Go}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):De.invalid(this.invalidReason)}mapEndpoints(e){return ht.fromDateTimes(e(this.s),e(this.e))}}class Y0{static hasDST(e=Ft.defaultZone){const n=ie.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Vs.isValidZone(e)}static normalizeZone(e){return bu(e,Ft.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Qe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Qe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Qe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Qe.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Qe.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Qe.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Qe.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Qe.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Qe.create(n,null,"gregory").eras(e)}static features(){return{relative:s_(),localeWeek:u_()}}}function eD(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(De.fromMillis(r).as("days"))}function T$(t,e,n){const r=[["years",(o,c)=>c.year-o.year],["quarters",(o,c)=>c.quarter-o.quarter+(c.year-o.year)*4],["months",(o,c)=>c.month-o.month+(c.year-o.year)*12],["weeks",(o,c)=>{const f=eD(o,c);return(f-f%7)/7}],["days",eD]],i={},s=t;let u,a;for(const[o,c]of r)n.indexOf(o)>=0&&(u=o,i[o]=c(t,e),a=s.plus(i),a>e?(i[o]--,t=s.plus(i),t>e&&(a=t,i[o]--,t=s.plus(i))):t=a);return[t,i,a,u]}function P$(t,e,n,r){let[i,s,u,a]=T$(t,e,n);const o=e-i,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(u<e&&(u=i.plus({[a]:1})),u!==i&&(s[a]=(s[a]||0)+o/(u-i)));const f=De.fromObject(s,r);return c.length>0?De.fromMillis(o,r).shiftTo(...c).plus(f):f}const n2={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},tD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},j$=n2.hanidec.replace(/[\[|\]]/g,"").split("");function I$(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(n2.hanidec)!==-1)e+=j$.indexOf(t[n]);else for(const i in tD){const[s,u]=tD[i];r>=s&&r<=u&&(e+=r-s)}}return parseInt(e,10)}else return e}function ri({numberingSystem:t},e=""){return new RegExp(`${n2[t||"latn"]}${e}`)}const R$="missing Intl.DateTimeFormat.formatToParts support";function je(t,e=n=>n){return{regex:t,deser:([n])=>e(I$(n))}}const L$=" ",F_=`[ ${L$}]`,C_=new RegExp(F_,"g");function M$(t){return t.replace(/\./g,"\\.?").replace(C_,F_)}function nD(t){return t.replace(/\./g,"").replace(C_," ").toLowerCase()}function ii(t,e){return t===null?null:{regex:RegExp(t.map(M$).join("|")),deser:([n])=>t.findIndex(r=>nD(n)===nD(r))+e}}function rD(t,e){return{regex:t,deser:([,n,r])=>Kg(n,r),groups:e}}function Z0(t){return{regex:t,deser:([e])=>e}}function $$(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function U$(t,e){const n=ri(e),r=ri(e,"{2}"),i=ri(e,"{3}"),s=ri(e,"{4}"),u=ri(e,"{6}"),a=ri(e,"{1,2}"),o=ri(e,"{1,3}"),c=ri(e,"{1,6}"),f=ri(e,"{1,9}"),d=ri(e,"{2,4}"),h=ri(e,"{4,6}"),p=b=>({regex:RegExp($$(b.val)),deser:([g])=>g,literal:!0}),m=(b=>{if(t.literal)return p(b);switch(b.val){case"G":return ii(e.eras("short"),0);case"GG":return ii(e.eras("long"),0);case"y":return je(c);case"yy":return je(d,xA);case"yyyy":return je(s);case"yyyyy":return je(h);case"yyyyyy":return je(u);case"M":return je(a);case"MM":return je(r);case"MMM":return ii(e.months("short",!0),1);case"MMMM":return ii(e.months("long",!0),1);case"L":return je(a);case"LL":return je(r);case"LLL":return ii(e.months("short",!1),1);case"LLLL":return ii(e.months("long",!1),1);case"d":return je(a);case"dd":return je(r);case"o":return je(o);case"ooo":return je(i);case"HH":return je(r);case"H":return je(a);case"hh":return je(r);case"h":return je(a);case"mm":return je(r);case"m":return je(a);case"q":return je(a);case"qq":return je(r);case"s":return je(a);case"ss":return je(r);case"S":return je(o);case"SSS":return je(i);case"u":return Z0(f);case"uu":return Z0(a);case"uuu":return je(n);case"a":return ii(e.meridiems(),0);case"kkkk":return je(s);case"kk":return je(d,xA);case"W":return je(a);case"WW":return je(r);case"E":case"c":return je(n);case"EEE":return ii(e.weekdays("short",!1),1);case"EEEE":return ii(e.weekdays("long",!1),1);case"ccc":return ii(e.weekdays("short",!0),1);case"cccc":return ii(e.weekdays("long",!0),1);case"Z":case"ZZ":return rD(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return rD(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Z0(/[a-z_+-/]{1,256}?/i);case" ":return Z0(/[^\S\n\r]/);default:return p(b)}})(t)||{invalidReason:R$};return m.token=t,m}const V$={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function H$(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const o=/^\s+$/.test(i);return{literal:!o,val:o?" ":i}}const s=e[r];let u=r;r==="hour"&&(e.hour12!=null?u=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?u="hour12":u="hour24":u=n.hour12?"hour12":"hour24");let a=V$[u];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function z$(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Q$(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const u in n)if(Wc(n,u)){const a=n[u],o=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+o))),s+=o}return[r,i]}else return[r,{}]}function G$(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ve(t.z)||(n=Vs.create(t.z)),ve(t.Z)||(n||(n=new Tn(t.Z)),r=t.Z),ve(t.q)||(t.M=(t.q-1)*3+1),ve(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ve(t.u)||(t.S=YE(t.u)),[Object.keys(t).reduce((s,u)=>{const a=e(u);return a&&(s[a]=t[u]),s},{}),n,r]}let ev=null;function W$(){return ev||(ev=ie.fromMillis(1555555555555)),ev}function q$(t,e){if(t.literal)return t;const n=bn.macroTokenToFormatOpts(t.val),r=S_(n,e);return r==null||r.includes(void 0)?t:r}function D_(t,e){return Array.prototype.concat(...t.map(n=>q$(n,e)))}function k_(t,e,n){const r=D_(bn.parseFormat(n),t),i=r.map(u=>U$(u,t)),s=i.find(u=>u.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[u,a]=z$(i),o=RegExp(u,"i"),[c,f]=Q$(e,o,a),[d,h,p]=f?G$(f):[null,null,void 0];if(Wc(f,"a")&&Wc(f,"H"))throw new El("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:o,rawMatches:c,matches:f,result:d,zone:h,specificOffset:p}}}function K$(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:u}=k_(t,e,n);return[r,i,s,u]}function S_(t,e){if(!t)return null;const r=bn.create(e,t).dtFormatter(W$()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(u=>H$(u,t,s))}const tv="Invalid DateTime",iD=864e13;function X0(t){return new bi("unsupported zone",`the zone "${t.name}" is not supported`)}function nv(t){return t.weekData===null&&(t.weekData=jm(t.c)),t.weekData}function rv(t){return t.localWeekData===null&&(t.localWeekData=jm(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ya(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ie({...n,...e,old:n})}function B_(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function ep(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Mp(t,e,n){return B_(qg(t),e,n)}function sD(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,Im(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},u=De.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=qg(s);let[o,c]=B_(a,n,t.zone);return u!==0&&(o+=u,c=t.zone.offset(o)),{ts:o,o:c}}function Uf(t,e,n,r,i,s){const{setZone:u,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const o=e||a,c=ie.fromObject(t,{...n,zone:o,specificOffset:s});return u?c:c.setZone(a)}else return ie.invalid(new bi("unparsable",`the input "${i}" can't be parsed as ${r}`))}function tp(t,e,n=!0){return t.isValid?bn.create(Qe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function iv(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Pt(t.c.year,n?6:4),e?(r+="-",r+=Pt(t.c.month),r+="-",r+=Pt(t.c.day)):(r+=Pt(t.c.month),r+=Pt(t.c.day)),r}function uD(t,e,n,r,i,s){let u=Pt(t.c.hour);return e?(u+=":",u+=Pt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(u+=":")):u+=Pt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(u+=Pt(t.c.second),(t.c.millisecond!==0||!r)&&(u+=".",u+=Pt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?u+="Z":t.o<0?(u+="-",u+=Pt(Math.trunc(-t.o/60)),u+=":",u+=Pt(Math.trunc(-t.o%60))):(u+="+",u+=Pt(Math.trunc(t.o/60)),u+=":",u+=Pt(Math.trunc(t.o%60)))),s&&(u+="["+t.zone.ianaName+"]"),u}const O_={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},J$={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Y$={ordinal:1,hour:0,minute:0,second:0,millisecond:0},N_=["year","month","day","hour","minute","second","millisecond"],Z$=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],X$=["year","ordinal","hour","minute","second","millisecond"];function eU(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new TN(t);return e}function aD(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return eU(t)}}function oD(t,e){const n=bu(e.zone,Ft.defaultZone),r=Qe.fromObject(e),i=Ft.now();let s,u;if(ve(t.year))s=i;else{for(const c of N_)ve(t[c])&&(t[c]=O_[c]);const a=r_(t)||i_(t);if(a)return ie.invalid(a);const o=n.offset(i);[s,u]=Mp(t,o,n)}return new ie({ts:s,zone:n,loc:r,o:u})}function lD(t,e,n){const r=ve(n.round)?!0:n.round,i=(u,a)=>(u=ZE(u,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(u,a)),s=u=>n.calendary?e.hasSame(t,u)?0:e.startOf(u).diff(t.startOf(u),u).get(u):e.diff(t,u).get(u);if(n.unit)return i(s(n.unit),n.unit);for(const u of n.units){const a=s(u);if(Math.abs(a)>=1)return i(a,u)}return i(t>e?-0:0,n.units[n.units.length-1])}function cD(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class ie{constructor(e){const n=e.zone||Ft.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new bi("invalid input"):null)||(n.isValid?null:X0(n));this.ts=ve(e.ts)?Ft.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const a=n.offset(this.ts);i=ep(this.ts,a),r=Number.isNaN(i.year)?new bi("invalid input"):null,i=r?null:i,s=r?null:a}this._zone=n,this.loc=e.loc||Qe.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ie({})}static local(){const[e,n]=cD(arguments),[r,i,s,u,a,o,c]=n;return oD({year:r,month:i,day:s,hour:u,minute:a,second:o,millisecond:c},e)}static utc(){const[e,n]=cD(arguments),[r,i,s,u,a,o,c]=n;return e.zone=Tn.utcInstance,oD({year:r,month:i,day:s,hour:u,minute:a,second:o,millisecond:c},e)}static fromJSDate(e,n={}){const r=BM(e)?e.valueOf():NaN;if(Number.isNaN(r))return ie.invalid("invalid input");const i=bu(n.zone,Ft.defaultZone);return i.isValid?new ie({ts:r,zone:i,loc:Qe.fromObject(n)}):ie.invalid(X0(i))}static fromMillis(e,n={}){if(co(e))return e<-iD||e>iD?ie.invalid("Timestamp out of range"):new ie({ts:e,zone:bu(n.zone,Ft.defaultZone),loc:Qe.fromObject(n)});throw new Zn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(co(e))return new ie({ts:e*1e3,zone:bu(n.zone,Ft.defaultZone),loc:Qe.fromObject(n)});throw new Zn("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=bu(n.zone,Ft.defaultZone);if(!r.isValid)return ie.invalid(X0(r));const i=Qe.fromObject(n),s=Rm(e,aD),{minDaysInFirstWeek:u,startOfWeek:a}=WC(s,i),o=Ft.now(),c=ve(n.specificOffset)?r.offset(o):n.specificOffset,f=!ve(s.ordinal),d=!ve(s.year),h=!ve(s.month)||!ve(s.day),p=d||h,v=s.weekYear||s.weekNumber;if((p||f)&&v)throw new El("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new El("Can't mix ordinal dates with month/day");const m=v||s.weekday&&!p;let b,g,y=ep(o,c);m?(b=Z$,g=J$,y=jm(y,u,a)):f?(b=X$,g=Y$,y=X1(y)):(b=N_,g=O_);let A=!1;for(const N of b){const V=s[N];ve(V)?A?s[N]=g[N]:s[N]=y[N]:A=!0}const w=m?DM(s,u,a):f?kM(s):r_(s),F=w||i_(s);if(F)return ie.invalid(F);const k=m?QC(s,u,a):f?GC(s):s,[C,D]=Mp(k,c,r),T=new ie({ts:C,zone:r,o:D,loc:i});return s.weekday&&p&&e.weekday!==T.weekday?ie.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${T.toISO()}`):T}static fromISO(e,n={}){const[r,i]=v$(e);return Uf(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=b$(e);return Uf(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=A$(e);return Uf(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ve(e)||ve(n))throw new Zn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,u=Qe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,o,c,f]=K$(u,e,n);return f?ie.invalid(f):Uf(a,o,r,`format ${n}`,e,c)}static fromString(e,n,r={}){return ie.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=k$(e);return Uf(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Zn("need to specify a reason the DateTime is invalid");const r=e instanceof bi?e:new bi(e,n);if(Ft.throwOnInvalid)throw new nM(r);return new ie({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=S_(e,Qe.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return D_(bn.parseFormat(e),Qe.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?nv(this).weekYear:NaN}get weekNumber(){return this.isValid?nv(this).weekNumber:NaN}get weekday(){return this.isValid?nv(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?rv(this).weekday:NaN}get localWeekNumber(){return this.isValid?rv(this).weekNumber:NaN}get localWeekYear(){return this.isValid?rv(this).weekYear:NaN}get ordinal(){return this.isValid?X1(this.c).ordinal:NaN}get monthShort(){return this.isValid?Y0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Y0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Y0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Y0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=qg(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),u=this.zone.offset(r-i*n),a=this.zone.offset(r-s*n);if(u===a)return[this];const o=r-u*n,c=r-a*n,f=ep(o,u),d=ep(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[ya(this,{ts:o}),ya(this,{ts:c})]:[this]}get isInLeapYear(){return t0(this.year)}get daysInMonth(){return Im(this.year,this.month)}get daysInYear(){return this.isValid?Hl(this.year):NaN}get weeksInWeekYear(){return this.isValid?ih(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ih(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=bn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Tn.instance(e),n)}toLocal(){return this.setZone(Ft.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=bu(e,Ft.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),u=this.toObject();[i]=Mp(u,s,e)}return ya(this,{ts:i,zone:e})}else return ie.invalid(X0(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return ya(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Rm(e,aD),{minDaysInFirstWeek:r,startOfWeek:i}=WC(n,this.loc),s=!ve(n.weekYear)||!ve(n.weekNumber)||!ve(n.weekday),u=!ve(n.ordinal),a=!ve(n.year),o=!ve(n.month)||!ve(n.day),c=a||o,f=n.weekYear||n.weekNumber;if((c||u)&&f)throw new El("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&u)throw new El("Can't mix ordinal dates with month/day");let d;s?d=QC({...jm(this.c,r,i),...n},r,i):ve(n.ordinal)?(d={...this.toObject(),...n},ve(n.day)&&(d.day=Math.min(Im(d.year,d.month),d.day))):d=GC({...X1(this.c),...n});const[h,p]=Mp(d,this.o,this.zone);return ya(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const n=De.fromDurationLike(e);return ya(this,sD(this,n))}minus(e){if(!this.isValid)return this;const n=De.fromDurationLike(e).negate();return ya(this,sD(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=De.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:u}=this;u<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?bn.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):tv}toLocaleString(e=Pm,n={}){return this.isValid?bn.create(this.loc.clone(n),e).formatDateTime(this):tv}toLocaleParts(e={}){return this.isValid?bn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const u=e==="extended";let a=iv(this,u);return a+="T",a+=uD(this,u,n,r,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?iv(this,e==="extended"):null}toISOWeekDate(){return tp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:u="extended"}={}){return this.isValid?(i?"T":"")+uD(this,u==="extended",n,e,r,s):null}toRFC2822(){return tp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return tp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?iv(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),tp(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():tv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return De.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=OM(n).map(De.normalizeUnit),u=e.valueOf()>this.valueOf(),a=u?this:e,o=u?e:this,c=P$(a,o,s,i);return u?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(ie.now(),e,n)}until(e){return this.isValid?ht.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||ie.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),lD(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?lD(e.base||ie.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ie.isDateTime))throw new Zn("min requires all arguments be DateTimes");return qC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(ie.isDateTime))throw new Zn("max requires all arguments be DateTimes");return qC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,u=Qe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return k_(u,e,n)}static fromStringExplain(e,n,r={}){return ie.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return Pm}static get DATE_MED(){return PN}static get DATE_MED_WITH_WEEKDAY(){return sM}static get DATE_FULL(){return jN}static get DATE_HUGE(){return IN}static get TIME_SIMPLE(){return RN}static get TIME_WITH_SECONDS(){return LN}static get TIME_WITH_SHORT_OFFSET(){return MN}static get TIME_WITH_LONG_OFFSET(){return $N}static get TIME_24_SIMPLE(){return UN}static get TIME_24_WITH_SECONDS(){return VN}static get TIME_24_WITH_SHORT_OFFSET(){return HN}static get TIME_24_WITH_LONG_OFFSET(){return zN}static get DATETIME_SHORT(){return QN}static get DATETIME_SHORT_WITH_SECONDS(){return GN}static get DATETIME_MED(){return WN}static get DATETIME_MED_WITH_SECONDS(){return qN}static get DATETIME_MED_WITH_WEEKDAY(){return uM}static get DATETIME_FULL(){return KN}static get DATETIME_FULL_WITH_SECONDS(){return JN}static get DATETIME_HUGE(){return YN}static get DATETIME_HUGE_WITH_SECONDS(){return ZN}}function Vf(t){if(ie.isDateTime(t))return t;if(t&&t.valueOf&&co(t.valueOf()))return ie.fromJSDate(t);if(t&&typeof t=="object")return ie.fromObject(t);throw new Zn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Ql={contract:{address:"0x5a139ee9f56c4F24240aF366807490C171922b0E".toLowerCase()},subgraph:{endpoint:"https://gateway.thegraph.com/api/418eac8d0a68edf19ab2e47917049c65/subgraphs/id/Aaot6bDHNzCLKRTnbzrCUHEuFKvSQ84quNhWpwyv3cHr"},ipfs:{endpoint:"https://ipfs.4dchan.org/ipfs/"},content_view:{page_size:25,board_default_view_mode:"catalog",board_sort_threads_by:"lastBumpedAt",board_sort_direction:"desc"},content_filter:{score_threshold:1,show_below_threshold:!1},autorefresh:{enabled:!0,seconds:10}},__=new l5({uri:Ql.subgraph.endpoint,cache:new r5}),T_="%[a-f0-9]{2}",fD=new RegExp("("+T_+")|([^%]+?)","gi"),dD=new RegExp("("+T_+")+","gi");function FA(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],FA(n),FA(r))}function tU(t){try{return decodeURIComponent(t)}catch{let e=t.match(fD)||[];for(let n=1;n<e.length;n++)t=FA(e,n).join(""),e=t.match(fD)||[];return t}}function nU(t){const e={"%FE%FF":"��","%FF%FE":"��"};let n=dD.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const i=tU(n[0]);i!==n[0]&&(e[n[0]]=i)}n=dD.exec(t)}e["%C2"]="�";const r=Object.keys(e);for(const i of r)t=t.replace(new RegExp(i,"g"),e[i]);return t}function rU(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return nU(t)}}function P_(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const n=t.indexOf(e);return n===-1?[]:[t.slice(0,n),t.slice(n+e.length)]}function iU(t,e){const n={};if(Array.isArray(e))for(const r of e){const i=Object.getOwnPropertyDescriptor(t,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);if(i.enumerable){const s=t[r];e(r,s,t)&&Object.defineProperty(n,r,i)}}return n}const sU=t=>t==null,uU=t=>encodeURIComponent(t).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),CA=Symbol("encodeFragmentIdentifier");function aU(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[Nt(e,t),"[",i,"]"].join("")]:[...n,[Nt(e,t),"[",Nt(i,t),"]=",Nt(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[Nt(e,t),"[]"].join("")]:[...n,[Nt(e,t),"[]=",Nt(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[Nt(e,t),":list="].join("")]:[...n,[Nt(e,t),":list=",Nt(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[Nt(n,t),e,Nt(i,t)].join("")]:[[r,Nt(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,Nt(e,t)]:[...n,[Nt(e,t),"=",Nt(r,t)].join("")]}}function oU(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const s=typeof r=="string"&&r.includes(t.arrayFormatSeparator),u=typeof r=="string"&&!s&&ds(r,t).includes(t.arrayFormatSeparator);r=u?ds(r,t):r;const a=s||u?r.split(t.arrayFormatSeparator).map(o=>ds(o,t)):r===null?r:ds(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{const s=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!s){i[n]=r&&ds(r,t);return}const u=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>ds(a,t));if(i[n]===void 0){i[n]=u;return}i[n]=[...i[n],...u]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function j_(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Nt(t,e){return e.encode?e.strict?uU(t):encodeURIComponent(t):t}function ds(t,e){return e.decode?rU(t):t}function I_(t){return Array.isArray(t)?t.sort():typeof t=="object"?I_(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function R_(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function lU(t){let e="";const n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function hD(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function r2(t){t=R_(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function i2(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},j_(e.arrayFormatSeparator);const n=oU(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(const i of t.split("&")){if(i==="")continue;const s=e.decode?i.replaceAll("+"," "):i;let[u,a]=P_(s,"=");u===void 0&&(u=s),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:ds(a,e),n(ds(u,e),a,r)}for(const[i,s]of Object.entries(r))if(typeof s=="object"&&s!==null)for(const[u,a]of Object.entries(s))s[u]=hD(a,e);else r[i]=hD(s,e);return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,s)=>{const u=r[s];return i[s]=u&&typeof u=="object"&&!Array.isArray(u)?I_(u):u,i},Object.create(null))}function L_(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},j_(e.arrayFormatSeparator);const n=u=>e.skipNull&&sU(t[u])||e.skipEmptyString&&t[u]==="",r=aU(e),i={};for(const[u,a]of Object.entries(t))n(u)||(i[u]=a);const s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(u=>{const a=t[u];return a===void 0?"":a===null?Nt(u,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?Nt(u,e)+"[]":a.reduce(r(u),[]).join("&"):Nt(u,e)+"="+Nt(a,e)}).filter(u=>u.length>0).join("&")}function M_(t,e){var i;e={decode:!0,...e};let[n,r]=P_(t,"#");return n===void 0&&(n=t),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:i2(r2(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:ds(r,e)}:{}}}function $_(t,e){e={encode:!0,strict:!0,[CA]:!0,...e};const n=R_(t.url).split("?")[0]||"",r=r2(t.url),i={...i2(r,{sort:!1}),...t.query};let s=L_(i,e);s&&(s=`?${s}`);let u=lU(t.url);if(typeof t.fragmentIdentifier=="string"){const a=new URL(n);a.hash=t.fragmentIdentifier,u=e[CA]?a.hash:`#${t.fragmentIdentifier}`}return`${n}${s}${u}`}function U_(t,e,n){n={parseFragmentIdentifier:!0,[CA]:!1,...n};const{url:r,query:i,fragmentIdentifier:s}=M_(t,n);return $_({url:r,query:iU(i,e),fragmentIdentifier:s},n)}function cU(t,e,n){const r=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return U_(t,r,n)}const Af=Object.freeze(Object.defineProperty({__proto__:null,exclude:cU,extract:r2,parse:i2,parseUrl:M_,pick:U_,stringify:L_,stringifyUrl:$_},Symbol.toStringTag,{value:"Module"})),V_=x.createContext({firstBlock:void 0,lastBlock:void 0,currentBlock:void 0,nextBlock:void 0,travelToBlock:()=>({}),travelToDateTime:()=>({}),travelToBlockNumber:()=>({}),travelToPreviousBlock:()=>({}),travelToNextBlock:()=>({}),travelToPresent:()=>({}),travelToBeginning:()=>({}),isTimeTraveling:!1,timeTraveledToBlockNumber:0,timeTraveledToDateTime:ie.now(),isPlayback:!1,setIsPlayback:()=>({}),nextBlockPlaybackAt:void 0,currentBlockNumber:void 0});function fU(t,e){return t.query({query:S5,variables:{timestampMin:`${e==null?void 0:e.toSeconds().toFixed(0)}`,timestampMax:`${(((e==null?void 0:e.toSeconds())||0)+1e6).toFixed(0)}`}})}function dU(t,e){return t.query({query:B5,variables:{number:e.toString()}})}function hU(t,e){return t.query({query:N5,variables:{number:e}})}function pD(t,e){return t.query({query:O5,variables:{number:e}})}const pU=()=>{var e,n;const t=ln(_5,{});return{firstBlock:(e=t.data)==null?void 0:e.first[0],lastBlock:(n=t.data)==null?void 0:n.last[0]}},mU=({children:t})=>{const e=__,{firstBlock:n,lastBlock:r}=pU(),[i,s]=x.useState(),[u,a]=x.useState(),[o,c]=x.useState(),[f,d]=x.useState(),[h,p]=x.useState(!1),[v,m]=x.useState(!1),[b,g]=x.useState(),y=Un(),A=Si();x.useEffect(()=>{i?(c(Number(i==null?void 0:i.number)),d(ie.fromSeconds(Number(i==null?void 0:i.timestamp))),p(!0)):(c(void 0),d(void 0),p(!1))},[i,r,c,d,p]);const w=x.useCallback(P=>{var Y,M;const L=(M=(Y=P.data)==null?void 0:Y.blocks)==null?void 0:M[0];L&&s(L)},[s]),F=x.useCallback(()=>{n&&s(n)},[n,s]),k=x.useCallback(()=>{s(void 0)},[s]),C=x.useCallback(P=>{fU(e,P).then(w)},[w,e]),D=x.useCallback(P=>{s(P),C(ie.fromSeconds(parseInt(P.timestamp)))},[s,C]),T=x.useCallback(P=>{P?dU(e,P).then(w):k()},[w,k,e]),N=x.useCallback(()=>{const P=i||r;P&&hU(e,P.number).then(w)},[w,i,r,e]),V=x.useCallback(()=>{i!=null&&i.number&&pD(e,i.number).then(w)},[w,i,e]);x.useEffect(()=>{const{pathname:P}=A;let{search:L}=A;const Y=P+L;i?L=L.match(/[?&]block=/)?L.replace(/([?&]block=)(\d)+/,`$1${i.number}`):L.includes("?")?`${L}&block=${i.number}`:`?block=${i.number}`:L=L.replace(/[?&]block=(\d)+/,"");const M=P+L;M!==Y&&y(M,{replace:!0})},[y,i,A]),x.useEffect(()=>{const P=Af.parse(A.search),L=parseInt(`${P.block}`)||void 0;L&&T(L)},[A,T]),x.useEffect(()=>{v&&i&&pD(e,i.number).then(P=>{var Y,M;const L=(M=(Y=P.data)==null?void 0:Y.blocks)==null?void 0:M[0];a(L)})},[v,i,e]),x.useEffect(()=>{let P;if(v&&h&&i&&u){const L=Math.min(10,Number(u.timestamp)-Number(i.timestamp))*1e3;g(new Date().getTime()+L),L&&(P=setTimeout(V,L))}return()=>{P&&clearTimeout(P)}},[h,v,i,u,V]);const[H,Q]=x.useState();x.useEffect(()=>{Q(Number((i==null?void 0:i.number)||(r==null?void 0:r.number)))},[i,r]);const ne={firstBlock:n,lastBlock:r,currentBlock:i,nextBlock:u,travelToBlock:D,travelToDateTime:C,travelToBlockNumber:T,travelToPreviousBlock:N,travelToNextBlock:V,travelToPresent:k,travelToBeginning:F,isTimeTraveling:h,timeTraveledToBlockNumber:o,timeTraveledToDateTime:f,isPlayback:v,setIsPlayback:m,nextBlockPlaybackAt:b,currentBlockNumber:H};return l.jsx(V_.Provider,{value:ne,children:t})},gU="6.11.1";function yU(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function On(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function me(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&yU(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function xl(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(xl).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return xl(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${xl(n)}: ${xl(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function wn(t,e){return t&&t.code===e}function s2(t){return wn(t,"CALL_EXCEPTION")}function Tt(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${xl(n)}`);for(const u in n){if(u==="shortMessage")continue;const a=n[u];s.push(u+"="+xl(a))}}s.push(`code=${e}`),s.push(`version=${gU}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return me(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&me(i,{shortMessage:r}),i}function z(t,e,n,r){if(!t)throw Tt(e,n,r)}function O(t,e,n,r){z(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function H_(t,e,n){n==null&&(n=""),n&&(n=": "+n),z(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),z(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const vU=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function bU(t){z(vU.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function i0(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),z(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function z_(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}O(!1,"invalid BytesLike value",e||"value",t)}function Te(t,e){return z_(t,e,!1)}function _n(t,e){return z_(t,e,!0)}function Ke(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function AU(t){return Ke(t,!0)||t instanceof Uint8Array}const mD="0123456789abcdef";function pe(t){const e=Te(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=mD[(i&240)>>4]+mD[i&15]}return n}function Rt(t){return"0x"+t.map(e=>pe(e).substring(2)).join("")}function Gl(t){return Ke(t,!0)?(t.length-2)/2:Te(t).length}function pt(t,e,n){const r=Te(t);return n!=null&&n>r.length&&z(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),pe(r.slice(e??0,n??r.length))}function Q_(t,e,n){const r=Te(t);z(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),pe(i)}function xo(t,e){return Q_(t,e,!0)}function wU(t,e){return Q_(t,e,!1)}const Yg=BigInt(0),yi=BigInt(1),Fl=9007199254740991;function Lm(t,e){const n=Zg(t,"value"),r=BigInt(Ae(e,"width"));if(z(n>>r===Yg,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-yi){const i=(yi<<r)-yi;return-((~n&i)+yi)}return n}function G_(t,e){let n=fe(t,"value");const r=BigInt(Ae(e,"width")),i=yi<<r-yi;if(n<Yg){n=-n,z(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(yi<<r)-yi;return(~n&s)+yi}else z(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function _a(t,e){const n=Zg(t,"value"),r=BigInt(Ae(e,"bits"));return n&(yi<<r)-yi}function fe(t,e){switch(typeof t){case"bigint":return t;case"number":return O(Number.isInteger(t),"underflow",e||"value",t),O(t>=-Fl&&t<=Fl,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){O(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}O(!1,"invalid BigNumberish value",e||"value",t)}function Zg(t,e){const n=fe(t,e);return z(n>=Yg,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const gD="0123456789abcdef";function Xg(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=gD[n>>4],e+=gD[n&15];return BigInt(e)}return fe(t)}function Ae(t,e){switch(typeof t){case"bigint":return O(t>=-Fl&&t<=Fl,"overflow",e||"value",t),Number(t);case"number":return O(Number.isInteger(t),"underflow",e||"value",t),O(t>=-Fl&&t<=Fl,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ae(BigInt(t),e)}catch(n){O(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}O(!1,"invalid numeric value",e||"value",t)}function EU(t){return Ae(Xg(t))}function ia(t,e){let r=Zg(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ae(e,"width");for(z(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Pn(t){const e=Zg(t,"value");if(e===Yg)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Cl(t){let e=pe(AU(t)?t:Pn(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const yD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const vD=BigInt(58);function xU(t){const e=Te(t);let n=Xg(e),r="";for(;n;)r=yD[Number(n%vD)]+r,n/=vD;for(let i=0;i<e.length&&!e[i];i++)r=yD[0]+r;return r}function FU(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Te(e)}function CU(t){const e=Te(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Yl;class W_{constructor(e,n,r){_(this,"filter");_(this,"emitter");j(this,Yl,void 0);S(this,Yl,n),me(this,{emitter:e,filter:r})}async removeListener(){E(this,Yl)!=null&&await this.emitter.off(this.filter,E(this,Yl))}}Yl=new WeakMap;function DU(t,e,n,r,i){O(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function q_(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let u=e+1;u<n.length&&n[u]>>6===2;u++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function kU(t,e,n,r,i){return t==="OVERLONG"?(O(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),q_(t,e,n))}const SU=Object.freeze({error:DU,ignore:q_,replace:kU});function BU(t,e){e==null&&(e=SU.error);const n=Te(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let u=null,a=null;if((s&224)===192)u=1,a=127;else if((s&240)===224)u=2,a=2047;else if((s&248)===240)u=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+u>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let o=s&(1<<8-u-1)-1;for(let c=0;c<u;c++){let f=n[i];if((f&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),o=null;break}o=o<<6|f&63,i++}if(o!==null){if(o>1114111){i+=e("OUT_OF_RANGE",i-1-u,n,r,o);continue}if(o>=55296&&o<=57343){i+=e("UTF16_SURROGATE",i-1-u,n,r,o);continue}if(o<=a){i+=e("OVERLONG",i-1-u,n,r,o);continue}r.push(o)}}return r}function Ps(t,e){O(typeof t=="string","invalid string value","str",t),e!=null&&(bU(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);O(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const u=65536+((i&1023)<<10)+(s&1023);n.push(u>>18|240),n.push(u>>12&63|128),n.push(u>>6&63|128),n.push(u&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function OU(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mm(t,e){return OU(BU(t,e))}function K_(t){async function e(n,r){const i=n.url.split(":")[0].toLowerCase();z(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),z(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(r){const d=new AbortController;s=d.signal,r.addListener(()=>{d.abort()})}const u={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s},a=await fetch(n.url,u),o={};a.headers.forEach((d,h)=>{o[h.toLowerCase()]=d});const c=await a.arrayBuffer(),f=c==null?null:new Uint8Array(c);return{statusCode:a.status,statusMessage:a.statusText,headers:o,body:f}}return e}const NU=12,_U=250;let bD=K_();const TU=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),PU=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let sv=!1;async function J_(t,e){try{const n=t.match(TU);if(!n)throw new Error("invalid data");return new Ku(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?FU(n[3]):IU(n[3]))}catch{return new Ku(599,"BAD REQUEST (invalid data: URI)",{},null,new sa(t))}}function Y_(t){async function e(n,r){try{const i=n.match(PU);if(!i)throw new Error("invalid link");return new sa(`${t}${i[2]}`)}catch{return new Ku(599,"BAD REQUEST (invalid IPFS URI)",{},null,new sa(n))}}return e}const np={data:J_,ipfs:Y_("https://gateway.ipfs.io/ipfs/")},Z_=new WeakMap;var Ra,Au;class jU{constructor(e){j(this,Ra,void 0);j(this,Au,void 0);S(this,Ra,[]),S(this,Au,!1),Z_.set(e,()=>{if(!E(this,Au)){S(this,Au,!0);for(const n of E(this,Ra))setTimeout(()=>{n()},0);S(this,Ra,[])}})}addListener(e){z(!E(this,Au),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),E(this,Ra).push(e)}get cancelled(){return E(this,Au)}checkSignal(){z(!this.cancelled,"cancelled","CANCELLED",{})}}Ra=new WeakMap,Au=new WeakMap;function rp(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Zl,Xl,li,ms,ec,tc,zt,lr,gs,La,Ma,$a,$i,ys,wu,Ua,ad;const fg=class fg{constructor(e){j(this,Ua);j(this,Zl,void 0);j(this,Xl,void 0);j(this,li,void 0);j(this,ms,void 0);j(this,ec,void 0);j(this,tc,void 0);j(this,zt,void 0);j(this,lr,void 0);j(this,gs,void 0);j(this,La,void 0);j(this,Ma,void 0);j(this,$a,void 0);j(this,$i,void 0);j(this,ys,void 0);j(this,wu,void 0);S(this,tc,String(e)),S(this,Zl,!1),S(this,Xl,!0),S(this,li,{}),S(this,ms,""),S(this,ec,3e5),S(this,ys,{slotInterval:_U,maxAttempts:NU}),S(this,wu,null)}get url(){return E(this,tc)}set url(e){S(this,tc,String(e))}get body(){return E(this,zt)==null?null:new Uint8Array(E(this,zt))}set body(e){if(e==null)S(this,zt,void 0),S(this,lr,void 0);else if(typeof e=="string")S(this,zt,Ps(e)),S(this,lr,"text/plain");else if(e instanceof Uint8Array)S(this,zt,e),S(this,lr,"application/octet-stream");else if(typeof e=="object")S(this,zt,Ps(JSON.stringify(e))),S(this,lr,"application/json");else throw new Error("invalid body")}hasBody(){return E(this,zt)!=null}get method(){return E(this,ms)?E(this,ms):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),S(this,ms,String(e).toUpperCase())}get headers(){const e=Object.assign({},E(this,li));return E(this,gs)&&(e.authorization=`Basic ${CU(Ps(E(this,gs)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&E(this,lr)&&(e["content-type"]=E(this,lr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){E(this,li)[String(e).toLowerCase()]=String(n)}clearHeaders(){S(this,li,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return E(this,gs)||null}setCredentials(e,n){O(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),S(this,gs,`${e}:${n}`)}get allowGzip(){return E(this,Xl)}set allowGzip(e){S(this,Xl,!!e)}get allowInsecureAuthentication(){return!!E(this,Zl)}set allowInsecureAuthentication(e){S(this,Zl,!!e)}get timeout(){return E(this,ec)}set timeout(e){O(e>=0,"timeout must be non-zero","timeout",e),S(this,ec,e)}get preflightFunc(){return E(this,La)||null}set preflightFunc(e){S(this,La,e)}get processFunc(){return E(this,Ma)||null}set processFunc(e){S(this,Ma,e)}get retryFunc(){return E(this,$a)||null}set retryFunc(e){S(this,$a,e)}get getUrlFunc(){return E(this,wu)||bD}set getUrlFunc(e){S(this,wu,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${E(this,zt)?pe(E(this,zt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(E(this,ys).slotInterval=e.slotInterval),e.maxAttempts!=null&&(E(this,ys).maxAttempts=e.maxAttempts)}send(){return z(E(this,$i)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),S(this,$i,new jU(this)),q(this,Ua,ad).call(this,0,AD()+this.timeout,0,this,new Ku(0,"",{},null,this))}cancel(){z(E(this,$i)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Z_.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();z(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new fg(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,S(i,li,Object.assign({},E(this,li))),E(this,zt)&&S(i,zt,new Uint8Array(E(this,zt))),S(i,lr,E(this,lr)),i}clone(){const e=new fg(this.url);return S(e,ms,E(this,ms)),E(this,zt)&&S(e,zt,E(this,zt)),S(e,lr,E(this,lr)),S(e,li,Object.assign({},E(this,li))),S(e,gs,E(this,gs)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),S(e,La,E(this,La)),S(e,Ma,E(this,Ma)),S(e,$a,E(this,$a)),S(e,wu,E(this,wu)),e}static lockConfig(){sv=!0}static getGateway(e){return np[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(sv)throw new Error("gateways locked");np[e]=n}static registerGetUrl(e){if(sv)throw new Error("gateways locked");bD=e}static createGetUrlFunc(e){return K_()}static createDataGateway(){return J_}static createIpfsGatewayFunc(e){return Y_(e)}};Zl=new WeakMap,Xl=new WeakMap,li=new WeakMap,ms=new WeakMap,ec=new WeakMap,tc=new WeakMap,zt=new WeakMap,lr=new WeakMap,gs=new WeakMap,La=new WeakMap,Ma=new WeakMap,$a=new WeakMap,$i=new WeakMap,ys=new WeakMap,wu=new WeakMap,Ua=new WeakSet,ad=async function(e,n,r,i,s){var f,d,h;if(e>=E(this,ys).maxAttempts)return s.makeServerError("exceeded maximum retry limit");z(AD()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await RU(r);let u=this.clone();const a=(u.url.split(":")[0]||"").toLowerCase();if(a in np){const p=await np[a](u.url,rp(E(i,$i)));if(p instanceof Ku){let v=p;if(this.processFunc){rp(E(i,$i));try{v=await this.processFunc(u,v)}catch(m){(m.throttle==null||typeof m.stall!="number")&&v.makeServerError("error in post-processing function",m).assertOk()}}return v}u=p}this.preflightFunc&&(u=await this.preflightFunc(u));const o=await this.getUrlFunc(u,rp(E(i,$i)));let c=new Ku(o.statusCode,o.statusMessage,o.headers,o.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return q(f=u.redirect(p),Ua,ad).call(f,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(u,c,e))){const p=c.headers["retry-after"];let v=E(this,ys).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(v=parseInt(p)),q(d=u.clone(),Ua,ad).call(d,e+1,n,v,i,c)}if(this.processFunc){rp(E(i,$i));try{c=await this.processFunc(u,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let v=E(this,ys).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(v=p.stall),q(h=u.clone(),Ua,ad).call(h,e+1,n,v,i,c)}}return c};let sa=fg;var Eh,xh,Fh,cr,nc,Va;const dx=class dx{constructor(e,n,r,i,s){j(this,Eh,void 0);j(this,xh,void 0);j(this,Fh,void 0);j(this,cr,void 0);j(this,nc,void 0);j(this,Va,void 0);S(this,Eh,e),S(this,xh,n),S(this,Fh,Object.keys(r).reduce((u,a)=>(u[a.toLowerCase()]=String(r[a]),u),{})),S(this,cr,i==null?null:new Uint8Array(i)),S(this,nc,s||null),S(this,Va,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${E(this,cr)?pe(E(this,cr)):"null"}>`}get statusCode(){return E(this,Eh)}get statusMessage(){return E(this,xh)}get headers(){return Object.assign({},E(this,Fh))}get body(){return E(this,cr)==null?null:new Uint8Array(E(this,cr))}get bodyText(){try{return E(this,cr)==null?"":Mm(E(this,cr))}catch{z(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{z(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new dx(599,r,this.headers,this.body,E(this,nc)||void 0);return S(i,Va,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:O(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw me(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return E(this,cr)!=null}get request(){return E(this,nc)}ok(){return E(this,Va).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=E(this,Va);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{E(this,cr)&&(i=Mm(E(this,cr)))}catch{}z(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Eh=new WeakMap,xh=new WeakMap,Fh=new WeakMap,cr=new WeakMap,nc=new WeakMap,Va=new WeakMap;let Ku=dx;function AD(){return new Date().getTime()}function IU(t){return Ps(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function RU(t){return new Promise(e=>setTimeout(e,t))}const LU=BigInt(-1),si=BigInt(0),Dl=BigInt(1),MU=BigInt(5),Wo={};let Wl="0000";for(;Wl.length<80;)Wl+=Wl;function va(t){let e=Wl;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Hf(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Dl<<r-Dl;z(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>si?t=Lm(_a(t,r),r):t=-Lm(_a(-t,r),r)}else{const i=Dl<<r;z(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Dl}return t}function uv(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);O(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,u=(a,o,c)=>s[a]==null?c:(O(typeof s[a]===o,"invalid fixed format ("+a+" not "+o+")","format."+a,s[a]),s[a]);e=u("signed","boolean",e),n=u("width","number",n),r=u("decimals","number",r)}O(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),O(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function $U(t,e){let n="";t<si&&(n="-",t*=LU);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Wl+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var ci,ze,kn,vs,xa,fi,us,Ch,DA,Dh,kA,kh,SA,Sh,BA;const gu=class gu{constructor(e,n,r){j(this,vs);j(this,fi);j(this,Ch);j(this,Dh);j(this,kh);j(this,Sh);_(this,"format");j(this,ci,void 0);j(this,ze,void 0);j(this,kn,void 0);_(this,"_value");i0(e,Wo,"FixedNumber"),S(this,ze,n),S(this,ci,r);const i=$U(n,r.decimals);me(this,{format:r.name,_value:i}),S(this,kn,va(r.decimals))}get signed(){return E(this,ci).signed}get width(){return E(this,ci).width}get decimals(){return E(this,ci).decimals}get value(){return E(this,ze)}addUnsafe(e){return q(this,Ch,DA).call(this,e)}add(e){return q(this,Ch,DA).call(this,e,"add")}subUnsafe(e){return q(this,Dh,kA).call(this,e)}sub(e){return q(this,Dh,kA).call(this,e,"sub")}mulUnsafe(e){return q(this,kh,SA).call(this,e)}mul(e){return q(this,kh,SA).call(this,e,"mul")}mulSignal(e){q(this,vs,xa).call(this,e);const n=E(this,ze)*E(e,ze);return z(n%E(this,kn)===si,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),q(this,fi,us).call(this,n/E(this,kn),"mulSignal")}divUnsafe(e){return q(this,Sh,BA).call(this,e)}div(e){return q(this,Sh,BA).call(this,e,"div")}divSignal(e){z(E(e,ze)!==si,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,vs,xa).call(this,e);const n=E(this,ze)*E(this,kn);return z(n%E(e,ze)===si,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),q(this,fi,us).call(this,n/E(e,ze),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=va(i):i<0&&(n*=va(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=E(this,ze);return E(this,ze)<si&&(e-=E(this,kn)-Dl),e=E(this,ze)/E(this,kn)*E(this,kn),q(this,fi,us).call(this,e,"floor")}ceiling(){let e=E(this,ze);return E(this,ze)>si&&(e+=E(this,kn)-Dl),e=E(this,ze)/E(this,kn)*E(this,kn),q(this,fi,us).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=MU*va(n-1);let i=this.value+r;const s=va(n);return i=i/s*s,Hf(i,E(this,ci),"round"),new gu(Wo,i,E(this,ci))}isZero(){return E(this,ze)===si}isNegative(){return E(this,ze)<si}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return gu.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Ae(n),s=uv(r);let u=fe(e,"value");const a=i-s.decimals;if(a>0){const o=va(a);z(u%o===si,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),u/=o}else a<0&&(u*=va(-a));return Hf(u,s,"fromValue"),new gu(Wo,u,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);O(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=uv(n);let s=r[2]||"0",u=r[3]||"";for(;u.length<i.decimals;)u+=Wl;z(u.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),u=u.substring(0,i.decimals);const a=BigInt(r[1]+s+u);return Hf(a,i,"fromString"),new gu(Wo,a,i)}static fromBytes(e,n){let r=Xg(Te(e,"value"));const i=uv(n);return i.signed&&(r=Lm(r,i.width)),Hf(r,i,"fromBytes"),new gu(Wo,r,i)}};ci=new WeakMap,ze=new WeakMap,kn=new WeakMap,vs=new WeakSet,xa=function(e){O(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},fi=new WeakSet,us=function(e,n){return e=Hf(e,E(this,ci),n),new gu(Wo,e,E(this,ci))},Ch=new WeakSet,DA=function(e,n){return q(this,vs,xa).call(this,e),q(this,fi,us).call(this,E(this,ze)+E(e,ze),n)},Dh=new WeakSet,kA=function(e,n){return q(this,vs,xa).call(this,e),q(this,fi,us).call(this,E(this,ze)-E(e,ze),n)},kh=new WeakSet,SA=function(e,n){return q(this,vs,xa).call(this,e),q(this,fi,us).call(this,E(this,ze)*E(e,ze)/E(this,kn),n)},Sh=new WeakSet,BA=function(e,n){return z(E(e,ze)!==si,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,vs,xa).call(this,e),q(this,fi,us).call(this,E(this,ze)*E(this,kn)/E(e,ze),n)};let $m=gu;function UU(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function wD(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function ED(t,e,n,r){const i=[];for(;n<e+1+r;){const s=X_(t,n);i.push(s.result),n+=s.consumed,z(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function X_(t,e){z(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{z(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=wD(t,e+1,r);return n(e+1+r+i),ED(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),ED(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=wD(t,e+1,r);n(e+1+r+i);const s=pe(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=pe(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:UU(t[e])}}function ey(t){const e=Te(t,"data"),n=X_(e,0);return O(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function xD(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function eT(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(eT(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=xD(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Te(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=xD(e.length);return n.unshift(183+n.length),n.concat(e)}const FD="0123456789abcdef";function qc(t){let e="0x";for(const n of eT(t))e+=FD[n>>4],e+=FD[n&15];return e}const tT=["wei","kwei","mwei","gwei","szabo","finney","ether"];function OA(t,e){let n=18;if(typeof e=="string"){const r=tT.indexOf(e);O(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ae(e,"unit"));return $m.fromValue(t,n,{decimals:n,width:512}).toString()}function VU(t,e){O(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=tT.indexOf(e);O(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ae(e,"unit"));return $m.fromString(t,{decimals:n,width:512}).value}function HU(t){return VU(t,18)}const jn=32,NA=new Uint8Array(jn),zU=["then"],ip={};function zf(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}var Eu,po;let nT=(po=class extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),u=!0;r!==ip&&(i=n,s=[],u=!1);super(i.length);j(this,Eu,void 0);i.forEach((o,c)=>{this[c]=o});const a=s.reduce((o,c)=>(typeof c=="string"&&o.set(c,(o.get(c)||0)+1),o),new Map);if(S(this,Eu,Object.freeze(i.map((o,c)=>{const f=s[c];return f!=null&&a.get(f)===1?f:null}))),!!u)return Object.freeze(this),new Proxy(this,{get:(o,c,f)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const h=Ae(c,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=o[h];return p instanceof Error&&zf(`index ${h}`,p),p}if(zU.indexOf(c)>=0)return Reflect.get(o,c,f);const d=o[c];if(d instanceof Function)return function(...h){return d.apply(this===f?o:this,h)};if(!(c in o))return o.getValue.apply(this===f?o:this,[c])}return Reflect.get(o,c,f)}})}toArray(){const n=[];return this.forEach((r,i)=>{r instanceof Error&&zf(`index ${i}`,r),n.push(r)}),n}toObject(){return E(this,Eu).reduce((n,r,i)=>(z(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in n||(n[r]=this.getValue(r)),n),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=[],s=[];for(let u=n;u<r;u++)i.push(this[u]),s.push(E(this,Eu)[u]);return new po(ip,i,s)}filter(n,r){const i=[],s=[];for(let u=0;u<this.length;u++){const a=this[u];a instanceof Error&&zf(`index ${u}`,a),n.call(r,a,u,this)&&(i.push(a),s.push(E(this,Eu)[u]))}return new po(ip,i,s)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const u=this[s];u instanceof Error&&zf(`index ${s}`,u),i.push(n.call(r,u,s,this))}return i}getValue(n){const r=E(this,Eu).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&zf(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new po(ip,n,r)}},Eu=new WeakMap,po);function CD(t){let e=Pn(t);return z(e.length<=jn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:jn,offset:e.length}),e.length!==jn&&(e=_n(Rt([NA.slice(e.length%jn),e]))),e}class qs{constructor(e,n,r,i){_(this,"name");_(this,"type");_(this,"localName");_(this,"dynamic");me(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){O(!1,e,this.localName,n)}}var bs,Ha,rc,$p;class _A{constructor(){j(this,rc);j(this,bs,void 0);j(this,Ha,void 0);S(this,bs,[]),S(this,Ha,0)}get data(){return Rt(E(this,bs))}get length(){return E(this,Ha)}appendWriter(e){return q(this,rc,$p).call(this,_n(e.data))}writeBytes(e){let n=_n(e);const r=n.length%jn;return r&&(n=_n(Rt([n,NA.slice(r)]))),q(this,rc,$p).call(this,n)}writeValue(e){return q(this,rc,$p).call(this,CD(e))}writeUpdatableValue(){const e=E(this,bs).length;return E(this,bs).push(NA),S(this,Ha,E(this,Ha)+jn),n=>{E(this,bs)[e]=CD(n)}}}bs=new WeakMap,Ha=new WeakMap,rc=new WeakSet,$p=function(e){return E(this,bs).push(e),S(this,Ha,E(this,Ha)+e.length),e.length};var Wn,fr,za,Qa,xu,Bh,PA,dg,rT;const hx=class hx{constructor(e,n,r){j(this,Bh);j(this,dg);_(this,"allowLoose");j(this,Wn,void 0);j(this,fr,void 0);j(this,za,void 0);j(this,Qa,void 0);j(this,xu,void 0);me(this,{allowLoose:!!n}),S(this,Wn,_n(e)),S(this,za,0),S(this,Qa,null),S(this,xu,r??1024),S(this,fr,0)}get data(){return pe(E(this,Wn))}get dataLength(){return E(this,Wn).length}get consumed(){return E(this,fr)}get bytes(){return new Uint8Array(E(this,Wn))}subReader(e){const n=new hx(E(this,Wn).slice(E(this,fr)+e),this.allowLoose,E(this,xu));return S(n,Qa,this),n}readBytes(e,n){let r=q(this,dg,rT).call(this,0,e,!!n);return q(this,Bh,PA).call(this,e),S(this,fr,E(this,fr)+r.length),r.slice(0,e)}readValue(){return Xg(this.readBytes(jn))}readIndex(){return EU(this.readBytes(jn))}};Wn=new WeakMap,fr=new WeakMap,za=new WeakMap,Qa=new WeakMap,xu=new WeakMap,Bh=new WeakSet,PA=function(e){var n;if(E(this,Qa))return q(n=E(this,Qa),Bh,PA).call(n,e);S(this,za,E(this,za)+e),z(E(this,xu)<1||E(this,za)<=E(this,xu)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${E(this,xu)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_n(E(this,Wn)),offset:E(this,fr),length:e,info:{bytesRead:E(this,za),dataLength:this.dataLength}})},dg=new WeakSet,rT=function(e,n,r){let i=Math.ceil(n/jn)*jn;return E(this,fr)+i>E(this,Wn).length&&(this.allowLoose&&r&&E(this,fr)+n<=E(this,Wn).length?i=n:z(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_n(E(this,Wn)),length:E(this,Wn).length,offset:E(this,fr)+i})),E(this,Wn).slice(E(this,fr),E(this,fr)+i)};let TA=hx;function Um(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function u2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function QU(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Um(t.outputLen),Um(t.blockLen)}function Kc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iT(t,e){u2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const av=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sT=t=>t instanceof Uint8Array,GU=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ov=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ii=(t,e)=>t<<32-e|t>>>e,WU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WU)throw new Error("Non little-endian hardware is not supported");function qU(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ty(t){if(typeof t=="string"&&(t=qU(t)),!sT(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function KU(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!sT(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let a2=class{clone(){return this._cloneInto()}};function uT(t){const e=r=>t().update(ty(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function JU(t=32){if(av&&typeof av.getRandomValues=="function")return av.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class aT extends a2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,QU(e);const r=ty(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=e.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(e){return Kc(this),this.iHash.update(e),this}digestInto(e){Kc(this),u2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:u,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=u,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const oT=(t,e,n)=>new aT(t,e).update(n).digest();oT.create=(t,e)=>new aT(t,e);function YU(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),u=Number(n>>i&s),a=Number(n&s),o=r?4:0,c=r?0:4;t.setUint32(e+o,u,r),t.setUint32(e+c,a,r)}class ZU extends a2{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ov(this.buffer)}update(e){Kc(this);const{view:n,buffer:r,blockLen:i}=this;e=ty(e);const s=e.length;for(let u=0;u<s;){const a=Math.min(i-this.pos,s-u);if(a===i){const o=ov(e);for(;i<=s-u;u+=i)this.process(o,u);continue}r.set(e.subarray(u,u+a),this.pos),this.pos+=a,u+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kc(this),iT(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:u}=this;n[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(r,0),u=0);for(let d=u;d<i;d++)n[d]=0;YU(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ov(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,f[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:u,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=u,i%n&&e.buffer.set(r),e}}const XU=(t,e,n)=>t&e^~t&n,eV=(t,e,n)=>t&e^t&n^e&n,tV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),su=new Uint32Array(64);class nV extends ZU{constructor(){super(64,32,8,!1),this.A=iu[0]|0,this.B=iu[1]|0,this.C=iu[2]|0,this.D=iu[3]|0,this.E=iu[4]|0,this.F=iu[5]|0,this.G=iu[6]|0,this.H=iu[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:u,G:a,H:o}=this;return[e,n,r,i,s,u,a,o]}set(e,n,r,i,s,u,a,o){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=a|0,this.H=o|0}process(e,n){for(let d=0;d<16;d++,n+=4)su[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=su[d-15],p=su[d-2],v=Ii(h,7)^Ii(h,18)^h>>>3,m=Ii(p,17)^Ii(p,19)^p>>>10;su[d]=m+su[d-7]+v+su[d-16]|0}let{A:r,B:i,C:s,D:u,E:a,F:o,G:c,H:f}=this;for(let d=0;d<64;d++){const h=Ii(a,6)^Ii(a,11)^Ii(a,25),p=f+h+XU(a,o,c)+tV[d]+su[d]|0,m=(Ii(r,2)^Ii(r,13)^Ii(r,22))+eV(r,i,s)|0;f=c,c=o,o=a,a=u+p|0,u=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,s,u,a,o,c,f)}roundClean(){su.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rV=uT(()=>new nV),sp=BigInt(2**32-1),DD=BigInt(32);function iV(t,e=!1){return e?{h:Number(t&sp),l:Number(t>>DD&sp)}:{h:Number(t>>DD&sp)|0,l:Number(t&sp)|0}}function sV(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:u}=iV(t[i],e);[n[i],r[i]]=[s,u]}return[n,r]}const uV=(t,e,n)=>t<<n|e>>>32-n,aV=(t,e,n)=>e<<n|t>>>32-n,oV=(t,e,n)=>e<<n-32|t>>>64-n,lV=(t,e,n)=>t<<n-32|e>>>64-n,[lT,cT,fT]=[[],[],[]],cV=BigInt(0),Qf=BigInt(1),fV=BigInt(2),dV=BigInt(7),hV=BigInt(256),pV=BigInt(113);for(let t=0,e=Qf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],lT.push(2*(5*r+n)),cT.push((t+1)*(t+2)/2%64);let i=cV;for(let s=0;s<7;s++)e=(e<<Qf^(e>>dV)*pV)%hV,e&fV&&(i^=Qf<<(Qf<<BigInt(s))-Qf);fT.push(i)}const[mV,gV]=sV(fT,!0),kD=(t,e,n)=>n>32?oV(t,e,n):uV(t,e,n),SD=(t,e,n)=>n>32?lV(t,e,n):aV(t,e,n);function yV(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let u=0;u<10;u++)n[u]=t[u]^t[u+10]^t[u+20]^t[u+30]^t[u+40];for(let u=0;u<10;u+=2){const a=(u+8)%10,o=(u+2)%10,c=n[o],f=n[o+1],d=kD(c,f,1)^n[a],h=SD(c,f,1)^n[a+1];for(let p=0;p<50;p+=10)t[u+p]^=d,t[u+p+1]^=h}let i=t[2],s=t[3];for(let u=0;u<24;u++){const a=cT[u],o=kD(i,s,a),c=SD(i,s,a),f=lT[u];i=t[f],s=t[f+1],t[f]=o,t[f+1]=c}for(let u=0;u<50;u+=10){for(let a=0;a<10;a++)n[a]=t[u+a];for(let a=0;a<10;a++)t[u+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=mV[r],t[1]^=gV[r]}n.fill(0)}class o2 extends a2{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Um(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=GU(this.state)}keccak(){yV(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Kc(this);const{blockLen:n,state:r}=this;e=ty(e);const i=e.length;for(let s=0;s<i;){const u=Math.min(n-this.pos,i-s);for(let a=0;a<u;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Kc(this,!1),u2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const u=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+u),i),this.posOut+=u,i+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Um(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(iT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:u}=this;return e||(e=new o2(n,r,i,u,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=u,e.destroyed=this.destroyed,e}}const vV=(t,e,n)=>uT(()=>new o2(e,t,n)),bV=vV(1,136,256/8);let dT=!1;const hT=function(t){return bV(t)};let pT=hT;function it(t){const e=Te(t,"data");return pe(pT(e))}it._=hT;it.lock=function(){dT=!0};it.register=function(t){if(dT)throw new TypeError("keccak256 is locked");pT=t};Object.freeze(it);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mT=BigInt(0),ny=BigInt(1),AV=BigInt(2),ry=t=>t instanceof Uint8Array,wV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jc(t){if(!ry(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=wV[t[n]];return e}function gT(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function l2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Yc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),u=Number.parseInt(s,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");n[r]=u}return n}function fo(t){return l2(Jc(t))}function c2(t){if(!ry(t))throw new Error("Uint8Array expected");return l2(Jc(Uint8Array.from(t).reverse()))}function Zc(t,e){return Yc(t.toString(16).padStart(e*2,"0"))}function f2(t,e){return Zc(t,e).reverse()}function EV(t){return Yc(gT(t))}function oi(t,e,n){let r;if(typeof e=="string")try{r=Yc(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(ry(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function sh(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!ry(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function xV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function FV(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function CV(t){let e;for(e=0;t>mT;t>>=ny,e+=1);return e}function DV(t,e){return t>>BigInt(e)&ny}const kV=(t,e,n)=>t|(n?ny:mT)<<BigInt(e),d2=t=>(AV<<BigInt(t-1))-ny,lv=t=>new Uint8Array(t),BD=t=>Uint8Array.from(t);function yT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=lv(t),i=lv(t),s=0;const u=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),o=(d=lv())=>{i=a(BD([0]),d),r=a(),d.length!==0&&(i=a(BD([1]),d),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return sh(...h)};return(d,h)=>{u(),o(d);let p;for(;!(p=h(c()));)o();return u(),p}}const SV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function s0(t,e,n={}){const r=(i,s,u)=>{const a=SV[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const o=t[i];if(!(u&&o===void 0)&&!a(o,t))throw new Error(`Invalid param ${String(i)}=${o} (${typeof o}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const BV=Object.freeze(Object.defineProperty({__proto__:null,bitGet:DV,bitLen:CV,bitMask:d2,bitSet:kV,bytesToHex:Jc,bytesToNumberBE:fo,bytesToNumberLE:c2,concatBytes:sh,createHmacDrbg:yT,ensureBytes:oi,equalBytes:xV,hexToBytes:Yc,hexToNumber:l2,numberToBytesBE:Zc,numberToBytesLE:f2,numberToHexUnpadded:gT,numberToVarBytesBE:EV,utf8ToBytes:FV,validateObject:s0},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jt=BigInt(0),Bt=BigInt(1),Da=BigInt(2),OV=BigInt(3),jA=BigInt(4),OD=BigInt(5),ND=BigInt(8);BigInt(9);BigInt(16);function Jn(t,e){const n=t%e;return n>=Jt?n:e+n}function NV(t,e,n){if(n<=Jt||e<Jt)throw new Error("Expected power/modulo > 0");if(n===Bt)return Jt;let r=Bt;for(;e>Jt;)e&Bt&&(r=r*t%n),t=t*t%n,e>>=Bt;return r}function Dr(t,e,n){let r=t;for(;e-- >Jt;)r*=r,r%=n;return r}function IA(t,e){if(t===Jt||e<=Jt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Jn(t,e),r=e,i=Jt,s=Bt;for(;n!==Jt;){const a=r/n,o=r%n,c=i-s*a;r=n,n=o,i=s,s=c}if(r!==Bt)throw new Error("invert: does not exist");return Jn(i,e)}function _V(t){const e=(t-Bt)/Da;let n,r,i;for(n=t-Bt,r=0;n%Da===Jt;n/=Da,r++);for(i=Da;i<t&&NV(i,e,t)!==t-Bt;i++);if(r===1){const u=(t+Bt)/jA;return function(o,c){const f=o.pow(c,u);if(!o.eql(o.sqr(f),c))throw new Error("Cannot find square root");return f}}const s=(n+Bt)/Da;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,f=a.pow(a.mul(a.ONE,i),n),d=a.pow(o,s),h=a.pow(o,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(h);p<c&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const v=a.pow(f,Bt<<BigInt(c-p-1));f=a.sqr(v),d=a.mul(d,v),h=a.mul(h,f),c=p}return d}}function TV(t){if(t%jA===OV){const e=(t+Bt)/jA;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%ND===OD){const e=(t-OD)/ND;return function(r,i){const s=r.mul(i,Da),u=r.pow(s,e),a=r.mul(i,u),o=r.mul(r.mul(a,Da),u),c=r.mul(a,r.sub(o,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return _V(t)}const PV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=PV.reduce((r,i)=>(r[i]="function",r),e);return s0(t,n)}function IV(t,e,n){if(n<Jt)throw new Error("Expected power > 0");if(n===Jt)return t.ONE;if(n===Bt)return e;let r=t.ONE,i=e;for(;n>Jt;)n&Bt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Bt;return r}function RV(t,e){const n=new Array(e.length),r=e.reduce((s,u,a)=>t.is0(u)?s:(n[a]=s,t.mul(s,u)),t.ONE),i=t.inv(r);return e.reduceRight((s,u,a)=>t.is0(u)?s:(n[a]=t.mul(s,n[a]),t.mul(s,u)),i),n}function vT(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function LV(t,e,n=!1,r={}){if(t<=Jt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=vT(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=TV(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:d2(i),ZERO:Jt,ONE:Bt,create:o=>Jn(o,t),isValid:o=>{if(typeof o!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof o}`);return Jt<=o&&o<t},is0:o=>o===Jt,isOdd:o=>(o&Bt)===Bt,neg:o=>Jn(-o,t),eql:(o,c)=>o===c,sqr:o=>Jn(o*o,t),add:(o,c)=>Jn(o+c,t),sub:(o,c)=>Jn(o-c,t),mul:(o,c)=>Jn(o*c,t),pow:(o,c)=>IV(a,o,c),div:(o,c)=>Jn(o*IA(c,t),t),sqrN:o=>o*o,addN:(o,c)=>o+c,subN:(o,c)=>o-c,mulN:(o,c)=>o*c,inv:o=>IA(o,t),sqrt:r.sqrt||(o=>u(a,o)),invertBatch:o=>RV(a,o),cmov:(o,c,f)=>f?c:o,toBytes:o=>n?f2(o,s):Zc(o,s),fromBytes:o=>{if(o.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${o.length}`);return n?c2(o):fo(o)}});return Object.freeze(a)}function bT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function AT(t){const e=bT(t);return e+Math.ceil(e/2)}function MV(t,e,n=!1){const r=t.length,i=bT(e),s=AT(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const u=n?fo(t):c2(t),a=Jn(u,e-Bt)+Bt;return n?f2(a,i):Zc(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $V=BigInt(0),cv=BigInt(1);function UV(t,e){const n=(i,s)=>{const u=s.negate();return i?u:s},r=i=>{const s=Math.ceil(e/i)+1,u=2**(i-1);return{windows:s,windowSize:u}};return{constTimeNegate:n,unsafeLadder(i,s){let u=t.ZERO,a=i;for(;s>$V;)s&cv&&(u=u.add(a)),a=a.double(),s>>=cv;return u},precomputeWindow(i,s){const{windows:u,windowSize:a}=r(s),o=[];let c=i,f=c;for(let d=0;d<u;d++){f=c,o.push(f);for(let h=1;h<a;h++)f=f.add(c),o.push(f);c=f.double()}return o},wNAF(i,s,u){const{windows:a,windowSize:o}=r(i);let c=t.ZERO,f=t.BASE;const d=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let v=0;v<a;v++){const m=v*o;let b=Number(u&d);u>>=p,b>o&&(b-=h,u+=cv);const g=m,y=m+Math.abs(b)-1,A=v%2!==0,w=b<0;b===0?f=f.add(n(A,s[g])):c=c.add(n(w,s[y]))}return{p:c,f}},wNAFCached(i,s,u,a){const o=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,o),o!==1&&s.set(i,a(c))),this.wNAF(o,c,u)}}}function wT(t){return jV(t.Fp),s0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VV(t){const e=wT(t);s0(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:HV,hexToBytes:zV}=BV,Ta={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ta;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:HV(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ta,n=typeof t=="string"?zV(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ta._parseInt(n.subarray(2)),{d:u,l:a}=Ta._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:u}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const f=c.toString(16);return f.length&1?`0${f}`:f},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,u=i.length/2,a=n(s),o=n(u);return`30${n(u+s+4)}02${o}${i}02${a}${r}`}},Ss=BigInt(0),Pr=BigInt(1);BigInt(2);const _D=BigInt(3);BigInt(4);function QV(t){const e=VV(t),{Fp:n}=e,r=e.toBytes||((v,m,b)=>{const g=m.toAffine();return sh(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(v=>{const m=v.subarray(1),b=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y:g}});function s(v){const{a:m,b}=e,g=n.sqr(v),y=n.mul(g,v);return n.add(n.add(y,n.mul(v,m)),b)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function u(v){return typeof v=="bigint"&&Ss<v&&v<e.n}function a(v){if(!u(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function o(v){const{allowedPrivateKeyLengths:m,nByteLength:b,wrapPrivateKey:g,n:y}=e;if(m&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Jc(v)),typeof v!="string"||!m.includes(v.length))throw new Error("Invalid key");v=v.padStart(b*2,"0")}let A;try{A=typeof v=="bigint"?v:fo(oi("private key",v,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof v}`)}return g&&(A=Jn(A,y)),a(A),A}const c=new Map;function f(v){if(!(v instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,b,g){if(this.px=m,this.py=b,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){const{x:b,y:g}=m||{};if(!m||!n.isValid(b)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const y=A=>n.eql(A,n.ZERO);return y(b)&&y(g)?d.ZERO:new d(b,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const b=n.invertBatch(m.map(g=>g.pz));return m.map((g,y)=>g.toAffine(b[y])).map(d.fromAffine)}static fromHex(m){const b=d.fromAffine(i(oi("pointHex",m)));return b.assertValidity(),b}static fromPrivateKey(m){return d.BASE.multiply(o(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y:b}=this.toAffine();if(!n.isValid(m)||!n.isValid(b))throw new Error("bad point: x or y not FE");const g=n.sqr(b),y=s(m);if(!n.eql(g,y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){f(m);const{px:b,py:g,pz:y}=this,{px:A,py:w,pz:F}=m,k=n.eql(n.mul(b,F),n.mul(A,y)),C=n.eql(n.mul(g,F),n.mul(w,y));return k&&C}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b}=e,g=n.mul(b,_D),{px:y,py:A,pz:w}=this;let F=n.ZERO,k=n.ZERO,C=n.ZERO,D=n.mul(y,y),T=n.mul(A,A),N=n.mul(w,w),V=n.mul(y,A);return V=n.add(V,V),C=n.mul(y,w),C=n.add(C,C),F=n.mul(m,C),k=n.mul(g,N),k=n.add(F,k),F=n.sub(T,k),k=n.add(T,k),k=n.mul(F,k),F=n.mul(V,F),C=n.mul(g,C),N=n.mul(m,N),V=n.sub(D,N),V=n.mul(m,V),V=n.add(V,C),C=n.add(D,D),D=n.add(C,D),D=n.add(D,N),D=n.mul(D,V),k=n.add(k,D),N=n.mul(A,w),N=n.add(N,N),D=n.mul(N,V),F=n.sub(F,D),C=n.mul(N,T),C=n.add(C,C),C=n.add(C,C),new d(F,k,C)}add(m){f(m);const{px:b,py:g,pz:y}=this,{px:A,py:w,pz:F}=m;let k=n.ZERO,C=n.ZERO,D=n.ZERO;const T=e.a,N=n.mul(e.b,_D);let V=n.mul(b,A),H=n.mul(g,w),Q=n.mul(y,F),ne=n.add(b,g),P=n.add(A,w);ne=n.mul(ne,P),P=n.add(V,H),ne=n.sub(ne,P),P=n.add(b,y);let L=n.add(A,F);return P=n.mul(P,L),L=n.add(V,Q),P=n.sub(P,L),L=n.add(g,y),k=n.add(w,F),L=n.mul(L,k),k=n.add(H,Q),L=n.sub(L,k),D=n.mul(T,P),k=n.mul(N,Q),D=n.add(k,D),k=n.sub(H,D),D=n.add(H,D),C=n.mul(k,D),H=n.add(V,V),H=n.add(H,V),Q=n.mul(T,Q),P=n.mul(N,P),H=n.add(H,Q),Q=n.sub(V,Q),Q=n.mul(T,Q),P=n.add(P,Q),V=n.mul(H,P),C=n.add(C,V),V=n.mul(L,P),k=n.mul(ne,k),k=n.sub(k,V),V=n.mul(ne,H),D=n.mul(L,D),D=n.add(D,V),new d(k,C,D)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return p.wNAFCached(this,c,m,b=>{const g=n.invertBatch(b.map(y=>y.pz));return b.map((y,A)=>y.toAffine(g[A])).map(d.fromAffine)})}multiplyUnsafe(m){const b=d.ZERO;if(m===Ss)return b;if(a(m),m===Pr)return this;const{endo:g}=e;if(!g)return p.unsafeLadder(this,m);let{k1neg:y,k1:A,k2neg:w,k2:F}=g.splitScalar(m),k=b,C=b,D=this;for(;A>Ss||F>Ss;)A&Pr&&(k=k.add(D)),F&Pr&&(C=C.add(D)),D=D.double(),A>>=Pr,F>>=Pr;return y&&(k=k.negate()),w&&(C=C.negate()),C=new d(n.mul(C.px,g.beta),C.py,C.pz),k.add(C)}multiply(m){a(m);let b=m,g,y;const{endo:A}=e;if(A){const{k1neg:w,k1:F,k2neg:k,k2:C}=A.splitScalar(b);let{p:D,f:T}=this.wNAF(F),{p:N,f:V}=this.wNAF(C);D=p.constTimeNegate(w,D),N=p.constTimeNegate(k,N),N=new d(n.mul(N.px,A.beta),N.py,N.pz),g=D.add(N),y=T.add(V)}else{const{p:w,f:F}=this.wNAF(b);g=w,y=F}return d.normalizeZ([g,y])[0]}multiplyAndAddUnsafe(m,b,g){const y=d.BASE,A=(F,k)=>k===Ss||k===Pr||!F.equals(y)?F.multiplyUnsafe(k):F.multiply(k),w=A(this,b).add(A(m,g));return w.is0()?void 0:w}toAffine(m){const{px:b,py:g,pz:y}=this,A=this.is0();m==null&&(m=A?n.ONE:n.inv(y));const w=n.mul(b,m),F=n.mul(g,m),k=n.mul(y,m);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:w,y:F}}isTorsionFree(){const{h:m,isTorsionFree:b}=e;if(m===Pr)return!0;if(b)return b(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:b}=e;return m===Pr?this:b?b(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return Jc(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,p=UV(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:o,weierstrassEquation:s,isWithinCurveOrder:u}}function GV(t){const e=wT(t);return s0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function WV(t){const e=GV(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function u(P){return Ss<P&&P<n.ORDER}function a(P){return Jn(P,r)}function o(P){return IA(P,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=QV({...e,toBytes(P,L,Y){const M=L.toAffine(),G=n.toBytes(M.x),W=sh;return Y?W(Uint8Array.from([L.hasEvenY()?2:3]),G):W(Uint8Array.from([4]),G,n.toBytes(M.y))},fromBytes(P){const L=P.length,Y=P[0],M=P.subarray(1);if(L===i&&(Y===2||Y===3)){const G=fo(M);if(!u(G))throw new Error("Point is not on curve");const W=d(G);let oe=n.sqrt(W);const Z=(oe&Pr)===Pr;return(Y&1)===1!==Z&&(oe=n.neg(oe)),{x:G,y:oe}}else if(L===s&&Y===4){const G=n.fromBytes(M.subarray(0,n.BYTES)),W=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:G,y:W}}else throw new Error(`Point of length ${L} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=P=>Jc(Zc(P,e.nByteLength));function v(P){const L=r>>Pr;return P>L}function m(P){return v(P)?a(-P):P}const b=(P,L,Y)=>fo(P.slice(L,Y));class g{constructor(L,Y,M){this.r=L,this.s=Y,this.recovery=M,this.assertValidity()}static fromCompact(L){const Y=e.nByteLength;return L=oi("compactSignature",L,Y*2),new g(b(L,0,Y),b(L,Y,2*Y))}static fromDER(L){const{r:Y,s:M}=Ta.toSig(oi("DER",L));return new g(Y,M)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(L){return new g(this.r,this.s,L)}recoverPublicKey(L){const{r:Y,s:M,recovery:G}=this,W=C(oi("msgHash",L));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const oe=G===2||G===3?Y+e.n:Y;if(oe>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=G&1?"03":"02",ye=c.fromHex(Z+p(oe)),we=o(oe),ft=a(-W*we),be=a(M*we),dt=c.BASE.multiplyAndAddUnsafe(ye,ft,be);if(!dt)throw new Error("point at infinify");return dt.assertValidity(),dt}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Yc(this.toDERHex())}toDERHex(){return Ta.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const y={isValidPrivateKey(P){try{return f(P),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const P=AT(e.n);return MV(e.randomBytes(P),e.n)},precompute(P=8,L=c.BASE){return L._setWindowSize(P),L.multiply(BigInt(3)),L}};function A(P,L=!0){return c.fromPrivateKey(P).toRawBytes(L)}function w(P){const L=P instanceof Uint8Array,Y=typeof P=="string",M=(L||Y)&&P.length;return L?M===i||M===s:Y?M===2*i||M===2*s:P instanceof c}function F(P,L,Y=!0){if(w(P))throw new Error("first arg must be private key");if(!w(L))throw new Error("second arg must be public key");return c.fromHex(L).multiply(f(P)).toRawBytes(Y)}const k=e.bits2int||function(P){const L=fo(P),Y=P.length*8-e.nBitLength;return Y>0?L>>BigInt(Y):L},C=e.bits2int_modN||function(P){return a(k(P))},D=d2(e.nBitLength);function T(P){if(typeof P!="bigint")throw new Error("bigint expected");if(!(Ss<=P&&P<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Zc(P,e.nByteLength)}function N(P,L,Y=V){if(["recovered","canonical"].some(Re=>Re in Y))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:G}=e;let{lowS:W,prehash:oe,extraEntropy:Z}=Y;W==null&&(W=!0),P=oi("msgHash",P),oe&&(P=oi("prehashed msgHash",M(P)));const ye=C(P),we=f(L),ft=[T(we),T(ye)];if(Z!=null){const Re=Z===!0?G(n.BYTES):Z;ft.push(oi("extraEntropy",Re))}const be=sh(...ft),dt=ye;function At(Re){const Xr=k(Re);if(!h(Xr))return;const Zs=o(Xr),Ti=c.BASE.multiply(Xr).toAffine(),cn=a(Ti.x);if(cn===Ss)return;const ei=a(Zs*a(dt+cn*we));if(ei===Ss)return;let Ho=(Ti.x===cn?0:2)|Number(Ti.y&Pr),xf=ei;return W&&v(ei)&&(xf=m(ei),Ho^=1),new g(cn,xf,Ho)}return{seed:be,k2sig:At}}const V={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function Q(P,L,Y=V){const{seed:M,k2sig:G}=N(P,L,Y),W=e;return yT(W.hash.outputLen,W.nByteLength,W.hmac)(M,G)}c.BASE._setWindowSize(8);function ne(P,L,Y,M=H){var Ti;const G=P;if(L=oi("msgHash",L),Y=oi("publicKey",Y),"strict"in M)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:oe}=M;let Z,ye;try{if(typeof G=="string"||G instanceof Uint8Array)try{Z=g.fromDER(G)}catch(cn){if(!(cn instanceof Ta.Err))throw cn;Z=g.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:cn,s:ei}=G;Z=new g(cn,ei)}else throw new Error("PARSE");ye=c.fromHex(Y)}catch(cn){if(cn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&Z.hasHighS())return!1;oe&&(L=e.hash(L));const{r:we,s:ft}=Z,be=C(L),dt=o(ft),At=a(be*dt),Re=a(we*dt),Xr=(Ti=c.BASE.multiplyAndAddUnsafe(ye,At,Re))==null?void 0:Ti.toAffine();return Xr?a(Xr.x)===we:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:F,sign:Q,verify:ne,ProjectivePoint:c,Signature:g,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qV(t){return{hash:t,hmac:(e,...n)=>oT(t,e,KU(...n)),randomBytes:JU}}function KV(t,e){const n=r=>WV({...t,...qV(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ET=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),TD=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),JV=BigInt(1),RA=BigInt(2),PD=(t,e)=>(t+e/RA)/e;function YV(t){const e=ET,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),u=BigInt(23),a=BigInt(44),o=BigInt(88),c=t*t*t%e,f=c*c*t%e,d=Dr(f,n,e)*f%e,h=Dr(d,n,e)*f%e,p=Dr(h,RA,e)*c%e,v=Dr(p,i,e)*p%e,m=Dr(v,s,e)*v%e,b=Dr(m,a,e)*m%e,g=Dr(b,o,e)*b%e,y=Dr(g,a,e)*m%e,A=Dr(y,n,e)*f%e,w=Dr(A,u,e)*v%e,F=Dr(w,r,e)*c%e,k=Dr(F,RA,e);if(!LA.eql(LA.sqr(k),t))throw new Error("Cannot find square root");return k}const LA=LV(ET,void 0,void 0,{sqrt:YV}),au=KV({a:BigInt(0),b:BigInt(7),Fp:LA,n:TD,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=TD,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-JV*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,u=BigInt("0x100000000000000000000000000000000"),a=PD(s*t,e),o=PD(-r*t,e);let c=Jn(t-a*n-o*i,e),f=Jn(-a*r-o*s,e);const d=c>u,h=f>u;if(d&&(c=e-c),h&&(f=e-f),c>u||f>u)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:h,k2:f}}}},rV);BigInt(0);au.ProjectivePoint;const uh="0x0000000000000000000000000000000000000000",jD="0x0000000000000000000000000000000000000000000000000000000000000000",ID=BigInt(0),RD=BigInt(1),LD=BigInt(2),MD=BigInt(27),$D=BigInt(28),up=BigInt(35),qo={};function UD(t){return xo(Pn(t),32)}var ic,sc,uc,Ga;const ui=class ui{constructor(e,n,r,i){j(this,ic,void 0);j(this,sc,void 0);j(this,uc,void 0);j(this,Ga,void 0);i0(e,qo,"Signature"),S(this,ic,n),S(this,sc,r),S(this,uc,i),S(this,Ga,null)}get r(){return E(this,ic)}set r(e){O(Gl(e)===32,"invalid r","value",e),S(this,ic,pe(e))}get s(){return E(this,sc)}set s(e){O(Gl(e)===32,"invalid s","value",e);const n=pe(e);O(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),S(this,sc,n)}get v(){return E(this,uc)}set v(e){const n=Ae(e,"value");O(n===27||n===28,"invalid v","v",e),S(this,uc,n)}get networkV(){return E(this,Ga)}get legacyChainId(){const e=this.networkV;return e==null?null:ui.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Te(this.s);return this.yParity&&(e[0]|=128),pe(e)}get compactSerialized(){return Rt([this.r,this.yParityAndS])}get serialized(){return Rt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ui(qo,this.r,this.s,this.v);return this.networkV&&S(e,Ga,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=fe(e,"v");return n==MD||n==$D?ID:(O(n>=up,"invalid EIP-155 v","v",e),(n-up)/LD)}static getChainIdV(e,n){return fe(e)*LD+BigInt(35+n-27)}static getNormalizedV(e){const n=fe(e);return n===ID||n===MD?27:n===RD||n===$D?28:(O(n>=up,"invalid v","v",e),n&RD?27:28)}static from(e){function n(c,f){O(c,f,"signature",e)}if(e==null)return new ui(qo,jD,jD,27);if(typeof e=="string"){const c=Te(e,"signature");if(c.length===64){const f=pe(c.slice(0,32)),d=c.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new ui(qo,f,pe(d),h)}if(c.length===65){const f=pe(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const h=ui.getNormalizedV(c[64]);return new ui(qo,f,pe(d),h)}n(!1,"invalid raw signature length")}if(e instanceof ui)return e.clone();const r=e.r;n(r!=null,"missing r");const i=UD(r),s=function(c,f){if(c!=null)return UD(c);if(f!=null){n(Ke(f,32),"invalid yParityAndS");const d=Te(f);return d[0]&=127,pe(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Te(s)[0]&128)==0,"non-canonical s");const{networkV:u,v:a}=function(c,f,d){if(c!=null){const h=fe(c);return{networkV:h>=up?h:void 0,v:ui.getNormalizedV(h)}}if(f!=null)return n(Ke(f,32),"invalid yParityAndS"),{v:Te(f)[0]&128?28:27};if(d!=null){switch(Ae(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new ui(qo,i,s,a);return u&&S(o,Ga,u),n(e.yParity==null||Ae(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}};ic=new WeakMap,sc=new WeakMap,uc=new WeakMap,Ga=new WeakMap;let Fi=ui;var As;const ka=class ka{constructor(e){j(this,As,void 0);O(Gl(e)===32,"invalid private key","privateKey","[REDACTED]"),S(this,As,pe(e))}get privateKey(){return E(this,As)}get publicKey(){return ka.computePublicKey(E(this,As))}get compressedPublicKey(){return ka.computePublicKey(E(this,As),!0)}sign(e){O(Gl(e)===32,"invalid digest length","digest",e);const n=au.sign(_n(e),_n(E(this,As)),{lowS:!0});return Fi.from({r:ia(n.r,32),s:ia(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ka.computePublicKey(e);return pe(au.getSharedSecret(_n(E(this,As)),Te(n),!1))}static computePublicKey(e,n){let r=Te(e,"key");if(r.length===32){const s=au.getPublicKey(r,!!n);return pe(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=au.ProjectivePoint.fromHex(r);return pe(i.toRawBytes(n))}static recoverPublicKey(e,n){O(Gl(e)===32,"invalid digest length","digest",e);const r=Fi.from(n);let i=au.Signature.fromCompact(_n(Rt([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(_n(e));return O(s!=null,"invalid signautre for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=au.ProjectivePoint.fromHex(ka.computePublicKey(e).substring(2)),s=au.ProjectivePoint.fromHex(ka.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};As=new WeakMap;let ah=ka;const ZV=BigInt(0),XV=BigInt(36);function VD(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Te(it(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const h2={};for(let t=0;t<10;t++)h2[String(t)]=String(t);for(let t=0;t<26;t++)h2[String.fromCharCode(65+t)]=String(10+t);const HD=15;function eH(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>h2[r]).join("");for(;e.length>=HD;){let r=e.substring(0,HD);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const tH=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function nH(t){t=t.toLowerCase();let e=ZV;for(let n=0;n<t.length;n++)e=e*XV+tH[t[n]];return e}function Ge(t){if(O(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=VD(t);return O(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){O(t.substring(2,4)===eH(t),"bad icap checksum","address",t);let e=nH(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return VD("0x"+e)}O(!1,"invalid address","address",t)}function rH(t){const e=Ge(t.from);let r=fe(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Ge(pt(it(qc([e,r])),12))}function xT(t){return t&&typeof t.getAddress=="function"}async function fv(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(z(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),O(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ge(n)}function In(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ge(t):(z(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),fv(t,e.resolveName(t)));if(xT(t))return fv(t,t.getAddress());if(t&&typeof t.then=="function")return fv(t,t);O(!1,"unsupported addressable value","target",t)}const os={};function se(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new En(os,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Oe(t,e){return new En(os,`bytes${e||""}`,t,{size:e})}const zD=Symbol.for("_ethers_typed");var Wa;const ls=class ls{constructor(e,n,r,i){_(this,"type");_(this,"value");j(this,Wa,void 0);_(this,"_typedSymbol");i==null&&(i=null),i0(os,e,"Typed"),me(this,{_typedSymbol:zD,type:n,value:r}),S(this,Wa,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return E(this,Wa)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return E(this,Wa)===!0?-1:E(this,Wa)===!1?this.value.length:null}static from(e,n){return new ls(os,e,n)}static uint8(e){return se(e,8)}static uint16(e){return se(e,16)}static uint24(e){return se(e,24)}static uint32(e){return se(e,32)}static uint40(e){return se(e,40)}static uint48(e){return se(e,48)}static uint56(e){return se(e,56)}static uint64(e){return se(e,64)}static uint72(e){return se(e,72)}static uint80(e){return se(e,80)}static uint88(e){return se(e,88)}static uint96(e){return se(e,96)}static uint104(e){return se(e,104)}static uint112(e){return se(e,112)}static uint120(e){return se(e,120)}static uint128(e){return se(e,128)}static uint136(e){return se(e,136)}static uint144(e){return se(e,144)}static uint152(e){return se(e,152)}static uint160(e){return se(e,160)}static uint168(e){return se(e,168)}static uint176(e){return se(e,176)}static uint184(e){return se(e,184)}static uint192(e){return se(e,192)}static uint200(e){return se(e,200)}static uint208(e){return se(e,208)}static uint216(e){return se(e,216)}static uint224(e){return se(e,224)}static uint232(e){return se(e,232)}static uint240(e){return se(e,240)}static uint248(e){return se(e,248)}static uint256(e){return se(e,256)}static uint(e){return se(e,256)}static int8(e){return se(e,-8)}static int16(e){return se(e,-16)}static int24(e){return se(e,-24)}static int32(e){return se(e,-32)}static int40(e){return se(e,-40)}static int48(e){return se(e,-48)}static int56(e){return se(e,-56)}static int64(e){return se(e,-64)}static int72(e){return se(e,-72)}static int80(e){return se(e,-80)}static int88(e){return se(e,-88)}static int96(e){return se(e,-96)}static int104(e){return se(e,-104)}static int112(e){return se(e,-112)}static int120(e){return se(e,-120)}static int128(e){return se(e,-128)}static int136(e){return se(e,-136)}static int144(e){return se(e,-144)}static int152(e){return se(e,-152)}static int160(e){return se(e,-160)}static int168(e){return se(e,-168)}static int176(e){return se(e,-176)}static int184(e){return se(e,-184)}static int192(e){return se(e,-192)}static int200(e){return se(e,-200)}static int208(e){return se(e,-208)}static int216(e){return se(e,-216)}static int224(e){return se(e,-224)}static int232(e){return se(e,-232)}static int240(e){return se(e,-240)}static int248(e){return se(e,-248)}static int256(e){return se(e,-256)}static int(e){return se(e,-256)}static bytes1(e){return Oe(e,1)}static bytes2(e){return Oe(e,2)}static bytes3(e){return Oe(e,3)}static bytes4(e){return Oe(e,4)}static bytes5(e){return Oe(e,5)}static bytes6(e){return Oe(e,6)}static bytes7(e){return Oe(e,7)}static bytes8(e){return Oe(e,8)}static bytes9(e){return Oe(e,9)}static bytes10(e){return Oe(e,10)}static bytes11(e){return Oe(e,11)}static bytes12(e){return Oe(e,12)}static bytes13(e){return Oe(e,13)}static bytes14(e){return Oe(e,14)}static bytes15(e){return Oe(e,15)}static bytes16(e){return Oe(e,16)}static bytes17(e){return Oe(e,17)}static bytes18(e){return Oe(e,18)}static bytes19(e){return Oe(e,19)}static bytes20(e){return Oe(e,20)}static bytes21(e){return Oe(e,21)}static bytes22(e){return Oe(e,22)}static bytes23(e){return Oe(e,23)}static bytes24(e){return Oe(e,24)}static bytes25(e){return Oe(e,25)}static bytes26(e){return Oe(e,26)}static bytes27(e){return Oe(e,27)}static bytes28(e){return Oe(e,28)}static bytes29(e){return Oe(e,29)}static bytes30(e){return Oe(e,30)}static bytes31(e){return Oe(e,31)}static bytes32(e){return Oe(e,32)}static address(e){return new ls(os,"address",e)}static bool(e){return new ls(os,"bool",!!e)}static bytes(e){return new ls(os,"bytes",e)}static string(e){return new ls(os,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ls(os,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===zD}static dereference(e,n){if(ls.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Wa=new WeakMap;let En=ls;class iH extends qs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=En.dereference(n,"string");try{r=Ge(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return Ge(ia(e.readValue(),20))}}class sH extends qs{constructor(n){super(n.name,n.type,"_",n.dynamic);_(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function FT(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let o={};r=e.map(c=>{const f=c.localName;return z(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),z(!o[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),o[f]=!0,n[f]})}else O(!1,"invalid tuple value","tuple",n);O(e.length===r.length,"types/value length mismatch","tuple",n);let i=new _A,s=new _A,u=[];e.forEach((o,c)=>{let f=r[c];if(o.dynamic){let d=s.length;o.encode(s,f);let h=i.writeUpdatableValue();u.push(p=>{h(p+d)})}else o.encode(i,f)}),u.forEach(o=>{o(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function CT(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let u=null;if(s.dynamic){let a=t.readIndex(),o=i.subReader(a);try{u=s.decode(o)}catch(c){if(wn(c,"BUFFER_OVERRUN"))throw c;u=c,u.baseType=s.name,u.name=s.localName,u.type=s.type}}else try{u=s.decode(t)}catch(a){if(wn(a,"BUFFER_OVERRUN"))throw a;u=a,u.baseType=s.name,u.name=s.localName,u.type=s.type}if(u==null)throw new Error("investigate");n.push(u),r.push(s.localName||null)}),nT.fromItems(n,r)}class uH extends qs{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",u=r===-1||n.dynamic;super("array",s,i,u);_(this,"coder");_(this,"length");me(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=En.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),H_(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let a=0;a<i.length;a++)u.push(this.coder);return FT(n,u,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),z(r*jn<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*jn,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new sH(this.coder));return CT(n,i)}}class aH extends qs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=En.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class DT extends qs{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=_n(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class oH extends DT{constructor(e){super("bytes",e)}decode(e){return pe(super.decode(e))}}class lH extends qs{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);_(this,"size");me(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=_n(En.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return pe(n.readBytes(this.size))}}const cH=new Uint8Array([]);class fH extends qs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(cH)}decode(e){return e.readBytes(0),null}}const dH=BigInt(0),hH=BigInt(1),pH=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class mH extends qs{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);_(this,"size");_(this,"signed");me(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=fe(En.dereference(r,this.type)),s=_a(pH,jn*8);if(this.signed){let u=_a(s,this.size*8-1);(i>u||i<-(u+hH))&&this._throwError("value out-of-bounds",r),i=G_(i,8*jn)}else(i<dH||i>_a(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=_a(n.readValue(),this.size*8);return this.signed&&(r=Lm(r,this.size*8)),r}}class gH extends DT{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ps(En.dereference(n,"string")))}decode(e){return Mm(super.decode(e))}}class ap extends qs{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const u="tuple("+s.join(",")+")";super("tuple",u,r,i);_(this,"coders");me(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const u=s.localName;return u&&(i[u]||(i[u]=0),i[u]++),i},{});return this.coders.forEach((i,s)=>{let u=i.localName;!u||r[u]!==1||(u==="length"&&(u="_length"),n[u]==null&&(n[u]=n[s]))}),Object.freeze(n)}encode(n,r){const i=En.dereference(r,"tuple");return FT(n,this.coders,i)}decode(n){return CT(n,this.coders)}}function Fo(t){return it(Ps(t))}var yH="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const QD=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),GD=4;function vH(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let F=1;F<r;F++)s.push(i+=n());let u=n(),a=e;e+=u;let o=0,c=0;function f(){return o==0&&(c=c<<8|t[e++],o=8),c>>--o&1}const d=31,h=2**d,p=h>>>1,v=p>>1,m=h-1;let b=0;for(let F=0;F<d;F++)b=b<<1|f();let g=[],y=0,A=h;for(;;){let F=Math.floor(((b-y+1)*i-1)/A),k=0,C=r;for(;C-k>1;){let N=k+C>>>1;F<s[N]?C=N:k=N}if(k==0)break;g.push(k);let D=y+Math.floor(A*s[k]/i),T=y+Math.floor(A*s[k+1]/i)-1;for(;!((D^T)&p);)b=b<<1&m|f(),D=D<<1&m,T=T<<1&m|1;for(;D&~T&v;)b=b&p|b<<1&m>>>1|f(),D=D<<1^p,T=(T^p)<<1|p|1;y=D,A=1+T-D}let w=r-4;return g.map(F=>{switch(F-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return F-1}})}function bH(t){let e=0;return()=>t[e++]}function kT(t){return bH(vH(AH(t)))}function AH(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,u=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],u+=6,u>=8&&(r[s++]=a>>(u-=8));return r}function wH(t){return t&1?~t>>1:t>>1}function EH(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=wH(e());return n}function oh(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function ST(t){return lh(()=>{let e=oh(t);if(e.length)return e})}function BT(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(xH(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(FH(n,t))}return e.flat()}function lh(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function OT(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)EH(t,n).forEach((s,u)=>r[u].push(s));return r}function xH(t,e){let n=1+e(),r=e(),i=lh(e);return OT(i.length,1+t,e).flatMap((u,a)=>{let[o,...c]=u;return Array(i[a]).fill().map((f,d)=>{let h=d*r;return[o+d*n,c.map(p=>p+h)]})})}function FH(t,e){let n=1+e();return OT(n,1+t,e).map(i=>[i[0],i.slice(1)])}function CH(t){let e=[],n=oh(t);return i(r([]),[]),e;function r(s){let u=t(),a=lh(()=>{let o=oh(t).map(c=>n[c]);if(o.length)return r(o)});return{S:u,B:a,Q:s}}function i({S:s,B:u},a,o){if(!(s&4&&o===a[a.length-1])){s&2&&(o=a[a.length-1]),s&1&&e.push(a);for(let c of u)for(let f of c.Q)i(c,[...a,f],o)}}}function DH(t){return t.toString(16).toUpperCase().padStart(2,"0")}function NT(t){return`{${DH(t)}}`}function kH(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Xc(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function SH(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var BH="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const ch=44032,Vm=4352,Hm=4449,zm=4519,_T=19,TT=21,ef=28,Qm=TT*ef,OH=_T*Qm,NH=ch+OH,_H=Vm+_T,TH=Hm+TT,PH=zm+ef;function od(t){return t>>24&255}function PT(t){return t&16777215}let MA,WD,$A,Up;function jH(){let t=kT(BH);MA=new Map(ST(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),WD=new Set(oh(t)),$A=new Map,Up=new Map;for(let[e,n]of BT(t)){if(!WD.has(e)&&n.length==2){let[r,i]=n,s=Up.get(r);s||(s=new Map,Up.set(r,s)),s.set(i,e)}$A.set(e,n.reverse())}}function jT(t){return t>=ch&&t<NH}function IH(t,e){if(t>=Vm&&t<_H&&e>=Hm&&e<TH)return ch+(t-Vm)*Qm+(e-Hm)*ef;if(jT(t)&&e>zm&&e<PH&&(t-ch)%ef==0)return t+(e-zm);{let n=Up.get(t);return n&&(n=n.get(e),n)?n:-1}}function IT(t){MA||jH();let e=[],n=[],r=!1;function i(s){let u=MA.get(s);u&&(r=!0,s|=u),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(jT(s)){let u=s-ch,a=u/Qm|0,o=u%Qm/ef|0,c=u%ef;i(Vm+a),i(Hm+o),c>0&&i(zm+c)}else{let u=$A.get(s);u?n.push(...u):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=od(e[0]);for(let u=1;u<e.length;u++){let a=od(e[u]);if(a==0||s<=a){s=a;continue}let o=u-1;for(;;){let c=e[o+1];if(e[o+1]=e[o],e[o]=c,!o||(s=od(e[--o]),s<=a))break}s=od(e[u])}}return e}function RH(t){let e=[],n=[],r=-1,i=0;for(let s of t){let u=od(s),a=PT(s);if(r==-1)u==0?r=a:e.push(a);else if(i>0&&i>=u)u==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=u;else{let o=IH(r,a);o>=0?r=o:i==0&&u==0?(e.push(r),r=a):(n.push(a),i=u)}}return r>=0&&e.push(r,...n),e}function RT(t){return IT(t).map(PT)}function LH(t){return RH(IT(t))}const qD=45,LT=".",MT=65039,$T=1,Gm=t=>Array.from(t);function fh(t,e){return t.P.has(e)||t.Q.has(e)}let MH=class extends Array{get is_emoji(){return!0}},UA,UT,Pa,VA,VT,ql,dv,nl,Fa,KD,HA;function p2(){if(UA)return;let t=kT(yH);const e=()=>oh(t),n=()=>new Set(e()),r=(f,d)=>d.forEach(h=>f.add(h));UA=new Map(BT(t)),UT=n(),Pa=e(),VA=new Set(e().map(f=>Pa[f])),Pa=new Set(Pa),VT=n(),n();let i=ST(t),s=t();const u=()=>{let f=new Set;return e().forEach(d=>r(f,i[d])),r(f,e()),f};ql=lh(f=>{let d=lh(t).map(h=>h+96);if(d.length){let h=f>=s;d[0]-=32,d=Xc(d),h&&(d=`Restricted[${d}]`);let p=u(),v=u(),m=!t();return{N:d,P:p,Q:v,M:m,R:h}}}),dv=n(),nl=new Map;let a=e().concat(Gm(dv)).sort((f,d)=>f-d);a.forEach((f,d)=>{let h=t(),p=a[d]=h?a[d-h]:{V:[],M:new Map};p.V.push(f),dv.has(f)||nl.set(f,p)});for(let{V:f,M:d}of new Set(nl.values())){let h=[];for(let v of f){let m=ql.filter(g=>fh(g,v)),b=h.find(({G:g})=>m.some(y=>g.has(y)));b||(b={G:new Set,V:[]},h.push(b)),b.V.push(v),r(b.G,m)}let p=h.flatMap(v=>Gm(v.G));for(let{G:v,V:m}of h){let b=new Set(p.filter(g=>!v.has(g)));for(let g of m)d.set(g,b)}}Fa=new Set;let o=new Set;const c=f=>Fa.has(f)?o.add(f):Fa.add(f);for(let f of ql){for(let d of f.P)c(d);for(let d of f.Q)c(d)}for(let f of Fa)!nl.has(f)&&!o.has(f)&&nl.set(f,$T);r(Fa,RT(Fa)),KD=CH(t).map(f=>MH.from(f)).sort(SH),HA=new Map;for(let f of KD){let d=[HA];for(let h of f){let p=d.map(v=>{let m=v.get(h);return m||(m=new Map,v.set(h,m)),m});h===MT?d.push(...p):d=p}for(let h of d)h.V=f}}function m2(t){return(HT(t)?"":`${g2(iy([t]))} `)+NT(t)}function g2(t){return`"${t}"‎`}function $H(t){if(t.length>=4&&t[2]==qD&&t[3]==qD)throw new Error(`invalid label extension: "${Xc(t.slice(0,4))}"`)}function UH(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function VH(t){let e=t[0],n=QD.get(e);if(n)throw Dd(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let u=QD.get(e);if(u){if(i==s)throw Dd(`${n} + ${u}`);i=s+1,n=u}}if(i==r)throw Dd(`trailing ${n}`)}function iy(t,e=1/0,n=NT){let r=[];HH(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let u=0;u<s;u++){let a=t[u];HT(a)&&(r.push(Xc(t.slice(i,u))),r.push(n(a)),i=u+1)}return r.push(Xc(t.slice(i,s))),r.join("")}function HH(t){return p2(),Pa.has(t)}function HT(t){return p2(),VT.has(t)}function zH(t){return qH(QH(t,LH,YH))}function QH(t,e,n){if(!t)return[];p2();let r=0;return t.split(LT).map(i=>{let s=kH(i),u={input:s,offset:r};r+=s.length+1;try{let a=u.tokens=JH(s,e,n),o=a.length,c;if(!o)throw new Error("empty label");let f=u.output=a.flat();if(UH(f),!(u.emoji=o>1||a[0].is_emoji)&&f.every(h=>h<128))$H(f),c="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)c="Emoji";else{if(Pa.has(f[0]))throw Dd("leading combining mark");for(let m=1;m<o;m++){let b=a[m];if(!b.is_emoji&&Pa.has(b[0]))throw Dd(`emoji + combining mark: "${Xc(a[m-1])} + ${iy([b[0]])}"`)}VH(f);let p=Gm(new Set(h)),[v]=WH(p);KH(v,h),GH(v,p),c=v.N}}u.type=c}catch(a){u.error=a}return u})}function GH(t,e){let n,r=[];for(let i of e){let s=nl.get(i);if(s===$T)return;if(s){let u=s.M.get(i);if(n=n?n.filter(a=>u.has(a)):Gm(u),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>fh(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function WH(t){let e=ql;for(let n of t){let r=e.filter(i=>fh(i,n));if(!r.length)throw ql.some(i=>fh(i,n))?QT(e[0],n):zT(n);if(e=r,r.length==1)break}return e}function qH(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${g2(iy(e,63))}: ${i}`)}return Xc(r)}).join(LT)}function zT(t){return new Error(`disallowed character: ${m2(t)}`)}function QT(t,e){let n=m2(e),r=ql.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Dd(t){return new Error(`illegal placement: ${t}`)}function KH(t,e){for(let n of e)if(!fh(t,n))throw QT(t,n);if(t.M){let n=RT(e);for(let r=1,i=n.length;r<i;r++)if(VA.has(n[r])){let s=r+1;for(let u;s<i&&VA.has(u=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==u)throw new Error(`duplicate non-spacing marks: ${m2(u)}`);if(s-r>GD)throw new Error(`excessive non-spacing marks: ${g2(iy(n.slice(r-1,s)))} (${s-r}/${GD})`);r=s}}}function JH(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=ZH(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let u=t.pop();if(Fa.has(u))i.push(u);else{let a=UA.get(u);if(a)i.push(...a);else if(!UT.has(u))throw zT(u)}}}return i.length&&r.push(e(i)),r}function YH(t){return t.filter(e=>e!=MT)}function ZH(t,e){let n=HA,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}const GT=new Uint8Array(32);GT.fill(0);function JD(t){return O(t.length!==0,"invalid ENS name; empty component","comp",t),t}function WT(t){const e=Ps(XH(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(JD(e.slice(r,i))),r=i+1);return O(r<e.length,"invalid ENS name; empty component","name",t),n.push(JD(e.slice(r))),n}function XH(t){try{if(t.length===0)throw new Error("empty label");return zH(t)}catch(e){O(!1,`invalid ENS name (${e.message})`,"name",t)}}function zA(t){O(typeof t=="string","invalid ENS name; not a string","name",t),O(t.length,"invalid ENS name (empty label)","name",t);let e=GT;const n=WT(t);for(;n.length;)e=it(Rt([e,it(n.pop())]));return pe(e)}function ez(t,e){const n=e??63;return O(n<=255,"DNS encoded label cannot exceed 255","length",n),pe(Rt(WT(t).map(r=>{O(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}function hv(t,e){return{address:Ge(t),storageKeys:e.map((n,r)=>(O(Ke(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Lo(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(O(n.length===2,"invalid slot set",`value[${r}]`,n),hv(n[0],n[1])):(O(n!=null&&typeof n=="object","invalid address-slot set","value",t),hv(n.address,n.storageKeys)));O(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return hv(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function tz(t){let e;return typeof t=="string"?e=ah.computePublicKey(t,!1):e=t.publicKey,Ge(it("0x"+e.substring(4)).substring(26))}function nz(t,e){return tz(ah.recoverPublicKey(t,e))}const qt=BigInt(0),rz=BigInt(2),iz=BigInt(27),sz=BigInt(28),uz=BigInt(35),az=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sy(t){return t==="0x"?null:Ge(t)}function y2(t,e){try{return Lo(t)}catch(n){O(!1,n.message,e,t)}}function u0(t,e){return t==="0x"?0:Ae(t,e)}function Ot(t,e){if(t==="0x")return qt;const n=fe(t,e);return O(n<=az,"value exceeds uint size",e,n),n}function tt(t,e){const n=fe(t,"value"),r=Pn(n);return O(r.length<=32,"value too large",`tx.${e}`,n),r}function v2(t){return Lo(t).map(e=>[e.address,e.storageKeys])}function oz(t,e){O(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)O(Ke(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function lz(t){const e=ey(t);O(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:u0(e[0],"nonce"),gasPrice:Ot(e[1],"gasPrice"),gasLimit:Ot(e[2],"gasLimit"),to:sy(e[3]),value:Ot(e[4],"value"),data:pe(e[5]),chainId:qt};if(e.length===6)return n;const r=Ot(e[6],"v"),i=Ot(e[7],"r"),s=Ot(e[8],"s");if(i===qt&&s===qt)n.chainId=r;else{let u=(r-uz)/rz;u<qt&&(u=qt),n.chainId=u,O(u!==qt||r===iz||r===sz,"non-canonical legacy v","v",e[6]),n.signature=Fi.from({r:xo(e[7],32),s:xo(e[8],32),v:r}),n.hash=it(t)}return n}function YD(t,e){const n=[tt(t.nonce,"nonce"),tt(t.gasPrice||0,"gasPrice"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data];let r=qt;if(t.chainId!=qt)r=fe(t.chainId,"tx.chainId"),O(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==qt&&(n.push(Pn(r)),n.push("0x"),n.push("0x")),qc(n);let i=BigInt(27+e.yParity);return r!==qt?i=Fi.getChainIdV(r,e.v):BigInt(e.v)!==i&&O(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Pn(i)),n.push(Pn(e.r)),n.push(Pn(e.s)),qc(n)}function b2(t,e){let n;try{if(n=u0(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{O(!1,"invalid yParity","yParity",e[0])}const r=xo(e[1],32),i=xo(e[2],32),s=Fi.from({r,s:i,yParity:n});t.signature=s}function cz(t){const e=ey(Te(t).slice(1));O(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",pe(t));const n={type:2,chainId:Ot(e[0],"chainId"),nonce:u0(e[1],"nonce"),maxPriorityFeePerGas:Ot(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ot(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ot(e[4],"gasLimit"),to:sy(e[5]),value:Ot(e[6],"value"),data:pe(e[7]),accessList:y2(e[8],"accessList")};return e.length===9||(n.hash=it(t),b2(n,e.slice(9))),n}function ZD(t,e){const n=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tt(t.maxFeePerGas||0,"maxFeePerGas"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data,v2(t.accessList||[])];return e&&(n.push(tt(e.yParity,"yParity")),n.push(Pn(e.r)),n.push(Pn(e.s))),Rt(["0x02",qc(n)])}function fz(t){const e=ey(Te(t).slice(1));O(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",pe(t));const n={type:1,chainId:Ot(e[0],"chainId"),nonce:u0(e[1],"nonce"),gasPrice:Ot(e[2],"gasPrice"),gasLimit:Ot(e[3],"gasLimit"),to:sy(e[4]),value:Ot(e[5],"value"),data:pe(e[6]),accessList:y2(e[7],"accessList")};return e.length===8||(n.hash=it(t),b2(n,e.slice(8))),n}function XD(t,e){const n=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.gasPrice||0,"gasPrice"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data,v2(t.accessList||[])];return e&&(n.push(tt(e.yParity,"recoveryParam")),n.push(Pn(e.r)),n.push(Pn(e.s))),Rt(["0x01",qc(n)])}function dz(t){const e=ey(Te(t).slice(1));O(Array.isArray(e)&&(e.length===11||e.length===14),"invalid field count for transaction type: 3","data",pe(t));const n={type:3,chainId:Ot(e[0],"chainId"),nonce:u0(e[1],"nonce"),maxPriorityFeePerGas:Ot(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ot(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ot(e[4],"gasLimit"),to:sy(e[5]),value:Ot(e[6],"value"),data:pe(e[7]),accessList:y2(e[8],"accessList"),maxFeePerBlobGas:Ot(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};O(n.to!=null,"invalid address for transaction type: 3","data",t),O(Array.isArray(n.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let r=0;r<n.blobVersionedHashes.length;r++)O(Ke(n.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",t);return e.length===11||(n.hash=it(t),b2(n,e.slice(11))),n}function ek(t,e){const n=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tt(t.maxFeePerGas||0,"maxFeePerGas"),tt(t.gasLimit,"gasLimit"),t.to||uh,tt(t.value,"value"),t.data,v2(t.accessList||[]),tt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),oz(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(tt(e.yParity,"yParity")),n.push(Pn(e.r)),n.push(Pn(e.s))),Rt(["0x03",qc(n)])}var Ui,ac,oc,lc,cc,fc,dc,hc,pc,mc,gc,yc,qa,Ka;const cs=class cs{constructor(){j(this,Ui,void 0);j(this,ac,void 0);j(this,oc,void 0);j(this,lc,void 0);j(this,cc,void 0);j(this,fc,void 0);j(this,dc,void 0);j(this,hc,void 0);j(this,pc,void 0);j(this,mc,void 0);j(this,gc,void 0);j(this,yc,void 0);j(this,qa,void 0);j(this,Ka,void 0);S(this,Ui,null),S(this,ac,null),S(this,lc,0),S(this,cc,qt),S(this,fc,null),S(this,dc,null),S(this,hc,null),S(this,oc,"0x"),S(this,pc,qt),S(this,mc,qt),S(this,gc,null),S(this,yc,null),S(this,qa,null),S(this,Ka,null)}get type(){return E(this,Ui)}set type(e){switch(e){case null:S(this,Ui,null);break;case 0:case"legacy":S(this,Ui,0);break;case 1:case"berlin":case"eip-2930":S(this,Ui,1);break;case 2:case"london":case"eip-1559":S(this,Ui,2);break;case 3:case"cancun":case"eip-4844":S(this,Ui,3);break;default:O(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=E(this,ac);return e==null&&this.type===3?uh:e}set to(e){S(this,ac,e==null?null:Ge(e))}get nonce(){return E(this,lc)}set nonce(e){S(this,lc,Ae(e,"value"))}get gasLimit(){return E(this,cc)}set gasLimit(e){S(this,cc,fe(e))}get gasPrice(){const e=E(this,fc);return e==null&&(this.type===0||this.type===1)?qt:e}set gasPrice(e){S(this,fc,e==null?null:fe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=E(this,dc);return e??(this.type===2||this.type===3?qt:null)}set maxPriorityFeePerGas(e){S(this,dc,e==null?null:fe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=E(this,hc);return e??(this.type===2||this.type===3?qt:null)}set maxFeePerGas(e){S(this,hc,e==null?null:fe(e,"maxFeePerGas"))}get data(){return E(this,oc)}set data(e){S(this,oc,pe(e))}get value(){return E(this,pc)}set value(e){S(this,pc,fe(e,"value"))}get chainId(){return E(this,mc)}set chainId(e){S(this,mc,fe(e))}get signature(){return E(this,gc)||null}set signature(e){S(this,gc,e==null?null:Fi.from(e))}get accessList(){const e=E(this,yc)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){S(this,yc,e==null?null:Lo(e))}get maxFeePerBlobGas(){const e=E(this,qa);return e==null&&this.type===3?qt:e}set maxFeePerBlobGas(e){S(this,qa,e==null?null:fe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=E(this,Ka);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){O(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)O(Ke(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}S(this,Ka,e)}get hash(){return this.signature==null?null:it(this.serialized)}get unsignedHash(){return it(this.unsignedSerialized)}get from(){return this.signature==null?null:nz(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ah.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(z(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return YD(this,this.signature);case 1:return XD(this,this.signature);case 2:return ZD(this,this.signature);case 3:return ek(this,this.signature)}z(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return YD(this);case 1:return XD(this);case 2:return ZD(this);case 3:return ek(this)}z(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=E(this,qa)!=null||E(this,Ka);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&z(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),z(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),z(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return cs.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new cs;if(typeof e=="string"){const r=Te(e);if(r[0]>=127)return cs.from(lz(r));switch(r[0]){case 1:return cs.from(fz(r));case 2:return cs.from(cz(r));case 3:return cs.from(dz(r))}z(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new cs;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Fi.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.hash!=null&&(O(n.isSigned(),"unsigned transaction cannot define hash","tx",e),O(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(O(n.isSigned(),"unsigned transaction cannot define from","tx",e),O(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Ui=new WeakMap,ac=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,fc=new WeakMap,dc=new WeakMap,hc=new WeakMap,pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,yc=new WeakMap,qa=new WeakMap,Ka=new WeakMap;let Wm=cs;const qT=new Uint8Array(32);qT.fill(0);const hz=BigInt(-1),KT=BigInt(0),JT=BigInt(1),pz=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function mz(t){const e=Te(t),n=e.length%32;return n?Rt([e,qT.slice(n)]):pe(e)}const gz=ia(JT,32),yz=ia(KT,32),tk={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},pv=["name","version","chainId","verifyingContract","salt"];function nk(t){return function(e){return O(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const vz={name:nk("name"),version:nk("version"),chainId:function(t){const e=fe(t,"domain.chainId");return O(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Cl(e)},verifyingContract:function(t){try{return Ge(t).toLowerCase()}catch{}O(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Te(t,"domain.salt");return O(e.length===32,'invalid domain value "salt"',"domain.salt",t),pe(e)}};function mv(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);O(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=_a(pz,n?r-1:r),s=n?(i+JT)*hz:KT;return function(u){const a=fe(u,"value");return O(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),ia(n?G_(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return O(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Te(r);return O(i.length===n,`invalid length for ${t}`,"value",r),mz(r)}}}switch(t){case"address":return function(e){return xo(Ge(e),32)};case"bool":return function(e){return e?gz:yz};case"bytes":return function(e){return it(e)};case"string":return function(e){return Fo(e)}}return null}function rk(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function op(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Oh,ws,vc,hg,YT;const Sr=class Sr{constructor(e){j(this,hg);_(this,"primaryType");j(this,Oh,void 0);j(this,ws,void 0);j(this,vc,void 0);S(this,ws,new Map),S(this,vc,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(o=>{s[o]=e[o].map(({name:c,type:f})=>{let{base:d,index:h}=op(f);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(h||"")}}),n.set(o,new Set),r.set(o,[]),i.set(o,new Set)}),S(this,Oh,JSON.stringify(s));for(const o in s){const c=new Set;for(const f of s[o]){O(!c.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(o)}`,"types",e),c.add(f.name);const d=op(f.type).base;O(d!==o,`circular type reference to ${JSON.stringify(d)}`,"types",e),!mv(d)&&(O(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(o),n.get(o).add(d))}}const u=Array.from(r.keys()).filter(o=>r.get(o).length===0);O(u.length!==0,"missing primary type","types",e),O(u.length===1,`ambiguous primary types or unused types: ${u.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),me(this,{primaryType:u[0]});function a(o,c){O(!c.has(o),`circular type reference to ${JSON.stringify(o)}`,"types",e),c.add(o);for(const f of n.get(o))if(r.has(f)){a(f,c);for(const d of c)i.get(d).add(f)}c.delete(o)}a(this.primaryType,new Set);for(const[o,c]of i){const f=Array.from(c);f.sort(),E(this,ws).set(o,rk(o,s[o])+f.map(d=>rk(d,s[d])).join(""))}}get types(){return JSON.parse(E(this,Oh))}getEncoder(e){let n=E(this,vc).get(e);return n||(n=q(this,hg,YT).call(this,e),E(this,vc).set(e,n)),n}encodeType(e){const n=E(this,ws).get(e);return O(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return it(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(mv(e))return r(e,n);const i=op(e).array;if(i)return O(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(u=>this._visit(i.prefix,u,r));const s=this.types[e];if(s)return s.reduce((u,{name:a,type:o})=>(u[a]=this._visit(o,n[a],r),u),{});O(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Sr(e)}static getPrimaryType(e){return Sr.from(e).primaryType}static hashStruct(e,n,r){return Sr.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=tk[r];O(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>pv.indexOf(r.name)-pv.indexOf(i.name)),Sr.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Rt(["0x1901",Sr.hashDomain(e),Sr.from(n).hash(r)])}static hash(e,n,r){return it(Sr.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Ke(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const u=Sr.from(n);u.visit(r,(a,o)=>(a==="address"&&!Ke(o,20)&&(s[o]="0x"),o));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=u.visit(r,(a,o)=>a==="address"&&s[o]?s[o]:o),{domain:e,value:r}}static getPayload(e,n,r){Sr.hashDomain(e);const i={},s=[];pv.forEach(o=>{const c=e[o];c!=null&&(i[o]=vz[o](c),s.push({name:o,type:tk[o]}))});const u=Sr.from(n);n=u.types;const a=Object.assign({},n);return O(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,u.encode(r),{types:a,domain:i,primaryType:u.primaryType,message:u.visit(r,(o,c)=>{if(o.match(/^bytes(\d*)/))return pe(Te(c));if(o.match(/^u?int/))return fe(c).toString();switch(o){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return O(typeof c=="string","invalid string","value",c),c}O(!1,"unsupported type","type",o)})}}};Oh=new WeakMap,ws=new WeakMap,vc=new WeakMap,hg=new WeakSet,YT=function(e){{const i=mv(e);if(i)return i}const n=op(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return u=>{O(n.count===-1||n.count===u.length,`array length mismatch; expected length ${n.count}`,"value",u);let a=u.map(s);return E(this,ws).has(i)&&(a=a.map(it)),it(Rt(a))}}const r=this.types[e];if(r){const i=Fo(E(this,ws).get(e));return s=>{const u=r.map(({name:a,type:o})=>{const c=this.getEncoder(o)(s[a]);return E(this,ws).has(o)?it(c):c});return u.unshift(i),Rt(u)}}O(!1,`unknown type: ${e}`,"type",e)};let qm=Sr;function Rn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const bz="external public payable override",Az=Rn(bz.split(" ")),ZT="constant external internal payable private public pure view override",wz=Rn(ZT.split(" ")),XT="constructor error event fallback function receive struct",e8=Rn(XT.split(" ")),t8="calldata memory storage payable indexed",Ez=Rn(t8.split(" ")),xz="tuple returns",Fz=[XT,t8,xz,ZT].join(" "),Cz=Rn(Fz.split(" ")),Dz={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},kz=new RegExp("^(\\s*)"),Sz=new RegExp("^([0-9]+)"),Bz=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),n8=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),r8=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var nn,di,Nh,QA;const pg=class pg{constructor(e){j(this,Nh);j(this,nn,void 0);j(this,di,void 0);S(this,nn,0),S(this,di,e.slice())}get offset(){return E(this,nn)}get length(){return E(this,di).length-E(this,nn)}clone(){return new pg(E(this,di))}reset(){S(this,nn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=q(this,Nh,QA).call(this,E(this,nn)+1,e.match+1);return S(this,nn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;E(this,nn)<e.match-1;){const r=this.peek().linkNext;n.push(q(this,Nh,QA).call(this,E(this,nn)+1,r)),S(this,nn,r)}return S(this,nn,e.match+1),n}peek(){if(E(this,nn)>=E(this,di).length)throw new Error("out-of-bounds");return E(this,di)[E(this,nn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Df(this,nn)._++,e}toString(){const e=[];for(let n=E(this,nn);n<E(this,di).length;n++){const r=E(this,di)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};nn=new WeakMap,di=new WeakMap,Nh=new WeakSet,QA=function(e=0,n=0){return new pg(E(this,di).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Ci=pg;function da(t){const e=[],n=u=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${u}`)};let r=[],i=[],s=0;for(;s<t.length;){let u=t.substring(s),a=u.match(kz);a&&(s+=a[1].length,u=t.substring(s));const o={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(o);let c=Dz[u[0]]||"";if(c){if(o.type=c,o.text=u[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),o.match=r.pop(),e[o.match].match=e.length-1,o.depth--,o.linkBack=i.pop(),e[o.linkBack].linkNext=e.length-1;else if(c==="COMMA")o.linkBack=i.pop(),e[o.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")o.type="BRACKET";else if(c==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;f=d+f,e[e.length-1].value=Ae(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=u.match(Bz),a){if(o.text=a[1],s+=o.text.length,Cz.has(o.text)){o.type="KEYWORD";continue}if(o.text.match(r8)){o.type="TYPE";continue}o.type="ID";continue}if(a=u.match(Sz),a){o.text=a[1],o.type="NUMBER",s+=o.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(u[0])} at position ${s}`)}return new Ci(e.map(u=>Object.freeze(u)))}function ik(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function uy(t,e){if(e.peekKeyword(e8)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Hs(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function i8(t){let e=Hs(t,wz);return ik(e,Rn("constant payable nonpayable".split(" "))),ik(e,Rn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function js(t,e){return t.popParams().map(n=>an.from(n,e))}function s8(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return fe(t.pop().text);throw new Error("invalid gas")}return null}function Co(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Oz=new RegExp(/^(.*)\[([0-9]*)\]$/);function sk(t){const e=t.match(r8);if(O(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);O(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);O(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ot={},ir=Symbol.for("_ethers_internal"),uk="_ParamTypeInternal",ak="_ErrorInternal",ok="_EventInternal",lk="_ConstructorInternal",ck="_FallbackInternal",fk="_FunctionInternal",dk="_StructInternal";var bc,Vp;const Br=class Br{constructor(e,n,r,i,s,u,a,o){j(this,bc);_(this,"name");_(this,"type");_(this,"baseType");_(this,"indexed");_(this,"components");_(this,"arrayLength");_(this,"arrayChildren");if(i0(e,ot,"ParamType"),Object.defineProperty(this,ir,{value:uk}),u&&(u=Object.freeze(u.slice())),i==="array"){if(a==null||o==null)throw new Error("")}else if(a!=null||o!=null)throw new Error("");if(i==="tuple"){if(u==null)throw new Error("")}else if(u!=null)throw new Error("");me(this,{name:n,type:r,baseType:i,indexed:s,components:u,arrayLength:a,arrayChildren:o})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return q(this,bc,Vp).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Br.isParamType(e))return e;if(typeof e=="string")try{return Br.from(da(e),n)}catch{O(!1,"invalid param type","obj",e)}else if(e instanceof Ci){let a="",o="",c=null;Hs(e,Rn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(o="tuple",c=e.popParams().map(m=>Br.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=sk(e.popType("TYPE")),o=a);let f=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();f=new Br(ot,"",a,o,null,c,d,f),d=m.value,a+=m.text,o="array",c=null}let h=null;if(Hs(e,Ez).has("indexed")){if(!n)throw new Error("");h=!0}const v=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Br(ot,v,a,o,h,c,d,f)}const r=e.name;O(!r||typeof r=="string"&&r.match(n8),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(O(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,u=s.match(Oz);if(u){const a=parseInt(u[2]||"-1"),o=Br.from({type:u[1],components:e.components});return new Br(ot,r||"",s,"array",i,null,a,o)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>Br.from(c)):null;return new Br(ot,r||"",s,"tuple",i,a,null,null)}return s=sk(e.type),new Br(ot,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[ir]===uk}};bc=new WeakSet,Vp=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const u=this.arrayChildren,a=n.slice();a.forEach((o,c)=>{var f;q(f=u,bc,Vp).call(f,e,o,r,d=>{a[c]=d})}),i(a);return}if(this.isTuple()){const u=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=u.map(o=>{if(!o.name)throw new Error("cannot use object value with unnamed components");if(!(o.name in n))throw new Error(`missing value for component ${o.name}`);return n[o.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((o,c)=>{var f;q(f=u[c],bc,Vp).call(f,e,o,r,d=>{a[c]=d})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let an=Br;class Do{constructor(e,n,r){_(this,"type");_(this,"inputs");i0(e,ot,"Fragment"),r=Object.freeze(r.slice()),me(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Do.from(JSON.parse(e))}catch{}return Do.from(da(e))}if(e instanceof Ci)switch(e.peekKeyword(e8)){case"constructor":return Ns.from(e);case"error":return Xn.from(e);case"event":return Ki.from(e);case"fallback":case"receive":return hs.from(e);case"function":return Ji.from(e);case"struct":return ho.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ns.from(e);case"error":return Xn.from(e);case"event":return Ki.from(e);case"fallback":case"receive":return hs.from(e);case"function":return Ji.from(e);case"struct":return ho.from(e)}z(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}O(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ns.isFragment(e)}static isError(e){return Xn.isFragment(e)}static isEvent(e){return Ki.isFragment(e)}static isFunction(e){return Ji.isFragment(e)}static isStruct(e){return ho.isFragment(e)}}class ay extends Do{constructor(n,r,i,s){super(n,r,s);_(this,"name");O(typeof i=="string"&&i.match(n8),"invalid identifier","name",i),s=Object.freeze(s.slice()),me(this,{name:i})}}function dh(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Xn extends ay{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,ir,{value:ak})}get selector(){return Fo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+dh(e,this.inputs)),n.join(" ")}static from(e){if(Xn.isFragment(e))return e;if(typeof e=="string")return Xn.from(da(e));if(e instanceof Ci){const n=uy("error",e),r=js(e);return Co(e),new Xn(ot,n,r)}return new Xn(ot,e.name,e.inputs?e.inputs.map(an.from):[])}static isFragment(e){return e&&e[ir]===ak}}class Ki extends ay{constructor(n,r,i,s){super(n,"event",r,i);_(this,"anonymous");Object.defineProperty(this,ir,{value:ok}),me(this,{anonymous:s})}get topicHash(){return Fo(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+dh(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>an.from(s)),new Ki(ot,n,r,!1).topicHash}static from(n){if(Ki.isFragment(n))return n;if(typeof n=="string")try{return Ki.from(da(n))}catch{O(!1,"invalid event fragment","obj",n)}else if(n instanceof Ci){const r=uy("event",n),i=js(n,!0),s=!!Hs(n,Rn(["anonymous"])).has("anonymous");return Co(n),new Ki(ot,r,i,s)}return new Ki(ot,n.name,n.inputs?n.inputs.map(r=>an.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[ir]===ok}}class Ns extends Do{constructor(n,r,i,s,u){super(n,r,i);_(this,"payable");_(this,"gas");Object.defineProperty(this,ir,{value:lk}),me(this,{payable:s,gas:u})}format(n){if(z(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${dh(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Ns.isFragment(n))return n;if(typeof n=="string")try{return Ns.from(da(n))}catch{O(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Ci){Hs(n,Rn(["constructor"]));const r=js(n),i=!!Hs(n,Az).has("payable"),s=s8(n);return Co(n),new Ns(ot,"constructor",r,i,s)}return new Ns(ot,"constructor",n.inputs?n.inputs.map(an.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[ir]===lk}}class hs extends Do{constructor(n,r,i){super(n,"fallback",r);_(this,"payable");Object.defineProperty(this,ir,{value:ck}),me(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(hs.isFragment(n))return n;if(typeof n=="string")try{return hs.from(da(n))}catch{O(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Ci){const r=n.toString(),i=n.peekKeyword(Rn(["fallback","receive"]));if(O(i,"type must be fallback or receive","obj",r),n.popKeyword(Rn(["fallback","receive"]))==="receive"){const o=js(n);return O(o.length===0,"receive cannot have arguments","obj.inputs",o),Hs(n,Rn(["payable"])),Co(n),new hs(ot,[],!0)}let u=js(n);u.length?O(u.length===1&&u[0].type==="bytes","invalid fallback inputs","obj.inputs",u.map(o=>o.format("minimal")).join(", ")):u=[an.from("bytes")];const a=i8(n);if(O(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Hs(n,Rn(["returns"])).has("returns")){const o=js(n);O(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(c=>c.format("minimal")).join(", "))}return Co(n),new hs(ot,u,a==="payable")}if(n.type==="receive")return new hs(ot,[],!0);if(n.type==="fallback"){const r=[an.from("bytes")],i=n.stateMutability==="payable";return new hs(ot,r,i)}O(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[ir]===ck}}class Ji extends ay{constructor(n,r,i,s,u,a){super(n,"function",r,s);_(this,"constant");_(this,"outputs");_(this,"stateMutability");_(this,"payable");_(this,"gas");Object.defineProperty(this,ir,{value:fk}),u=Object.freeze(u.slice()),me(this,{constant:i==="view"||i==="pure",gas:a,outputs:u,payable:i==="payable",stateMutability:i})}get selector(){return Fo(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+dh(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(dh(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>an.from(s)),new Ji(ot,n,"view",r,[],null).selector}static from(n){if(Ji.isFragment(n))return n;if(typeof n=="string")try{return Ji.from(da(n))}catch{O(!1,"invalid function fragment","obj",n)}else if(n instanceof Ci){const i=uy("function",n),s=js(n),u=i8(n);let a=[];Hs(n,Rn(["returns"])).has("returns")&&(a=js(n));const o=s8(n);return Co(n),new Ji(ot,i,u,s,a,o)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Ji(ot,n.name,r,n.inputs?n.inputs.map(an.from):[],n.outputs?n.outputs.map(an.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[ir]===fk}}class ho extends ay{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,ir,{value:dk})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return ho.from(da(e))}catch{O(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ci){const n=uy("struct",e),r=js(e);return Co(e),new ho(ot,n,r)}return new ho(ot,e.name,e.inputs?e.inputs.map(an.from):[])}static isFragment(e){return e&&e[ir]===dk}}const Ni=new Map;Ni.set(0,"GENERIC_PANIC");Ni.set(1,"ASSERT_FALSE");Ni.set(17,"OVERFLOW");Ni.set(18,"DIVIDE_BY_ZERO");Ni.set(33,"ENUM_RANGE_ERROR");Ni.set(34,"BAD_STORAGE_DATA");Ni.set(49,"STACK_UNDERFLOW");Ni.set(50,"ARRAY_RANGE_ERROR");Ni.set(65,"OUT_OF_MEMORY");Ni.set(81,"UNINITIALIZED_FUNCTION_CALL");const Nz=new RegExp(/^bytes([0-9]*)$/),_z=new RegExp(/^(u?int)([0-9]*)$/);let gv=null,hk=1024;function Tz(t,e,n,r){let i="missing revert data",s=null;const u=null;let a=null;if(n){i="execution reverted";const c=Te(n);if(n=pe(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(pe(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(pe(c.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${Ni.get(f)||"UNKNOWN"}(${f})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const o={to:e.to?Ge(e.to):null,data:e.data||"0x"};return e.from&&(o.from=Ge(e.from)),Tt(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:o,invocation:u,revert:a})}var Fu,rl;const mg=class mg{constructor(){j(this,Fu)}getDefaultValue(e){const n=e.map(i=>q(this,Fu,rl).call(this,an.from(i)));return new ap(n,"_").defaultValue()}encode(e,n){H_(n.length,e.length,"types/values length mismatch");const r=e.map(u=>q(this,Fu,rl).call(this,an.from(u))),i=new ap(r,"_"),s=new _A;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(u=>q(this,Fu,rl).call(this,an.from(u)));return new ap(i,"_").decode(new TA(n,r,hk))}static _setDefaultMaxInflation(e){O(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),hk=e}static defaultAbiCoder(){return gv==null&&(gv=new mg),gv}static getBuiltinCallException(e,n,r){return Tz(e,n,r,mg.defaultAbiCoder())}};Fu=new WeakSet,rl=function(e){if(e.isArray())return new uH(q(this,Fu,rl).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ap(e.components.map(r=>q(this,Fu,rl).call(this,r)),e.name);switch(e.baseType){case"address":return new iH(e.name);case"bool":return new aH(e.name);case"string":return new gH(e.name);case"bytes":return new oH(e.name);case"":return new fH(e.name)}let n=e.type.match(_z);if(n){let r=parseInt(n[2]||"256");return O(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new mH(r/8,n[1]==="int",e.name)}if(n=e.type.match(Nz),n){let r=parseInt(n[1]);return O(r!==0&&r<=32,"invalid bytes length","param",e),new lH(r,e.name)}O(!1,"invalid type","type",e.type)};let hh=mg;class Pz{constructor(e,n,r){_(this,"fragment");_(this,"name");_(this,"signature");_(this,"topic");_(this,"args");const i=e.name,s=e.format();me(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class jz{constructor(e,n,r,i){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");_(this,"value");const s=e.name,u=e.format();me(this,{fragment:e,name:s,args:r,signature:u,selector:n,value:i})}}class Iz{constructor(e,n,r){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");const i=e.name,s=e.format();me(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class pk{constructor(e){_(this,"hash");_(this,"_isIndexed");me(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const mk={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},gk={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&mk[t.toString()]&&(e=mk[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Vi,Hi,zi,mn,Ac,Hp,wc,zp;const Nl=class Nl{constructor(e){j(this,Ac);j(this,wc);_(this,"fragments");_(this,"deploy");_(this,"fallback");_(this,"receive");j(this,Vi,void 0);j(this,Hi,void 0);j(this,zi,void 0);j(this,mn,void 0);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,S(this,zi,new Map),S(this,Vi,new Map),S(this,Hi,new Map);const r=[];for(const u of n)try{r.push(Do.from(u))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(u)}:`,a.message)}me(this,{fragments:Object.freeze(r)});let i=null,s=!1;S(this,mn,this.getAbiCoder()),this.fragments.forEach((u,a)=>{let o;switch(u.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}me(this,{deploy:u});return;case"fallback":u.inputs.length===0?s=!0:(O(!i||u.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,u),i=u,s=i.payable);return;case"function":o=E(this,zi);break;case"event":o=E(this,Hi);break;case"error":o=E(this,Vi);break;default:return}const c=u.format();o.has(c)||o.set(c,u)}),this.deploy||me(this,{deploy:Ns.from("constructor()")}),me(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return hh.defaultAbiCoder()}getFunctionName(e){const n=q(this,Ac,Hp).call(this,e,null,!1);return O(n,"no matching function","key",e),n.name}hasFunction(e){return!!q(this,Ac,Hp).call(this,e,null,!1)}getFunction(e,n){return q(this,Ac,Hp).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(E(this,zi).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(E(this,zi).get(i),r)}}getEventName(e){const n=q(this,wc,zp).call(this,e,null,!1);return O(n,"no matching event","key",e),n.name}hasEvent(e){return!!q(this,wc,zp).call(this,e,null,!1)}getEvent(e,n){return q(this,wc,zp).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(E(this,Hi).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(E(this,Hi).get(i),r)}}getError(e,n){if(Ke(e)){const i=e.toLowerCase();if(gk[i])return Xn.from(gk[i].signature);for(const s of E(this,Vi).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,u]of E(this,Vi))s.split("(")[0]===e&&i.push(u);if(i.length===0)return e==="Error"?Xn.from("error Error(string)"):e==="Panic"?Xn.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(u=>JSON.stringify(u.format())).join(", ");O(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Xn.from(e).format(),e==="Error(string)")return Xn.from("error Error(string)");if(e==="Panic(uint256)")return Xn.from("error Panic(uint256)");const r=E(this,Vi).get(e);return r||null}forEachError(e){const n=Array.from(E(this,Vi).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(E(this,Vi).get(i),r)}}_decodeParams(e,n){return E(this,mn).decode(e,n)}_encodeParams(e,n){return E(this,mn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);O(r,"unknown error","fragment",e),e=r}return O(pt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,pt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);O(r,"unknown error","fragment",e),e=r}return Rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return O(pt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,pt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return Rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);O(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=_n(n);if(i.length%32===0)try{return E(this,mn).decode(e.outputs,i)}catch{r="could not decode result data"}z(!1,r,"BAD_DATA",{value:pe(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Te(e,"data"),i=hh.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=pe(r.slice(0,4)),o=this.getError(a);if(o)try{const c=E(this,mn).decode(o.inputs,r.slice(4));i.revert={name:o.name,signature:o.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const u=this.parseTransaction(n);return u&&(i.invocation={method:u.name,signature:u.signature,args:u.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return pe(E(this,mn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);O(s,"unknown event","eventFragment",e),e=s}z(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,u)=>s.type==="string"?Fo(u):s.type==="bytes"?it(pe(u)):(s.type==="bool"&&typeof u=="boolean"?u=u?"0x01":"0x00":s.type.match(/^u?int/)?u=ia(u):s.type.match(/^bytes/)?u=wU(u,32):s.type==="address"&&E(this,mn).encode(["address"],[u]),xo(pe(u),32));for(n.forEach((s,u)=>{const a=e.inputs[u];if(!a.indexed){O(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?O(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(o=>i(a,o))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const u=this.getEvent(e);O(u,"unknown event","eventFragment",e),e=u}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),O(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((u,a)=>{const o=n[a];if(u.indexed)if(u.type==="string")r.push(Fo(o));else if(u.type==="bytes")r.push(it(o));else{if(u.baseType==="tuple"||u.baseType==="array")throw new Error("not implemented");r.push(E(this,mn).encode([u.type],[o]))}else i.push(u),s.push(o)}),{data:E(this,mn).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);O(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;O(Ke(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],u=[];e.inputs.forEach((p,v)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(an.from({type:"bytes32",name:p.name})),u.push(!0)):(i.push(p),u.push(!1)):(s.push(p),u.push(!1))});const a=r!=null?E(this,mn).decode(i,Rt(r)):null,o=E(this,mn).decode(s,n,!0),c=[],f=[];let d=0,h=0;return e.inputs.forEach((p,v)=>{let m=null;if(p.indexed)if(a==null)m=new pk(null);else if(u[v])m=new pk(a[h++]);else try{m=a[h++]}catch(b){m=b}else try{m=o[d++]}catch(b){m=b}c.push(m),f.push(p.name||null)}),nT.fromItems(c,f)}parseTransaction(e){const n=Te(e.data,"tx.data"),r=fe(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(pe(n.slice(0,4)));if(!i)return null;const s=E(this,mn).decode(i.inputs,n.slice(4));return new jz(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Pz(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=pe(e),r=this.getError(pt(n,0,4));if(!r)return null;const i=E(this,mn).decode(r.inputs,pt(n,4));return new Iz(r,r.selector,i)}static from(e){return e instanceof Nl?e:typeof e=="string"?new Nl(JSON.parse(e)):typeof e.format=="function"?new Nl(e.format("json")):new Nl(e)}};Vi=new WeakMap,Hi=new WeakMap,zi=new WeakMap,mn=new WeakMap,Ac=new WeakSet,Hp=function(e,n,r){if(Ke(e)){const s=e.toLowerCase();for(const u of E(this,zi).values())if(s===u.selector)return u;return null}if(e.indexOf("(")===-1){const s=[];for(const[u,a]of E(this,zi))u.split("(")[0]===e&&s.push(a);if(n){const u=n.length>0?n[n.length-1]:null;let a=n.length,o=!0;En.isTyped(u)&&u.type==="overrides"&&(o=!1,a--);for(let c=s.length-1;c>=0;c--){const f=s[c].inputs.length;f!==a&&(!o||f!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const f=s[c].inputs;for(let d=0;d<n.length;d++)if(En.isTyped(n[d])){if(d>=f.length){if(n[d].type==="overrides")continue;s.splice(c,1);break}if(n[d].type!==f[d].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const u=n[n.length-1];(u==null||Array.isArray(u)||typeof u!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const u=s.map(a=>JSON.stringify(a.format())).join(", ");O(!1,`ambiguous function description (i.e. matches ${u})`,"key",e)}return s[0]}const i=E(this,zi).get(Ji.from(e).format());return i||null},wc=new WeakSet,zp=function(e,n,r){if(Ke(e)){const s=e.toLowerCase();for(const u of E(this,Hi).values())if(s===u.topicHash)return u;return null}if(e.indexOf("(")===-1){const s=[];for(const[u,a]of E(this,Hi))u.split("(")[0]===e&&s.push(a);if(n){for(let u=s.length-1;u>=0;u--)s[u].inputs.length<n.length&&s.splice(u,1);for(let u=s.length-1;u>=0;u--){const a=s[u].inputs;for(let o=0;o<n.length;o++)if(En.isTyped(n[o])&&n[o].type!==a[o].baseType){s.splice(u,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const u=s.map(a=>JSON.stringify(a.format())).join(", ");O(!1,`ambiguous event description (i.e. matches ${u})`,"key",e)}return s[0]}const i=E(this,Hi).get(Ki.from(e).format());return i||null};let GA=Nl;const u8=BigInt(0);function kd(t){return t??null}function kt(t){return t==null?null:t.toString()}class yk{constructor(e,n,r){_(this,"gasPrice");_(this,"maxFeePerGas");_(this,"maxPriorityFeePerGas");me(this,{gasPrice:kd(e),maxFeePerGas:kd(n),maxPriorityFeePerGas:kd(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:kt(e),maxFeePerGas:kt(n),maxPriorityFeePerGas:kt(r)}}}function Km(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=pe(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=fe(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ae(t[i],`request.${i}`));return t.accessList&&(e.accessList=Lo(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var Es;class Rz{constructor(e,n){_(this,"provider");_(this,"number");_(this,"hash");_(this,"timestamp");_(this,"parentHash");_(this,"parentBeaconBlockRoot");_(this,"nonce");_(this,"difficulty");_(this,"gasLimit");_(this,"gasUsed");_(this,"stateRoot");_(this,"receiptsRoot");_(this,"blobGasUsed");_(this,"excessBlobGas");_(this,"miner");_(this,"extraData");_(this,"baseFeePerGas");j(this,Es,void 0);S(this,Es,e.transactions.map(r=>typeof r!="string"?new ph(r,n):r)),me(this,{provider:n,hash:kd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:kd(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return E(this,Es).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=E(this,Es).slice();return e.length===0?[]:(z(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:u,miner:a,nonce:o,number:c,parentHash:f,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:v,transactions:m}=this;return{_type:"Block",baseFeePerGas:kt(e),difficulty:kt(n),extraData:r,gasLimit:kt(i),gasUsed:kt(s),blobGasUsed:kt(this.blobGasUsed),excessBlobGas:kt(this.excessBlobGas),hash:u,miner:a,nonce:o,number:c,parentHash:f,timestamp:v,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return E(this,Es).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=E(this,Es)[e];else{const r=e.toLowerCase();for(const i of E(this,Es))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash===r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;O(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Lz(this)}}Es=new WeakMap;class a0{constructor(e,n){_(this,"provider");_(this,"transactionHash");_(this,"blockHash");_(this,"blockNumber");_(this,"removed");_(this,"address");_(this,"data");_(this,"topics");_(this,"index");_(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:u,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:u,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return z(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return z(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return z(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Mz(this)}}var _h;class a8{constructor(e,n){_(this,"provider");_(this,"to");_(this,"from");_(this,"contractAddress");_(this,"hash");_(this,"index");_(this,"blockHash");_(this,"blockNumber");_(this,"logsBloom");_(this,"gasUsed");_(this,"blobGasUsed");_(this,"cumulativeGasUsed");_(this,"gasPrice");_(this,"blobGasPrice");_(this,"type");_(this,"status");_(this,"root");j(this,_h,void 0);S(this,_h,Object.freeze(e.logs.map(i=>new a0(i,n))));let r=u8;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),me(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return E(this,_h)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:u,blockNumber:a,logsBloom:o,logs:c,status:f,root:d}=this;return{_type:"TransactionReceipt",blockHash:u,blockNumber:a,contractAddress:r,cumulativeGasUsed:kt(this.cumulativeGasUsed),from:n,gasPrice:kt(this.gasPrice),blobGasUsed:kt(this.blobGasUsed),blobGasPrice:kt(this.blobGasPrice),gasUsed:kt(this.gasUsed),hash:i,index:s,logs:c,logsBloom:o,root:d,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return l8(this)}reorderedEvent(e){return z(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),o8(this,e)}}_h=new WeakMap;var Cu;const px=class px{constructor(e,n){_(this,"provider");_(this,"blockNumber");_(this,"blockHash");_(this,"index");_(this,"hash");_(this,"type");_(this,"to");_(this,"from");_(this,"nonce");_(this,"gasLimit");_(this,"gasPrice");_(this,"maxPriorityFeePerGas");_(this,"maxFeePerGas");_(this,"maxFeePerBlobGas");_(this,"data");_(this,"value");_(this,"chainId");_(this,"signature");_(this,"accessList");_(this,"blobVersionedHashes");j(this,Cu,void 0);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,S(this,Cu,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:u,from:a,nonce:o,data:c,signature:f,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:kt(this.chainId),data:c,from:a,gasLimit:kt(this.gasLimit),gasPrice:kt(this.gasPrice),hash:i,maxFeePerGas:kt(this.maxFeePerGas),maxPriorityFeePerGas:kt(this.maxPriorityFeePerGas),maxFeePerBlobGas:kt(this.maxFeePerBlobGas),nonce:o,signature:f,to:u,index:r,type:s,value:kt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await On({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=E(this,Cu),u=-1,a=s===-1;const o=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await On({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=h;return}if(a)return null;const v=await this.getTransaction();if(!(v&&v.blockNumber!=null))for(u===-1&&(u=s-3,u<E(this,Cu)&&(u=E(this,Cu)));u<=h;){if(a)return null;const m=await this.provider.getBlock(u,!0);if(m==null)return;for(const b of m)if(b===this.hash)return;for(let b=0;b<m.length;b++){const g=await m.getTransaction(b);if(g.from===this.from&&g.nonce===this.nonce){if(a)return null;const y=await this.provider.getTransactionReceipt(g.hash);if(y==null||h-y.blockNumber+1<r)return;let A="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?A="repriced":g.data==="0x"&&g.from===g.to&&g.value===u8&&(A="cancelled"),z(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:g.replaceableTransaction(s),hash:g.hash,receipt:y})}}u++}},c=h=>{if(h==null||h.status!==0)return h;z(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(f);if(f){if(await f.confirmations()>=r)return c(f)}else if(await o(),r===0)return null;return await new Promise((h,p)=>{const v=[],m=()=>{v.forEach(g=>g())};if(v.push(()=>{a=!0}),i>0){const g=setTimeout(()=>{m(),p(Tt("wait for transaction timeout","TIMEOUT"))},i);v.push(()=>{clearTimeout(g)})}const b=async g=>{if(await g.confirmations()>=r){m();try{h(c(g))}catch(y){p(y)}}};if(v.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),s>=0){const g=async()=>{try{await o()}catch(y){if(wn(y,"TRANSACTION_REPLACED")){m(),p(y);return}}a||this.provider.once("block",g)};v.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return z(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),l8(this)}reorderedEvent(e){return z(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),z(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),o8(this,e)}replaceableTransaction(e){O(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new px(this,this.provider);return S(n,Cu,e),n}};Cu=new WeakMap;let ph=px;function Lz(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function o8(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function l8(t){return{orphan:"drop-transaction",tx:t}}function Mz(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class A2 extends a0{constructor(n,r,i){super(n,n.provider);_(this,"interface");_(this,"fragment");_(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);me(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class c8 extends a0{constructor(n,r){super(n,n.provider);_(this,"error");me(this,{error:r})}}var Ec;class $z extends a8{constructor(n,r,i){super(i,r);j(this,Ec,void 0);S(this,Ec,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?E(this,Ec).getEvent(n.topics[0]):null;if(r)try{return new A2(n,E(this,Ec),r)}catch(i){return new c8(n,i)}return n})}}Ec=new WeakMap;var Th;class w2 extends ph{constructor(n,r,i){super(i,r);j(this,Th,void 0);S(this,Th,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new $z(E(this,Th),this.provider,i)}}Th=new WeakMap;class f8 extends W_{constructor(n,r,i,s){super(n,r,i);_(this,"log");me(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Uz extends f8{constructor(e,n,r,i,s){super(e,n,r,new A2(s,e.interface,i));const u=e.interface.decodeEventLog(i,this.log.data,this.log.topics);me(this,{args:u,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const vk=BigInt(0);function d8(t){return t&&typeof t.call=="function"}function h8(t){return t&&typeof t.estimateGas=="function"}function oy(t){return t&&typeof t.resolveName=="function"}function p8(t){return t&&typeof t.sendTransaction=="function"}function m8(t){if(t!=null){if(oy(t))return t;if(t.provider)return t.provider}}var Ph;class Vz{constructor(e,n,r){j(this,Ph,void 0);_(this,"fragment");if(me(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=ko(e.runner,"resolveName"),s=oy(i)?i:null;S(this,Ph,async function(){const u=await Promise.all(n.inputs.map((a,o)=>r[o]==null?null:a.walkAsync(r[o],(f,d)=>f==="address"?Array.isArray(d)?Promise.all(d.map(h=>In(h,s))):In(d,s):d)));return e.interface.encodeFilterTopics(n,u)}())}getTopicFilter(){return E(this,Ph)}}Ph=new WeakMap;function ko(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ja(t){return t==null?null:t.provider||null}async function g8(t,e){const n=En.dereference(t,"overrides");O(typeof n=="object","invalid overrides parameter","overrides",t);const r=Km(n);return O(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),O(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Hz(t,e,n){const r=ko(t,"resolveName"),i=oy(r)?r:null;return await Promise.all(e.map((s,u)=>s.walkAsync(n[u],(a,o)=>(o=En.dereference(o,a),a==="address"?In(o,i):o))))}function zz(t){const e=async function(u){const a=await g8(u,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await In(a.from,m8(t.runner)));const o=t.interface,c=fe(a.value||vk,"overrides.value")===vk,f=(a.data||"0x")==="0x";o.fallback&&!o.fallback.payable&&o.receive&&!f&&!c&&O(!1,"cannot send data to receive or send value to non-payable fallback","overrides",u),O(o.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const d=o.receive||o.fallback&&o.fallback.payable;return O(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),O(o.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(u){const a=ko(t.runner,"call");z(d8(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const o=await e(u);try{return await a.call(o)}catch(c){throw s2(c)&&c.data?t.interface.makeError(c.data,o):c}},r=async function(u){const a=t.runner;z(p8(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await a.sendTransaction(await e(u)),c=ja(t.runner);return new w2(t.interface,c,o)},i=async function(u){const a=ko(t.runner,"estimateGas");return z(h8(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(u))},s=async u=>await r(u);return me(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function Qz(t,e){const n=function(...c){const f=t.interface.getFunction(e,c);return z(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),f},r=async function(...c){const f=n(...c);let d={};if(f.inputs.length+1===c.length&&(d=await g8(c.pop()),d.from&&(d.from=await In(d.from,m8(t.runner)))),f.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await Hz(t.runner,f.inputs,c);return Object.assign({},d,await On({to:t.getAddress(),data:t.interface.encodeFunctionData(f,h)}))},i=async function(...c){const f=await a(...c);return f.length===1?f[0]:f},s=async function(...c){const f=t.runner;z(p8(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await f.sendTransaction(await r(...c)),h=ja(t.runner);return new w2(t.interface,h,d)},u=async function(...c){const f=ko(t.runner,"estimateGas");return z(h8(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...c))},a=async function(...c){const f=ko(t.runner,"call");z(d8(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let h="0x";try{h=await f.call(d)}catch(v){throw s2(v)&&v.data?t.interface.makeError(v.data,d):v}const p=n(...c);return t.interface.decodeFunctionResult(p,h)},o=async(...c)=>n(...c).constant?await i(...c):await s(...c);return me(o,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:u,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return z(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),o}function Gz(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return z(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new Vz(t,n(...i),i)};return me(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return z(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Jm=Symbol.for("_ethersInternal_contract"),y8=new WeakMap;function Wz(t,e){y8.set(t[Jm],e)}function or(t){return y8.get(t[Jm])}function qz(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function E2(t,e){let n,r=null;if(Array.isArray(e)){const s=function(u){if(Ke(u,32))return u;const a=t.interface.getEvent(u);return O(a,"unknown fragment","name",u),a.topicHash};n=e.map(u=>u==null?null:Array.isArray(u)?u.map(s):s(u))}else e==="*"?n=[null]:typeof e=="string"?Ke(e,32)?n=[e]:(r=t.interface.getEvent(e),O(r,"unknown fragment","event",e),n=[r.topicHash]):qz(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):O(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const u=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return u.length===1?u[0]:(u.sort(),u)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function ld(t,e){const{subs:n}=or(t);return n.get((await E2(t,e)).tag)||null}async function bk(t,e,n){const r=ja(t.runner);z(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:u}=await E2(t,n),{addr:a,subs:o}=or(t);let c=o.get(s);if(!c){const d={address:a||t,topics:u},h=b=>{let g=i;if(g==null)try{g=t.interface.getEvent(b.topics[0])}catch{}if(g){const y=g,A=i?t.interface.decodeEventLog(i,b.data,b.topics):[];qA(t,n,A,w=>new Uz(t,w,n,y,b))}else qA(t,n,[],y=>new f8(t,y,n,b))};let p=[];c={tag:s,listeners:[],start:()=>{p.length||p.push(r.on(d,h))},stop:async()=>{if(p.length==0)return;let b=p;p=[],await Promise.all(b),r.off(d,h)}},o.set(s,c)}return c}let WA=Promise.resolve();async function Kz(t,e,n,r){await WA;const i=await ld(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:u,once:a})=>{const o=Array.from(n);r&&o.push(r(a?null:u));try{u.call(t,...o)}catch{}return!a}),i.listeners.length===0&&(i.stop(),or(t).subs.delete(i.tag)),s>0}async function qA(t,e,n,r){try{await WA}catch{}const i=Kz(t,e,n,r);return WA=i,await i}const lp=["then"];var que;const Td=class Td{constructor(e,n,r,i){_(this,"target");_(this,"interface");_(this,"runner");_(this,"filters");_(this,que);_(this,"fallback");O(typeof e=="string"||xT(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=GA.from(n);me(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Jm,{value:{}});let u,a=null,o=null;if(i){const d=ja(r);o=new w2(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(Ke(e))a=e,u=Promise.resolve(e);else{const d=ko(r,"resolveName");if(!oy(d))throw Tt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});u=d.resolveName(e).then(h=>{if(h==null)throw Tt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return or(this).addr=h,h})}else u=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return or(this).addr=d,d});Wz(this,{addrPromise:u,addr:a,deployTx:o,subs:c});const f=new Proxy({},{get:(d,h,p)=>{if(typeof h=="symbol"||lp.indexOf(h)>=0)return Reflect.get(d,h,p);try{return this.getEvent(h)}catch(v){if(!wn(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(d,h)=>lp.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return me(this,{filters:f}),me(this,{fallback:s.receive||s.fallback?zz(this):null}),new Proxy(this,{get:(d,h,p)=>{if(typeof h=="symbol"||h in d||lp.indexOf(h)>=0)return Reflect.get(d,h,p);try{return d.getFunction(h)}catch(v){if(!wn(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(d,h)=>typeof h=="symbol"||h in d||lp.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(e){return new Td(this.target,this.interface,e)}attach(e){return new Td(e,this.interface,this.runner)}async getAddress(){return await or(this).addrPromise}async getDeployedCode(){const e=ja(this.runner);z(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ja(this.runner);return z(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const u=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",u)}catch(a){s(a)}};u()})}deploymentTransaction(){return or(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Qz(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Gz(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=or(this),u=i||await s,{fragment:a,topics:o}=await E2(this,e),c={address:u,topics:o,fromBlock:n,toBlock:r},f=ja(this.runner);return z(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(c)).map(d=>{let h=a;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new A2(d,this.interface,h)}catch(p){return new c8(d,p)}return new a0(d,f)})}async on(e,n){const r=await bk(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await bk(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await qA(this,e,n,null)}async listenerCount(e){if(e){const i=await ld(this,e);return i?i.listeners.length:0}const{subs:n}=or(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await ld(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=or(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await ld(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),or(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await ld(this,e);if(!n)return this;n.stop(),or(this).subs.delete(n.tag)}else{const{subs:n}=or(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Td{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};que=Jm;let KA=Td;function Jz(){return KA}class Kl extends Jz(){}function yv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):O(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Yz{constructor(e){_(this,"name");me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const v8=new RegExp("^(ipfs)://(.*)$","i"),Ak=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),v8,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Du,Ja,ku,il,gg,b8;const _l=class _l{constructor(e,n,r){j(this,ku);_(this,"provider");_(this,"address");_(this,"name");j(this,Du,void 0);j(this,Ja,void 0);me(this,{provider:e,address:n,name:r}),S(this,Du,null),S(this,Ja,new Kl(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return E(this,Du)==null&&S(this,Du,(async()=>{try{return await E(this,Ja).supportsInterface("0x9061b923")}catch(e){if(wn(e,"CALL_EXCEPTION"))return!1;throw S(this,Du,null),e}})()),await E(this,Du)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await q(this,ku,il).call(this,"addr(bytes32)");return s==null||s===uh?null:s}catch(s){if(wn(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const u=await q(this,ku,il).call(this,"addr(bytes32,uint)",[s]);if(Ke(u,20))return Ge(u)}let n=null;for(const s of this.provider.plugins)if(s instanceof Yz&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await q(this,ku,il).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;z(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await q(this,ku,il).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await q(this,ku,il).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${xU("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;z(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Ak.length;r++){const i=n.match(Ak[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const u=yv(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:u}),{linkage:e,url:u}}case"erc721":case"erc1155":{const u=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(i[2]||"").split("/");if(o.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=o[1],f=new Kl(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const m=await f.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(s==="erc1155"){const m=await f.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await f[u](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),s==="erc1155"&&(d=d.replace("{id}",ia(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=yv(d)),e.push({type:"metadata-url",value:d});let h={};const p=await new sa(d).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const g=p.body;return g&&e.push({type:"!metadata",value:pe(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let v=h.image;if(typeof v!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(v8)==null)return e.push({type:"!imageUrl-ipfs",value:v}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:v}),v=yv(v)}return e.push({type:"url",value:v}),{linkage:e,url:v}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return z(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await q(i=_l,gg,b8).call(i,e,r);if(s!=null){const u=new _l(e,s,n);return r!==n&&!await u.supportsWildcard()?null:u}r=r.split(".").slice(1).join(".")}}};Du=new WeakMap,Ja=new WeakMap,ku=new WeakSet,il=async function(e,n){n=(n||[]).slice();const r=E(this,Ja).interface;n.unshift(zA(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),z(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[ez(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await E(this,Ja)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!wn(s,"CALL_EXCEPTION"))throw s}return null},gg=new WeakSet,b8=async function(e,n){const r=await _l.getEnsAddress(e);try{const s=await new Kl(r,["function resolver(bytes32) view returns (address)"],e).resolver(zA(n),{enableCcipRead:!0});return s===uh?null:s}catch(i){throw i}return null},j(_l,gg);let Ym=_l;const wk=BigInt(0);function ke(t,e){return function(n){return n==null?e:t(n)}}function ly(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function o0(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const u of e[i])if(u in n){s=u;break}}try{const u=t[i](n[s]);u!==void 0&&(r[i]=u)}catch(u){const a=u instanceof Error?u.message:"not-an-error";z(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function Zz(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}O(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function tf(t){return O(Ke(t,!0),"invalid data","value",t),t}function An(t){return O(Ke(t,32),"invalid hash","value",t),t}const Xz=o0({address:Ge,blockHash:An,blockNumber:Ae,data:tf,index:Ae,removed:ke(Zz,!1),topics:ly(An),transactionHash:An,transactionIndex:Ae},{index:["logIndex"]});function eQ(t){return Xz(t)}const tQ=o0({hash:ke(An),parentHash:An,parentBeaconBlockRoot:ke(An,null),number:Ae,timestamp:Ae,nonce:ke(tf),difficulty:fe,gasLimit:fe,gasUsed:fe,stateRoot:ke(An,null),receiptsRoot:ke(An,null),blobGasUsed:ke(fe,null),excessBlobGas:ke(fe,null),miner:ke(Ge),extraData:tf,baseFeePerGas:ke(fe)});function nQ(t){const e=tQ(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:A8(n)),e}const rQ=o0({transactionIndex:Ae,blockNumber:Ae,transactionHash:An,address:Ge,topics:ly(An),data:tf,index:Ae,blockHash:An},{index:["logIndex"]});function iQ(t){return rQ(t)}const sQ=o0({to:ke(Ge,null),from:ke(Ge,null),contractAddress:ke(Ge,null),index:Ae,root:ke(pe),gasUsed:fe,blobGasUsed:ke(fe,null),logsBloom:ke(tf),blockHash:An,hash:An,logs:ly(iQ),blockNumber:Ae,cumulativeGasUsed:fe,effectiveGasPrice:ke(fe),blobGasPrice:ke(fe,null),status:ke(Ae),type:ke(Ae,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function uQ(t){return sQ(t)}function A8(t){t.to&&fe(t.to)===wk&&(t.to="0x0000000000000000000000000000000000000000");const e=o0({hash:An,index:ke(Ae,void 0),type:n=>n==="0x"||n==null?0:Ae(n),accessList:ke(Lo,null),blobVersionedHashes:ke(ly(An,!0),null),blockHash:ke(An,null),blockNumber:ke(Ae,null),transactionIndex:ke(Ae,null),from:Ge,gasPrice:ke(fe),maxPriorityFeePerGas:ke(fe),maxFeePerGas:ke(fe),maxFeePerBlobGas:ke(fe,null),gasLimit:fe,to:ke(Ge,null),value:fe,nonce:Ae,data:tf,creates:ke(Ge,null),chainId:ke(fe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=rH(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Fi.from(t.signature):e.signature=Fi.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&fe(e.blockHash)===wk&&(e.blockHash=null),e}const aQ="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class l0{constructor(e){_(this,"name");me(this,{name:e})}clone(){return new l0(this.name)}}class cy extends l0{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);_(this,"effectiveBlock");_(this,"txBase");_(this,"txCreate");_(this,"txDataZero");_(this,"txDataNonzero");_(this,"txAccessListStorageKey");_(this,"txAccessListAddress");const i={effectiveBlock:n};function s(u,a){let o=(r||{})[u];o==null&&(o=a),O(typeof o=="number",`invalud value for ${u}`,"costs",r),i[u]=o}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),me(this,i)}clone(){return new cy(this.effectiveBlock,this)}}class fy extends l0{constructor(n,r){super("org.ethers.plugins.network.Ens");_(this,"address");_(this,"targetNetwork");me(this,{address:n||aQ,targetNetwork:r??1})}clone(){return new fy(this.address,this.targetNetwork)}}var jh,Ih;class oQ extends l0{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,jh,void 0);j(this,Ih,void 0);S(this,jh,n),S(this,Ih,r)}get url(){return E(this,jh)}get processFunc(){return E(this,Ih)}clone(){return this}}jh=new WeakMap,Ih=new WeakMap;const vv=new Map;var xc,Fc,Su;const Tl=class Tl{constructor(e,n){j(this,xc,void 0);j(this,Fc,void 0);j(this,Su,void 0);S(this,xc,e),S(this,Fc,fe(n)),S(this,Su,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return E(this,xc)}set name(e){S(this,xc,e)}get chainId(){return E(this,Fc)}set chainId(e){S(this,Fc,fe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===fe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===fe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===fe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(E(this,Su).values())}attachPlugin(e){if(E(this,Su).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,Su).set(e.name,e.clone()),this}getPlugin(e){return E(this,Su).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Tl(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new cy;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Lo(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(lQ(),e==null)return Tl.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=vv.get(e);if(n)return n();if(typeof e=="bigint")return new Tl("unknown",e);O(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){O(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Tl(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new fy(e.ensAddress,e.ensNetwork)),n}O(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=vv.get(e);r&&O(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),vv.set(e,n)}};xc=new WeakMap,Fc=new WeakMap,Su=new WeakMap;let Yi=Tl;function Ek(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function xk(t){return new oQ(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,u]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:u.gasPrice,maxFeePerGas:Ek(a.maxFee,9),maxPriorityFeePerGas:Ek(a.maxPriorityFee,9)}}catch(s){z(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let Fk=!1;function lQ(){if(Fk)return;Fk=!0;function t(e,n,r){const i=function(){const s=new Yi(e,n);return r.ensNetwork!=null&&s.attachPlugin(new fy(null,r.ensNetwork)),s.attachPlugin(new cy),(r.plugins||[]).forEach(u=>{s.attachPlugin(u)}),s};Yi.register(e,i),Yi.register(n,i),r.altNames&&r.altNames.forEach(s=>{Yi.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[xk("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[xk("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function JA(t){return JSON.parse(JSON.stringify(t))}var xs,Or,Bu,Qi,Cc,Qp;class cQ{constructor(e){j(this,Cc);j(this,xs,void 0);j(this,Or,void 0);j(this,Bu,void 0);j(this,Qi,void 0);S(this,xs,e),S(this,Or,null),S(this,Bu,4e3),S(this,Qi,-2)}get pollingInterval(){return E(this,Bu)}set pollingInterval(e){S(this,Bu,e)}start(){E(this,Or)||(S(this,Or,E(this,xs)._setTimeout(q(this,Cc,Qp).bind(this),E(this,Bu))),q(this,Cc,Qp).call(this))}stop(){E(this,Or)&&(E(this,xs)._clearTimeout(E(this,Or)),S(this,Or,null))}pause(e){this.stop(),e&&S(this,Qi,-2)}resume(){this.start()}}xs=new WeakMap,Or=new WeakMap,Bu=new WeakMap,Qi=new WeakMap,Cc=new WeakSet,Qp=async function(){try{const e=await E(this,xs).getBlockNumber();if(E(this,Qi)===-2){S(this,Qi,e);return}if(e!==E(this,Qi)){for(let n=E(this,Qi)+1;n<=e;n++){if(E(this,Or)==null)return;await E(this,xs).emit("block",n)}S(this,Qi,e)}}catch{}E(this,Or)!=null&&S(this,Or,E(this,xs)._setTimeout(q(this,Cc,Qp).bind(this),E(this,Bu)))};var Ya,Za,Ou;class x2{constructor(e){j(this,Ya,void 0);j(this,Za,void 0);j(this,Ou,void 0);S(this,Ya,e),S(this,Ou,!1),S(this,Za,n=>{this._poll(n,E(this,Ya))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){E(this,Ou)||(S(this,Ou,!0),E(this,Za).call(this,-2),E(this,Ya).on("block",E(this,Za)))}stop(){E(this,Ou)&&(S(this,Ou,!1),E(this,Ya).off("block",E(this,Za)))}pause(e){this.stop()}resume(){this.start()}}Ya=new WeakMap,Za=new WeakMap,Ou=new WeakMap;var Dc,Fs;class fQ extends x2{constructor(n,r){super(n);j(this,Dc,void 0);j(this,Fs,void 0);S(this,Dc,r),S(this,Fs,-2)}pause(n){n&&S(this,Fs,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(E(this,Dc));i!=null&&(E(this,Fs)===-2?S(this,Fs,i.number):i.number>E(this,Fs)&&(r.emit(E(this,Dc),i.number),S(this,Fs,i.number)))}}Dc=new WeakMap,Fs=new WeakMap;var yg;class dQ extends x2{constructor(n,r){super(n);j(this,yg,void 0);S(this,yg,JA(r))}async _poll(n,r){throw new Error("@TODO")}}yg=new WeakMap;var kc;class hQ extends x2{constructor(n,r){super(n);j(this,kc,void 0);S(this,kc,r)}async _poll(n,r){const i=await r.getTransactionReceipt(E(this,kc));i&&r.emit(E(this,kc),i)}}kc=new WeakMap;var Cs,Sc,Bc,Nu,Nr,vg,w8;class F2{constructor(e,n){j(this,vg);j(this,Cs,void 0);j(this,Sc,void 0);j(this,Bc,void 0);j(this,Nu,void 0);j(this,Nr,void 0);S(this,Cs,e),S(this,Sc,JA(n)),S(this,Bc,q(this,vg,w8).bind(this)),S(this,Nu,!1),S(this,Nr,-2)}start(){E(this,Nu)||(S(this,Nu,!0),E(this,Nr)===-2&&E(this,Cs).getBlockNumber().then(e=>{S(this,Nr,e)}),E(this,Cs).on("block",E(this,Bc)))}stop(){E(this,Nu)&&(S(this,Nu,!1),E(this,Cs).off("block",E(this,Bc)))}pause(e){this.stop(),e&&S(this,Nr,-2)}resume(){this.start()}}Cs=new WeakMap,Sc=new WeakMap,Bc=new WeakMap,Nu=new WeakMap,Nr=new WeakMap,vg=new WeakSet,w8=async function(e){if(E(this,Nr)===-2)return;const n=JA(E(this,Sc));n.fromBlock=E(this,Nr)+1,n.toBlock=e;const r=await E(this,Cs).getLogs(n);if(r.length===0){E(this,Nr)<e-60&&S(this,Nr,e-60);return}for(const i of r)E(this,Cs).emit(E(this,Sc),i),S(this,Nr,i.blockNumber)};const pQ=BigInt(2),mQ=10;function cp(t){return t&&typeof t.then=="function"}function Gp(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,u)=>(s[u]=r[u],s),{})}return r})}class E8{constructor(e){_(this,"name");me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function gQ(t){return JSON.parse(JSON.stringify(t))}function YA(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function bv(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ke(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Gp("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Gp("orphan",n),filter:gQ(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?YA(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],u=a=>{Ke(a)?i.push(a):s.push((async()=>{i.push(await In(a,e))})())};Array.isArray(n.address)?n.address.forEach(u):u(n.address),s.length&&await Promise.all(s),r.address=YA(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Gp("event",r),type:"event"}}O(!1,"unknown ProviderEvent","event",t)}function Av(){return new Date().getTime()}const yQ={cacheTimeout:250,pollingInterval:4e3};var gn,_u,yn,Oc,dr,Xa,Tu,Ds,Rh,_r,Nc,_c,Sn,ar,Lh,ZA,Mh,XA,eo,cd,$h,ew,to,fd,Tc,Wp;class vQ{constructor(e,n){j(this,Sn);j(this,Lh);j(this,Mh);j(this,eo);j(this,$h);j(this,to);j(this,Tc);j(this,gn,void 0);j(this,_u,void 0);j(this,yn,void 0);j(this,Oc,void 0);j(this,dr,void 0);j(this,Xa,void 0);j(this,Tu,void 0);j(this,Ds,void 0);j(this,Rh,void 0);j(this,_r,void 0);j(this,Nc,void 0);j(this,_c,void 0);if(S(this,_c,Object.assign({},yQ,n||{})),e==="any")S(this,Xa,!0),S(this,dr,null);else if(e){const r=Yi.from(e);S(this,Xa,!1),S(this,dr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else S(this,Xa,!1),S(this,dr,null);S(this,Ds,-1),S(this,Tu,new Map),S(this,gn,new Map),S(this,_u,new Map),S(this,yn,null),S(this,Oc,!1),S(this,Rh,1),S(this,_r,new Map),S(this,Nc,!1)}get pollingInterval(){return E(this,_c).pollingInterval}get provider(){return this}get plugins(){return Array.from(E(this,_u).values())}attachPlugin(e){if(E(this,_u).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,_u).set(e.name,e.connect(this)),this}getPlugin(e){return E(this,_u).get(e)||null}get disableCcipRead(){return E(this,Nc)}set disableCcipRead(e){S(this,Nc,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),u=[];for(let a=0;a<r.length;a++){const o=r[a],c=o.replace("{sender}",i).replace("{data}",s),f=new sa(c);o.indexOf("{data}")===-1&&(f.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let d="unknown error";const h=await f.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:p})}catch{}z(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:d}}),u.push(d)}z(!1,`error encountered during CCIP fetch: ${u.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:u}})}_wrapBlock(e,n){return new Rz(nQ(e),this)}_wrapLog(e,n){return new a0(eQ(e),this)}_wrapTransactionReceipt(e,n){return new a8(uQ(e),this)}_wrapTransactionResponse(e,n){return new ph(A8(e),this)}_detectNetwork(){z(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){z(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ae(await q(this,Sn,ar).call(this,{method:"getBlockNumber"}),"%response");return E(this,Ds)>=0&&S(this,Ds,e),e}_getAddress(e){return In(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ke(e))return Ke(e,32)?e:Cl(e);if(typeof e=="bigint"&&(e=Ae(e,"blockTag")),typeof e=="number")return e>=0?Cl(e):E(this,Ds)>=0?Cl(E(this,Ds)+e):this.getBlockNumber().then(n=>Cl(n+e));O(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?YA(o.map(c=>c.toLowerCase())):o.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(o,c,f)=>{let d;switch(o.length){case 0:break;case 1:d=o[0];break;default:o.sort(),d=o}if(r&&(c!=null||f!=null))throw new Error("invalid filter");const h={};return d&&(h.address=d),n.length&&(h.topics=n),c&&(h.fromBlock=c),f&&(h.toBlock=f),r&&(h.blockHash=r),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)s.push(this._getAddress(o));else s.push(this._getAddress(e.address));let u;"fromBlock"in e&&(u=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(o=>typeof o!="string").length||u!=null&&typeof u!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),u,a]).then(o=>i(o[0],o[1],o[2])):i(s,u,a)}_getTransactionRequest(e){const n=Km(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=In(n[i],this);cp(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);cp(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(E(this,dr)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw E(this,dr)===i&&S(this,dr,null),s}})();return S(this,dr,i),(await i).clone()}const e=E(this,dr),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(E(this,Xa)?(this.emit("network",r,n),E(this,dr)===e&&S(this,dr,Promise.resolve(r))):z(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:u}=await On({_block:q(this,$h,ew).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await q(this,Sn,ar).call(this,{method:"getGasPrice"});return fe(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await q(this,Sn,ar).call(this,{method:"getPriorityFee"});return fe(f,"%response")}catch{}return null})()});let a=null,o=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(o=u??BigInt("1000000000"),a=c.baseFeePerGas*pQ+o),new yk(s,a,o)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new sa(r.url),s=await r.processFunc(n,this,i);return new yk(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return cp(n)&&(n=await n),fe(await q(this,Sn,ar).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await On({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await q(this,Mh,XA).call(this,q(this,Lh,ZA).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return fe(await q(this,eo,cd).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ae(await q(this,eo,cd).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return pe(await q(this,eo,cd).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=fe(n,"position");return pe(await q(this,eo,cd).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await On({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Wm.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await On({network:this.getNetwork(),params:q(this,$h,ew).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await On({network:this.getNetwork(),params:q(this,Sn,ar).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await On({network:this.getNetwork(),params:q(this,Sn,ar).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await q(this,Sn,ar).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await On({network:this.getNetwork(),result:q(this,Sn,ar).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:pe(n)}async getLogs(e){let n=this._getFilter(e);cp(n)&&(n=await n);const{network:r,params:i}=await On({network:this.getNetwork(),params:q(this,Sn,ar).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){z(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ym.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Ge(e);const n=zA(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Ym.getEnsAddress(this),s=await new Kl(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===uh)return null;const a=await new Kl(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(wn(r,"BAD_DATA")&&r.value==="0x"||wn(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,u)=>{let a=null;const o=async c=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&c-f.blockNumber+1>=i){s(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",o)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",o),u(Tt("timeout","TIMEOUT",{reason:"timeout"})))},r)),o(await this.getBlockNumber())})}async waitForBlock(e){z(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=E(this,_r).get(e);n&&(n.timer&&clearTimeout(n.timer),E(this,_r).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Df(this,Rh)._++,i=()=>{E(this,_r).delete(r),e()};if(this.paused)E(this,_r).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);E(this,_r).set(r,{timer:s,func:i,time:Av()})}return r}_forEachSubscriber(e){for(const n of E(this,gn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new E8(e.type);case"block":{const n=new cQ(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new fQ(this,e.type);case"event":return new F2(this,e.filter);case"transaction":return new hQ(this,e.hash);case"orphan":return new dQ(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of E(this,gn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),E(this,yn)!=null&&n.pause(E(this,yn));break}}async on(e,n){const r=await q(this,Tc,Wp).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,E(this,yn)!=null&&r.subscriber.pause(E(this,yn))),this}async once(e,n){const r=await q(this,Tc,Wp).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,E(this,yn)!=null&&r.subscriber.pause(E(this,yn))),this}async emit(e,...n){const r=await q(this,to,fd).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:u})=>{const a=new W_(this,u?null:s,e);try{s.call(this,...n,a)}catch{}return!u}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),E(this,gn).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await q(this,to,fd).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of E(this,gn).values())n+=r.length;return n}async listeners(e){if(e){const r=await q(this,to,fd).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of E(this,gn).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await q(this,to,fd).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),E(this,gn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await q(this,Tc,Wp).call(this,e);r&&i.stop(),E(this,gn).delete(n)}else for(const[n,{started:r,subscriber:i}]of E(this,gn))r&&i.stop(),E(this,gn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return E(this,Oc)}destroy(){this.removeAllListeners();for(const e of E(this,_r).keys())this._clearTimeout(e);S(this,Oc,!0)}get paused(){return E(this,yn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(S(this,Ds,-1),E(this,yn)!=null){if(E(this,yn)==!!e)return;z(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),S(this,yn,!!e);for(const n of E(this,_r).values())n.timer&&clearTimeout(n.timer),n.time=Av()-n.time}resume(){if(E(this,yn)!=null){this._forEachSubscriber(e=>e.resume()),S(this,yn,null);for(const e of E(this,_r).values()){let n=e.time;n<0&&(n=0),e.time=Av(),setTimeout(e.func,n)}}}}gn=new WeakMap,_u=new WeakMap,yn=new WeakMap,Oc=new WeakMap,dr=new WeakMap,Xa=new WeakMap,Tu=new WeakMap,Ds=new WeakMap,Rh=new WeakMap,_r=new WeakMap,Nc=new WeakMap,_c=new WeakMap,Sn=new WeakSet,ar=async function(e){const n=E(this,_c).cacheTimeout;if(n<0)return await this._perform(e);const r=Gp(e.method,e);let i=E(this,Tu).get(r);return i||(i=this._perform(e),E(this,Tu).set(r,i),setTimeout(()=>{E(this,Tu).get(r)===i&&E(this,Tu).delete(r)},n)),await i},Lh=new WeakSet,ZA=async function(e,n,r){z(r<mQ,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Km(e);try{return pe(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&s2(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&pt(s.data,0,4)==="0x556f1830"){const u=s.data,a=await In(i.to,this);let o;try{o=xQ(pt(s.data,4))}catch(d){z(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:u}})}z(o.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:u,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const c=await this.ccipReadFetch(i,o.calldata,o.urls);z(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:o.errorArgs}});const f={to:a,data:Rt([o.selector,EQ([c,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const d=await q(this,Lh,ZA).call(this,f,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:d}),d}}throw s}},Mh=new WeakSet,XA=async function(e){const{value:n}=await On({network:this.getNetwork(),value:e});return n},eo=new WeakSet,cd=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await q(this,Mh,XA).call(this,q(this,Sn,ar).call(this,Object.assign(e,{address:i,blockTag:s})))},$h=new WeakSet,ew=async function(e,n){if(Ke(e,32))return await q(this,Sn,ar).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await q(this,Sn,ar).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},to=new WeakSet,fd=async function(e,n){let r=await bv(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await bv({orphan:"drop-log",log:n[0]},this)),E(this,gn).get(r.tag)||null},Tc=new WeakSet,Wp=async function(e){const n=await bv(e,this),r=n.tag;let i=E(this,gn).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},E(this,gn).set(r,i)),i};function bQ(t,e){try{const n=tw(t,e);if(n)return Mm(n)}catch{}return null}function tw(t,e){if(t==="0x")return null;try{const n=Ae(pt(t,e,e+32)),r=Ae(pt(t,n,n+32));return pt(t,n+32,n+32+r)}catch{}return null}function Ck(t){const e=Pn(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function AQ(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const wQ=new Uint8Array([]);function EQ(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(wQ),n+=32;for(let r=0;r<t.length;r++){const i=Te(t[r]);e[r]=Ck(n),e.push(Ck(i.length)),e.push(AQ(i)),n+=32+Math.ceil(i.length/32)*32}return Rt(e)}const Dk="0x0000000000000000000000000000000000000000000000000000000000000000";function xQ(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};z(Gl(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=pt(t,0,32);z(pt(n,0,12)===pt(Dk,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=pt(n,12);try{const r=[],i=Ae(pt(t,32,64)),s=Ae(pt(t,i,i+32)),u=pt(t,i+32);for(let a=0;a<s;a++){const o=bQ(u,a*32);if(o==null)throw new Error("abort");r.push(o)}e.urls=r}catch{z(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=tw(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{z(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}z(pt(t,100,128)===pt(Dk,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=pt(t,96,100);try{const r=tw(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{z(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Ko(t,e){if(t.provider)return t.provider;z(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function kk(t,e){let n=Km(e);if(n.to!=null&&(n.to=In(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),In(r,t)]).then(([i,s])=>(O(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await On(n)}class FQ{constructor(e){_(this,"provider");me(this,{provider:e||null})}async getNonce(e){return Ko(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await kk(this,e)}async populateTransaction(e){const n=Ko(this,"populateTransaction"),r=await kk(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const u=fe(r.chainId);O(u===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?O(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&O(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const u=await n.getFeeData();z(u.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=u.gasPrice)}else{const u=await n.getFeeData();if(r.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=u.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(z(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=u.gasPrice),r.type=0):z(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=u.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return await On(r)}async estimateGas(e){return Ko(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ko(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Ko(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Ko(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Wm.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}}function CQ(t){return JSON.parse(JSON.stringify(t))}var qn,Gi,no,Pu,ro,Pc,Uh,nw,Vh,rw;class x8{constructor(e){j(this,Uh);j(this,Vh);j(this,qn,void 0);j(this,Gi,void 0);j(this,no,void 0);j(this,Pu,void 0);j(this,ro,void 0);j(this,Pc,void 0);S(this,qn,e),S(this,Gi,null),S(this,no,q(this,Uh,nw).bind(this)),S(this,Pu,!1),S(this,ro,null),S(this,Pc,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){E(this,Pu)||(S(this,Pu,!0),q(this,Uh,nw).call(this,-2))}stop(){E(this,Pu)&&(S(this,Pu,!1),S(this,Pc,!0),q(this,Vh,rw).call(this),E(this,qn).off("block",E(this,no)))}pause(e){e&&q(this,Vh,rw).call(this),E(this,qn).off("block",E(this,no))}resume(){this.start()}}qn=new WeakMap,Gi=new WeakMap,no=new WeakMap,Pu=new WeakMap,ro=new WeakMap,Pc=new WeakMap,Uh=new WeakSet,nw=async function(e){try{E(this,Gi)==null&&S(this,Gi,this._subscribe(E(this,qn)));let n=null;try{n=await E(this,Gi)}catch(s){if(!wn(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){S(this,Gi,null),E(this,qn)._recoverSubscriber(this,this._recover(E(this,qn)));return}const r=await E(this,qn).getNetwork();if(E(this,ro)||S(this,ro,r),E(this,ro).chainId!==r.chainId)throw new Error("chaid changed");if(E(this,Pc))return;const i=await E(this,qn).send("eth_getFilterChanges",[n]);await this._emitResults(E(this,qn),i)}catch(n){console.log("@TODO",n)}E(this,qn).once("block",E(this,no))},Vh=new WeakSet,rw=function(){const e=E(this,Gi);e&&(S(this,Gi,null),e.then(n=>{E(this,qn).send("eth_uninstallFilter",[n])}))};var io;class DQ extends x8{constructor(n,r){super(n);j(this,io,void 0);S(this,io,CQ(r))}_recover(n){return new F2(n,E(this,io))}async _subscribe(n){return await n.send("eth_newFilter",[E(this,io)])}async _emitResults(n,r){for(const i of r)n.emit(E(this,io),n._wrapLog(i,n._network))}}io=new WeakMap;class kQ extends x8{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const SQ="bigint,boolean,function,number,string,symbol".split(/,/g);function qp(t){if(t==null||SQ.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(qp);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function BQ(t){return new Promise(e=>{setTimeout(e,t)})}function Jo(t){return t&&t.toLowerCase()}function Sk(t){return t&&typeof t.pollingInterval=="number"}const OQ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class wv extends FQ{constructor(n,r){super(n);_(this,"address");r=Ge(r),me(this,{address:r})}connect(n){z(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=qp(n),i=[];if(r.from){const u=r.from;i.push((async()=>{const a=await In(u,this.provider);O(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const u=r.to;i.push((async()=>{r.to=await In(u,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,u)=>{const a=[1e3,100];let o=0;const c=async()=>{try{const f=await this.provider.getTransaction(i);if(f!=null){s(f.replaceableTransaction(r));return}}catch(f){if(wn(f,"CANCELLED")||wn(f,"BAD_DATA")||wn(f,"NETWORK_ERROR")){f.info==null&&(f.info={}),f.info.sendTransactionHash=i,u(f);return}if(wn(f,"INVALID_ARGUMENT")&&(o++,f.info==null&&(f.info={}),f.info.sendTransactionHash=i,o>10)){u(f);return}this.provider.emit("error",Tt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:f}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=qp(n);if(r.from){const s=await In(r.from,this.provider);O(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Ps(n):n;return await this.provider.send("personal_sign",[pe(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=qp(i),u=await qm.resolveNames(n,r,s,async a=>{const o=await In(a);return O(o!=null,"TypedData does not support null address","value",a),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(qm.getPayload(u.domain,r,u.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Ps(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),pe(r)])}}var so,jc,ks,Wi,hi,Tr,Kn,Hh,iw;class NQ extends vQ{constructor(n,r){super(n,r);j(this,Hh);j(this,so,void 0);j(this,jc,void 0);j(this,ks,void 0);j(this,Wi,void 0);j(this,hi,void 0);j(this,Tr,void 0);j(this,Kn,void 0);S(this,jc,1),S(this,so,Object.assign({},OQ,r||{})),S(this,ks,[]),S(this,Wi,null),S(this,Tr,null),S(this,Kn,null);{let s=null;const u=new Promise(a=>{s=a});S(this,hi,{promise:u,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(O(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&S(this,Tr,Yi.from(n))):i&&(O(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),S(this,Tr,i))}_getOption(n){return E(this,so)[n]}get _network(){return z(E(this,Tr),"network is not available yet","NETWORK_ERROR"),E(this,Tr)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&fe(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(E(this,Tr))return E(this,Tr)}else return n;return E(this,Kn)?await E(this,Kn):this.ready?(S(this,Kn,(async()=>{try{const r=Yi.from(fe(await this.send("eth_chainId",[])));return S(this,Kn,null),r}catch(r){throw S(this,Kn,null),r}})()),await E(this,Kn)):(S(this,Kn,(async()=>{const r={id:Df(this,jc)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],S(this,Kn,null)}catch(s){throw S(this,Kn,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Yi.from(fe(i.result));throw this.getRpcError(r,i)})()),await E(this,Kn))}_start(){E(this,hi)==null||E(this,hi).resolve==null||(E(this,hi).resolve(),S(this,hi,null),(async()=>{for(;E(this,Tr)==null&&!this.destroyed;)try{S(this,Tr,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Tt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await BQ(1e3)}q(this,Hh,iw).call(this)})())}async _waitUntilReady(){if(E(this,hi)!=null)return await E(this,hi).promise}_getSubscriber(n){return n.type==="pending"?new kQ(this):n.type==="event"?this._getOption("polling")?new F2(this,n.filter):new DQ(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new E8("orphan"):super._getSubscriber(n)}get ready(){return E(this,hi)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Cl(fe(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=pe(n[i]))}),n.accessList&&(r.accessList=Lo(n.accessList)),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Jo(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Jo(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Jo(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Jo(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Jo):n.filter.address=Jo(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const o=s.message;if(!o.match(/revert/i)&&o.match(/insufficient funds/i))return Tt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const o=sw(s),c=hh.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],o?o.data:null);return c.info={error:s,payload:n},c}const u=JSON.stringify(TQ(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Tt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const o=n.params[0];if(u.match(/insufficient funds|base fee exceeds gas limit/i))return Tt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:s}});if(u.match(/nonce/i)&&u.match(/too low/i))return Tt("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:s}});if(u.match(/replacement transaction/i)&&u.match(/underpriced/i))return Tt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:s}});if(u.match(/only replay-protected/i))return Tt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:o,info:{error:s}}})}let a=!!u.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Tt("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Tt("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=Df(this,jc)._++,s=new Promise((u,a)=>{E(this,ks).push({resolve:u,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return q(this,Hh,iw).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new wv(this,s[n])}const{accounts:i}=await On({network:this.getNetwork(),accounts:r});n=Ge(n);for(const s of i)if(Ge(s)===n)return new wv(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new wv(this,r))}destroy(){E(this,Wi)&&(clearTimeout(E(this,Wi)),S(this,Wi,null));for(const{payload:n,reject:r}of E(this,ks))r(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));S(this,ks,[]),super.destroy()}}so=new WeakMap,jc=new WeakMap,ks=new WeakMap,Wi=new WeakMap,hi=new WeakMap,Tr=new WeakMap,Kn=new WeakMap,Hh=new WeakSet,iw=function(){if(E(this,Wi))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");S(this,Wi,setTimeout(()=>{S(this,Wi,null);const r=E(this,ks);for(S(this,ks,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==E(this,so).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(u=>u.payload)).length>E(this,so).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(u=>u.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const u=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:u});for(const{resolve:a,reject:o,payload:c}of i){if(this.destroyed){o(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const f=u.filter(d=>d.id===c.id)[0];if(f==null){const d=Tt("missing response for request","BAD_DATA",{value:u,info:{payload:c}});this.emit("error",d),o(d);continue}if("error"in f){o(this.getRpcError(c,f));continue}a(f.result)}}catch(u){this.emit("debug",{action:"receiveRpcError",error:u});for(const{reject:a}of i)a(u)}})()}},n))};var ju;class _Q extends NQ{constructor(n,r){super(n,r);j(this,ju,void 0);S(this,ju,4e3)}_getSubscriber(n){const r=super._getSubscriber(n);return Sk(r)&&(r.pollingInterval=E(this,ju)),r}get pollingInterval(){return E(this,ju)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");S(this,ju,n),this._forEachSubscriber(r=>{Sk(r)&&(r.pollingInterval=E(this,ju))})}}ju=new WeakMap;function sw(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ke(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=sw(t[e]);if(n)return n}return null}if(typeof t=="string")try{return sw(JSON.parse(t))}catch{}return null}function uw(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)uw(t[n],e);if(typeof t=="string")try{return uw(JSON.parse(t),e)}catch{}}}function TQ(t){const e=[];return uw(t,e),e}var Ic;class PQ extends _Q{constructor(n,r){O(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,{batchMaxCount:1});j(this,Ic,void 0);S(this,Ic,async(i,s)=>{const u={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const a=await n.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:a}),a}catch(a){const o=new Error(a.message);throw o.code=a.code,o.data=a.data,o.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:o}),o}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){O(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await E(this,Ic).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await E(this,Ic).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}}Ic=new WeakMap;const jQ=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"string",name:"jsonMessage",type:"string"}],name:"Message",type:"event"},{inputs:[{internalType:"string",name:"jsonMessage",type:"string"}],name:"message",outputs:[],stateMutability:"nonpayable",type:"function"}],Zm={chainId:"0x89",chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com","https://matic-mainnet-archive-rpc.bwarelabs.com"],iconUrls:["https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0/logo.png"],blockExplorerUrls:["https://polygonscan.com/"],nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18}},IQ={[Zm.chainId]:Zm},RQ={};({...IQ,...RQ});const LQ=[-32603,4902];function C2(){if(window.ethereum)return window.ethereum;throw"No wallet detected. Use Metamask, Trust Wallet or Brave Browser."}async function MQ(){try{await C2().request({method:"wallet_switchEthereumChain",params:[{chainId:Zm.chainId}]})}catch(t){if(LQ.includes(t.code))$Q();else throw t}}async function $Q(){await C2().request({method:"wallet_addEthereumChain",params:[Zm]}),window.location.reload()}function UQ(t,e){return JSON.stringify({ns:"4dchan.org",v:0,op:t,data:e})}async function sn(t,e,n){console.log("web3.sendMessage",{operation:t,data:e,from:n});const i=await mh().getSigner(n);return new Kl(Ql.contract.address,jQ,i).message(UQ(t,e))}async function VQ(t,e,n){const i=await mh().getSigner(t),s=HU(n.toString());return i.sendTransaction({to:e,value:s})}function mh(){return new PQ(C2())}async function HQ(){return mh().send("eth_requestAccounts",[])}function F8(t){return t?t==="137"||t===137:!1}const C8=x.createContext({provider:void 0,chainId:void 0,accounts:[],balance:void 0,gasPrice:void 0,network:void 0,connect:async()=>({}),disconnect:()=>({}),connected:!1}),zQ=({children:t})=>{const[e,n]=x.useState(),[r,i]=x.useState(),[s,u]=x.useState(),[a,o]=x.useState([]),[c,f]=x.useState(),[d,h]=x.useState(),[p,v]=x.useState(!1);x.useEffect(()=>{const y=async()=>{try{const w=mh(),F=await w.getNetwork(),k=await w.listAccounts().then(C=>C.map(D=>D.address.toLowerCase()));if(n(w),u(F.chainId.toString()),o(k),i(F),k[0]){const C=await w.getBalance(k[0]);f(Number(OA(C,"ether")))}}catch(w){console.error({updateProvider:w})}};let A;return p&&(A=setInterval(y,2500),y()),()=>A&&clearInterval(A)},[p]),x.useEffect(()=>{const y=async()=>{try{const w=await(e==null?void 0:e.getFeeData());h(Number((w==null?void 0:w.gasPrice)??void 0))}catch(w){console.error({updateGasPrice:w})}};let A;return e&&(A=setInterval(y,6e4),y()),()=>A&&clearInterval(A)},[e]);const m=x.useCallback(async()=>{try{const y=mh(),A=await HQ(),w=await y.getNetwork();return n(y),o(A),i(w),u(w.chainId.toString()),v(!0),{success:A.length>0}}catch(y){return{error:y}}},[]),b=x.useCallback(()=>{n(void 0),o([]),i(void 0),u(void 0),v(!1)},[]),g={provider:e,chainId:s,accounts:a,balance:c,gasPrice:d,connect:m,disconnect:b,network:r,connected:p};return l.jsx(C8.Provider,{value:g,children:t})},wr=()=>x.useContext(C8);function Sd(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function QQ(){this.__data__=[],this.size=0}function dy(t,e){return t===e||t!==t&&e!==e}function hy(t,e){for(var n=t.length;n--;)if(dy(t[n][0],e))return n;return-1}var GQ=Array.prototype,WQ=GQ.splice;function qQ(t){var e=this.__data__,n=hy(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():WQ.call(e,n,1),--this.size,!0}function KQ(t){var e=this.__data__,n=hy(e,t);return n<0?void 0:e[n][1]}function JQ(t){return hy(this.__data__,t)>-1}function YQ(t,e){var n=this.__data__,r=hy(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ks(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ks.prototype.clear=QQ;Ks.prototype.delete=qQ;Ks.prototype.get=KQ;Ks.prototype.has=JQ;Ks.prototype.set=YQ;function ZQ(){this.__data__=new Ks,this.size=0}function XQ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function eG(t){return this.__data__.get(t)}function tG(t){return this.__data__.has(t)}var D8=typeof global=="object"&&global&&global.Object===Object&&global,nG=typeof self=="object"&&self&&self.Object===Object&&self,Zr=D8||nG||Function("return this")(),Kr=Zr.Symbol,k8=Object.prototype,rG=k8.hasOwnProperty,iG=k8.toString,Gf=Kr?Kr.toStringTag:void 0;function sG(t){var e=rG.call(t,Gf),n=t[Gf];try{t[Gf]=void 0;var r=!0}catch{}var i=iG.call(t);return r&&(e?t[Gf]=n:delete t[Gf]),i}var uG=Object.prototype,aG=uG.toString;function oG(t){return aG.call(t)}var lG="[object Null]",cG="[object Undefined]",Bk=Kr?Kr.toStringTag:void 0;function Js(t){return t==null?t===void 0?cG:lG:Bk&&Bk in Object(t)?sG(t):oG(t)}function Di(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fG="[object AsyncFunction]",dG="[object Function]",hG="[object GeneratorFunction]",pG="[object Proxy]";function S8(t){if(!Di(t))return!1;var e=Js(t);return e==dG||e==hG||e==fG||e==pG}var Ev=Zr["__core-js_shared__"],Ok=function(){var t=/[^.]+$/.exec(Ev&&Ev.keys&&Ev.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mG(t){return!!Ok&&Ok in t}var gG=Function.prototype,yG=gG.toString;function Mo(t){if(t!=null){try{return yG.call(t)}catch{}try{return t+""}catch{}}return""}var vG=/[\\^$.*+?()[\]{}|]/g,bG=/^\[object .+?Constructor\]$/,AG=Function.prototype,wG=Object.prototype,EG=AG.toString,xG=wG.hasOwnProperty,FG=RegExp("^"+EG.call(xG).replace(vG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CG(t){if(!Di(t)||mG(t))return!1;var e=S8(t)?FG:bG;return e.test(Mo(t))}function DG(t,e){return t==null?void 0:t[e]}function $o(t,e){var n=DG(t,e);return CG(n)?n:void 0}var gh=$o(Zr,"Map"),yh=$o(Object,"create");function kG(){this.__data__=yh?yh(null):{},this.size=0}function SG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BG="__lodash_hash_undefined__",OG=Object.prototype,NG=OG.hasOwnProperty;function _G(t){var e=this.__data__;if(yh){var n=e[t];return n===BG?void 0:n}return NG.call(e,t)?e[t]:void 0}var TG=Object.prototype,PG=TG.hasOwnProperty;function jG(t){var e=this.__data__;return yh?e[t]!==void 0:PG.call(e,t)}var IG="__lodash_hash_undefined__";function RG(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yh&&e===void 0?IG:e,this}function So(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}So.prototype.clear=kG;So.prototype.delete=SG;So.prototype.get=_G;So.prototype.has=jG;So.prototype.set=RG;function LG(){this.size=0,this.__data__={hash:new So,map:new(gh||Ks),string:new So}}function MG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function py(t,e){var n=t.__data__;return MG(e)?n[typeof e=="string"?"string":"hash"]:n.map}function $G(t){var e=py(this,t).delete(t);return this.size-=e?1:0,e}function UG(t){return py(this,t).get(t)}function VG(t){return py(this,t).has(t)}function HG(t,e){var n=py(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ys(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ys.prototype.clear=LG;Ys.prototype.delete=$G;Ys.prototype.get=UG;Ys.prototype.has=VG;Ys.prototype.set=HG;var zG=200;function QG(t,e){var n=this.__data__;if(n instanceof Ks){var r=n.__data__;if(!gh||r.length<zG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ys(r)}return n.set(t,e),this.size=n.size,this}function ts(t){var e=this.__data__=new Ks(t);this.size=e.size}ts.prototype.clear=ZQ;ts.prototype.delete=XQ;ts.prototype.get=eG;ts.prototype.has=tG;ts.prototype.set=QG;function GG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Xm=function(){try{var t=$o(Object,"defineProperty");return t({},"",{}),t}catch{}}();function B8(t,e,n){e=="__proto__"&&Xm?Xm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var WG=Object.prototype,qG=WG.hasOwnProperty;function O8(t,e,n){var r=t[e];(!(qG.call(t,e)&&dy(r,n))||n===void 0&&!(e in t))&&B8(t,e,n)}function c0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var a=e[s],o=r?r(n[a],t[a],a,n,t):void 0;o===void 0&&(o=t[a]),i?B8(n,a,o):O8(n,a,o)}return n}function KG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ki(t){return t!=null&&typeof t=="object"}var JG="[object Arguments]";function Nk(t){return ki(t)&&Js(t)==JG}var N8=Object.prototype,YG=N8.hasOwnProperty,ZG=N8.propertyIsEnumerable,D2=Nk(function(){return arguments}())?Nk:function(t){return ki(t)&&YG.call(t,"callee")&&!ZG.call(t,"callee")},vr=Array.isArray;function XG(){return!1}var _8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_k=_8&&typeof module=="object"&&module&&!module.nodeType&&module,eW=_k&&_k.exports===_8,Tk=eW?Zr.Buffer:void 0,tW=Tk?Tk.isBuffer:void 0,eg=tW||XG,nW=9007199254740991,rW=/^(?:0|[1-9]\d*)$/;function k2(t,e){var n=typeof t;return e=e??nW,!!e&&(n=="number"||n!="symbol"&&rW.test(t))&&t>-1&&t%1==0&&t<e}var iW=9007199254740991;function S2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=iW}var sW="[object Arguments]",uW="[object Array]",aW="[object Boolean]",oW="[object Date]",lW="[object Error]",cW="[object Function]",fW="[object Map]",dW="[object Number]",hW="[object Object]",pW="[object RegExp]",mW="[object Set]",gW="[object String]",yW="[object WeakMap]",vW="[object ArrayBuffer]",bW="[object DataView]",AW="[object Float32Array]",wW="[object Float64Array]",EW="[object Int8Array]",xW="[object Int16Array]",FW="[object Int32Array]",CW="[object Uint8Array]",DW="[object Uint8ClampedArray]",kW="[object Uint16Array]",SW="[object Uint32Array]",Xe={};Xe[AW]=Xe[wW]=Xe[EW]=Xe[xW]=Xe[FW]=Xe[CW]=Xe[DW]=Xe[kW]=Xe[SW]=!0;Xe[sW]=Xe[uW]=Xe[vW]=Xe[aW]=Xe[bW]=Xe[oW]=Xe[lW]=Xe[cW]=Xe[fW]=Xe[dW]=Xe[hW]=Xe[pW]=Xe[mW]=Xe[gW]=Xe[yW]=!1;function BW(t){return ki(t)&&S2(t.length)&&!!Xe[Js(t)]}function f0(t){return function(e){return t(e)}}var T8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bd=T8&&typeof module=="object"&&module&&!module.nodeType&&module,OW=Bd&&Bd.exports===T8,xv=OW&&D8.process,ua=function(){try{var t=Bd&&Bd.require&&Bd.require("util").types;return t||xv&&xv.binding&&xv.binding("util")}catch{}}(),Pk=ua&&ua.isTypedArray,P8=Pk?f0(Pk):BW,NW=Object.prototype,_W=NW.hasOwnProperty;function j8(t,e){var n=vr(t),r=!n&&D2(t),i=!n&&!r&&eg(t),s=!n&&!r&&!i&&P8(t),u=n||r||i||s,a=u?KG(t.length,String):[],o=a.length;for(var c in t)(e||_W.call(t,c))&&!(u&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||k2(c,o)))&&a.push(c);return a}var TW=Object.prototype;function B2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TW;return t===n}function I8(t,e){return function(n){return t(e(n))}}var PW=I8(Object.keys,Object),jW=Object.prototype,IW=jW.hasOwnProperty;function RW(t){if(!B2(t))return PW(t);var e=[];for(var n in Object(t))IW.call(t,n)&&n!="constructor"&&e.push(n);return e}function d0(t){return t!=null&&S2(t.length)&&!S8(t)}function h0(t){return d0(t)?j8(t):RW(t)}function LW(t,e){return t&&c0(e,h0(e),t)}function MW(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $W=Object.prototype,UW=$W.hasOwnProperty;function VW(t){if(!Di(t))return MW(t);var e=B2(t),n=[];for(var r in t)r=="constructor"&&(e||!UW.call(t,r))||n.push(r);return n}function O2(t){return d0(t)?j8(t,!0):VW(t)}function HW(t,e){return t&&c0(e,O2(e),t)}var R8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jk=R8&&typeof module=="object"&&module&&!module.nodeType&&module,zW=jk&&jk.exports===R8,Ik=zW?Zr.Buffer:void 0,Rk=Ik?Ik.allocUnsafe:void 0;function QW(t,e){if(e)return t.slice();var n=t.length,r=Rk?Rk(n):new t.constructor(n);return t.copy(r),r}function GW(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function WW(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var u=t[n];e(u,n,t)&&(s[i++]=u)}return s}function L8(){return[]}var qW=Object.prototype,KW=qW.propertyIsEnumerable,Lk=Object.getOwnPropertySymbols,JW=Lk?function(t){return t==null?[]:(t=Object(t),WW(Lk(t),function(e){return KW.call(t,e)}))}:L8;const N2=JW;function YW(t,e){return c0(t,N2(t),e)}function _2(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var T2=I8(Object.getPrototypeOf,Object),ZW=Object.getOwnPropertySymbols,XW=ZW?function(t){for(var e=[];t;)_2(e,N2(t)),t=T2(t);return e}:L8;const M8=XW;function eq(t,e){return c0(t,M8(t),e)}function $8(t,e,n){var r=e(t);return vr(t)?r:_2(r,n(t))}function aw(t){return $8(t,h0,N2)}function U8(t){return $8(t,O2,M8)}var ow=$o(Zr,"DataView"),lw=$o(Zr,"Promise"),Jl=$o(Zr,"Set"),cw=$o(Zr,"WeakMap"),Mk="[object Map]",tq="[object Object]",$k="[object Promise]",Uk="[object Set]",Vk="[object WeakMap]",Hk="[object DataView]",nq=Mo(ow),rq=Mo(gh),iq=Mo(lw),sq=Mo(Jl),uq=Mo(cw),Ca=Js;(ow&&Ca(new ow(new ArrayBuffer(1)))!=Hk||gh&&Ca(new gh)!=Mk||lw&&Ca(lw.resolve())!=$k||Jl&&Ca(new Jl)!=Uk||cw&&Ca(new cw)!=Vk)&&(Ca=function(t){var e=Js(t),n=e==tq?t.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case nq:return Hk;case rq:return Mk;case iq:return $k;case sq:return Uk;case uq:return Vk}return e});const vh=Ca;var aq=Object.prototype,oq=aq.hasOwnProperty;function lq(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&oq.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var cq=Zr.Uint8Array;const tg=cq;function P2(t){var e=new t.constructor(t.byteLength);return new tg(e).set(new tg(t)),e}function fq(t,e){var n=e?P2(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var dq=/\w*$/;function hq(t){var e=new t.constructor(t.source,dq.exec(t));return e.lastIndex=t.lastIndex,e}var zk=Kr?Kr.prototype:void 0,Qk=zk?zk.valueOf:void 0;function pq(t){return Qk?Object(Qk.call(t)):{}}function mq(t,e){var n=e?P2(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var gq="[object Boolean]",yq="[object Date]",vq="[object Map]",bq="[object Number]",Aq="[object RegExp]",wq="[object Set]",Eq="[object String]",xq="[object Symbol]",Fq="[object ArrayBuffer]",Cq="[object DataView]",Dq="[object Float32Array]",kq="[object Float64Array]",Sq="[object Int8Array]",Bq="[object Int16Array]",Oq="[object Int32Array]",Nq="[object Uint8Array]",_q="[object Uint8ClampedArray]",Tq="[object Uint16Array]",Pq="[object Uint32Array]";function jq(t,e,n){var r=t.constructor;switch(e){case Fq:return P2(t);case gq:case yq:return new r(+t);case Cq:return fq(t,n);case Dq:case kq:case Sq:case Bq:case Oq:case Nq:case _q:case Tq:case Pq:return mq(t,n);case vq:return new r;case bq:case Eq:return new r(t);case Aq:return hq(t);case wq:return new r;case xq:return pq(t)}}var Gk=Object.create,Iq=function(){function t(){}return function(e){if(!Di(e))return{};if(Gk)return Gk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Rq(t){return typeof t.constructor=="function"&&!B2(t)?Iq(T2(t)):{}}var Lq="[object Map]";function Mq(t){return ki(t)&&vh(t)==Lq}var Wk=ua&&ua.isMap,$q=Wk?f0(Wk):Mq,Uq="[object Set]";function Vq(t){return ki(t)&&vh(t)==Uq}var qk=ua&&ua.isSet,Hq=qk?f0(qk):Vq,zq=1,Qq=2,Gq=4,V8="[object Arguments]",Wq="[object Array]",qq="[object Boolean]",Kq="[object Date]",Jq="[object Error]",H8="[object Function]",Yq="[object GeneratorFunction]",Zq="[object Map]",Xq="[object Number]",z8="[object Object]",eK="[object RegExp]",tK="[object Set]",nK="[object String]",rK="[object Symbol]",iK="[object WeakMap]",sK="[object ArrayBuffer]",uK="[object DataView]",aK="[object Float32Array]",oK="[object Float64Array]",lK="[object Int8Array]",cK="[object Int16Array]",fK="[object Int32Array]",dK="[object Uint8Array]",hK="[object Uint8ClampedArray]",pK="[object Uint16Array]",mK="[object Uint32Array]",We={};We[V8]=We[Wq]=We[sK]=We[uK]=We[qq]=We[Kq]=We[aK]=We[oK]=We[lK]=We[cK]=We[fK]=We[Zq]=We[Xq]=We[z8]=We[eK]=We[tK]=We[nK]=We[rK]=We[dK]=We[hK]=We[pK]=We[mK]=!0;We[Jq]=We[H8]=We[iK]=!1;function Kp(t,e,n,r,i,s){var u,a=e&zq,o=e&Qq,c=e&Gq;if(n&&(u=i?n(t,r,i,s):n(t)),u!==void 0)return u;if(!Di(t))return t;var f=vr(t);if(f){if(u=lq(t),!a)return GW(t,u)}else{var d=vh(t),h=d==H8||d==Yq;if(eg(t))return QW(t,a);if(d==z8||d==V8||h&&!i){if(u=o||h?{}:Rq(t),!a)return o?eq(t,HW(u,t)):YW(t,LW(u,t))}else{if(!We[d])return i?t:{};u=jq(t,d,a)}}s||(s=new ts);var p=s.get(t);if(p)return p;s.set(t,u),Hq(t)?t.forEach(function(b){u.add(Kp(b,e,n,b,t,s))}):$q(t)&&t.forEach(function(b,g){u.set(g,Kp(b,e,n,g,t,s))});var v=c?o?U8:aw:o?O2:h0,m=f?void 0:v(t);return GG(m||t,function(b,g){m&&(g=b,b=t[g]),O8(u,g,Kp(b,e,n,g,t,s))}),u}var gK="[object Symbol]";function nf(t){return typeof t=="symbol"||ki(t)&&Js(t)==gK}var yK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vK=/^\w*$/;function j2(t,e){if(vr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nf(t)?!0:vK.test(t)||!yK.test(t)||e!=null&&t in Object(e)}var bK="Expected a function";function I2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var u=t.apply(this,r);return n.cache=s.set(i,u)||s,u};return n.cache=new(I2.Cache||Ys),n}I2.Cache=Ys;var AK=500;function wK(t){var e=I2(t,function(r){return n.size===AK&&n.clear(),r}),n=e.cache;return e}var EK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xK=/\\(\\)?/g,FK=wK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(EK,function(n,r,i,s){e.push(i?s.replace(xK,"$1"):r||n)}),e}),CK=1/0,Kk=Kr?Kr.prototype:void 0,Jk=Kk?Kk.toString:void 0;function ng(t){if(typeof t=="string")return t;if(vr(t))return Sd(t,ng)+"";if(nf(t))return Jk?Jk.call(t):"";var e=t+"";return e=="0"&&1/t==-CK?"-0":e}function rf(t){return t==null?"":ng(t)}function my(t,e){return vr(t)?t:j2(t,e)?[t]:FK(rf(t))}function DK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kK=1/0;function p0(t){if(typeof t=="string"||nf(t))return t;var e=t+"";return e=="0"&&1/t==-kK?"-0":e}function gy(t,e){e=my(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[p0(e[n++])];return n&&n==r?t:void 0}function Q8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function SK(t,e){return e.length<2?t:gy(t,Q8(e,0,-1))}function BK(t,e){return e=my(e,t),t=SK(t,e),t==null||delete t[p0(DK(e))]}var OK="[object Object]",NK=Function.prototype,_K=Object.prototype,G8=NK.toString,TK=_K.hasOwnProperty,PK=G8.call(Object);function jK(t){if(!ki(t)||Js(t)!=OK)return!1;var e=T2(t);if(e===null)return!0;var n=TK.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&G8.call(n)==PK}function IK(t){return jK(t)?void 0:t}var Yk=Kr?Kr.isConcatSpreadable:void 0;function RK(t){return vr(t)||D2(t)||!!(Yk&&t&&t[Yk])}function R2(t,e,n,r,i){var s=-1,u=t.length;for(n||(n=RK),i||(i=[]);++s<u;){var a=t[s];e>0&&n(a)?e>1?R2(a,e-1,n,r,i):_2(i,a):r||(i[i.length]=a)}return i}function LK(t){var e=t==null?0:t.length;return e?R2(t,1):[]}function MK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Zk=Math.max;function W8(t,e,n){return e=Zk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Zk(r.length-e,0),u=Array(s);++i<s;)u[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(u),MK(t,this,a)}}function $K(t){return function(){return t}}function yy(t){return t}var UK=Xm?function(t,e){return Xm(t,"toString",{configurable:!0,enumerable:!1,value:$K(e),writable:!0})}:yy;const VK=UK;var HK=800,zK=16,QK=Date.now;function GK(t){var e=0,n=0;return function(){var r=QK(),i=zK-(r-n);if(n=r,i>0){if(++e>=HK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var q8=GK(VK);function WK(t){return q8(W8(t,void 0,LK),t+"")}var qK=1,KK=2,JK=4,YK=WK(function(t,e){var n={};if(t==null)return n;var r=!1;e=Sd(e,function(s){return s=my(s,t),r||(r=s.length>1),s}),c0(t,U8(t),n),r&&(n=Kp(n,qK|KK|JK,IK));for(var i=e.length;i--;)BK(n,e[i]);return n});const L2=_O({},()=>{const[t,e]=xE("4dchan.org.favorites",{defaultValue:{}}),n=x.useCallback(s=>{e(YK(t||{},s.id))},[t,e]),r=x.useCallback(s=>{e({...t,[s.id]:!0})},[t,e]);return{isFavorite:x.useCallback(s=>t[s.id],[t]),removeFavorite:n,addFavorite:r,favorites:t}}),_i=()=>xE("4dchan.org.settings",{defaultValue:Ql}),He=()=>x.useContext(V_);function ZK(){return l.jsx(rs,{title:l.jsx("div",{className:"",children:"Abuse (DMCA/CSAM)"}),collapsible:!1,children:l.jsxs("div",{className:"text-left p-4",children:[l.jsxs("div",{className:"p-2 text-xs",children:[l.jsx("strong",{children:"Disclaimer"}),l.jsx("br",{}),"This is a decentralized application: all media content is uploaded and retrieved via IPFS directly by the users.",l.jsx("br",{}),"It is important to understand that due to the nature of IPFS, it may not be possible to fully delete uploaded media.",l.jsx("br",{}),"When a file is uploaded to IPFS, it is distributed across the network and stored on multiple nodes, meaning that once a file has been added to IPFS, it can only be deleted by physically removing it from each node where it is stored, which is an impossibly complex and time-consuming process and not within the capabilities of this dapp's owners, nor anyone else's.",l.jsx("br",{}),"Therefore, users are advised to be cautious when uploading sensitive or personal information, or content which may be deemed illegal by any jurisdiction: use IPFS responsibly and always consider the potential long-term consequences of the media you are uploading.",l.jsx("br",{}),"By using IPFS, you understand and agree that you are solely responsible for the persistence and/or availability of the media uploaded to the network.",l.jsx("br",{})]}),l.jsx("hr",{}),l.jsxs("div",{className:"p-2",children:[l.jsx("br",{}),"The policy regarding the handling of copyright infringement claims (DMCA) and of child sexual abuse material (CSAM) on this dapp is the following.",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Copyright Infringement Claims"}),l.jsx("br",{}),"It is the users' responsibility to respect the intellectual property rights of others.",l.jsx("br",{}),"If you believe that your copyrighted work has been copied in a way that constitutes copyright infringement, please immediately report it via the built-in report feature and provide the following information to"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:dmca@4dchan.org",children:"dmca@4dchan.org"}),l.jsx("br",{}),l.jsxs("ul",{className:"list-disc p-4",children:[l.jsx("li",{children:"A physical or electronic signature of the copyright owner or a person authorized to act on their behalf;"}),l.jsx("li",{children:"Identification of the copyrighted work claimed to have been infringed;"}),l.jsx("li",{children:"Identification of the material that is claimed to be infringing or to be the subject of infringing activity;"}),l.jsx("li",{children:"Information reasonably sufficient to permit us to contact you, such as an address, telephone number, and, if available, an email address;"}),l.jsx("li",{children:"A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;"}),l.jsx("li",{children:"A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the copyright owner."})]}),l.jsx("br",{}),l.jsx("strong",{children:"Child Sexual Abuse Material (CSAM) Reporting"}),l.jsx("br",{}),"If you encounter any such content on this dapp, please immediately report it via the built-in report feature and to"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:csam@4dchan.org",children:"csam@4dchan.org"}),".",l.jsx("br",{}),"There is a zero-tolerance policy for the distribution of child sexual abuse material (CSAM) and immediate action will be taken.",l.jsx("br",{}),"All known information about the uploader or distributor of the material will be provided to law enforcement.",l.jsx("br",{})]}),l.jsx("hr",{}),l.jsxs("div",{className:"p-2",children:["If you have any questions or concerns about the DMCA/CSAM policy, please contact us at"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:abuse@4dchan.org",children:"abuse@4dchan.org"}),"."]})]})})}const XK=({className:t=""})=>{const[,e]=zg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:n=>{n.stopPropagation(),n.preventDefault(),e("abuse")},children:"Abuse (DMCA/CSAM)"})})},eJ=()=>{const t=Si(),e=x.useMemo(()=>{const n=t.hash,r=i=>i.slice(1);return n?document.getElementById(r(n)):null},[t]);return x.useEffect(()=>{e&&e.scrollIntoView({behavior:"smooth",inline:"nearest"})},[e]),null},vy=({label:t,to:e,onClick:n})=>{const r=Si().search;return l.jsxs("span",{children:["[",l.jsx(Ce,{className:"dchan-link",to:`${r}${e}`,onClick:n,children:t}),"]"]})},tJ=()=>{const t=Un(),e=x.useCallback(()=>{t(-1)},[t]);return l.jsx("button",{className:"dchan-link m-4",onClick:e,children:"Go back"})};async function nJ(t,e){if(t){const n=t[0];if(n){e({progress:"Uploading image..."});try{const r=new FormData;r.append("file",n);const i=await fetch("https://ipfs.4dchan.org/api/v0/add",{method:"POST",body:r}),s=await i.json();console.log("ipfs.upload",{ipfsResponse:i});const u=s.Hash;if(u)return e({success:"File uploaded"}),{ipfs:{hash:u}};e({error:"File upload failed!"})}catch(r){console.error({ipfsUpload:r}),e({error:"File upload failed!"});return}}}}function K8(t){return[`https://ipfs.4dchan.org/ipfs/${t}`,`https://dweb.link/ipfs/${t}`,`https://ipfs.io/ipfs/${t}`,`ipfs://${t}`]}async function rJ(t,e,n){var p;const{board:r,thread:i,comment:s,name:u,subject:a,sage:o,nonce:c}=t;let f;if(((p=t.file)==null?void 0:p.length)>0)if(n({progress:"Uploading file..."}),f=await nJ(t.file,n),f)n({progress:"Uploaded"});else{n({error:"Upload failed"});return}const d={comment:s,name:u,nonce:c};if(f){const v=t.file[0].name;d.file={...f,name:v,is_nsfw:t.is_nsfw,is_spoiler:t.is_spoiler}}i?d.thread=i:d.subject=a,r&&(d.board=r),o&&(d.sage=!0),n({progress:"Waiting tx confirmation..."});const h=await sn("post:create",d,e);return n({success:"Sent ;)"}),h}async function iJ(t,e,n){try{n({progress:"Removing..."}),await sn("post:remove",{id:t},e[0]),n({success:"Removed"})}catch(r){n({error:r}),console.error({error:r})}}async function sJ(t,e,n){try{n({progress:"Reporting..."}),await sn("post:report",{id:t},e[0]),n({success:"Reported"})}catch(r){n({error:r}),console.error({error:r})}}async function uJ(t,e,n){try{n({progress:"Creating..."});const r=await sn("board:create",t,e[0]);return n({success:"Created"}),r}catch(r){n({error:r}),console.error({error:r})}}async function aJ(t,e,n){try{n({progress:"Removing..."}),await sn("board:remove",{id:t},e[0]),n({success:"Removed"})}catch(r){n({error:r}),console.error({error:r})}}async function oJ(t,e,n){try{n({progress:"Locking..."}),await sn("board:lock",{id:t},e[0]),n({success:"Locked"})}catch(r){n({error:r}),console.error({error:r})}}async function lJ(t,e,n){try{n({progress:"Unlocking..."}),await sn("board:unlock",{id:t},e[0]),n({success:"Unlocked"})}catch(r){n({error:r}),console.error({error:r})}}async function cJ(t,e,n){try{n({progress:"Locking..."}),await sn("thread:lock",{id:t},e[0]),n({success:"Locked"})}catch(r){n({error:r}),console.error({error:r})}}async function fJ(t,e,n){try{n({progress:"Unlocking..."}),await sn("thread:unlock",{id:t},e[0]),n({success:"Unlocked"})}catch(r){n({error:r}),console.error({error:r})}}async function dJ(t,e,n){try{n({progress:"Pinning..."}),await sn("thread:pin",{id:t},e[0]),n({success:"Pinned"})}catch(r){n({error:r}),console.error({error:r})}}async function hJ(t,e,n){try{n({progress:"Unpinning..."}),await sn("thread:unpin",{id:t},e[0]),n({success:"Unpinned"})}catch(r){n({error:r}),console.error({error:r})}}async function pJ(t,e,n){try{n({progress:"Banning..."});const r=window.prompt("How many seconds?"),i=parseInt(r||"");if(isNaN(i)){n({error:`Not a number: ${r}`});return}const s=window.prompt("Reason?"),u=ie.fromSeconds(ie.now().toSeconds()+i);window.confirm(`Banning until ${u.toISO()}`)?(await sn("post:ban",{id:t,seconds:i,reason:s},e[0]),n({success:"Banned"})):n("Canceled")}catch(r){n({error:r}),console.error({error:r})}}const mJ=({title:t,board:e,thread:n})=>{const{timeTraveledToBlockNumber:r}=He(),{accounts:i}=wr(),{isJannyOf:s}=ra(),u=e?s(e.id):!1,[a,o]=x.useState();return l.jsxs("header",{id:"board-header",children:[l.jsx(z2,{board:e||void 0,thread:n}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute ",children:l.jsx(H2,{})}),l.jsx("div",{className:"text-4xl text-contrast font-weight-800 font-family-tahoma relative flex center h-20 z-20 pointer-events-none",children:l.jsxs("div",{className:"dchan-bg-primary-fade-x px-2 h-20 center flex rounded-lg pointer-events-auto",children:[l.jsx("span",{children:e!=null&&e.isLocked?l.jsx("span",{title:"Board locked. You cannot reply anymore.",children:l.jsx(de,{emoji:"🔒"})}):l.jsx("span",{})})," ",l.jsx("span",{className:`mt-2 font-semibold ${e!=null&&e.name||t?"":"invisible"}`,children:e===null?l.jsx("div",{children:t||"/?/ - ?????"}):l.jsxs(Ce,{to:e?`/${e.name}/${e.id}${r?`?block=${r}`:""}`:"#",children:["/",(e==null?void 0:e.name)||"?","/ - ",(e==null?void 0:e.title)||"..."]})}),e&&u?l.jsxs("span",{children:[l.jsx("span",{children:l.jsxs(A0,{children:[l.jsx("div",{children:e.isLocked?l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>lJ(e==null?void 0:e.id,i,o),children:[l.jsx(de,{emoji:"🔓"})," Unlock"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>oJ(e.id,i,o),children:[l.jsx(de,{emoji:"🔒"})," Lock"]})]})}),l.jsx("div",{children:l.jsxs("button",{onClick:()=>aJ(e.id,i,o),children:[l.jsx(de,{emoji:"❌"})," Remove"]})})]})}),l.jsx(s1,{className:"p-4",status:a})]}):""]})})]}),l.jsx("hr",{})]})},gJ=({board:t,highlight:e})=>{const{timeTraveledToBlockNumber:n}=He(),{id:r,title:i,postCount:s,name:u,isLocked:a,isNsfw:o}=t,c=`/${u}/${r}${n?`?block=${n}`:""}`,{publish:f}=hf(),d=Un(),[h,p]=x.useState(!1),v=x.useCallback(()=>{p(!0)},[p]),m=x.useCallback(()=>{p(!1)},[p]),b=x.useCallback(()=>{f("BOARD_ITEM_SELECT",t)},[t,f]),g=x.useCallback(()=>{d(c)},[d,c]);return l.jsxs("tr",{className:`relative ${h?"bg-secondary":(e==null?void 0:e.id)===t.id?"bg-tertiary":""}`,title:"Click to view threads on homepage",onMouseOver:v,onMouseOut:m,onClick:b,onDoubleClick:g,children:[l.jsxs("td",{className:"min-w-[1rem]",children:[a?l.jsx("span",{title:"Board locked. You cannot post.",children:l.jsx(de,{emoji:"🔒"})}):"",o?l.jsx("span",{title:"NSFW Board",children:l.jsx(de,{emoji:"🔞"})}):""]}),l.jsx("td",{children:l.jsx(b0,{id:r})}),l.jsx("td",{className:"whitespace-nowrap text-center",children:l.jsx("div",{className:"flex",children:l.jsxs(Ce,{className:"dchan-link max-w-[16rem] text-ellipsis overflow-hidden inline-block",to:c,children:[l.jsxs("span",{children:["/",u,"/"]}),l.jsx("span",{className:"px-2",children:"-"}),l.jsx("span",{children:i})]})})}),l.jsx("td",{className:"px-2 whitespace-nowrap text-right",children:l.jsxs("span",{children:[s," posts"]})}),l.jsx("td",{className:"whitespace-nowrap",children:ie.fromSeconds(parseInt(t.lastBumpedAtBlock.timestamp)).toRelative()})]},r)},Jp=({className:t="",loading:e=!1,boards:n,highlight:r})=>l.jsx("div",{className:`${t} flex overflow-scroll`,children:l.jsxs("table",{className:"flex-grow",children:[l.jsx("thead",{className:"bg-secondary border-bottom-tertiary-accent sticky top-0",children:l.jsxs("tr",{children:[l.jsx("td",{}),l.jsx("td",{}),l.jsx("td",{children:"Board"}),l.jsx("td",{className:"px-2",children:"Posts"}),l.jsx("td",{className:"px-2",children:"Last bumped"})]})}),l.jsx("tbody",{children:e?l.jsx(Er,{}):n?n.length>0?n.map(i=>l.jsx(gJ,{board:i,highlight:r},"board-"+i.id)):"No boards":""})]})});function m0(t){const e=t.indexOf("0x")===0?2:0;return`${t.substring(e,e+3)}-${t.substring(t.length-3)}`}function yJ(t){return`#${m0(t).replace("-","")}`}function Xk(t,e,n){return t*(1-n)+e*n}var g0=t=>t.type==="checkbox",kl=t=>t instanceof Date,Nn=t=>t==null;const J8=t=>typeof t=="object";var Vt=t=>!Nn(t)&&!Array.isArray(t)&&J8(t)&&!kl(t),vJ=t=>Vt(t)&&t.target?g0(t.target)?t.target.checked:t.target.value:t,bJ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,AJ=(t,e)=>t.has(bJ(e)),wJ=t=>{const e=t.constructor&&t.constructor.prototype;return Vt(e)&&e.hasOwnProperty("isPrototypeOf")},M2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(M2&&(t instanceof Blob||t instanceof FileList))&&(n||Vt(t)))if(e=n?[]:{},!n&&!wJ(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=kr(t[r]));else return t;return e}var y0=t=>Array.isArray(t)?t.filter(Boolean):[],Dt=t=>t===void 0,ce=(t,e,n)=>{if(!e||!Vt(t))return n;const r=y0(e.split(/[,[\].]+?/)).reduce((i,s)=>Nn(i)?i:i[s],t);return Dt(r)||r===t?Dt(t[e])?n:t[e]:r},ps=t=>typeof t=="boolean";const eS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ss={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ct.createContext(null);var EJ=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const u=s;return e._proxyFormState[u]!==vi.all&&(e._proxyFormState[u]=!r||vi.all),n&&(n[u]=!0),t[u]}});return i},jr=t=>Vt(t)&&!Object.keys(t).length,xJ=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return jr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(u=>e[u]===(!r||vi.all))},Fv=t=>Array.isArray(t)?t:[t];function FJ(t){const e=Ct.useRef(t);e.current=t,Ct.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Zi=t=>typeof t=="string",CJ=(t,e,n,r,i)=>Zi(t)?(r&&e.watch.add(t),ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ce(n,s))):(r&&(e.watchAll=!0),n),$2=t=>/^\w*$/.test(t),Y8=t=>y0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(t,e,n)=>{let r=-1;const i=$2(e)?[e]:Y8(e),s=i.length,u=s-1;for(;++r<s;){const a=i[r];let o=n;if(r!==u){const c=t[a];o=Vt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=o,t=t[a]}return t},DJ=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},tS=t=>({isOnSubmit:!t||t===vi.onSubmit,isOnBlur:t===vi.onBlur,isOnChange:t===vi.onChange,isOnAll:t===vi.all,isOnTouch:t===vi.onTouched}),nS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Od=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ce(t,i);if(s){const{_f:u,...a}=s;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!r)break;if(u.ref&&e(u.ref,u.name)&&!r)break;Od(a,e)}else Vt(a)&&Od(a,e)}}};var kJ=(t,e,n)=>{const r=y0(ce(t,n));return Ze(r,"root",e[n]),Ze(t,n,r),t},U2=t=>t.type==="file",Mu=t=>typeof t=="function",rg=t=>{if(!M2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Yp=t=>Zi(t),V2=t=>t.type==="radio",ig=t=>t instanceof RegExp;const rS={value:!1,isValid:!1},iS={value:!0,isValid:!0};var Z8=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Dt(t[0].attributes.value)?Dt(t[0].value)||t[0].value===""?iS:{value:t[0].value,isValid:!0}:iS:rS}return rS};const sS={isValid:!1,value:null};var X8=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sS):sS;function uS(t,e,n="validate"){if(Yp(t)||Array.isArray(t)&&t.every(Yp)||ps(t)&&!t)return{type:n,message:Yp(t)?t:"",ref:e}}var Yo=t=>Vt(t)&&!ig(t)?t:{value:t,message:""},aS=async(t,e,n,r,i)=>{const{ref:s,refs:u,required:a,maxLength:o,minLength:c,min:f,max:d,pattern:h,validate:p,name:v,valueAsNumber:m,mount:b,disabled:g}=t._f,y=ce(e,v);if(!b||g)return{};const A=u?u[0]:s,w=H=>{r&&A.reportValidity&&(A.setCustomValidity(ps(H)?"":H||""),A.reportValidity())},F={},k=V2(s),C=g0(s),D=k||C,T=(m||U2(s))&&Dt(s.value)&&Dt(y)||rg(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,N=DJ.bind(null,v,n,F),V=(H,Q,ne,P=ss.maxLength,L=ss.minLength)=>{const Y=H?Q:ne;F[v]={type:H?P:L,message:Y,ref:s,...N(H?P:L,Y)}};if(i?!Array.isArray(y)||!y.length:a&&(!D&&(T||Nn(y))||ps(y)&&!y||C&&!Z8(u).isValid||k&&!X8(u).isValid)){const{value:H,message:Q}=Yp(a)?{value:!!a,message:a}:Yo(a);if(H&&(F[v]={type:ss.required,message:Q,ref:A,...N(ss.required,Q)},!n))return w(Q),F}if(!T&&(!Nn(f)||!Nn(d))){let H,Q;const ne=Yo(d),P=Yo(f);if(!Nn(y)&&!isNaN(y)){const L=s.valueAsNumber||y&&+y;Nn(ne.value)||(H=L>ne.value),Nn(P.value)||(Q=L<P.value)}else{const L=s.valueAsDate||new Date(y),Y=W=>new Date(new Date().toDateString()+" "+W),M=s.type=="time",G=s.type=="week";Zi(ne.value)&&y&&(H=M?Y(y)>Y(ne.value):G?y>ne.value:L>new Date(ne.value)),Zi(P.value)&&y&&(Q=M?Y(y)<Y(P.value):G?y<P.value:L<new Date(P.value))}if((H||Q)&&(V(!!H,ne.message,P.message,ss.max,ss.min),!n))return w(F[v].message),F}if((o||c)&&!T&&(Zi(y)||i&&Array.isArray(y))){const H=Yo(o),Q=Yo(c),ne=!Nn(H.value)&&y.length>+H.value,P=!Nn(Q.value)&&y.length<+Q.value;if((ne||P)&&(V(ne,H.message,Q.message),!n))return w(F[v].message),F}if(h&&!T&&Zi(y)){const{value:H,message:Q}=Yo(h);if(ig(H)&&!y.match(H)&&(F[v]={type:ss.pattern,message:Q,ref:s,...N(ss.pattern,Q)},!n))return w(Q),F}if(p){if(Mu(p)){const H=await p(y,e),Q=uS(H,A);if(Q&&(F[v]={...Q,...N(ss.validate,Q.message)},!n))return w(Q.message),F}else if(Vt(p)){let H={};for(const Q in p){if(!jr(H)&&!n)break;const ne=uS(await p[Q](y,e),A,Q);ne&&(H={...ne,...N(Q,ne.message)},w(ne.message),n&&(F[v]=H))}if(!jr(H)&&(F[v]={ref:A,...H},!n))return F}}return w(!0),F};function SJ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Dt(t)?r++:t[e[r++]];return t}function BJ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Dt(t[e]))return!1;return!0}function Ht(t,e){const n=Array.isArray(e)?e:$2(e)?[e]:Y8(e),r=n.length===1?t:SJ(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Vt(r)&&jr(r)||Array.isArray(r)&&BJ(r))&&Ht(t,n.slice(0,-1)),t}var Cv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},sg=t=>Nn(t)||!J8(t);function Ia(t,e){if(sg(t)||sg(e))return t===e;if(kl(t)&&kl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const u=e[i];if(kl(s)&&kl(u)||Vt(s)&&Vt(u)||Array.isArray(s)&&Array.isArray(u)?!Ia(s,u):s!==u)return!1}}return!0}var eP=t=>t.type==="select-multiple",OJ=t=>V2(t)||g0(t),Dv=t=>rg(t)&&t.isConnected,tP=t=>{for(const e in t)if(Mu(t[e]))return!0;return!1};function ug(t,e={}){const n=Array.isArray(t);if(Vt(t)||n)for(const r in t)Array.isArray(t[r])||Vt(t[r])&&!tP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ug(t[r],e[r])):Nn(t[r])||(e[r]=!0);return e}function nP(t,e,n){const r=Array.isArray(t);if(Vt(t)||r)for(const i in t)Array.isArray(t[i])||Vt(t[i])&&!tP(t[i])?Dt(e)||sg(n[i])?n[i]=Array.isArray(t[i])?ug(t[i],[]):{...ug(t[i])}:nP(t[i],Nn(e)?{}:e[i],n[i]):n[i]=!Ia(t[i],e[i]);return n}var fp=(t,e)=>nP(t,e,ug(e)),rP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Dt(t)?t:e?t===""?NaN:t&&+t:n&&Zi(t)?new Date(t):r?r(t):t;function kv(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return U2(e)?e.files:V2(e)?X8(t.refs).value:eP(e)?[...e.selectedOptions].map(({value:n})=>n):g0(e)?Z8(t.refs).value:rP(Dt(e.value)?t.ref.value:e.value,t)}var NJ=(t,e,n,r)=>{const i={};for(const s of t){const u=ce(e,s);u&&Ze(i,s,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Wf=t=>Dt(t)?t:ig(t)?t.source:Vt(t)?ig(t.value)?t.value.source:t.value:t,_J=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function oS(t,e,n){const r=ce(t,n);if(r||$2(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),u=ce(e,s),a=ce(t,s);if(u&&!Array.isArray(u)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var TJ=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,PJ=(t,e)=>!y0(ce(t,e)).length&&Ht(t,e);const jJ={mode:vi.onSubmit,reValidateMode:vi.onChange,shouldFocusError:!0};function IJ(t={}){let e={...jJ,...t},n={submitCount:0,isDirty:!1,isLoading:Mu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Vt(e.defaultValues)||Vt(e.values)?kr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:kr(i),u={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},o,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Cv(),array:Cv(),state:Cv()},h=tS(e.mode),p=tS(e.reValidateMode),v=e.criteriaMode===vi.all,m=B=>I=>{clearTimeout(c),c=setTimeout(B,I)},b=async B=>{if(f.isValid||B){const I=e.resolver?jr((await D()).errors):await N(r,!0);I!==n.isValid&&d.state.next({isValid:I})}},g=(B,I)=>{(f.isValidating||f.validatingFields)&&((B||Array.from(a.mount)).forEach($=>$&&Ze(n.validatingFields,$,!!I)),n.isValidating=Object.values(n.validatingFields).some($=>$),d.state.next({validatingFields:n.validatingFields,isValidating:n.isValidating}))},y=(B,I=[],$,re,ee=!0,X=!0)=>{if(re&&$){if(u.action=!0,X&&Array.isArray(ce(r,B))){const he=$(ce(r,B),re.argA,re.argB);ee&&Ze(r,B,he)}if(X&&Array.isArray(ce(n.errors,B))){const he=$(ce(n.errors,B),re.argA,re.argB);ee&&Ze(n.errors,B,he),PJ(n.errors,B)}if(f.touchedFields&&X&&Array.isArray(ce(n.touchedFields,B))){const he=$(ce(n.touchedFields,B),re.argA,re.argB);ee&&Ze(n.touchedFields,B,he)}f.dirtyFields&&(n.dirtyFields=fp(i,s)),d.state.next({name:B,isDirty:H(B,I),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ze(s,B,I)},A=(B,I)=>{Ze(n.errors,B,I),d.state.next({errors:n.errors})},w=B=>{n.errors=B,d.state.next({errors:n.errors,isValid:!1})},F=(B,I,$,re)=>{const ee=ce(r,B);if(ee){const X=ce(s,B,Dt($)?ce(i,B):$);Dt(X)||re&&re.defaultChecked||I?Ze(s,B,I?X:kv(ee._f)):P(B,X),u.mount&&b()}},k=(B,I,$,re,ee)=>{let X=!1,he=!1;const Pe={name:B},wt=!!(ce(r,B)&&ce(r,B)._f.disabled);if(!$||re){f.isDirty&&(he=n.isDirty,n.isDirty=Pe.isDirty=H(),X=he!==Pe.isDirty);const Fn=wt||Ia(ce(i,B),I);he=!!(!wt&&ce(n.dirtyFields,B)),Fn||wt?Ht(n.dirtyFields,B):Ze(n.dirtyFields,B,!0),Pe.dirtyFields=n.dirtyFields,X=X||f.dirtyFields&&he!==!Fn}if($){const Fn=ce(n.touchedFields,B);Fn||(Ze(n.touchedFields,B,$),Pe.touchedFields=n.touchedFields,X=X||f.touchedFields&&Fn!==$)}return X&&ee&&d.state.next(Pe),X?Pe:{}},C=(B,I,$,re)=>{const ee=ce(n.errors,B),X=f.isValid&&ps(I)&&n.isValid!==I;if(t.delayError&&$?(o=m(()=>A(B,$)),o(t.delayError)):(clearTimeout(c),o=null,$?Ze(n.errors,B,$):Ht(n.errors,B)),($?!Ia(ee,$):ee)||!jr(re)||X){const he={...re,...X&&ps(I)?{isValid:I}:{},errors:n.errors,name:B};n={...n,...he},d.state.next(he)}},D=async B=>{g(B,!0);const I=await e.resolver(s,e.context,NJ(B||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(B),I},T=async B=>{const{errors:I}=await D(B);if(B)for(const $ of B){const re=ce(I,$);re?Ze(n.errors,$,re):Ht(n.errors,$)}else n.errors=I;return I},N=async(B,I,$={valid:!0})=>{for(const re in B){const ee=B[re];if(ee){const{_f:X,...he}=ee;if(X){const Pe=a.array.has(X.name);g([re],!0);const wt=await aS(ee,s,v,e.shouldUseNativeValidation&&!I,Pe);if(g([re]),wt[X.name]&&($.valid=!1,I))break;!I&&(ce(wt,X.name)?Pe?kJ(n.errors,wt,X.name):Ze(n.errors,X.name,wt[X.name]):Ht(n.errors,X.name))}he&&await N(he,I,$)}}return $.valid},V=()=>{for(const B of a.unMount){const I=ce(r,B);I&&(I._f.refs?I._f.refs.every($=>!Dv($)):!Dv(I._f.ref))&&be(B)}a.unMount=new Set},H=(B,I)=>(B&&I&&Ze(s,B,I),!Ia(oe(),i)),Q=(B,I,$)=>CJ(B,a,{...u.mount?s:Dt(I)?i:Zi(B)?{[B]:I}:I},$,I),ne=B=>y0(ce(u.mount?s:i,B,t.shouldUnregister?ce(i,B,[]):[])),P=(B,I,$={})=>{const re=ce(r,B);let ee=I;if(re){const X=re._f;X&&(!X.disabled&&Ze(s,B,rP(I,X)),ee=rg(X.ref)&&Nn(I)?"":I,eP(X.ref)?[...X.ref.options].forEach(he=>he.selected=ee.includes(he.value)):X.refs?g0(X.ref)?X.refs.length>1?X.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(ee)?!!ee.find(Pe=>Pe===he.value):ee===he.value)):X.refs[0]&&(X.refs[0].checked=!!ee):X.refs.forEach(he=>he.checked=he.value===ee):U2(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||d.values.next({name:B,values:{...s}})))}($.shouldDirty||$.shouldTouch)&&k(B,ee,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&W(B)},L=(B,I,$)=>{for(const re in I){const ee=I[re],X=`${B}.${re}`,he=ce(r,X);(a.array.has(B)||!sg(ee)||he&&!he._f)&&!kl(ee)?L(X,ee,$):P(X,ee,$)}},Y=(B,I,$={})=>{const re=ce(r,B),ee=a.array.has(B),X=kr(I);Ze(s,B,X),ee?(d.array.next({name:B,values:{...s}}),(f.isDirty||f.dirtyFields)&&$.shouldDirty&&d.state.next({name:B,dirtyFields:fp(i,s),isDirty:H(B,X)})):re&&!re._f&&!Nn(X)?L(B,X,$):P(B,X,$),nS(B,a)&&d.state.next({...n}),d.values.next({name:u.mount?B:void 0,values:{...s}})},M=async B=>{const I=B.target;let $=I.name,re=!0;const ee=ce(r,$),X=()=>I.type?kv(ee._f):vJ(B),he=Pe=>{re=Number.isNaN(Pe)||Pe===ce(s,$,Pe)};if(ee){let Pe,wt;const Fn=X(),Xs=B.type===eS.BLUR||B.type===eS.FOCUS_OUT,k0=!_J(ee._f)&&!e.resolver&&!ce(n.errors,$)&&!ee._f.deps||TJ(Xs,ce(n.touchedFields,$),n.isSubmitted,p,h),Ff=nS($,a,Xs);Ze(s,$,Fn),Xs?(ee._f.onBlur&&ee._f.onBlur(B),o&&o(0)):ee._f.onChange&&ee._f.onChange(B);const $e=k($,Fn,Xs,!1),Le=!jr($e)||Ff;if(!Xs&&d.values.next({name:$,type:B.type,values:{...s}}),k0)return f.isValid&&b(),Le&&d.state.next({name:$,...Ff?{}:$e});if(!Xs&&Ff&&d.state.next({...n}),e.resolver){const{errors:Vn}=await D([$]);if(he(Fn),re){const Hn=oS(n.errors,r,$),Pi=oS(Vn,r,Hn.name||$);Pe=Pi.error,$=Pi.name,wt=jr(Vn)}}else g([$],!0),Pe=(await aS(ee,s,v,e.shouldUseNativeValidation))[$],g([$]),he(Fn),re&&(Pe?wt=!1:f.isValid&&(wt=await N(r,!0)));re&&(ee._f.deps&&W(ee._f.deps),C($,wt,Pe,$e))}},G=(B,I)=>{if(ce(n.errors,I)&&B.focus)return B.focus(),1},W=async(B,I={})=>{let $,re;const ee=Fv(B);if(e.resolver){const X=await T(Dt(B)?B:ee);$=jr(X),re=B?!ee.some(he=>ce(X,he)):$}else B?(re=(await Promise.all(ee.map(async X=>{const he=ce(r,X);return await N(he&&he._f?{[X]:he}:he)}))).every(Boolean),!(!re&&!n.isValid)&&b()):re=$=await N(r);return d.state.next({...!Zi(B)||f.isValid&&$!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:$}:{},errors:n.errors}),I.shouldFocus&&!re&&Od(r,G,B?ee:a.mount),re},oe=B=>{const I={...i,...u.mount?s:{}};return Dt(B)?I:Zi(B)?ce(I,B):B.map($=>ce(I,$))},Z=(B,I)=>({invalid:!!ce((I||n).errors,B),isDirty:!!ce((I||n).dirtyFields,B),isTouched:!!ce((I||n).touchedFields,B),isValidating:!!ce((I||n).validatingFields,B),error:ce((I||n).errors,B)}),ye=B=>{B&&Fv(B).forEach(I=>Ht(n.errors,I)),d.state.next({errors:B?n.errors:{}})},we=(B,I,$)=>{const re=(ce(r,B,{_f:{}})._f||{}).ref;Ze(n.errors,B,{...I,ref:re}),d.state.next({name:B,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&re&&re.focus&&re.focus()},ft=(B,I)=>Mu(B)?d.values.subscribe({next:$=>B(Q(void 0,I),$)}):Q(B,I,!0),be=(B,I={})=>{for(const $ of B?Fv(B):a.mount)a.mount.delete($),a.array.delete($),I.keepValue||(Ht(r,$),Ht(s,$)),!I.keepError&&Ht(n.errors,$),!I.keepDirty&&Ht(n.dirtyFields,$),!I.keepTouched&&Ht(n.touchedFields,$),!I.keepIsValidating&&Ht(n.validatingFields,$),!e.shouldUnregister&&!I.keepDefaultValue&&Ht(i,$);d.values.next({values:{...s}}),d.state.next({...n,...I.keepDirty?{isDirty:H()}:{}}),!I.keepIsValid&&b()},dt=({disabled:B,name:I,field:$,fields:re,value:ee})=>{if(ps(B)){const X=B?void 0:Dt(ee)?kv($?$._f:ce(re,I)._f):ee;Ze(s,I,X),k(I,X,!1,!1,!0)}},At=(B,I={})=>{let $=ce(r,B);const re=ps(I.disabled);return Ze(r,B,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:B}},name:B,mount:!0,...I}}),a.mount.add(B),$?dt({field:$,disabled:I.disabled,name:B,value:I.value}):F(B,!0,I.value),{...re?{disabled:I.disabled}:{},...e.progressive?{required:!!I.required,min:Wf(I.min),max:Wf(I.max),minLength:Wf(I.minLength),maxLength:Wf(I.maxLength),pattern:Wf(I.pattern)}:{},name:B,onChange:M,onBlur:M,ref:ee=>{if(ee){At(B,I),$=ce(r,B);const X=Dt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,he=OJ(X),Pe=$._f.refs||[];if(he?Pe.find(wt=>wt===X):X===$._f.ref)return;Ze(r,B,{_f:{...$._f,...he?{refs:[...Pe.filter(Dv),X,...Array.isArray(ce(i,B))?[{}]:[]],ref:{type:X.type,name:B}}:{ref:X}}}),F(B,!1,void 0,X)}else $=ce(r,B,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(AJ(a.array,B)&&u.action)&&a.unMount.add(B)}}},Re=()=>e.shouldFocusError&&Od(r,G,a.mount),Xr=B=>{ps(B)&&(d.state.next({disabled:B}),Od(r,(I,$)=>{let re=B;const ee=ce(r,$);ee&&ps(ee._f.disabled)&&(re||(re=ee._f.disabled)),I.disabled=re},0,!1))},Zs=(B,I)=>async $=>{let re;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ee=kr(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:he}=await D();n.errors=X,ee=he}else await N(r);if(Ht(n.errors,"root"),jr(n.errors)){d.state.next({errors:{}});try{await B(ee,$)}catch(X){re=X}}else I&&await I({...n.errors},$),Re(),setTimeout(Re);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},Ti=(B,I={})=>{ce(r,B)&&(Dt(I.defaultValue)?Y(B,kr(ce(i,B))):(Y(B,I.defaultValue),Ze(i,B,kr(I.defaultValue))),I.keepTouched||Ht(n.touchedFields,B),I.keepDirty||(Ht(n.dirtyFields,B),n.isDirty=I.defaultValue?H(B,kr(ce(i,B))):H()),I.keepError||(Ht(n.errors,B),f.isValid&&b()),d.state.next({...n}))},cn=(B,I={})=>{const $=B?kr(B):i,re=kr($),ee=jr(B),X=ee?i:re;if(I.keepDefaultValues||(i=$),!I.keepValues){if(I.keepDirtyValues)for(const he of a.mount)ce(n.dirtyFields,he)?Ze(X,he,ce(s,he)):Y(he,ce(X,he));else{if(M2&&Dt(B))for(const he of a.mount){const Pe=ce(r,he);if(Pe&&Pe._f){const wt=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(rg(wt)){const Fn=wt.closest("form");if(Fn){Fn.reset();break}}}}r={}}s=t.shouldUnregister?I.keepDefaultValues?kr(i):{}:kr(X),d.array.next({values:{...X}}),d.values.next({values:{...X}})}a={mount:I.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!I.keepIsValid||!!I.keepDirtyValues,u.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:I.keepDirty?n.isDirty:!!(I.keepDefaultValues&&!Ia(B,i)),isSubmitted:I.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?[]:I.keepDirtyValues?I.keepDefaultValues&&s?fp(i,s):n.dirtyFields:I.keepDefaultValues&&B?fp(i,B):{},touchedFields:I.keepTouched?n.touchedFields:{},errors:I.keepErrors?n.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ei=(B,I)=>cn(Mu(B)?B(s):B,I);return{control:{register:At,unregister:be,getFieldState:Z,handleSubmit:Zs,setError:we,_executeSchema:D,_getWatch:Q,_getDirty:H,_updateValid:b,_removeUnmounted:V,_updateFieldArray:y,_updateDisabledField:dt,_getFieldArray:ne,_reset:cn,_resetDefaultValues:()=>Mu(e.defaultValues)&&e.defaultValues().then(B=>{ei(B,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:B=>{n={...n,...B}},_disableForm:Xr,_subjects:d,_proxyFormState:f,_setErrors:w,get _fields(){return r},get _formValues(){return s},get _state(){return u},set _state(B){u=B},get _defaultValues(){return i},get _names(){return a},set _names(B){a=B},get _formState(){return n},set _formState(B){n=B},get _options(){return e},set _options(B){e={...e,...B}}},trigger:W,register:At,handleSubmit:Zs,watch:ft,setValue:Y,getValues:oe,reset:ei,resetField:Ti,clearErrors:ye,unregister:be,setError:we,setFocus:(B,I={})=>{const $=ce(r,B),re=$&&$._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),I.shouldSelect&&ee.select())}},getFieldState:Z}}function iP(t={}){const e=Ct.useRef(),n=Ct.useRef(),[r,i]=Ct.useState({isDirty:!1,isValidating:!1,isLoading:Mu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Mu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...IJ(t),formState:r});const s=e.current.control;return s._options=t,FJ({subject:s._subjects.state,next:u=>{xJ(u,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ct.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ct.useEffect(()=>{if(s._proxyFormState.isDirty){const u=s._getDirty();u!==r.isDirty&&s._subjects.state.next({isDirty:u})}},[s,r.isDirty]),Ct.useEffect(()=>{t.values&&!Ia(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(u=>({...u}))):s._resetDefaultValues()},[t.values,s]),Ct.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ct.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ct.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=EJ(r,s),e.current}const v0=x.createContext([null,()=>({})]),RJ=()=>{const{accounts:t,provider:e}=wr(),n=Un(),[r,i]=x.useState(),[s,u]=x.useState(!1),[a,o]=x.useState(0),[c,f]=x.useState(0),[d,h]=x.useContext(v0),{register:p,handleSubmit:v,reset:m}=iP(),b=async g=>{u(!0);const y=await uJ(g,t,i),{transactionHash:A}=y||{};if(A){const w=`/${A}`;n(w),m()}u(!1)};return l.jsx(rs,{title:l.jsx("span",{children:"Create a board"}),className:"pt-4 pb-2",open:!1,children:l.jsx("div",{className:"border center flex",children:e?l.jsx("div",{className:"",children:l.jsxs("form",{id:"dchan-board-form",className:"grid center bg-primary p-2 pointer-events-auto",onSubmit:v(b),children:[l.jsx("table",{children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Board"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-board px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"v",...p("name"),disabled:s,onChange:g=>f(g.target.value.length),maxLength:7}),l.jsx(Sl,{maxLength:7,value:c})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Title"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-title px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Videogames",...p("title"),disabled:s,onChange:g=>o(g.target.value.length),maxLength:70}),l.jsx(Sl,{maxLength:70,value:a})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Options"}),l.jsx("td",{children:l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"whitespace-nowrap",children:[l.jsx("input",{id:"dchan-input-is_nsfw",className:"mx-1",type:"checkbox",...p("nsfw")}),l.jsx("label",{htmlFor:"dchan-input-is_nsfw",className:"text-black font-weight-800 font-family-tahoma",children:"NSFW"})]})})})]})]})}),l.jsx("button",{className:"dchan-post-submit px-2 m-2 bg-gray-100 border",type:"submit",disabled:s,children:"Create"}),l.jsx(s1,{status:r})]})}):l.jsx("div",{className:"p-2",children:l.jsx("button",{className:"dchan-link dchan-brackets whitespace-nowrap",onClick:()=>h(wf.WALLET),children:"Connect your Wallet to create a board"})})})})};class Be{static post({n:e,board:n,thread:r,from:i}){var u,a;const s=(a=(u=r==null?void 0:r.op)==null?void 0:u.from)==null?void 0:a.id;return n&&n&&n.name&&n.id?r&&s?`/${n.name}/${n.id}/${s}/${r.n}/${i.id}/${e}`:`/${n.name}/${n.id}/${i.id}/${e}`:void 0}static thread({n:e,op:n,board:r}){return r&&r.name&&r.id&&e?`/${r.name}/${r.id}/${n.from.id}/${e}`:void 0}static board({name:e,id:n},r){const i=r&&["catalog","index","archive"].includes(r)?`/${r}`:"";return e&&n?`/${e}/${n}${i}`:void 0}static posts({search:e}={}){return`/_/posts${e?`?search=${e}`:""}`}static boards({search:e}={}){return`/${e||"_/boards"}`}}const Bo=({board:t})=>{const{timeTraveledToBlockNumber:e}=He();return l.jsx(Ce,{title:t.title,to:`${Be.board(t)}${e?`?block=${e}`:""}`,children:l.jsxs(b0,{id:t.id,children:["/",t.name,"/"]})})},sP=({className:t="",limit:e,highlight:n})=>{const{timeTraveledToBlockNumber:r}=He(),{data:i,loading:s}=ln(r?L5:M5,{fetchPolicy:r?"cache-first":"network-only",variables:{block:r,limit:e}});return s?l.jsx("div",{className:"border border-solid border-tertiary-accent flex-grow p-2",children:l.jsx(Er,{})}):i?l.jsx(l6,{className:`${t} w-auto`,firstTab:"Last bumped",children:new Map([["Most popular",l.jsx(Jp,{boards:i.mostPopular,highlight:n})],["Last created",l.jsx(Jp,{boards:i.lastCreated,highlight:n})],["Last bumped",l.jsx(Jp,{boards:i.lastBumped,highlight:n})]])}):l.jsx("span",{})},rs=({className:t="grid",bodyClassName:e="",title:n,titleRight:r,children:i,open:s=!0,collapsible:u=!0})=>u?l.jsx(l.Fragment,{children:l.jsx("article",{className:`${t} max-w-100vw`,children:l.jsxs("details",{open:s,children:[l.jsx("summary",{className:"bg-secondary border border-tertiary-accent sticky top-0 z-20 text-left px-2",children:l.jsxs("header",{className:"z-50 inline",children:[l.jsx("span",{className:"center font-family-tahoma",children:n}),r]})}),l.jsx("section",{className:`${e} bg-white border border-tertiary-accent border-t-0 w-full overflow-auto`,style:{flex:"1 1 auto"},children:i})]})})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:`${t} max-w-100vw`,children:[l.jsxs("header",{className:"bg-secondary border border-solid border-tertiary-accent z-50",children:[l.jsx("span",{className:"center font-family-tahoma",children:n}),r]}),l.jsx("section",{className:`${e} bg-white border border-tertiary-accent border-t-0 w-full p-1 overflow-auto`,style:{flex:"1 1 auto"},children:i})]})});function uP({score:t},e){return parseInt(t)/1e9<parseInt(`${e||1}`)}function aP({lastBumpedAtBlock:t},e){return(e||ie.now())>ie.fromSeconds(Number(t.timestamp)).plus({seconds:LJ})}const LJ=60*60*24*30,MJ=({thread:t,board:e,showBoard:n=!1})=>{var T,N;const{id:r,isPinned:i,isLocked:s,subject:u,op:a,replyCount:o,imageCount:c}=t,f=t.replies||t.lastReplies,{image:d}=a,{ipfsHash:h,isNsfw:p,isSpoiler:v}=d||{ipfsHash:"",isNsfw:!1,isSpoiler:!1},m="w-full pointer-events-none shadow-xl object-contain max-h-320px",{timeTraveledToBlockNumber:b}=He(),g=Un(),[y]=_i(),A=uP(t,(T=y==null?void 0:y.content_filter)==null?void 0:T.score_threshold),[w,F]=x.useState(!1),k=x.useCallback(()=>{g(`${Be.thread(t)||"/"}${b?`?block=${b}`:""}`)},[g,t,b]),C=x.useCallback(()=>{F(!0)},[F]),D=x.useCallback(()=>{F(!1)},[F]);return l.jsx("div",{className:"relative max-w-150px mx-1 w-full",style:{minHeight:"20rem"},children:l.jsxs("article",{id:r,className:"dchan-post justify-self-center text-decoration-none leading-4 text-black m-0.5 border-black overflow-hidden max-w-150px break-word w-full place-items-center flex",style:w?{maxWidth:"initial",zIndex:40,marginLeft:"-2rem",marginRight:"-2rem",width:"14rem",position:"absolute",minHeight:"20rem",alignItems:"start"}:{minHeight:"20rem",position:"relative"},onMouseEnter:C,onMouseLeave:D,children:[A&&!w?l.jsxs("button",{onClick:C,className:"absolute text-2xl text-gray-800 top-0 left-0 right-0 bottom-0",children:[l.jsx("div",{children:l.jsx(de,{emoji:"⚠️"})}),l.jsx("div",{children:"Post hidden due to reports."}),l.jsx("div",{className:"text-sm text-gray-600",children:"Click to show anyway."})]}):"",l.jsx("div",{onClick:k,className:"h-full w-full",children:l.jsxs("div",{className:[w?"relative top-0 z-10 bg-tertiary border border-black h-full":"absolute top-0 right-0 left-0",!w&&A?"dchan-censor":""].join(" "),style:{maxHeight:"initial"},children:[l.jsxs("div",{className:"absolute top-0 right-0 z-10",children:[i?l.jsx("span",{title:"Thread pinned. This might be important.",children:l.jsx(de,{emoji:"📌"})}):"",s?l.jsx("span",{title:"Thread locked. You cannot post.",children:l.jsx(de,{emoji:"🔒"})}):""]}),h&&(!A||w)?l.jsx("div",{children:l.jsx(hP,{className:m,hash:h,expandable:!1,thumbnail:!1,isSpoiler:v,isNsfw:p&&(e==null?void 0:e.isNsfw)!==!0&&!((N=t.board)!=null&&N.isNsfw)||!1})}):"",l.jsxs("div",{className:"p-1",children:[n&&t.board?l.jsx("div",{children:l.jsx(Bo,{board:t.board})}):"",l.jsxs("div",{children:[l.jsx("abbr",{title:"Replies",children:"R"}),": ",l.jsx("strong",{children:o}),","," ",l.jsx("abbr",{title:"Images",children:"I"}),": ",l.jsx("strong",{children:c})]}),l.jsxs("div",{className:"word-wrap",children:[l.jsx("div",{children:l.jsx("strong",{className:"text-url",children:u})}),l.jsx(Cw,{style:{minWidth:w?"12rem":"initial",textAlign:"center"},post:a}),w&&f&&[...f].reverse().map(V=>l.jsxs("div",{className:"mt-1 p-1 border-0 border-t border-black border-solid text-xs text-left",children:[l.jsx("div",{children:ie.fromSeconds(parseInt(V.createdAtBlock.timestamp)).toRelative()}),l.jsx(Cw,{post:V})]},V.id))]})]})]})})]})})},$J=({threads:t,board:e,showBoard:n=!1})=>l.jsx("div",{className:"flex flex-row flex-wrap justify-center place-items-start font-size-090rem px-2 sm:px-4 flex-grow",children:t.filter(r=>r&&r.board).map(r=>l.jsx(MJ,{board:e,thread:r,showBoard:n},r.id))}),UJ=t=>{const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),e},VJ=typeof performance<"u"?performance:Date,HJ=()=>VJ.now();function mu(t,e=30,n=!1){const r=UJ(t),i=1e3/e,s=x.useRef(0),u=x.useRef(),a=()=>u.current&&clearTimeout(u.current),o=[e,n,r];function c(){s.current=0,a()}return x.useEffect(()=>c,o),x.useCallback(function(){const f=arguments,d=HJ(),h=()=>{s.current=d,a(),r.current.apply(null,f)},p=s.current;if(n&&p===0)return h();if(d-p>i){if(p>0)return h();s.current=d}a(),u.current=setTimeout(()=>{h(),s.current=0},i)},o)}const by=({archive:t,board:e,thread:n,title:r,summary:i,onRefresh:s})=>{const{timeTraveledToBlockNumber:u,timeTraveledToDateTime:a,lastBlock:o,isTimeTraveling:c}=He(),[,f]=x.useContext(v0),d=mu(s,1,!0);return l.jsxs(l.Fragment,{children:[l.jsx(mJ,{title:r,board:e,thread:n}),e===null?"":n||e?c&&a?l.jsxs("div",{className:"pt-2 text-center",children:[l.jsxs("div",{className:"opacity-80 p-2 bg-secondary rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time Traveled To"}),l.jsx("p",{className:"text-md",children:a==null?void 0:a.toLocaleString(ie.DATETIME_SHORT)}),l.jsx("p",{className:"text-sm text-gray-600",children:a==null?void 0:a.toRelative()})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{className:"dchan-brackets bg-primary hover:bg-primary-dark transition-colors duration-200 px-4 py-2 rounded",onClick:()=>f(wf.TIMETRAVEL),children:"Time Travel"})})]}):l.jsx(aY,{thread:n,board:e}):l.jsx("div",{className:"text-center text-gray-500",children:"..."}),e!==null?l.jsx("div",{className:"p-4 pb-0",children:l.jsx("hr",{})}):"",l.jsx("div",{className:"sticky top-0 z-30 pt-6 dchan-navigation-sticky",children:l.jsxs("div",{className:"text-center sm:text-left grid lg:grid-cols-3 text-xs bg-primary pt-2 lg:pt-0",children:[l.jsxs("div",{className:"mx-2 flex flex-wrap sm:flex-nowrap justify-center md:justify-start items-center select-none",children:[e?l.jsx(zJ,{board:e}):l.jsx("span",{}),!u||o&&o.number===u.toString()?l.jsx(bue,{onRefresh:d}):""]}),l.jsx("div",{className:"center grid",children:i?l.jsx("span",{className:"py-2 text-xs text-gray-600",children:i}):l.jsx("span",{})}),l.jsx("div",{className:"flex flex-wrap justify-center md:justify-end items-center pr-2",children:!t&&!n&&e?l.jsx(lue,{}):""}),l.jsx("div",{className:"w-screen",children:l.jsx("hr",{})})]})})]})},zJ=({board:t,dateTime:e})=>{const{timeTraveledToBlockNumber:n}=He(),r={};n&&(r.block=`${n}`),e!=null&&(r.date=e.toISODate()??void 0);const i=r?`?${Object.entries(r).map(s=>s[0]+"="+s[1]).join("&")}`:"";return l.jsxs("span",{className:"whitespace-nowrap sm:flex",children:[l.jsxs("span",{children:[l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Ce,{className:"dchan-link",to:`${Be.board(t,"index")}${i}`,children:"Index"}),"]"]}),l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Ce,{className:"dchan-link",to:`${Be.board(t,"catalog")}${i}`,children:"Catalog"}),"]"]}),l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Ce,{className:"dchan-link",to:`${Be.board(t,"archive")}${i}`,children:"Archive"}),"]"]})]}),l.jsx(vy,{to:"#bottom",label:"Bottom"})]})};/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var QJ=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:y,toCodePoint:k},onerror:function(){this.parentNode&&this.parentNode.replaceChild(o(this.alt,!1),this)},parse:A,replace:w,test:F},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i="‍",s=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function o(C,D){return document.createTextNode(D?C.replace(r,""):C)}function c(C){return C.replace(s,m)}function f(C,D){return"".concat(D.base,D.size,"/",C,D.ext)}function d(C,D){for(var T=C.childNodes,N=T.length,V,H;N--;)V=T[N],H=V.nodeType,H===3?D.push(V):H===1&&!("ownerSVGElement"in V)&&!u.test(V.nodeName.toLowerCase())&&d(V,D);return D}function h(C){return k(C.indexOf(i)<0?C.replace(r,""):C)}function p(C,D){for(var T=d(C,[]),N=T.length,V,H,Q,ne,P,L,Y,M,G,W,oe,Z,ye;N--;){for(Q=!1,ne=document.createDocumentFragment(),P=T[N],L=P.nodeValue,M=0;Y=n.exec(L);){if(G=Y.index,G!==M&&ne.appendChild(o(L.slice(M,G),!0)),oe=Y[0],Z=h(oe),M=G+oe.length,ye=D.callback(Z,D),Z&&ye){W=new Image,W.onerror=D.onerror,W.setAttribute("draggable","false"),V=D.attributes(oe,Z);for(H in V)V.hasOwnProperty(H)&&H.indexOf("on")!==0&&!W.hasAttribute(H)&&W.setAttribute(H,V[H]);W.className=D.className,W.alt=oe,W.src=ye,Q=!0,ne.appendChild(W)}W||ne.appendChild(o(oe,!1)),W=null}Q&&(M<L.length&&ne.appendChild(o(L.slice(M),!0)),P.parentNode.replaceChild(ne,P))}return C}function v(C,D){return w(C,function(T){var N=T,V=h(T),H=D.callback(V,D),Q,ne;if(V&&H){N="<img ".concat('class="',D.className,'" ','draggable="false" ','alt="',T,'"',' src="',H,'"'),Q=D.attributes(T,V);for(ne in Q)Q.hasOwnProperty(ne)&&ne.indexOf("on")!==0&&N.indexOf(" "+ne+"=")===-1&&(N=N.concat(" ",ne,'="',c(Q[ne]),'"'));N=N.concat("/>")}return N})}function m(C){return e[C]}function b(){return null}function g(C){return typeof C=="number"?C+"x"+C:C}function y(C){var D=typeof C=="string"?parseInt(C,16):C;return D<65536?a(D):(D-=65536,a(55296+(D>>10),56320+(D&1023)))}function A(C,D){return(!D||typeof D=="function")&&(D={callback:D}),(typeof C=="string"?v:p)(C,{callback:D.callback||f,attributes:typeof D.attributes=="function"?D.attributes:b,base:typeof D.base=="string"?D.base:t.base,ext:D.ext||t.ext,size:D.folder||g(D.size||t.size),className:D.className||t.className,onerror:D.onerror||t.onerror})}function w(C,D){return String(C).replace(n,D)}function F(C){n.lastIndex=0;var D=n.test(C);return n.lastIndex=0,D}function k(C,D){for(var T=[],N=0,V=0,H=0;H<C.length;)N=C.charCodeAt(H++),V?(T.push((65536+(V-55296<<10)+(N-56320)).toString(16)),V=0):55296<=N&&N<=56319?V=N:T.push(N.toString(16));return T.join(D||"-")}}();const de=x.memo(({emoji:t,className:e=""})=>l.jsx("span",{className:e,dangerouslySetInnerHTML:{__html:QJ.parse(t,{folder:"svg",ext:".svg",base:"/vendors/twemoji/"})}})),oP=({subject:t,children:e})=>l.jsx("div",{className:"font-family-arial text-center",children:l.jsx("div",{className:"grid center min-h-100vh",children:l.jsxs("div",{children:[l.jsx(rs,{title:l.jsx("div",{className:"text-xl text-contrast font-weight-800 font-family-tahoma m-4",children:t}),children:l.jsx("div",{className:"grid center m-4",children:e})}),l.jsx("div",{children:l.jsx(tJ,{})}),l.jsx("div",{children:l.jsx(Ce,{className:"dchan-link m-4",to:"/",children:"Go home"})})]})})}),lP="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='146.41mm'%20height='146.41mm'%20version='1.1'%20viewBox='0%200%20146.41%20146.41'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-37.766%20-63.623)'%20stroke='black'%3e%3cellipse%20cx='110.97'%20cy='136.83'%20rx='8.2539'%20ry='8.2539'%20stroke='black'%20fill='%236c3'%20stroke-width='1.314'%20/%3e%3cg%20transform='matrix(.59337%200%200%20.59337%2051.871%20105.97)'%3e%3cpath%20transform='matrix(1.6853%200%200%201.6853%20-87.418%20-178.59)'%20x='127.13409'%20y='155.56696'%20width='19.703302'%20height='39.275696'%20d='m127.13%20155.57h19.703v39.276h-19.703z'%20fill='%236c3'%20stroke-width='.26458'%20/%3e%3cpath%20d='m131.86%2090.541v52.503l22.727-13.159v-26.218zm-23.167%2039.116%204e-5%20-52.227%2023.214-13.479%2046.271%2026.635v53.228l-46.366%2026.69-23.106-13.416z'%20fill='%2354b126'%20stroke-width='2'%20/%3e%3c/g%3e%3cg%20transform='matrix(0%20-.59337%20.59337%200%2080.116%20195.93)'%3e%3cpath%20transform='matrix(1.6853%200%200%201.6853%20-87.418%20-178.59)'%20d='m127.13%20155.57h19.703v39.276h-19.703z'%20fill='%236c3'%20stroke-width='.26458'%20/%3e%3cpath%20d='m131.86%2090.541v52.503l22.727-13.159v-26.218zm-23.167%2039.116%204e-5%20-52.227%2023.214-13.479%2046.271%2026.635v53.228l-46.366%2026.69-23.106-13.416z'%20fill='%2354b126'%20stroke-width='2'%20/%3e%3c/g%3e%3cg%20transform='matrix(-.59337%200%200%20-.59337%20170.07%20167.68)'%3e%3cpath%20transform='matrix(1.6853%200%200%201.6853%20-87.418%20-178.59)'%20d='m127.13%20155.57h19.703v39.276h-19.703z'%20fill='%236c3'%20stroke-width='.26458'%20/%3e%3cpath%20d='m131.86%2090.541v52.503l22.727-13.159v-26.218zm-23.167%2039.116%204e-5%20-52.227%2023.214-13.479%2046.271%2026.635v53.228l-46.366%2026.69-23.106-13.416z'%20fill='%2354b126'%20stroke-width='2'%20/%3e%3c/g%3e%3cg%20transform='matrix(0%20.59337%20-.59337%200%20141.83%2077.728)'%3e%3cpath%20transform='matrix(1.6853%200%200%201.6853%20-87.418%20-178.59)'%20d='m127.13%20155.57h19.703v39.276h-19.703z'%20fill='%236c3'%20stroke-width='.26458'%20/%3e%3cpath%20d='m131.86%2090.541v52.503l22.727-13.159v-26.218zm-23.167%2039.116%204e-5%20-52.227%2023.214-13.479%2046.271%2026.635v53.228l-46.366%2026.69-23.106-13.416z'%20fill='%2354b126'%20stroke-width='2'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",GJ=()=>{const[,t]=TO(),[e,n]=x.useState(!1),r=x.useCallback(s=>{n(s.target.checked)},[n]),i=x.useCallback(()=>{t(e)},[e,t]);return l.jsx("div",{className:"center-grid w-full min-h-screen bg-primary p-2",children:l.jsx("div",{className:"flex flex-wrap center",children:l.jsx(rs,{title:l.jsxs("span",{children:[l.jsx("a",{className:"color-black",href:"/",children:"4dchan.org"})," ","EULA"]}),children:l.jsxs("div",{children:[l.jsx("div",{className:"center grid",children:l.jsx("img",{className:"p-2 w-16 pointer-events-none",src:lP,alt:"4dchan.org"})}),l.jsxs("div",{className:"p-1 text-left",children:[l.jsx("div",{className:"p-2",children:"To use 4dchan.org, you understand and agree to the following:"}),l.jsx("div",{className:"p-2",children:"* The content of this website is for mature audiences only and may not be suitable for minors. If you are a minor or it is illegal for you to access mature images and language, do not proceed."}),l.jsx("div",{className:"p-2",children:"* Content is presented to you AS IS, with no warranty, express or implied."}),l.jsx("div",{className:"p-2",children:`By clicking "I Agree," you agree to accept full responsibility for any damages from your use of the website, and you understand that the content posted is not owned or generated by 4dchan.org, but rather by 4dchan.org's users.`}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"p-2",children:[l.jsx("input",{id:"dchan-input-agree",className:"mx-1 text-xs whitespace-nowrap opacity-50 hover:opacity-100",type:"checkbox",checked:e,onChange:r}),l.jsx("label",{htmlFor:"dchan-input-agree",children:"I agree"})]}),l.jsxs("div",{className:"p-2",children:["[",l.jsx("button",{className:"dchan-link",disabled:!e,onClick:i,children:"Proceed"}),"]"]})]})]})]})})})})},qf=()=>l.jsxs("span",{children:[l.jsx("a",{className:"dchan-link",href:"//thegraph.com/",target:"_blank",rel:"noreferrer",children:"The Graph"})," ",l.jsxs("span",{className:"text-xs",children:["(ticker:"," ",l.jsx("a",{className:"dchan-link",href:"//www.coingecko.com/en/coins/the-graph",target:"_blank",rel:"noreferrer",children:"GRT"}),")"]})]}),Kf=()=>l.jsxs("span",{children:[l.jsx("a",{className:"dchan-link",href:"//polygon.network/",target:"_blank",rel:"noreferrer",children:"Polygon"})," ",l.jsxs("span",{className:"text-xs",children:["(ticker:"," ",l.jsx("a",{className:"dchan-link",href:"//www.coingecko.com/en/coins/polygon",target:"_blank",rel:"noreferrer",children:"MATIC"}),")"]})]}),Me=()=>l.jsx("a",{className:"dchan-link",href:"//4dchan.org/",target:"_blank",rel:"noreferrer",children:"4dchan.org"}),Sv=()=>l.jsx("a",{className:"dchan-link",href:"//ipfs.io/",target:"_blank",rel:"noreferrer",children:"IPFS"}),WJ=({onExit:t,className:e})=>l.jsx(rs,{title:l.jsx("span",{children:"FAQ"}),className:e,collapsible:!1,children:l.jsxs("div",{className:"text-left p-4 text-sm",children:[l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: What is this?"}),l.jsxs("div",{children:["This is ",l.jsx(Me,{}),", a decentralized time-traveling imageboard."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Decentralized?"}),l.jsxs("div",{children:[l.jsx(Me,{})," is a"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://ethereum.org/en/web3/",children:"web3"})," ","imageboard that uses the ",l.jsx(Kf,{})," blockchain, ",l.jsx(Sv,{})," and"," ",l.jsx(qf,{})," to ensure it will always be online and uncensorable, forever."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Time-Traveling?"}),l.jsxs("div",{children:[l.jsx(Me,{})," is powered by ",l.jsx(qf,{}),", which is capable of obtaining data as it was at any point in time, allowing you to browse"," ",l.jsx(Me,{}),"'s content exactly as it was, whenever in the past.",l.jsx("br",{}),"This also means that the archive is already built in.",l.jsx("br",{}),"To use it, click the ",l.jsx(de,{emoji:"⏩"})," button in the header and use the time travel control panel."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Imageboard?"}),l.jsxs("div",{children:[l.jsx(Me,{})," is a simple image-based bulletin board where anyone can post comments, share images and create boards.",l.jsx("br",{}),"It is heavily inspired by 4chan."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: How do I post?"}),l.jsxs("div",{children:["You'll need to connect your crypto wallet and pay the transaction fee to post on ",l.jsx(Me,{}),".",l.jsx("br",{}),"Supported wallets are"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//metamask.io",children:"Metamask"})," ","(if you're on Desktop) or"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//trustwallet.com/",children:"Trust Wallet"})," ","(if you're on Mobile).",l.jsx("br",{}),l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//brave.com",children:"Brave Browser"})," ","should also work.",l.jsx("br",{}),"Other wallets might not be supported."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is it free?"}),l.jsxs("div",{children:["Browsing ",l.jsx(Me,{})," is free, but you will need some ",l.jsx(Kf,{})," to pay the transaction fee when posting.",l.jsx("br",{}),"At the time of writing this FAQ (December 2022) the transaction fee for a post is around 0.001 MATIC, or around than ~$0.001 per post, so $10 worth of MATIC would allow you to post more than 10000 times.",l.jsx("br",{}),"Please note that it is possible that fees will be higher during high on-chain activity, or that MATIC's price may change wildly in the future.",l.jsx("br",{}),"You can get some free ",l.jsx(Kf,{})," at the following faucets:",l.jsx("div",{children:l.jsx(fP,{})}),"Or you can simply buy it from whatever exchange trades it."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is it uncensorable?"}),l.jsxs("div",{children:["Yes.",l.jsx("br",{}),l.jsx(Me,{})," users post and perform their actions directly on the"," ",l.jsx(Kf,{})," blockchain and upload their content on ",l.jsx(Sv,{}),".",l.jsx("br",{}),"Because of this,"," ",l.jsx("i",{children:"no one can delete or alter users' actions and the content they posted, nor can prevent users from further interacting with the contract."}),l.jsx("br",{}),"However, it is still possible and ",l.jsx("u",{children:"mandatory"})," to hide malicious actions/content from ",l.jsx(Me,{})," itself, as all the infrastructure required to display content on ",l.jsx(Me,{})," is controlled by ",l.jsx(Me,{}),"'s ",l.jsx("a",{href:"mailto:op@4dchan.org",children:"op"}),".",l.jsx("br",{}),l.jsx(Me,{})," will do anything necessary to protect ",l.jsx(Me,{}),"'s users and ",l.jsx(Me,{})," itself from malicious actors, including hiding content, banning users, nuking the servers, and more if required.",l.jsx("br",{}),"Keep in mind that neither ",l.jsx(Me,{})," nor anyone else can delete or alter any of the content posted through it, as"," ",l.jsx("i",{children:l.jsx("u",{children:"every action and content posted on the blockchain is public and undeletable"})}),".",l.jsx("br",{}),"The content will still be available, it simply will not be shown on"," ",l.jsx(Me,{}),". It will still be possible for other instances to display that content.",l.jsx("br",{}),"For more information on how to deploy your own instance, see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"}),"."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Are posts anonymous?"}),l.jsxs("div",{children:["Due to the public nature of the blockchain, posts are directly tied to whoever signed the post, meaning that"," ",l.jsx("u",{children:l.jsx("i",{children:"your post history is public, tied to your wallet address' identity and to any past activity"})}),".",l.jsx("br",{}),l.jsx("i",{children:"Please keep this in mind when posting."}),l.jsx("br",{}),"Because every poster's wallet address is public, it is treated as that poster's ",l.jsx("i",{children:"pseudonym"}),' across the entire network: if the same address posts in two different threads/boards, it will have the same "ID".',l.jsx("br",{}),"So use the faucet and change account after every post if you want to be anonymous, or use your ENS-associated address if you want to tripfag."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: How does this work?"}),l.jsxs("div",{children:["In short, ",l.jsx(Me,{})," stores its content on ",l.jsx(Kf,{})," and ",l.jsx(Sv,{}),", and then ",l.jsx(qf,{})," makes sense of it.",l.jsx("br",{}),"Long version:",l.jsx("br",{}),"Users post and interact with the website through"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://polygonscan.com/address/0x5a139ee9f56c4f24240af366807490c171922b0e#code#L1",children:"a one-line smart contract"}),", which simply acts as a public record of every action ever performed by users, moderators and administrators.",l.jsx("br",{}),"The smart contract has no logic, and every user, admins included, perform their actions simply by stating their intentions on the blockchain.",l.jsx("br",{}),"For example, if a user wants to make a new post on the website, they will write a JSON message on the blockchain that essentially says:",l.jsxs("details",{children:[l.jsx("summary",{children:`"I want to create a thread on this board with the comment 'it's over' and the IPFS hash of this picture called 'crying_pepe.jpg'".`}),l.jsx("span",{className:"text-xs",children:'To see the JSON, click on the menu of a post, "TX Details", "Click to see more" and "Decode Input Data"!'})]}),"Those actions are then processed by"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://github.com/4dchan-org/dchan-subgraph",children:"a subgraph"}),", which is a computer program running on ",l.jsx(qf,{}),"'s decentralized network, whose job is to make sense of those actions, translating them into the final application state, and making it available in a decentralized manner.",l.jsx("br",{}),"Please note: this is experimental software, and this is a"," ",l.jsx("i",{children:"very"})," simplified explanation!",l.jsx("br",{}),"For more information on the inner workings of ",l.jsx(Me,{}),", see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"}),"."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Me,{})," use cookies?"]}),l.jsx("div",{children:"No. Web3 dapps don't use centralized servers, thus cookies serve no purpose."})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Me,{})," respect my privacy?"]}),l.jsxs("div",{children:["Yes. No information is stored on ",l.jsx(Me,{}),"'s servers, as ",l.jsx(Me,{})," has no servers to begin with due to using"," ",l.jsx(qf,{})," to retrieve its content."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Me,{})," have a token? I need a useless shitcoin to lose my life savings on."]}),l.jsx("div",{children:"Not right now. In the future, when the time is right."})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: I acted like a dipshit and got banned! Muh free speech??"}),l.jsxs("div",{children:["If you are not happy with the way ",l.jsx(Me,{})," is moderated, I encourage you to fork off the code and make your own ",l.jsx(Me,{}),", with (or without) all the posts and boards from ",l.jsx(Me,{}),". ",l.jsx("br",{}),"All the tools are at your disposal, see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"GitHub"}),l.jsx("br",{})]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Oh crap oh no I posted something I shouldn't have, how can I delete it?"}),l.jsxs("div",{children:["Too bad.",l.jsx("br",{}),"Once you post on the blockchain, it's forever.",l.jsx("br",{}),"You cannot delete it.",l.jsx("br",{}),"You cannot change it.",l.jsx("br",{}),l.jsx("u",{children:l.jsx("i",{children:"The blockchain never forgets."})}),l.jsx("br",{}),l.jsx("i",{children:"Please keep this in mind when posting."})]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is there an official Twitter/Telegram/Discord/Mastodon...?"}),l.jsxs("div",{children:[l.jsx(Me,{})," does not have any official online presence outside of"," ",l.jsx(Me,{})," itself.",l.jsx("br",{}),l.jsxs("u",{children:[l.jsx(de,{emoji:"⚠️"})," Do not trust any account or group who claims to be associated to ",l.jsx(Me,{})," ",l.jsx(de,{emoji:"⚠️"})]}),".",l.jsx("br",{}),"Any account or group that claims to be officially endorsed by"," ",l.jsx(Me,{})," is either an impersonator, a scammer, or worse."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is this open source?"}),l.jsxs("div",{children:["Of course.",l.jsx("br",{}),l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"})]})]}),l.jsx("div",{className:"flex flex-row justify-center mt-4 dchan-brackets sm:hidden",children:l.jsx("span",{className:"dchan-link",onClick:t,children:"Go back"})})]})}),cP=({className:t=""})=>{const[,e]=zg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:n=>{n.stopPropagation(),n.preventDefault(),e("faq")},children:"FAQ"})})},fP=()=>l.jsxs("ul",{children:[l.jsx("li",{children:l.jsx("a",{href:"https://matic.supply/",target:"_blank",rel:"noreferrer",className:"dchan-link px-2",children:"https://matic.supply"})}),l.jsx("li",{children:l.jsx("a",{href:"https://macncheese.finance/matic-polygon-mainnet-faucet.php",target:"_blank",rel:"noreferrer",className:"dchan-link px-2",children:"https://macncheese.finance"})})]}),ag="/assets/polygon-DMS60VYj.png",qJ="/assets/thegraph-DSonkc-s.png",KJ="dchan-client",JJ="https://github.com/4dchan-org/dchan-client",YJ="AGPL-3.0-only",ZJ="0.0.4",XJ="module",eY={dev:"vite",host:"vite --host",build:"tsc && vite build",lint:"eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview",ipfs:"node ./bin/scripts/ipfs.mjs",release:"npm run build && npm run ipfs"},tY={"@apollo/react-hooks":"^4.0.0","@react-hook/mouse-position":"^4.1.3","@react-hook/throttle":"^2.2.0",bip39:"^3.1.0","eth-sig-util":"^3.0.1","ethereumjs-wallet":"^1.0.2",ethers:"^6.11.1",events:"^3.3.0","lodash-es":"^4.17.21",luxon:"^3.4.4",nprogress:"^0.2.0",parjs:"^1.2.2","pretty-bytes":"^6.1.1","pubsub-js":"^1.9.4","query-string":"^9.0.0",react:"^18.2.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^18.2.0","react-hook-form":"^7.51.1","react-player":"^2.15.1","react-router-dom":"^6.22.3","react-router-hash-link":"^2.4.3","react-singleton-hook":"^4.0.1","react-use":"^17.5.0",router:"^1.3.8",sass:"^1.72.0",twemoji:"^14.0.2","use-local-storage-state":"^19.1.0"},nY={"@types/lodash":"^4.17.0","@types/luxon":"^3.4.2","@types/pubsub-js":"^1.8.6","@types/react":"^18.2.70","@types/react-copy-to-clipboard":"^5.0.7","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","@vitejs/plugin-react-swc":"^3.6.0",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","ipfs-http-client":"^60.0.1",postcss:"^8.4.38","rollup-plugin-visualizer":"^5.12.0",tailwindcss:"^3.4.1",typescript:"^5.4.3",vite:"^5.2.6"},rY={name:KJ,homepage:JJ,license:YJ,version:ZJ,type:XJ,scripts:eY,dependencies:tY,devDependencies:nY},{name:iY,version:sY}=rY,Uo=({showContentDisclaimer:t=!1,className:e="mt-auto"})=>{const[n,r]=["9e32abab",1724944347];return l.jsxs("div",{className:`flex-grow relative pt-24 ${e}`,children:[l.jsx("div",{id:"bottom"}),l.jsxs("footer",{className:"absolute bottom-0 mt-4",children:[l.jsx("div",{className:"flex center flex-grow",children:t?l.jsxs("div",{className:"text-xs text-gray-400 hover:text-gray-600",children:["---",l.jsx("br",{}),"All trademarks and copyrights on this page are owned by their respective parties. Images uploaded are the responsibility of the Poster. Comments are owned by the Poster."]}):""}),l.jsx("div",{className:"bg-primary flex mt-1 border-t border-top-tertiary-accent text-xs relative w-100vw overflow-visible",children:l.jsxs("div",{className:"flex flex-wrap px-6 text-xs text-gray-600 w-screen",children:[l.jsxs("div",{className:"pb-2 lg:pb-0 flex justify-center align-start items-start dchan-footer-buttons select-none",children:[l.jsx(o6,{className:"border border-tertiary-accent px-4 mx-1 bg-white"}),l.jsx(XK,{className:"border border-tertiary-accent px-4 mx-1 bg-white whitespace-nowrap"}),l.jsx(cP,{className:"border border-tertiary-accent px-4 mx-1 bg-white"})]}),l.jsx("div",{className:"flex-grow"}),l.jsx("div",{}),l.jsx("div",{className:"flex text-right justify-end ml-2 flex-grow",children:l.jsxs("details",{children:[l.jsxs("summary",{children:[iY," v",sY,"-",n,"-",r]}),l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-2 absolute bottom-0 right-0 mr-4 mb-6",children:[l.jsxs("div",{className:"mb-2",children:["Powered by",l.jsx("a",{className:"ml-1",href:"//polygon.technology/",target:"_blank",rel:"noreferrer",children:l.jsx("img",{className:"inline w-4 h-4",src:ag,alt:"Polygon"})}),l.jsx("a",{className:"ml-1",href:"//thegraph.com/",target:"_blank",rel:"noreferrer",children:l.jsx("img",{className:"inline w-4 h-4",src:qJ,alt:"The Graph"})})]}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org",target:"_blank",rel:"noreferrer",title:"git",children:[l.jsx(de,{emoji:"🛠"})," git"]})}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org/dchan-client/issues/new",target:"_blank",rel:"noreferrer",title:"Report a bug",children:[l.jsx(de,{emoji:"🪲"})," Report a bug"]})}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org/dchan-client/graphs/contributors",target:"_blank",rel:"noreferrer",title:"Contributors",children:[l.jsx(de,{emoji:"🧑‍💻"})," Contributors"]})}),l.jsx("div",{}),l.jsx("div",{className:"text-xs pt-2",children:n?l.jsx("div",{children:l.jsxs("span",{children:[l.jsxs("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:`https://github.com/4dchan-org/dchan-client/commit/${n}`,children:["Build ",n,l.jsx("div",{children:ie.fromSeconds(parseInt(r)).toLocaleString(ie.DATETIME_SHORT)})]})," "]})}):"dev"})]})]})})]})})]})]})};var uY="[object String]";function Ay(t){return typeof t=="string"||!vr(t)&&ki(t)&&Js(t)==uY}var Zp=function(){return Zr.Date.now()};const aY=({baseUrl:t,thread:e,board:n})=>{const{provider:r,chainId:i,accounts:s}=wr(),[u]=_i(),a=Un(),o=x.useRef(null),[c,f]=x.useState(!1),[d,h]=x.useState(!1),[p,v]=x.useState(),[m,b]=x.useState(0),[g,y]=x.useState(0),[A,w]=x.useState(0),[F,k]=x.useState(0),[C,D]=x.useState(),[T,N]=x.useState(),[V,H]=x.useState(""),{subscribe:Q,unsubscribe:ne}=hf(),{addFavorite:P}=L2(),L=iP(),[Y,M]=x.useContext(v0),{register:G,handleSubmit:W,formState:{errors:oe},setValue:Z,getValues:ye,reset:we,trigger:ft,setFocus:be,watch:dt}=L,At=r&&i==="137",[Re,Xr]=x.useState(!1),Zs=x.useRef(null),{ref:Ti,...cn}=G("comment",{required:!e}),ei=x.useMemo(()=>(e==null?void 0:e.id)||(n==null?void 0:n.id)||"form",[e,n]),{clear:Ho}=GR(ei,{watch:dt,setValue:Z},{include:["name","comment","subject"]}),xf=x.useCallback(function($e,{from:Le,n:Vn}){var Cf;const{comment:Hn}=ye(),fn=`>>${Le?`0x${m0(Le).replace("-","")}/`:""}${Vn}`,Zt=Zs.current;let Fr="",is=0;if(Zt)if(Zt.selectionStart||Zt.selectionStart===0){const eu=Zt.selectionStart,S0=Zt.selectionEnd;is=eu,Fr=Hn.substr(0,eu),eu>0&&Hn.substr(eu-1,1).match(/\w/)&&(Fr+=" ",is+=1),Fr+=fn+`
`+Hn.substr(S0),is+=fn.length+1}else Fr=Hn+fn+`
`,is=Fr.length;Z("comment",Fr),Zt&&(Zt.selectionStart=is,Zt.selectionEnd=is);try{(Cf=o==null?void 0:o.current)==null||Cf.scrollIntoView(),At&&be("comment")}catch(eu){console.error({e:eu})}},[ye,Z,o,be,At]);x.useEffect(()=>{const $e=Q("FORM_QUOTE",xf);return()=>{ne($e)}}),x.useEffect(()=>{Xr(d)},[d,Xr]);const pa=x.useCallback(()=>{Z("nonce",Zp())},[Z]),B=x.useCallback(()=>{N(void 0),H(Math.random().toString())},[N]),I=x.useCallback($e=>{!$e&&!window.confirm("Reset form?")||(B(),we(),ft(),Ho(),pa(),f(!1),n&&Z("board",n.id),e&&Z("thread",e.id))},[B,we,ft,Ho,pa,n,Z,e]),$=x.useCallback(async $e=>{var Hn,Pi;if(!u)return;$e.file=T,e&&P&&P(e),h(!0);let Le=null;try{Le=await rJ($e,s[0],v)}catch(fn){Le={error:fn},(Pi=(Hn=Le==null?void 0:Le.error)==null?void 0:Hn.message)!=null&&Pi.match(/failed.*check.*transaction.*receipt/i)&&(delete Le.error,Le.success=!0),v(Le),console.log({result:Le})}h(!1),Le&&!Le.error&&I(!0),console.log("result",JSON.stringify({result:Le}));const Vn=Le==null?void 0:Le.events;if(Vn&&Vn[0]){const{transactionHash:fn}=Vn[0],Zt=`/${fn}`;a(Zt)}else if(Le!=null&&Le.hash){const fn=`/${Le.hash}`;a(fn)}},[u,T,e,P,s,I,a]),re=x.useCallback(async()=>{if(T&&T.length>0){const $e=T[0],Le=new FileReader;Le.readAsDataURL($e),Le.onload=function(){const Vn=Le.result;D(Vn)}}else D(void 0)},[T,D]);x.useEffect(()=>{T&&T.length>0?w(T[0].size/1024):w(0),re()},[T]);const ee=x.useCallback($e=>{const Le=$e.clipboardData||$e.originalEvent.clipboardData,{files:Vn,items:Hn}=Le;let Pi;if(Hn&&Hn.length){let fn=0;for(;fn<Hn.length;){const Zt=Hn[fn];if(Zt.kind==="file"){Pi=Zt.getAsFile();break}fn++}}if(Pi){const fn=new FileReader;fn.onload=async Zt=>{var is;const Fr=(is=Zt==null?void 0:Zt.target)==null?void 0:is.result;if(Ay(Fr)){const Cf=Fr.substring(Fr.indexOf(":")+1,Fr.indexOf(";")),eu=await fetch(Fr).then(u1=>u1.arrayBuffer()).then(u1=>new File([u1],`file.${Cf.split("/")[1]}`,{type:Cf})),S0=new DataTransfer;S0.items.add(eu),N(S0.files)}},fn.readAsDataURL(Pi)}else Vn&&Vn.length>0&&N(Vn)},[N]),[X,he]=x.useState(t);x.useEffect(()=>{t&&t!==X&&he(t)},[c,t,X,he,I]),HR("paste",ee);const{isJannyOf:Pe}=ra(),wt=n?Pe(n.id):!1,Fn=x.useCallback(()=>{pa()},[pa]),Xs=x.useCallback(()=>{f(!0)},[f]);x.useEffect(()=>{pa(),n&&Z("board",n.id),e&&Z("thread",e.id)},[n,pa,Z,e]);const k0=()=>l.jsxs("span",{children:[l.jsx("span",{className:"text-xs",children:l.jsx("button",{onClick:()=>window.confirm("The form is being reset. Are you sure?")&&I(!0),children:l.jsx(de,{emoji:"❌"})})}),l.jsxs(A0,{children:[l.jsx("div",{children:"Options:"}),l.jsxs("div",{className:"flex",children:[l.jsx("input",{id:"dchan-input-sage",className:"mx-1",type:"checkbox",...G("sage"),disabled:Re}),l.jsx("label",{htmlFor:"dchan-input-sage",className:"text-black font-weight-800 font-family-tahoma",children:l.jsx("abbr",{className:"opacity-20 hover:opacity-100",title:"Thread will not be bumped.",children:"🍂 Sage"})})]})]})]}),Ff=$e=>{N($e.target.files)};return l.jsxs("div",{className:"z-30 pt-2",children:[l.jsx("div",{className:"pb-2"}),!wt&&(e!=null&&e.isLocked)?l.jsxs("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:[l.jsx("div",{children:"Thread locked."}),l.jsx("div",{children:"You cannot reply."})]}):!wt&&(n!=null&&n.isLocked)?l.jsxs("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:[l.jsx("div",{children:"Board locked."}),l.jsx("div",{children:"You cannot post."})]}):e||n?l.jsx("div",{children:At?l.jsxs("div",{className:"sm:grid center w-full text-left sticky top-0 min-h-200px",children:[p?l.jsx("div",{className:"center flex overflow-scroll-disabled break-words",children:l.jsx(s1,{status:p})}):l.jsx(l.Fragment,{}),l.jsxs("form",{ref:o,id:"dchan-post-form",className:"sm:grid center bg-primary p-2 pointer-events-auto bg-primary select-none",onSubmit:W($),onBlur:Fn,onChange:Xs,children:[l.jsx("input",{type:"hidden",...G("nonce"),disabled:Re}),n?l.jsx("input",{type:"hidden",...G("board"),disabled:Re}):"",e?l.jsx("input",{type:"hidden",...G("thread"),disabled:Re}):"",l.jsx("table",{children:l.jsxs("tbody",{children:[e?l.jsx("tr",{}):l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Name"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-name px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Anonymous",...G("name"),disabled:Re,onChange:$e=>y($e.target.value.length),maxLength:70}),l.jsx(Sl,{maxLength:70,value:g})]})})]}),e?l.jsx("tr",{}):l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Subject"}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-subject px-1 border border-solid border-gray focus:border-indigo-300",type:"text",...G("subject"),disabled:Re,onChange:$e=>k($e.target.value.length),maxLength:140,placeholder:"..."}),l.jsx(Sl,{maxLength:140,value:F})]}),l.jsx("button",{className:"dchan-post-submit px-2 mx-1 bg-gray-100 border",type:"submit",disabled:d,children:"New thread"}),p?"":k0()]})})]}),e?l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Name"}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-name px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Anonymous",...G("name"),disabled:Re,onChange:$e=>y($e.target.value.length),maxLength:70}),l.jsx(Sl,{maxLength:70,value:g})]}),l.jsx("button",{className:"dchan-post-submit px-2 mx-1 bg-gray-100 border",type:"submit",disabled:Re,children:"Post Reply"}),p?"":k0()]})})]}):l.jsx("tr",{}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Comment"}),l.jsxs("td",{children:[l.jsxs("span",{className:"relative",children:[l.jsx("textarea",{id:"dchan-post-form-textarea",autoFocus:!0,className:"dchan-input-comment px-1 font-sans border border-solid border-gray focus:border-indigo-300",cols:40,rows:4,...cn,ref:$e=>{Ti($e),Zs.current=$e},disabled:Re,onChange:$e=>b($e.target.value.length),maxLength:2e3,placeholder:"..."}),l.jsx(Sl,{className:"pr-4",maxLength:2e3,value:m})]}),oe.comment&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"File"}),l.jsx("td",{className:"flex text-xs",children:l.jsxs("div",{className:"flex-grow mx-0.5",children:[l.jsx("span",{className:"text-xs float-right bg-primary",children:"(1000kb max)"}),l.jsx("input",{className:"w-64",type:"file",accept:"image/*",disabled:Re,onChange:Ff},V),l.jsxs("div",{className:"flex",children:[C?l.jsxs("details",{className:"mx-0.5",open:!0,children:[l.jsx("summary",{children:"🖼"}),l.jsx("img",{alt:"",className:"max-h-24 max-w-16rem",src:C}),l.jsxs("span",{className:`text-xs ${A>1e3?"text-contrast":""}`,children:[Math.round(A)," kb"]})]}):"",T&&T.length>0?l.jsxs("div",{className:"flex",children:[l.jsx("span",{children:l.jsx("button",{className:"dchan-input-file-remove mx-0.5",title:"Remove file",type:"button",onClick:B,children:l.jsx(de,{emoji:"❌"})})}),l.jsxs("details",{className:"mx-0.5",open:!0,children:[l.jsx("summary",{children:l.jsx(de,{emoji:"⚙️"})}),l.jsxs("div",{children:[l.jsx("input",{id:"dchan-input-is_spoiler",className:"mx-1",type:"checkbox",...G("is_spoiler"),disabled:Re}),l.jsx("label",{htmlFor:"dchan-input-is_spoiler",className:"text-black font-weight-800 font-family-tahoma",children:"Spoiler"})]}),l.jsxs("div",{children:[l.jsx("input",{id:"dchan-input-is_nsfw",className:"mx-1",type:"checkbox",...G("is_nsfw"),disabled:Re}),l.jsx("label",{htmlFor:"dchan-input-is_nsfw",className:"text-black font-weight-800 font-family-tahoma",children:"NSFW"})]})]})]}):""]})]})}),oe.file&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]})}),l.jsxs("div",{className:"text-xs grid center",children:[l.jsxs("div",{className:"p-1 flex center",children:[l.jsx("input",{id:"dchan-input-rules",className:"mx-1",type:"checkbox",...G("rulesAccepted",{required:!0}),disabled:Re}),l.jsx("label",{htmlFor:"dchan-input-rules",className:"text-black font-weight-800 font-family-tahoma",children:l.jsxs("ul",{children:[l.jsxs("li",{children:["I've read the ",l.jsx(o6,{})," and the ",l.jsx(cP,{})," ","before posting."]}),l.jsxs("li",{children:["I understand that"," ",l.jsx("abbr",{title:"Other users will be able to view all past transactions you ever made using this address. Be mindful of the security risks this entails.",children:l.jsx("i",{children:"my posts will be publicly signed by my address"})})]}),l.jsx("li",{children:l.jsxs("i",{children:[s&&s.length>0?l.jsx("a",{href:`https://polygonscan.com/address/${s[0]}`,target:"_blank",children:l.jsx(b0,{id:s[0],children:s[0]})}):""," "]})}),l.jsxs("li",{children:["and that"," ",l.jsx("abbr",{title:"Posts are stored on the blockchain and images are uploaded to IPFS. _THIS_CANNOT_BE_UNDONE_. Content can be hidden, but can still be trivially obtained. Remember, the blockchain never forgets.",children:l.jsx("i",{children:"I won't be able to delete the content I post."})})]})]})})]}),oe.rulesAccepted&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]})]}):l.jsxs("div",{children:[l.jsx("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:l.jsx("div",{children:"Wallet not connected."})}),l.jsx("div",{children:l.jsx("button",{className:"dchan-link dchan-brackets whitespace-nowrap",onClick:()=>M(wf.WALLET),children:"Connect your Wallet to post"})})]})}):l.jsx(Er,{})]})},Sl=({value:t,className:e="",maxLength:n})=>l.jsx("span",{className:["absolute bottom-0 right-0 text-xs bg-white pointer-events-none",e,t<n*.1?"opacity-0":t<n*.5?"opacity-25":t<n*.9?"opacity-50":t<n?"opacity-75":"opacity-100 text-contrast"].join(" "),children:`${t}/${n}`}),dP=({title:t})=>l.jsxs("header",{children:[l.jsx(z2,{}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute",children:l.jsx(H2,{})}),l.jsx("div",{className:"text-4xl text-contrast font-weight-800 font-family-tahoma relative flex center h-20 z-20 pointer-events-none",children:t}),l.jsx("div",{className:"p-2",children:l.jsx("hr",{})})]})]}),H2=Ct.memo(({block:t})=>l.jsx("span",{className:"font-mono",children:l.jsxs(Ce,{className:"z-20",to:`/${t?`?block=${t}`:""}`,title:"4dchan.org",children:[l.jsx("span",{className:"left-0 top-5 absolute",children:l.jsxs("span",{className:"select-none relative",children:[l.jsx(Ol,{className:"absolute w-14 top-0 bottom-0 opacity-10",size:16,style:{animationDelay:`-${new Date().getSeconds()-6}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Ol,{className:"absolute w-14 top-0 bottom-0 ml-3 opacity-20",size:16,style:{animationDelay:`-${new Date().getSeconds()-4}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Ol,{className:"absolute w-14 top-0 bottom-0 ml-6 opacity-30",size:16,style:{animationDelay:`-${new Date().getSeconds()-1}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Ol,{className:"absolute w-14 top-0 bottom-0 ml-9",size:16,style:{animationDelay:`-${new Date().getSeconds()}.${new Date().getMilliseconds()}s`},speed:"minute"})]})}),l.jsxs("div",{className:"text-left invisible lg:visible text-xs text-gray-600 dchan-header-subtitle ml-24",children:[l.jsx("div",{children:"Decentralized"}),l.jsx("div",{children:"Timetraveling"}),l.jsx("div",{children:"Imageboard"})]})]})}));var wf=(t=>(t.BOARDS="BOARDS",t.TIMETRAVEL="TIMETRAVEL",t.SEARCH="SEARCH",t.WATCHEDTHREADS="WATCHEDTHREADS",t.SETTINGS="SETTINGS",t.WALLET="WALLET",t))(wf||{});const lS={id:"0x04eeaa77c96947c5efca4abd8e3f8de005369390409d79dfef81aa983eb69e89",number:"17766365",timestamp:"1628450632"},z2=({board:t,thread:e})=>{var w;const{provider:n,accounts:r}=wr(),{timeTraveledToBlockNumber:i}=He(),[s,u]=x.useState({label:"Site creation",block:lS}),[a,o]=x.useContext(v0),c=a==="BOARDS",f=x.useRef(null),d=x.useRef(null),h=x.useRef(null),p=x.useRef(null),v=x.useRef(null),m=(w=ra().data)==null?void 0:w.user,b=x.useCallback((F,k)=>{k in wf&&o(k)},[o]);x.useEffect(()=>{const F=gi.subscribe("WIDGET_OPEN",b);return()=>{gi.unsubscribe(F)}}),x.useEffect(()=>{!e&&!t||u(e?{label:"Thread creation",block:e.createdAtBlock}:t?{label:"Board creation",block:t.createdAtBlock}:{label:"Site creation",block:lS})},[e,t,u]);const{data:g}=ln(j5),y=["fixed top-6"].join(" "),A=g==null?void 0:g.boards;return l.jsxs("div",{className:"dchan-header-navigation",children:[a!==null?l.jsx("div",{className:"w-100vw h-100vh z-50 fixed top-0 left-0",onClick:()=>o(null)}):l.jsx(l.Fragment,{}),l.jsxs("div",{className:"text-sm p-01 border-solid border-bottom-tertiary-accent bg-secondary border-0 border-b-2 text-left fixed top-0 left-0 right-0 shadow-md z-50 flex flex-wrap justify-between items-center",children:[l.jsxs("div",{className:"header-section flex-1",children:[l.jsx("span",{className:"text-black text-opacity-50 hover:text-opacity-100 dchan-brackets",children:l.jsx(Ce,{className:"dchan-link font-bold",to:`/${i?`?block=${i}`:""}`,children:"4dchan.org"})}),t?l.jsx(Bo,{board:t}):l.jsx(l.Fragment,{}),l.jsx("span",{className:"text-black text-opacity-50 hover:text-opacity-100 select-none px-1",children:l.jsxs("details",{className:"mx-1 inline",title:"Boards",open:a==="BOARDS",ref:d,children:[l.jsx("summary",{className:"list-none cursor-pointer opacity-60 hover:opacity-100 select-none",onClick:F=>{F.preventDefault(),o(a==="BOARDS"?null:"BOARDS")},children:l.jsx("span",{className:"inline dchan-brackets",children:l.jsx("span",{className:"dchan-link w-2 inline-block text-center",children:c?"-":"+"})})}),l.jsx("div",{className:y+" left-0",children:l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-1",children:[l.jsx("span",{className:"hidden sm:inline-block dchan-brackets",children:A&&A.map(F=>l.jsxs("span",{className:"dchan-navigation-board",children:[l.jsx("wbr",{}),l.jsx(Bo,{board:F})]},F.id))}),l.jsx(Ce,{className:"dchan-brackets "+(c?"":"hidden"),to:`${Be.boards()}${i?`?block=${i}`:""}`,children:l.jsx("span",{className:"dchan-link",children:"..."})})]})})]})}),l.jsxs("span",{className:"text-black text-opacity-50 hover:text-opacity-100 select-none pr-1",children:["[",l.jsx(Ce,{className:"dchan-link",to:`${Be.posts()}${i?`?block=${i}`:""}`,children:l.jsx(de,{emoji:"🔍"})}),"]"]})]}),l.jsx("div",{className:"header-section flex-1 flex justify-center",children:l.jsx(Cue,{ref:f,open:a==="TIMETRAVEL",widgetClassName:y+" w-screen left-0",onOpen:()=>{o(a==="TIMETRAVEL"?null:"TIMETRAVEL")},onClose:()=>o(null),startBlock:s.block,startRangeLabel:s.label})}),l.jsx("div",{className:"header-section flex-1 flex justify-end",children:l.jsxs("span",{className:"flex flex-row mr-1 select-none",children:[l.jsxs("details",{className:"mx-1",title:"Watched Threads",open:a==="WATCHEDTHREADS",ref:h,children:[l.jsx("summary",{className:"list-none cursor-pointer opacity-60 hover:opacity-100 select-none",onClick:F=>{F.preventDefault(),o(a==="WATCHEDTHREADS"?null:"WATCHEDTHREADS")},children:l.jsx(de,{emoji:"⭐️"})}),l.jsx("div",{className:y+" right-0",children:l.jsx(Due,{})})]}),l.jsxs("span",{ref:p,title:"Settings",className:"cursor-pointer opacity-60 hover:opacity-100 mx-1 select-none",onClick:()=>{o(a==="SETTINGS"?null:"SETTINGS")},children:[l.jsx(de,{emoji:"⚙️"}),a==="SETTINGS"?l.jsx(pP,{onExit:()=>o(null),overlayClassName:"w-full sm:w-4/6 h-5/6",children:l.jsx(xue,{onExit:()=>o(null)})}):""]}),l.jsxs("details",{className:"mx-1 select-none",open:a==="WALLET",ref:v,children:[l.jsx("summary",{title:"Wallet",className:"list-none cursor-pointer opacity-60 hover:opacity-100",onClick:F=>{F.preventDefault(),o(a==="WALLET"?null:"WALLET")},children:l.jsxs("span",{className:n?"":"filter grayscale",children:[l.jsx(fx,{user:m||{address:r[0]}}),l.jsx(de,{emoji:"🦊"})]})}),a==="WALLET"?l.jsx("div",{className:y+" right-0",children:l.jsx(fue,{})}):""]})]})})]})]})},b0=({id:t,className:e="",children:n})=>{const r=m0(t);return n==null&&(n=r),l.jsx("span",{style:{backgroundColor:yJ(r)},className:[e,oY].join(" "),children:n})},oY="font-mono font-bold text-readable-anywhere px-0.5 mx-0.5 rounded opacity-75 hover:opacity-100 text-xs whitespace-nowrap",Xp=({threads:t,board:e,showBoard:n=!1})=>{const{timeTraveledToBlockNumber:r}=He();return l.jsx("div",{children:t.filter(i=>i.op).map(i=>{var s,u;return l.jsx("div",{className:"border-solid border-black border-b border-secondary bg-primary",children:l.jsxs(Ah,{post:i.op,thread:i,showNsfw:e==null?void 0:e.isNsfw,header:l.jsx("span",{children:l.jsxs("span",{className:"p-1 whitespace-nowrap",children:["[",l.jsx(Ce,{to:`${Be.thread(i)}${r?`?block=${r}`:""}`,className:"dchan-link",children:"Reply"}),"]",n&&i.board?l.jsx("span",{className:"ml-1 whitespace-nowrap",children:l.jsx(Bo,{board:i.board})}):""]})}),children:[l.jsx("div",{className:"text-left pl-4 text-sm",children:parseInt(i.replyCount)>1+((s=i.replies||i.lastReplies)==null?void 0:s.length)?l.jsxs(Ce,{to:`${Be.thread(i)}${r?`?block=${r}`:""}`,className:"dchan-link",children:["+ ",parseInt(i.replyCount)-((u=i.replies||i.lastReplies)==null?void 0:u.length)," ","replies omitted"]}):""}),[...i.replies||i.lastReplies||[]].reverse().map(a=>l.jsx(Ah,{post:a,thread:i,showNsfw:e==null?void 0:e.isNsfw},a.id))]},i.op.id)},i.id)})})},lY="/assets/spoiler-fTJVQN_o.png",cY="/assets/nsfw-EBsRGu-7.png",fY="/assets/ipfs-CoXxAdcy.png",dY="/assets/ipfs_error-CNEsmD67.png";function Ri(t,e,n,r){const i=x.useRef(n),s=x.useRef(r);x.useEffect(()=>{i.current=n,s.current=r}),x.useEffect(()=>{const u=t&&"current"in t?t.current:t;if(!u)return;let a=0;function o(...f){a||i.current.apply(this,f)}u.addEventListener(e,o);const c=s.current;return()=>{a=1,u.removeEventListener(e,o),c&&c()}},[t,e])}function hY(t,e){if(typeof window>"u")return t;const{event:n,element:r}=e;let i;"touches"in n?i=n.touches[0]:i=n;const{clientX:s,clientY:u,screenX:a,screenY:o,pageX:c=0,pageY:f=0}=i,d=r.getBoundingClientRect(),h=c-d.left-(window.pageXOffset||window.scrollX),p=f-d.top-(window.pageYOffset||window.scrollY);return"touches"in n&&(h<0||p<0||h>d.width||p>d.height)?{...t,context:{...t.context,hoverStatus:"leave",touchStatus:"end"}}:{context:{...t.context,hoverStatus:"enter"},mouse:{...t.mouse,x:h,y:p,pageX:c,pageY:f,clientX:s,clientY:u,screenX:a,screenY:o,elementWidth:d.width,elementHeight:d.height,isOver:!0,isTouch:"touches"in n}}}function pY(t,e){const{mouse:n,context:r}=t,i=hY;if(e.type==="mousemove")return r.touchStatus==="end"?t:i(t,e);if(e.type==="touchmove"){const s={context:{...r,touchStatus:"start"},mouse:n};return i(s,e)}else if(e.type==="touchdown"){const s={context:{...r,touchStatus:"start"},mouse:{...n,isDown:!0}};return i(s,e)}else{if(e.type==="mousedown")return{context:r,mouse:{...n,isDown:!0}};if(e.type==="mouseup")return{context:r,mouse:{...n,isDown:!1}};if(e.type==="mouseleave")return{context:{...r,hoverStatus:"leave"},mouse:{...n,isOver:!1}};if(e.type==="touchleave")return{context:{...r,hoverStatus:"leave",touchStatus:"end"},mouse:{...n,isOver:!1,isDown:!1}};if(e.type==="activeStatus")return{context:{...r,activeStatus:e.value},mouse:n}}return t}function mY(t,e={}){const{fps:n=30,enterDelay:r=0,leaveDelay:i=0}=e,[s,u]=x.useReducer(pY,{mouse:cS,context:gY}),a=mu(m=>{const b=t&&"current"in t?t.current:t;b&&u({type:"mousemove",event:m,element:b})},n,!0),o=mu(m=>{const b=t&&"current"in t?t.current:t;b&&u({type:"touchmove",event:m,element:b})},n,!0),c=mu(()=>u({type:"mouseleave"}),n,!1),f=mu(m=>{const b=t&&"current"in t?t.current:t;b&&u("touches"in m?{type:"touchdown",element:b,event:m}:{type:"mousedown",element:b,event:m})},n,!0),d=mu(()=>u({type:"mouseup"}),n,!1),h=mu(()=>u({type:"touchleave"}),n,!1);Ri(t,"mouseenter",a),Ri(t,"mousemove",a),Ri(t,"mouseleave",c),Ri(t,"mousedown",f),Ri(typeof window<"u"?window:null,"mousedown",f),Ri(typeof window<"u"?window:null,"mouseup",d),Ri(t,"touchstart",f),Ri(t,"touchmove",o),Ri(t,"touchend",h),Ri(t,"touchcancel",h);function p(){return u({type:"activeStatus",value:"active"})}function v(){return u({type:"activeStatus",value:"inactive"})}return x.useEffect(()=>{if(s.context.hoverStatus==="enter"){if(r){const m=setTimeout(p,r);return()=>clearTimeout(m)}u({type:"activeStatus",value:"active"})}else{if(i){const m=setTimeout(v,i);return()=>clearTimeout(m)}u({type:"activeStatus",value:"inactive"})}},[s.context.hoverStatus,r,i]),s.context.activeStatus==="active"?s.mouse:cS}const cS={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},gY={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};function yY(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function vY(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Bv=typeof window<"u",bY=function(t){x.useEffect(t,[])},AY=function(t,e){var n=x.useRef(function(){});x.useEffect(function(){n.current=t}),x.useEffect(function(){if(e!==null){var r=setInterval(function(){return n.current()},e||0);return function(){return clearInterval(r)}}},[e])},wY=function(t){var e=x.useRef(t);e.current=t,bY(function(){return function(){return e.current()}})},EY=function(t){var e=x.useRef(0),n=x.useState(t),r=n[0],i=n[1],s=x.useCallback(function(u){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){i(u)})},[]);return wY(function(){cancelAnimationFrame(e.current)}),[r,s]},xY={restoreOnUnmount:!1};function FY(t,e){e===void 0&&(e=xY);var n=x.useRef(document.title);document.title!==t&&(document.title=t),x.useEffect(function(){if(e&&e.restoreOnUnmount)return function(){document.title=n.current}},[])}const wy=typeof document<"u"?FY:function(t){};var CY=function(t,e){t===void 0&&(t=1/0),e===void 0&&(e=1/0);var n=EY({width:Bv?window.innerWidth:t,height:Bv?window.innerHeight:e}),r=n[0],i=n[1];return x.useEffect(function(){if(Bv){var s=function(){i({width:window.innerWidth,height:window.innerHeight})};return yY(window,"resize",s),function(){vY(window,"resize",s)}}},[]),r};const hP=({hash:t,style:e,className:n="",isSpoiler:r=!1,isNsfw:i=!1,expandable:s=!1,thumbnail:u=!1,thumbnailClass:a="max-w-8rem max-h-32"})=>{const o=x.useRef(null),[c,f]=x.useState(K8(t)),[d,h]=x.useState(!1),[p,v]=x.useState(!0),[m,b]=x.useState(),[g,y]=x.useState(!1),[A,w]=x.useState(!1),[F,k]=x.useState(!u),C=x.useRef(null);a=u?a:"";const D=(!i||A)&&(!r||g),T=x.useCallback(()=>{const W=[...c],oe=W.shift();oe&&(b(oe),f([...W]))},[c,b,f]);x.useEffect(()=>{!m&&T()},[T,m]);const N=x.useCallback(()=>{v(!0),b(`${m==null?void 0:m.replace(/[&?]t=\d+/,"")}?t=${new Date().getTime()}`),h(void 0)},[m,v,b,h]),V=x.useCallback(W=>{console.log("ipfs load error",W.target.src),v(!1),h(`${W.target.src}: failed to load.`),T()},[T,h,v]),H=CY(),[Q,ne]=x.useState(null),P=mY(o);x.useEffect(()=>{const{clientWidth:W,clientHeight:oe}=C.current||{clientWidth:0,clientHeight:0};if(D&&!F&&H.width>768&&P.clientX!==null&&P.clientY!==null){const Z={x:Math.max(W/2,Math.min(window.outerWidth-W/2,P.clientX)),y:Math.max(oe/2,Math.min(window.outerHeight-oe/2,P.clientY)),flip:P.clientX>H.width/2};ne(ye=>({x:Xk((ye==null?void 0:ye.x)??Z.x,Z.x,.42),y:Xk((ye==null?void 0:ye.y)??Z.y,Z.y,.42),flip:Z.flip}))}else ne(null)},[F,D,H,t,C,P,ne]);const L=x.useCallback(()=>v(!1),[v]),Y=x.useCallback(()=>{s&&k(!F)},[s,F,k]),M=x.useCallback(()=>w(!0),[w]),G=x.useCallback(()=>y(!0),[y]);return l.jsxs("span",{ref:o,className:"relative",children:[l.jsx("img",{className:`${n} ${!F||d?a:""} animation-fade-in`,style:p?{...e,position:"absolute",...D?{}:{visibility:"hidden"}}:d||!D?{display:"none"}:e,src:m,onLoad:L,loading:"eager",onClick:Y,onError:V,alt:"",ref:C}),Q&&!p&&!d?l.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 overflow-hidden pointer-events-none opacity-98 z-50",children:l.jsx("img",{className:"fixed max-w-75vw max-h-75vh z-50 overflow-hidden",style:{left:`${Q.x}px`,top:`${Q.y}px`,transform:`translate(${Q.flip?"-100":"0"}%, -50%)`,transition:"position 50ms ease-out"},src:m,alt:""})}):l.jsx(l.Fragment,{}),l.jsx("div",{className:`${n} relative`,children:l.jsx("span",{children:l.jsx("div",{children:l.jsxs("div",{children:[p?l.jsxs("div",{className:"relative center grid",children:[l.jsx("img",{className:a+" animation-download",style:e,src:fY,onClick:N,alt:""}),l.jsxs("div",{className:"p-2 text-xs opacity-80 absolute top-0 left-0 bg-primary animation-fade-in",title:"Retrieving image from IPFS.",children:["Loading from IPFS...",m?l.jsxs("div",{children:["Attempting ",l.jsx("i",{children:new URL(m).hostname})]}):l.jsx(l.Fragment,{})]})]}):d?l.jsxs("div",{className:"relative center grid",children:[l.jsx("img",{className:a+" animation-fade-in",style:e,src:dY,onClick:N,alt:""}),l.jsx("div",{className:"p-2",children:"IPFS Image Load Error"})]}):"",!p&&!d&&!g&&r?l.jsx("img",{className:a,src:lY,alt:"SPOILER",onClick:G}):"",!p&&!d&&(g||!r)&&!A&&i?l.jsx("img",{className:a,src:cY,alt:"NSFW",onClick:M}):""]})})})})]})},DY=({limit:t,skip:e,board:n})=>{var c;const{timeTraveledToBlockNumber:r}=He(),i=r?V5:H5,{loading:s,data:u}=ln(i,{variables:{block:r,limit:t,skip:e,board:(n==null?void 0:n.id)||""}}),[a,o]=x.useState(u);return x.useEffect(()=>u&&o(u),[u,o]),l.jsx("div",{children:s&&!a?l.jsx(Er,{}):((c=a==null?void 0:a.posts)==null?void 0:c.map(f=>l.jsx(aue,{post:f},f.id)))||l.jsx("div",{children:"No post found"})})},Er=({className:t=""})=>{const{isTimeTraveling:e,timeTraveledToDateTime:n}=He();return l.jsxs("div",{className:`${t} dchan-loading flex center p-2`,children:[l.jsx("div",{className:"opacity-80 pr-1",children:l.jsx(Ol,{size:8,reverse:e,speed:"sanic"})}),l.jsx("div",{className:"",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Time traveling to..."}),l.jsx("div",{className:"text-xs opacity-70",children:n==null?void 0:n.toLocaleString(ie.DATETIME_SHORT)}),l.jsx("div",{className:"text-xs opacity-50",children:n==null?void 0:n.toRelative()})]}):l.jsx(l.Fragment,{children:"Loading..."})})]})},kY=()=>{var n,r,i;const[t]=_i(),{data:e}=ln($5,{variables:{id:((n=t==null?void 0:t.contract)==null?void 0:n.address)||""},skip:!((r=t==null?void 0:t.contract)!=null&&r.address)});return(i=e==null?void 0:e.chanStatus)!=null&&i.isLocked?l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-primary relative p-8",style:{height:"100000vh"},children:l.jsx("div",{className:"center grid",children:l.jsx(rs,{title:l.jsx("div",{className:"text-red-600 text-4xl",children:"UH OH"}),className:"pt-4",children:l.jsxs("div",{className:"text-center grid",children:[l.jsx(de,{emoji:"💩"}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-md",children:"Someone made a stinky and everything got locked."}),l.jsx("div",{className:"text-sm",children:"Hopefully it wasn't you."}),l.jsx("div",{className:"text-md",children:"Please wait while things go back to normal."})]})]})})})})}):l.jsx("span",{})},A0=({children:t})=>{const e=t?t.map?t:[t]:[];return l.jsxs("details",{className:"dchan-menu z-10 text-sm inline text-left opacity-40 hover:opacity-100 select-none h-16px sm:relative",children:[l.jsx("summary",{className:"pl-1"}),l.jsx("div",{className:"dchan-menu-content bg-secondary border border-solid border-tertiary-accent p-1 z-50 pr-4 absolute w-screen sm:w-auto left-0",children:e.map(n=>n)})]})};function SY(){const[t,e]=zg();return t!==!1?l.jsx(pP,{onExit:()=>e(!1),children:{abuse:l.jsx(ZK,{}),rules:l.jsx(oue,{}),faq:l.jsx(WJ,{})}[t]}):null}const pP=t=>(Ct.useEffect(()=>{const e=n=>{n.key==="Escape"&&(n.stopPropagation(),t.onExit())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),l.jsx("div",{className:"flex fixed top-0 bottom-0 left-0 right-0 overflow-scroll bg-black bg-opacity-50 cursor-default pb-8",style:{zIndex:9e3},onClick:t.onExit,children:l.jsx("div",{className:`${t.overlayClassName} m-auto`,onClick:e=>e.stopPropagation(),children:t.children})})),Nd=({url:t,page:e,maxPage:n,hasNextPage:r})=>{const i=Un(),{timeTraveledToBlockNumber:s}=He();return l.jsxs("div",{className:"p-2",children:[l.jsx("span",{children:l.jsx(Ce,{className:`dchan-link px-2 ${e>1?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=1${s?`&block=${s}`:""}`,children:"<<"})}),l.jsx("span",{children:l.jsx(Ce,{className:`dchan-link px-2 ${e>1?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${e-1}${s?`&block=${s}`:""}`,children:"<"})}),l.jsxs("span",{children:["[",l.jsxs("button",{className:"dchan-link px-2",onClick:()=>{const u=prompt(`Page number: ${n?`(range: 1-${n})`:""}`);if(u!=null){const a=parseInt(u||"");isNaN(a)||a<1||n&&a>n?alert(`Invalid page number: ${u}`):i(`${t}${t.indexOf("?")===-1?"?":"&"}page=${a}${s?`&block=${s}`:""}`)}},children:["Page ",e,n?` of ${n}`:""]}),"]"]}),l.jsx("span",{children:l.jsx(Ce,{className:`dchan-link px-2 ${r===!0||n&&e<n?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${e+1}${s?`&block=${s}`:""}`,children:">"})}),l.jsx("span",{children:l.jsx(Ce,{className:`dchan-link px-2 ${r===!0&&n&&e<n?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${n}${s?`&block=${s}`:""}`,children:">>"})})]})},BY=({highlight:t})=>l.jsxs("div",{className:"dchan-popular-boards",children:[l.jsx(sP,{limit:100,highlight:t}),l.jsxs("div",{className:"border border-solid border-tertiary-accent p-2",children:["[",l.jsx(Ce,{className:"dchan-link py-1 px-4",to:Be.boards(),children:"All boards"}),"]"]})]});var OY="__lodash_hash_undefined__";function NY(t){return this.__data__.set(t,OY),this}function _Y(t){return this.__data__.has(t)}function bh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ys;++e<n;)this.add(t[e])}bh.prototype.add=bh.prototype.push=NY;bh.prototype.has=_Y;function TY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function mP(t,e){return t.has(e)}var PY=1,jY=2;function gP(t,e,n,r,i,s){var u=n&PY,a=t.length,o=e.length;if(a!=o&&!(u&&o>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=n&jY?new bh:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],m=e[d];if(r)var b=u?r(m,v,d,e,t,s):r(v,m,d,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!TY(e,function(g,y){if(!mP(p,y)&&(v===g||i(v,g,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(v===m||i(v,m,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function IY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Q2(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var RY=1,LY=2,MY="[object Boolean]",$Y="[object Date]",UY="[object Error]",VY="[object Map]",HY="[object Number]",zY="[object RegExp]",QY="[object Set]",GY="[object String]",WY="[object Symbol]",qY="[object ArrayBuffer]",KY="[object DataView]",fS=Kr?Kr.prototype:void 0,Ov=fS?fS.valueOf:void 0;function JY(t,e,n,r,i,s,u){switch(n){case KY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qY:return!(t.byteLength!=e.byteLength||!s(new tg(t),new tg(e)));case MY:case $Y:case HY:return dy(+t,+e);case UY:return t.name==e.name&&t.message==e.message;case zY:case GY:return t==e+"";case VY:var a=IY;case QY:var o=r&RY;if(a||(a=Q2),t.size!=e.size&&!o)return!1;var c=u.get(t);if(c)return c==e;r|=LY,u.set(t,e);var f=gP(a(t),a(e),r,i,s,u);return u.delete(t),f;case WY:if(Ov)return Ov.call(t)==Ov.call(e)}return!1}var YY=1,ZY=Object.prototype,XY=ZY.hasOwnProperty;function eZ(t,e,n,r,i,s){var u=n&YY,a=aw(t),o=a.length,c=aw(e),f=c.length;if(o!=f&&!u)return!1;for(var d=o;d--;){var h=a[d];if(!(u?h in e:XY.call(e,h)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);for(var b=u;++d<o;){h=a[d];var g=t[h],y=e[h];if(r)var A=u?r(y,g,h,e,t,s):r(g,y,h,t,e,s);if(!(A===void 0?g===y||i(g,y,n,r,s):A)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var w=t.constructor,F=e.constructor;w!=F&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof F=="function"&&F instanceof F)&&(m=!1)}return s.delete(t),s.delete(e),m}var tZ=1,dS="[object Arguments]",hS="[object Array]",dp="[object Object]",nZ=Object.prototype,pS=nZ.hasOwnProperty;function rZ(t,e,n,r,i,s){var u=vr(t),a=vr(e),o=u?hS:vh(t),c=a?hS:vh(e);o=o==dS?dp:o,c=c==dS?dp:c;var f=o==dp,d=c==dp,h=o==c;if(h&&eg(t)){if(!eg(e))return!1;u=!0,f=!1}if(h&&!f)return s||(s=new ts),u||P8(t)?gP(t,e,n,r,i,s):JY(t,e,o,n,r,i,s);if(!(n&tZ)){var p=f&&pS.call(t,"__wrapped__"),v=d&&pS.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,b=v?e.value():e;return s||(s=new ts),i(m,b,n,r,s)}}return h?(s||(s=new ts),eZ(t,e,n,r,i,s)):!1}function Ey(t,e,n,r,i){return t===e?!0:t==null||e==null||!ki(t)&&!ki(e)?t!==t&&e!==e:rZ(t,e,n,r,Ey,i)}var iZ=1,sZ=2;function uZ(t,e,n,r){var i=n.length,s=i,u=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var o=a[0],c=t[o],f=a[1];if(u&&a[2]){if(c===void 0&&!(o in t))return!1}else{var d=new ts;if(r)var h=r(c,f,o,t,e,d);if(!(h===void 0?Ey(f,c,iZ|sZ,r,d):h))return!1}}return!0}function yP(t){return t===t&&!Di(t)}function aZ(t){for(var e=h0(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,yP(i)]}return e}function vP(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function oZ(t){var e=aZ(t);return e.length==1&&e[0][2]?vP(e[0][0],e[0][1]):function(n){return n===t||uZ(n,t,e)}}function lZ(t,e,n){var r=t==null?void 0:gy(t,e);return r===void 0?n:r}function cZ(t,e){return t!=null&&e in Object(t)}function fZ(t,e,n){e=my(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var u=p0(e[r]);if(!(s=t!=null&&n(t,u)))break;t=t[u]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&S2(i)&&k2(u,i)&&(vr(t)||D2(t)))}function dZ(t,e){return t!=null&&fZ(t,e,cZ)}var hZ=1,pZ=2;function mZ(t,e){return j2(t)&&yP(e)?vP(p0(t),e):function(n){var r=lZ(n,t);return r===void 0&&r===e?dZ(n,t):Ey(e,r,hZ|pZ)}}function bP(t){return function(e){return e==null?void 0:e[t]}}function gZ(t){return function(e){return gy(e,t)}}function yZ(t){return j2(t)?bP(p0(t)):gZ(t)}function AP(t){return typeof t=="function"?t:t==null?yy:typeof t=="object"?vr(t)?mZ(t[0],t[1]):oZ(t):yZ(t)}function vZ(t){return function(e,n,r){for(var i=-1,s=Object(e),u=r(e),a=u.length;a--;){var o=u[t?a:++i];if(n(s[o],o,s)===!1)break}return e}}var bZ=vZ();const AZ=bZ;function wZ(t,e){return t&&AZ(t,e,h0)}function EZ(t,e){return function(n,r){if(n==null)return n;if(!d0(n))return t(n,r);for(var i=n.length,s=e?i:-1,u=Object(n);(e?s--:++s<i)&&r(u[s],s,u)!==!1;);return n}}var xZ=EZ(wZ);function FZ(t,e){var n=-1,r=d0(t)?Array(t.length):[];return xZ(t,function(i,s,u){r[++n]=e(i,s,u)}),r}function CZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function DZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=nf(t),u=e!==void 0,a=e===null,o=e===e,c=nf(e);if(!a&&!c&&!s&&t>e||s&&u&&o&&!a&&!c||r&&u&&o||!n&&o||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!u&&i||!o)return-1}return 0}function kZ(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,u=i.length,a=n.length;++r<u;){var o=DZ(i[r],s[r]);if(o){if(r>=a)return o;var c=n[r];return o*(c=="desc"?-1:1)}}return t.index-e.index}function SZ(t,e,n){e.length?e=Sd(e,function(s){return vr(s)?function(u){return gy(u,s.length===1?s[0]:s)}:s}):e=[yy];var r=-1;e=Sd(e,f0(AP));var i=FZ(t,function(s,u,a){var o=Sd(e,function(c){return c(s)});return{criteria:o,index:++r,value:s}});return CZ(i,function(s,u){return kZ(s,u,n)})}function BZ(t,e){return q8(W8(t,e,yy),t+"")}function mS(t,e,n){if(!Di(n))return!1;var r=typeof e;return(r=="number"?d0(n)&&k2(e,n.length):r=="string"&&e in n)?dy(n[e],t):!1}var OZ=BZ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mS(t,e[0],e[1])?e=[]:n>2&&mS(e[0],e[1],e[2])&&(e=[e[0]]),SZ(t,R2(e,1),[])}),NZ=Array.prototype,_Z=NZ.reverse;function TZ(t){return t==null?t:_Z.call(t)}function PZ(t){return t&&t.length>0?TZ(OZ(t,e=>parseInt(e.createdAtBlock.timestamp))):void 0}function G2({score:t},e){return parseInt(t)/1e9<parseInt(`${e||1}`)}function jZ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Q8(t,e,n)}var IZ="\\ud800-\\udfff",RZ="\\u0300-\\u036f",LZ="\\ufe20-\\ufe2f",MZ="\\u20d0-\\u20ff",$Z=RZ+LZ+MZ,UZ="\\ufe0e\\ufe0f",VZ="\\u200d",HZ=RegExp("["+VZ+IZ+$Z+UZ+"]");function W2(t){return HZ.test(t)}var zZ="[object RegExp]";function QZ(t){return ki(t)&&Js(t)==zZ}var gS=ua&&ua.isRegExp,GZ=gS?f0(gS):QZ,WZ=bP("length"),wP="\\ud800-\\udfff",qZ="\\u0300-\\u036f",KZ="\\ufe20-\\ufe2f",JZ="\\u20d0-\\u20ff",YZ=qZ+KZ+JZ,ZZ="\\ufe0e\\ufe0f",XZ="["+wP+"]",fw="["+YZ+"]",dw="\\ud83c[\\udffb-\\udfff]",eX="(?:"+fw+"|"+dw+")",EP="[^"+wP+"]",xP="(?:\\ud83c[\\udde6-\\uddff]){2}",FP="[\\ud800-\\udbff][\\udc00-\\udfff]",tX="\\u200d",CP=eX+"?",DP="["+ZZ+"]?",nX="(?:"+tX+"(?:"+[EP,xP,FP].join("|")+")"+DP+CP+")*",rX=DP+CP+nX,iX="(?:"+[EP+fw+"?",fw,xP,FP,XZ].join("|")+")",yS=RegExp(dw+"(?="+dw+")|"+iX+rX,"g");function sX(t){for(var e=yS.lastIndex=0;yS.test(t);)++e;return e}function uX(t){return W2(t)?sX(t):WZ(t)}function aX(t){return t.split("")}var kP="\\ud800-\\udfff",oX="\\u0300-\\u036f",lX="\\ufe20-\\ufe2f",cX="\\u20d0-\\u20ff",fX=oX+lX+cX,dX="\\ufe0e\\ufe0f",hX="["+kP+"]",hw="["+fX+"]",pw="\\ud83c[\\udffb-\\udfff]",pX="(?:"+hw+"|"+pw+")",SP="[^"+kP+"]",BP="(?:\\ud83c[\\udde6-\\uddff]){2}",OP="[\\ud800-\\udbff][\\udc00-\\udfff]",mX="\\u200d",NP=pX+"?",_P="["+dX+"]?",gX="(?:"+mX+"(?:"+[SP,BP,OP].join("|")+")"+_P+NP+")*",yX=_P+NP+gX,vX="(?:"+[SP+hw+"?",hw,BP,OP,hX].join("|")+")",bX=RegExp(pw+"(?="+pw+")|"+vX+yX,"g");function AX(t){return t.match(bX)||[]}function wX(t){return W2(t)?AX(t):aX(t)}var EX=/\s/;function xX(t){for(var e=t.length;e--&&EX.test(t.charAt(e)););return e}var FX=/^\s+/;function CX(t){return t&&t.slice(0,xX(t)+1).replace(FX,"")}var vS=NaN,DX=/^[-+]0x[0-9a-f]+$/i,kX=/^0b[01]+$/i,SX=/^0o[0-7]+$/i,BX=parseInt;function og(t){if(typeof t=="number")return t;if(nf(t))return vS;if(Di(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Di(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CX(t);var n=kX.test(t);return n||SX.test(t)?BX(t.slice(2),n?2:8):DX.test(t)?vS:+t}var bS=1/0,OX=17976931348623157e292;function NX(t){if(!t)return t===0?t:0;if(t=og(t),t===bS||t===-bS){var e=t<0?-1:1;return e*OX}return t===t?t:0}function TP(t){var e=NX(t),n=e%1;return e===e?n?e-n:e:0}var _X=30,TX="...",PX=/\w*$/;function PP(t,e){var n=_X,r=TX;if(Di(e)){var i="separator"in e?e.separator:i;n="length"in e?TP(e.length):n,r="omission"in e?ng(e.omission):r}t=rf(t);var s=t.length;if(W2(t)){var u=wX(t);s=u.length}if(n>=s)return t;var a=n-uX(r);if(a<1)return r;var o=u?jZ(u,0,a).join(""):t.slice(0,a);if(i===void 0)return o+r;if(u&&(a+=o.length-a),GZ(i)){if(t.slice(a).search(i)){var c,f=o;for(i.global||(i=RegExp(i.source,rf(PX.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;o=o.slice(0,d===void 0?a:d)}}else if(t.indexOf(ng(i),a)!=a){var h=o.lastIndexOf(i);h>-1&&(o=o.slice(0,h))}return o+r}function jP(t,e){return Ey(t,e)}const jX=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],IX=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],RX=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],LX=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],AS=(t,e,n)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,n):(e===!0||n!==void 0)&&(r=t.toLocaleString(void 0,n)),r};function MX(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const n=e.bits?e.binary?LX:RX:e.binary?IX:jX,r=e.space?" ":"";if(e.signed&&t===0)return` 0${r}${n[0]}`;const i=t<0,s=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const f=AS(t,e.locale,u);return s+f+r+n[0]}const a=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),n.length-1);t/=(e.binary?1024:1e3)**a,u||(t=t.toPrecision(3));const o=AS(Number(t),e.locale,u),c=n[a];return s+o+r+c}const Ah=x.memo(({children:t,post:e,thread:n,header:r,enableBacklinks:i=!1,showNsfw:s=!1,showPostMarker:u=!0})=>{var Z,ye,we,ft;const{id:a,from:{id:o},n:c,image:f,bans:d}=e,{timeTraveledToBlockNumber:h}=He(),{data:p}=ra(),[v,m]=x.useState(),[b,g]=x.useState(!1),[y,A]=x.useState(!1),[w,F]=x.useState(!1),[k,C]=x.useState({}),D=x.useRef(null),{subscribe:T,unsubscribe:N}=hf(),V=x.useCallback(()=>{var be;(be=D.current)==null||be.scrollIntoView({behavior:"smooth",block:"center"})},[D]);x.useEffect(()=>{const be=T("POST_FOCUS",(dt,At)=>{const Re=e.id===At.id;A(Re),F(Re),Re&&V()});return()=>{N(be)}}),x.useEffect(()=>{const be=T("POST_HIGHLIGHT",(dt,At)=>{e.id===At&&F(!0)});return()=>{N(be)}}),x.useEffect(()=>{const be=T("POST_DEHIGHLIGHT",(dt,At)=>{e.id===At&&!y&&F(!1)});return()=>{N(be)}}),x.useEffect(()=>{if(i){const be=T("POST_BACKLINK",(dt,{from:At,to:{n:Re}})=>{`${Re}`==`${e.n}`&&!(At.id in k)&&C({...k,[At.id]:At})});return()=>{be&&N(be)}}});const H=f?K8(f.ipfsHash)[0]:"",Q=a===(n==null?void 0:n.id),ne=((Z=p==null?void 0:p.user)==null?void 0:Z.id)===e.from.id,[P]=_i(),Y=!G2(e,(ye=P==null?void 0:P.content_filter)==null?void 0:ye.score_threshold)||((we=P==null?void 0:P.content_filter)==null?void 0:we.show_below_threshold)||b,M=x.useRef(null),[G,W]=x.useState(Y);x.useEffect(()=>{M.current&&W(M.current.open)},[M,W]),x.useEffect(()=>{fetch(H,{method:"HEAD"}).then(be=>{be.status===200?m(Number(be.headers.get("Content-Length"))):console.error("HEAD",H,{response:be})}).catch(be=>console.error({err:be}))},[H,m]);const oe=[w||y?"bg-tertiary border-bottom-secondary-accent":Q?"":"bg-secondary border-bottom-tertiary-accent border-right-tertiary-accent",ne?"dchan-post-you":"","mt-2 relative p-0.5"].join(" ");return l.jsxs("div",{className:"flex relative",id:`${c}`,children:[!Q&&u?l.jsx("span",{className:"hidden md:block pl-2 text-secondary",children:">>"}):"",l.jsxs("div",{className:`${Q?"w-full":""}`,ref:D,children:[l.jsx("details",{className:"absolute ml-2 z-10 dchan-post-minimizer opacity-70 hover:opacity-100",ref:M,open:Y,onToggle:be=>{W(be.target.open)},children:l.jsx("summary",{})}),l.jsx("div",{className:`text-left opacity-50 whitespace-nowrap mb-1 mt-2 overflow-hidden flex ml-5 ${G?"hidden":""}`,title:"Hide/Show",children:l.jsx(ZS,{thread:n,post:e,children:r})}),l.jsx("div",{className:`dchan-post bg-primary text-left ${G?"":"hidden"}`,"dchan-post-from-address":o,children:l.jsxs("div",{className:oe,children:[l.jsxs("div",{className:"flex sm:flex-wrap ml-5 align-center text-center sm:text-left sm:justify-start max-w-100vw",children:[l.jsx(ZS,{thread:n,post:e,backlinks:k,children:r}),e.sage?l.jsx("abbr",{className:"opacity-20 hover:opacity-100",title:"Saged. Thread not bumped.",children:"🍂"}):""]}),Y?l.jsxs("div",{children:[f?l.jsx("div",{className:"text-center sm:text-left ml-5",children:l.jsx("span",{className:"text-sm",children:l.jsxs("span",{className:"flex flex-wrap items-center",children:[l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link underline max-w-64",href:H,title:f.name,children:PP(f.name,{length:32,omission:"..."})}),v?l.jsxs("span",{className:"mx-1 text-xs opacity-40 hover:opacity-100",children:["(",MX(v),")"]}):l.jsx(l.Fragment,{}),l.jsx(A0,{children:l.jsxs("div",{children:["Reverse search:",l.jsxs("div",{children:[l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`https://yandex.com/images/search?rpt=imageview&url=${H}`,children:"yandex"})}),l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`//iqdb.org/?url=${H}`,children:"iqdb"})}),l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`https://trace.moe/?auto&url=${H}`,children:"wait"})})]})]})}),l.jsx("span",{className:"whitespace-nowrap",children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"px-1 opacity-20 hover:opacity-100 hidden sm:inline-block",href:H,title:f.name,children:l.jsx("small",{children:f.ipfsHash})})})]})})}):"",l.jsxs("div",{className:"y-1",children:[l.jsx("div",{className:"h-full flex flex-wrap text-left sm:items-start pb-2 w-full",children:l.jsxs("div",{className:"w-full table pt-1",children:[f?l.jsx("div",{className:"mx-5 my-1 float-left",children:l.jsx(hP,{hash:f.ipfsHash,isSpoiler:f.isSpoiler,isNsfw:!s&&(f.isNsfw||((ft=e.board)==null?void 0:ft.isNsfw))||!1,thumbnail:!0,thumbnailClass:Q?"max-w-8rem max-h-32 md:max-w-16rem md:max-h-64":void 0,expandable:!0})}):"",l.jsxs("div",{children:[l.jsx("div",{children:Q&&n?l.jsx("div",{className:"font-semibold md:ml-10 ml-5 break-all",children:n.subject}):""}),l.jsx(Cw,{className:"md:ml-10 ml-4 mr-4 pb-2",post:e,thread:n}),d.length>0?l.jsx("div",{className:"text-xl font-bold text-contrast whitespace-nowrap",children:"( USER WAS BANNED FOR THIS POST )"}):""]})]})}),l.jsx("div",{className:Q?"pb-4":"",children:t}),l.jsx(Ce,{className:"px-1 text-xs opacity-5 hover:opacity-100 absolute bottom-0 left-0 inline pt-2",to:`/${e.id}${h?`?block=${h}`:""}`,title:"Permalink",children:l.jsx("small",{children:e.id})})]})]}):l.jsxs("button",{onClick:()=>g(!0),className:"text-2xl text-gray-800",children:[l.jsx("div",{children:l.jsx(de,{emoji:"⚠️"})}),l.jsx("div",{children:"Post hidden due to reports."}),l.jsx("div",{className:"text-sm text-gray-600",children:"Click to show anyway."})]})]})})]},a)]})},jP);var q2={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.ParserDefinitionError=zr.ParjsParsingFailure=zr.ParjsError=void 0;class K2 extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}zr.ParjsError=K2;class $X extends K2{constructor(e){super(`Expected parsing to succeed, but it failed. Reason: ${e.trace.reason}`),this.failure=e}}zr.ParjsParsingFailure=$X;class UX extends K2{constructor(e,n){super(`${e}: ${n}`),this.parserName=e}}zr.ParserDefinitionError=UX;var IP={},Nv={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.range=Kt.clone=Kt.defaults=Kt.defaultsDeep=Kt.cloneDeep=void 0;function mw(t){if(typeof t!="object"||!t)return t;if(Array.isArray(t))return t.map(n=>mw(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=mw(t[n]);return e}Kt.cloneDeep=mw;function VX(t,e){if(t=Object(t),!e)return t;e=Object(e);for(const n of Object.keys(e)){const r=e[n];typeof t[n]=="object"?RP(t[n],Object(r)):t[n]===void 0&&(t[n]=r)}return t}function RP(t,...e){for(const n of e)t=VX(t,n);return t}Kt.defaultsDeep=RP;function HX(t,...e){const n=Object(t);for(const r of e)if(r)for(const i of Object.keys(r))(!(i in n)||n[i]===void 0)&&(n[i]=r[i]);return n}Kt.defaults=HX;function zX(t){if(typeof t!="object"||!t)return t;if(Array.isArray(t))return t.slice();const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=t[n];return e}Kt.clone=zX;function QX(t,e){const n=[];for(let r=t;r<e;r++)n.push(r);return n}Kt.range=QX;var Je={},xy={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.padInt=Oo.recJoin=void 0;function LP(t){return t instanceof Array?t.map(e=>LP(e)).join(""):String(t)}Oo.recJoin=LP;function GX(t,e,n){const r=t.toString();return r.length>=e?r:n.repeat(e-r.length)+r}Oo.padInt=GX;Object.defineProperty(xy,"__esModule",{value:!0});xy.visualizeTrace=void 0;const WX=Kt,qX=Oo,MP={lineNumbers:!0,linesBefore:1};function $P(t){const e=(0,WX.defaults)(t,MP),n=r=>{const i=r.input.split(/\r\n|\n|\r/g),s=r.location.line,u=e.linesBefore,a=Math.max(0,s-u);let o=i.slice(a,s+1),c=0;if(e.lineNumbers){const v=Math.floor(1+Math.log(s+1)/Math.log(10)),m=b=>`${(0,qX.padInt)(a+b,v," ")} | `;c=v+3,o=o.map((b,g)=>`${m(g+1)}${b}`)}const f=`${" ".repeat(c+r.location.column)}^${r.reason}`;o.push(f);const d=o.join(`
`),h=r.stackTrace.map(v=>`${v.expecting} (${v.type})`).filter(v=>v).join(`
`);return`${r.kind} failure at Ln ${r.location.line+1} Col ${r.location.column+1}
${d}

Stack:
${h}
`};return n.configure=$P,n}xy.visualizeTrace=$P(MP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ResultKind=t.isParjsResult=t.isParjsFailure=t.isParjsSuccess=t.ParjsFailure=t.ParjsSuccess=void 0;const e=zr,n=xy;class r{constructor(c){this.value=c,this.kind=t.ResultKind.Ok}toString(){return`Success: ${this.value}`}get isOk(){return!0}}t.ParjsSuccess=r;class i{constructor(c){this.trace=c}get value(){throw new e.ParjsParsingFailure(this)}get kind(){return this.trace.kind}get reason(){return this.trace.reason}toString(){return(0,n.visualizeTrace)(this.trace)}get isOk(){return!1}}t.ParjsFailure=i;function s(o){return o instanceof r}t.isParjsSuccess=s;function u(o){return o instanceof i}t.isParjsFailure=u;function a(o){return o instanceof r||o instanceof i}t.isParjsResult=a,t.ResultKind={Ok:"OK",SoftFail:"Soft",HardFail:"Hard",FatalFail:"Fatal"}})(Je);var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.UNINITIALIZED_RESULT=Is.FAIL_RESULT=Is.BasicParsingState=void 0;const Ir=Je;function wS(t,e){if(t===Ir.ResultKind.Ok)return e===Ir.ResultKind.Ok;if(t===Ir.ResultKind.SoftFail)return e===Ir.ResultKind.SoftFail||e===Ir.ResultKind.Ok;if(t===Ir.ResultKind.HardFail)return e!==Ir.ResultKind.FatalFail;if(t===Ir.ResultKind.FatalFail)return!0}class KX{constructor(e,n){this.input=e,this.userState=n,this.position=0,this.stack=[],this.initialUserState=void 0,this.value=void 0}get isOk(){return this.kind===Ir.ResultKind.Ok}get isSoft(){return this.kind===Ir.ResultKind.SoftFail}get isHard(){return this.kind===Ir.ResultKind.HardFail}get isFatal(){return this.kind===Ir.ResultKind.FatalFail}atLeast(e){return wS(this.kind,e)}atMost(e){return wS(e,this.kind)}}Is.BasicParsingState=KX;Is.FAIL_RESULT=Object.create(null);Is.UNINITIALIZED_RESULT=Object.create(null);var ba={},ES;function vt(){if(ES)return ba;ES=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.wrapImplicit=ba.convertibleSymbol=void 0;const t=Lt();ba.convertibleSymbol=Symbol("ParjsConvertibleLiteral");function e(n){return typeof n=="string"?(0,t.string)(n):n instanceof RegExp?(0,t.regexp)(n):n}return ba.wrapImplicit=e,ba}var xS;function Lt(){return xS||(xS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexp=t.ParjserBase=t.string=t.defaultDebugFunction=t.ParserUserState=void 0;const e=zr,n=Kt,r=Je,i=Is,s=vt();function u(v){const m=/\r\n|\n|\r/g,{position:b}=v;let g=0,y,A=0;for(;(y=m.exec(v.input))&&!(y.index>b);)g=y.index+y[0].length,A++;return{line:A,column:A===0?b:b-g}}class a{}t.ParserUserState=a;const o=(v,m,b)=>{const g={[r.ResultKind.Ok]:"👍🏻 (Ok)",[r.ResultKind.SoftFail]:"😕 (Soft failure)",[r.ResultKind.HardFail]:"😬 (Hard failure)",[r.ResultKind.FatalFail]:"💀 (Fatal failure)"},y=v.input.slice(b,v.position),A=[`consumed '${y}' (length ${y.length})`,`at position ${b}->${v.position}`,g[v.kind],JSON.stringify(v,null,2),JSON.stringify({type:m.type,expecting:m.expecting},null,2)].join(`
`);console.log(A)};t.defaultDebugFunction=o;function c(v){return new p(v)}t.string=c;class f{expects(m){const b=(0,n.clone)(this);return b.expecting=m,b}debug(m=t.defaultDebugFunction){const b=(0,n.clone)(this);return b.debugFunction=m,b}apply(m){var g,y;const b=m.position;if(m.kind="Unknown",m.reason=void 0,m.value=i.UNINITIALIZED_RESULT,this._apply(m),m.kind==="Unknown")throw new e.ParserDefinitionError(this.type,"the parser's result kind field has not been set.");if(!m.isOk)m.value=i.FAIL_RESULT,m.reason=m.reason||this.expecting;else if(m.value===i.UNINITIALIZED_RESULT)throw new e.ParserDefinitionError(this.type,"a parser must set the result's value field if it succeeds.");if(m.isOk)(y=this.debugFunction)==null||y.call(this,m,this,b),m.stack=[];else{if(m.reason==null)throw new e.ParserDefinitionError(this.type,"a failure must have a reason");m.stack.push({type:this.type,expecting:this.expecting}),(g=this.debugFunction)==null||g.call(this,m,this,b)}}parse(m,b){if(typeof m!="string")throw new TypeError("input must be a valid string");const g=new i.BasicParsingState(m,(0,n.defaults)(new a,b));if(g.initialUserState=b,this.apply(g),g.isOk&&g.position!==m.length&&(g.kind=r.ResultKind.SoftFail,g.reason="parsers did not consume all input"),g.kind==="Unknown")throw new Error("Kind was Unknown after parsing finished. This is a bug.");if(g.kind===r.ResultKind.Ok)return new r.ParjsSuccess(g.value);{const y={userState:g.userState,position:g.position,reason:g.reason,input:m,get location(){return u(g)},stackTrace:g.stack,kind:g.kind};return new r.ParjsFailure(y)}}pipe(m,b,g,y,A,w){const F=[m,b,g,y,A,w].filter(C=>C!=null);let k=(0,s.wrapImplicit)(this);for(const C of F)k=C(k);return k}}t.ParjserBase=f;class d extends f{constructor(m){super(),this.re=m,this.type="regexp",this.expecting=`expecting input matching '${this.re.source}'`}_apply(m){const{input:b,position:g}=m,y=this.re;y.lastIndex=g;const A=y.exec(b);if(!A){m.kind=r.ResultKind.SoftFail;return}m.position+=A[0].length,m.value=A.slice(),m.kind=r.ResultKind.Ok}}function h(v){const m=[v.ignoreCase&&"i",v.multiline&&"m"].filter(g=>g).join(""),b=new RegExp(v.source,`${m}y`);return new d(b)}t.regexp=h;class p extends f{constructor(m){super(),this.str=m,this.type="string",this.expecting=`expecting '${this.str}'`}_apply(m){const{position:b,input:g}=m,y=this.str;if(b+y.length>g.length){m.kind=r.ResultKind.SoftFail;return}if(g.slice(b,b+y.length)!==y){m.kind=r.ResultKind.SoftFail;return}m.position+=y.length,m.value=y,m.kind=r.ResultKind.Ok}}}(Nv)),Nv}var Fy={},Cy={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.Combinated=void 0;const JX=Lt();class YX extends JX.ParjserBase{constructor(e){super(),this.source=e}}bt.Combinated=YX;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.pipe=Qr.composeCombinator=Qr.defineCombinator=void 0;const UP=vt();function ZX(t){return e=>{const n=(0,UP.wrapImplicit)(e);return t(n)}}Qr.defineCombinator=ZX;function XX(...t){return e=>{let n=e;for(const r of t)n=r(n);return n}}Qr.composeCombinator=XX;function eee(t,...e){let n=(0,UP.wrapImplicit)(t);for(const r of e)n=r(n);return n}Qr.pipe=eee;Object.defineProperty(Cy,"__esModule",{value:!0});Cy.backtrack=void 0;const tee=bt,nee=Qr;class ree extends tee.Combinated{constructor(){super(...arguments),this.type="backtrack",this.expecting=this.source.expecting}_apply(e){const{position:n}=e;this.source.apply(e),e.isOk&&(e.position=n)}}function iee(){return(0,nee.defineCombinator)(t=>new ree(t))}Cy.backtrack=iee;var Dy={},ns={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.mapConst=zs.map=void 0;const see=bt,uee=vt();let aee=class extends see.Combinated{constructor(e,n){super(e),this._projection=n,this.type="map",this.expecting=this.source.expecting}_apply(e){this.source.apply(e),e.isOk&&(e.value=this._projection(e.value,e.userState))}};function VP(t){return e=>new aee((0,uee.wrapImplicit)(e),t)}zs.map=VP;function oee(t){return VP(()=>t)}zs.mapConst=oee;Object.defineProperty(ns,"__esModule",{value:!0});ns.then=ns.thenq=ns.qthen=void 0;const FS=Je,lee=bt,CS=vt(),HP=Qr,zP=zs;function cee(t){return(0,HP.composeCombinator)(J2(t),(0,zP.map)(e=>e[1]))}ns.qthen=cee;function fee(t){return(0,HP.composeCombinator)(J2(t),(0,zP.map)(e=>e[0]))}ns.thenq=fee;class dee extends lee.Combinated{constructor(e,n){super(e),this._rest=n,this.type="then",this.expecting=this.source.expecting,this._seq=[this.source,...this._rest]}_apply(e){const n=[],{_seq:r}=this,i=e.position;for(const s of r)if(s.apply(e),e.isOk)n.push(e.value);else{if(e.isSoft&&i===e.position)return;if(e.isSoft){e.kind=FS.ResultKind.HardFail;return}else return}e.value=n,e.kind=FS.ResultKind.Ok}}function J2(...t){const e=t.map(CS.wrapImplicit);return n=>new dee((0,CS.wrapImplicit)(n),e)}ns.then=J2;Object.defineProperty(Dy,"__esModule",{value:!0});Dy.between=void 0;const DS=vt(),hee=Qr,kS=ns;function pee(t,e){const n=(0,DS.wrapImplicit)(t),r=e?(0,DS.wrapImplicit)(e):n;return(0,hee.defineCombinator)(i=>n.pipe((0,kS.qthen)(i),(0,kS.thenq)(r)))}Dy.between=pee;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});ky.each=void 0;const mee=bt,gee=vt();class yee extends mee.Combinated{constructor(e,n){super(e),this._action=n,this.type="each",this.expecting=this.source.expecting}_apply(e){this.source.apply(e),e.isOk&&this._action(e.value,e.userState)}}function vee(t){return e=>new yee((0,gee.wrapImplicit)(e),t)}ky.each=vee;var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.exactly=void 0;const bee=bt,SS=Je,Aee=vt();class wee extends bee.Combinated{constructor(e,n){super(e),this.count=n,this.type="exactly",this.expecting=this.source.expecting}_apply(e){const n=[];for(let r=0;r<this.count;r++){if(this.source.apply(e),!e.isOk){e.kind===SS.ResultKind.SoftFail&&r>0&&(e.kind=SS.ResultKind.HardFail);return}n.push(e.value)}e.value=n}}function Eee(t){return e=>new wee((0,Aee.wrapImplicit)(e),t)}Sy.exactly=Eee;var By={};Object.defineProperty(By,"__esModule",{value:!0});By.flatten=void 0;const xee=zs;function QP(t){if(!Array.isArray(t))return[t];const e=[];for(const n of t)Array.isArray(n)?e.push(...QP(n)):e.push(n);return e}function Fee(){return(0,xee.map)(t=>QP(t))}By.flatten=Fee;var Oy={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.Issues=void 0;const _v=zr;ha.Issues={guardAgainstInfiniteLoop(t){throw new _v.ParserDefinitionError(t,`The combinator '${t}' expected one of its arguments to change the parser state.`)},delayedParserNotInit(t){throw new _v.ParserDefinitionError(t,"Delayed parser not initalized.")},delayedParserAlreadyInit(){throw new _v.ParserDefinitionError("","Delayed parser has already been initialized")}};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.later=void 0;const BS=ha,Cee=Lt();class Dee extends Cee.ParjserBase{constructor(){super(...arguments),this.type="later"}get expecting(){return this._resolved?this._resolved.expecting:"unbound delayed parser"}init(e){this._resolved&&BS.Issues.delayedParserAlreadyInit(),this._resolved=e}_apply(e){this._resolved||BS.Issues.delayedParserNotInit(""),this._resolved.apply(e)}}function kee(){return new Dee}Oy.later=kee;var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.many=void 0;const See=ha,OS=Je,Bee=bt,Oee=vt();class Nee extends Bee.Combinated{constructor(e,n){super(e),this._maxIterations=n,this.type="many",this.expecting=this.source.expecting}_apply(e){let{position:n}=e;const{source:r,_maxIterations:i}=this,s=[];let u=0;for(;r.apply(e),!(!e.isOk||u>=i);)i===1/0&&e.position===n&&See.Issues.guardAgainstInfiniteLoop("many"),n=e.position,s.push(e.value),u++;e.atLeast(OS.ResultKind.HardFail)||(e.value=s,e.position=n,e.kind=OS.ResultKind.Ok)}}function _ee(t=1/0){return e=>new Nee((0,Oee.wrapImplicit)(e),t)}Ny.many=_ee;var sf={};Object.defineProperty(sf,"__esModule",{value:!0});sf.manySepBy=sf.getArrayWithSeparators=void 0;const Tee=bt,Pee=ha,Jf=Je,NS=vt();function GP(t,e){const n=t;return n.separators=e,n}sf.getArrayWithSeparators=GP;class jee extends Tee.Combinated{constructor(e,n){super(e),this._options=n,this.type="manySepBy",this.expecting=this.source.expecting}_apply(e){const n=GP([],[]),{source:r,_options:{delimeter:i,max:s=1/0}}=this;if(r.apply(e),e.atLeast(Jf.ResultKind.HardFail))return;if(e.isSoft){e.value=n,e.kind=Jf.ResultKind.Ok;return}let{position:u}=e;n.push(e.value);let a=1;for(;!(a>=s||(i.apply(e),e.isSoft));){if(e.atLeast(Jf.ResultKind.HardFail))return;if(n.separators.push(e.value),r.apply(e),e.isSoft)break;if(e.atLeast(Jf.ResultKind.HardFail))return;s>=1/0&&e.position===u&&Pee.Issues.guardAgainstInfiniteLoop("manySepBy"),n.push(e.value),u=e.position,a++}e.kind=Jf.ResultKind.Ok,e.position=u,e.value=n}}function Iee(t,e=1/0){const n=(0,NS.wrapImplicit)(t);return r=>new jee((0,NS.wrapImplicit)(r),{delimeter:n,max:e})}sf.manySepBy=Iee;var uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.manyBetween=uf.manyTill=void 0;const Ree=bt,Lee=ha,hp=Je,gw=vt(),Mee=Qr,$ee=ns,Uee=(t,e,n)=>t;class Vee extends Ree.Combinated{constructor(e,n,r){super(e),this._till=n,this._project=r,this.type="manyTill",this.expecting=`${this.source.expecting} or ${this._till.expecting}`}_apply(e){let{position:n}=e;const r=[];let i=0;for(;this._till.apply(e),!e.isOk;){if(e.atLeast(hp.ResultKind.HardFail))return;if(e.position=n,this.source.apply(e),e.isOk)r.push(e.value);else if(e.isSoft){e.kind=i===0?hp.ResultKind.SoftFail:hp.ResultKind.HardFail;return}else return;e.position===n&&Lee.Issues.guardAgainstInfiniteLoop("manyTill"),n=e.position,i++}e.value=this._project(r,e.value,e.userState),e.kind=hp.ResultKind.Ok}}function WP(t,e){const n=(0,gw.wrapImplicit)(t),r=e||Uee;return i=>new Vee((0,gw.wrapImplicit)(i),n,r)}uf.manyTill=WP;function Hee(t,e,n){const r=e||t;return i=>{const s=(0,gw.wrapImplicit)(i);return(0,Mee.pipe)(t,(0,$ee.qthen)(s.pipe(WP(r,n))))}}uf.manyBetween=Hee;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.many1=void 0;const zee=bt,Qee=ha,Tv=Je,Gee=vt();class Wee extends zee.Combinated{constructor(e,n){super(e),this._maxIterations=n,this.type="many1",this.expecting=this.source.expecting}_apply(e){let{position:n}=e;const r=[];let i=0;for(;this.source.apply(e),!(!e.isOk||i>=this._maxIterations);)this._maxIterations===1/0&&e.position===n&&Qee.Issues.guardAgainstInfiniteLoop(this.type),n=e.position,r.push(e.value),i++;if(!e.atLeast(Tv.ResultKind.HardFail)){if(i===0){e.kind=Tv.ResultKind.SoftFail,e.reason="expected at least one match";return}e.value=r,e.position=n,e.kind=Tv.ResultKind.Ok}}}function qee(t=1/0){return e=>new Wee((0,Gee.wrapImplicit)(e),t)}_y.many1=qee;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.mapConst=void 0;const Kee=zs;function Jee(t){return(0,Kee.map)(()=>t)}Ty.mapConst=Jee;var Py={};Object.defineProperty(Py,"__esModule",{value:!0});Py.maybe=void 0;const Yee=bt,Zee=Je,Xee=vt();class ete extends Yee.Combinated{constructor(e,n){super(e),this._val=n,this.type="maybe",this.expecting="expecting anything"}_apply(e){this.source.apply(e),e.isSoft&&(e.value=this._val,e.kind=Zee.ResultKind.Ok)}}function tte(t){return e=>new ete((0,Xee.wrapImplicit)(e),t)}Py.maybe=tte;var jy={};Object.defineProperty(jy,"__esModule",{value:!0});jy.must=void 0;const nte=bt,rte=vt();class ite extends nte.Combinated{constructor(e,n){super(e),this._predicate=n,this.type="must",this.expecting=`internal parser ${this.source.type} yielding a result satisfying condition`}_apply(e){if(this.source.apply(e),!e.isOk)return;const n=this._predicate(e.value,e.userState);n!==!0&&(e.kind=n.kind||"Soft",e.reason=n.reason||"failed to fulfill a predicate")}}function ste(t){return e=>new ite((0,rte.wrapImplicit)(e),t)}jy.must=ste;var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.mustCapture=void 0;const ute=Kt,ate=bt,ote=vt(),lte={reason:"succeeded without capturing input",kind:"Hard"};class cte extends ate.Combinated{constructor(e,n){super(e),this._failure=n,this.type="mustCapture",this.expecting=`expecting internal parser ${this.source.type} to consume input`}_apply(e){const{position:n}=e;this.source.apply(e),e.isOk&&n===e.position&&(e.kind=this._failure.kind,e.reason=this._failure.reason)}}function fte(t){const e=(0,ute.defaults)(t,lte);return n=>new cte((0,ote.wrapImplicit)(n),e)}Iy.mustCapture=fte;var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.not=void 0;const dte=bt,pp=Je,hte=vt();class pte extends dte.Combinated{constructor(){super(...arguments),this.type="not",this.expecting=`not expecting: ${this.source.expecting}`}_apply(e){const{position:n}=e;if(this.source.apply(e),e.isOk)e.position=n,e.kind=pp.ResultKind.SoftFail;else if(e.kind===pp.ResultKind.HardFail||e.kind===pp.ResultKind.SoftFail){e.kind=pp.ResultKind.Ok,e.position=n;return}}}function mte(){return t=>new pte((0,hte.wrapImplicit)(t))}Ry.not=mte;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});Ly.or=void 0;const gte=bt,yte=Je,_S=vt();class vte extends gte.Combinated{constructor(e,n){super(e),this._alts=n,this.type="or",this._altNames=[this.source,...this._alts].map(r=>`'${r.expecting}' (${r.type})`),this.expecting=`expecting one of: ${this._altNames.join(", ")}`}_apply(e){const{position:n}=e,r=[this.source,...this._alts],i=r.map(s=>s.expecting);for(let s=0;s<r.length;s++){if(r[s].apply(e),e.isOk)return;if(e.isSoft)e.position=n,i[s]=e.reason;else return}e.reason=i.join(" OR "),e.kind=yte.ResultKind.SoftFail}}function bte(...t){const e=t.map(_S.wrapImplicit);return n=>new vte((0,_S.wrapImplicit)(n),e)}Ly.or=bte;var My={};Object.defineProperty(My,"__esModule",{value:!0});My.reason=void 0;const Ate=bt,wte=vt();class Ete extends Ate.Combinated{constructor(e,n){super(e),this.messageOrFunction=n,this.type="expects",this.expecting=typeof this.messageOrFunction=="string"?this.messageOrFunction:"<dynamic>"}_apply(e){const{position:n}=e,{messageOrFunction:r}=this;if(this.source.apply(e),e.kind!=="OK"){e.reason=typeof r=="string"?r:r({kind:e.kind,reason:e.reason});return}e.position=n}}function xte(t){return e=>new Ete((0,wte.wrapImplicit)(e),t)}My.reason=xte;var $y={};Object.defineProperty($y,"__esModule",{value:!0});$y.recover=void 0;const Fte=bt,Cte=vt();class Dte extends Fte.Combinated{constructor(e,n){super(e),this.recoverFunction=n,this.type="recover",this.expecting=this.source.expecting}_apply(e){if(this.source.apply(e),e.isOk||e.isFatal)return;const n=this.recoverFunction({userState:e.userState,kind:e.kind,reason:e.reason});n&&(e.kind=n.kind||e.kind,n.kind==="OK"?e.value=n.value:e.reason=n.reason||e.reason)}}function kte(t){return e=>new Dte((0,Cte.wrapImplicit)(e),t)}$y.recover=kte;var Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.replaceState=void 0;const TS=Kt,Ste=bt,PS=Lt(),Bte=vt();class Ote extends Ste.Combinated{constructor(e,n){super(e),this.innerStateOrCtor=n,this.type="replaceState",this.expecting=this.source.expecting}_apply(e){const n=e.userState,{innerStateOrCtor:r,source:i}=this;typeof r=="function"?e.userState=(0,TS.defaults)(new PS.ParserUserState,r(n)):e.userState=(0,TS.defaults)(new PS.ParserUserState,r),i.apply(e),e.userState=n}}function Nte(t){return e=>new Ote((0,Bte.wrapImplicit)(e),t)}Uy.replaceState=Nte;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.stringify=void 0;const _te=bt,Tte=Oo,Pte=vt();class jte extends _te.Combinated{constructor(){super(...arguments),this.type="stringify",this.expecting=this.source.expecting}_apply(e){if(this.source.apply(e),!e.isOk)return;const{value:n}=e,r=typeof n;r!=="string"&&(n==null?e.value=String(n):n instanceof Array?e.value=(0,Tte.recJoin)(n):r==="symbol"?e.value=String(n).slice(7,-1):e.value=n.toString())}}function Ite(){return t=>new jte((0,Pte.wrapImplicit)(t))}Vy.stringify=Ite;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.thenPick=void 0;const Rte=bt,qP=vt();class Lte extends Rte.Combinated{constructor(e,n){super(e),this._ctor=n,this.type="then-pick",this.expecting=`${this.source.expecting} then <dynamic>`}_apply(e){this.source.apply(e),!(!e.isOk||((0,qP.wrapImplicit)(this._ctor(e.value,e.userState)).apply(e),e.isOk))&&e.isSoft&&(e.kind="Hard")}}function Mte(t){return e=>new Lte((0,qP.wrapImplicit)(e),t)}Hy.thenPick=Mte;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.thenPick=t.thenq=t.then=t.qthen=t.stringify=t.replaceState=t.recover=t.reason=t.or=t.not=t.mustCapture=t.must=t.maybe=t.mapConst=t.map=t.many1=t.manyTill=t.manyBetween=t.manySepBy=t.many=t.later=t.flatten=t.exactly=t.each=t.pipe=t.defineCombinator=t.composeCombinator=t.between=t.backtrack=void 0;var e=Cy;Object.defineProperty(t,"backtrack",{enumerable:!0,get:function(){return e.backtrack}});var n=Dy;Object.defineProperty(t,"between",{enumerable:!0,get:function(){return n.between}});var r=Qr;Object.defineProperty(t,"composeCombinator",{enumerable:!0,get:function(){return r.composeCombinator}}),Object.defineProperty(t,"defineCombinator",{enumerable:!0,get:function(){return r.defineCombinator}}),Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return r.pipe}});var i=ky;Object.defineProperty(t,"each",{enumerable:!0,get:function(){return i.each}});var s=Sy;Object.defineProperty(t,"exactly",{enumerable:!0,get:function(){return s.exactly}});var u=By;Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return u.flatten}});var a=Oy;Object.defineProperty(t,"later",{enumerable:!0,get:function(){return a.later}});var o=Ny;Object.defineProperty(t,"many",{enumerable:!0,get:function(){return o.many}});var c=sf;Object.defineProperty(t,"manySepBy",{enumerable:!0,get:function(){return c.manySepBy}});var f=uf;Object.defineProperty(t,"manyBetween",{enumerable:!0,get:function(){return f.manyBetween}}),Object.defineProperty(t,"manyTill",{enumerable:!0,get:function(){return f.manyTill}});var d=_y;Object.defineProperty(t,"many1",{enumerable:!0,get:function(){return d.many1}});var h=zs;Object.defineProperty(t,"map",{enumerable:!0,get:function(){return h.map}});var p=Ty;Object.defineProperty(t,"mapConst",{enumerable:!0,get:function(){return p.mapConst}});var v=Py;Object.defineProperty(t,"maybe",{enumerable:!0,get:function(){return v.maybe}});var m=jy;Object.defineProperty(t,"must",{enumerable:!0,get:function(){return m.must}});var b=Iy;Object.defineProperty(t,"mustCapture",{enumerable:!0,get:function(){return b.mustCapture}});var g=Ry;Object.defineProperty(t,"not",{enumerable:!0,get:function(){return g.not}});var y=Ly;Object.defineProperty(t,"or",{enumerable:!0,get:function(){return y.or}});var A=My;Object.defineProperty(t,"reason",{enumerable:!0,get:function(){return A.reason}});var w=$y;Object.defineProperty(t,"recover",{enumerable:!0,get:function(){return w.recover}});var F=Uy;Object.defineProperty(t,"replaceState",{enumerable:!0,get:function(){return F.replaceState}});var k=Vy;Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return k.stringify}});var C=ns;Object.defineProperty(t,"qthen",{enumerable:!0,get:function(){return C.qthen}}),Object.defineProperty(t,"then",{enumerable:!0,get:function(){return C.then}}),Object.defineProperty(t,"thenq",{enumerable:!0,get:function(){return C.thenq}});var D=Hy;Object.defineProperty(t,"thenPick",{enumerable:!0,get:function(){return D.thenPick}})})(Fy);var KP={},zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.caseString=void 0;const $te=Lt(),Pv=Je;class Ute extends $te.ParjserBase{constructor(e){super(),this.str=e,this.expecting=`expecting '${this.str}' (case insensitive)`,this.type="string"}_apply(e){const{position:n,input:r}=e,{str:i}=this;if(n+i.length>r.length){e.kind=Pv.ResultKind.SoftFail;return}const s=r.slice(n,n+i.length);if(s.toLowerCase()!==i.toLowerCase()){e.kind=Pv.ResultKind.SoftFail;return}e.position+=i.length,e.value=s,e.kind=Pv.ResultKind.Ok}}function Vte(t){return new Ute(t)}zy.caseString=Vte;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.charCodeWhere=void 0;const Hte=Lt(),jS=Je;class zte extends Hte.ParjserBase{constructor(e){super(),this.predicate=e,this.type="charCodeWhere",this.expecting="expecting a character matching a predicate"}_apply(e){const{position:n,input:r}=e,i=this.predicate;if(n>=r.length){e.kind=jS.ResultKind.SoftFail,e.reason="expecting a character";return}const s=r.charCodeAt(n),u=i(s,e.userState);if(u!==!0){e.kind=u.kind||"Soft",e.reason=u.reason||"expecting a character matching a predicate";return}e.value=String.fromCharCode(s),e.position++,e.kind=jS.ResultKind.Ok}}function Qte(t){return new zte(t)}Qy.charCodeWhere=Qte;var Ne={},xe;(function(t){t.a=97,t.f=102,t.F=70,t.z=122,t.A=65,t.Z=90,t.zero=48,t.nine=57,t.newline=10,t.maxAscii=127,t.carriageReturn=13,t.space=32,t.tab=9,t.minus=45,t.plus=43,t.decimalPoint=46,t.e=t.a+4,t.E=t.A+4,t.underscore=95})(xe||(xe={}));function JP(t){return t>=xe.A&&t<=xe.F||t>=xe.a&&t<=xe.f||t>=xe.zero&&t<=xe.nine}function YP(t,e=10){let n=e-10;return n<=0?t>=xe.zero&&t<=xe.nine+n:t>=xe.zero&&t<=xe.nine||t>=xe.a&&t<xe.a+n}function ZP(t){return t>=xe.a&&t<=xe.z||t>=xe.A&&t<=xe.Z}function XP(t){return t>=xe.A&&t<=xe.Z}function ej(t){return t>=xe.a&&t<=xe.z}function tj(t){return t===xe.carriageReturn||t===xe.newline}function nj(t){return t===xe.space||t===xe.tab}function rj(t){return t>=xe.A&&t<=xe.Z||t>=xe.zero&&t<=xe.nine||t>=xe.a&&t<=xe.z||t===xe.underscore||t===xe.minus}function ij(t){return t>=0&&t<=xe.maxAscii}function Gte(t){return JP(t.charCodeAt(0))}function Wte(t,e=10){return YP(t.charCodeAt(0),e)}function qte(t){return ZP(t.charCodeAt(0))}function Kte(t){return XP(t.charCodeAt(0))}function Jte(t){return ej(t.charCodeAt(0))}function Yte(t){return tj(t.charCodeAt(0))}function Zte(t){return nj(t.charCodeAt(0))}function Xte(t){return rj(t.charCodeAt(0))}function ene(t){return ij(t.charCodeAt(0))}var Ef={},tne=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),a=Object.keys(n);if(u.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(n),c=0;c<u.length;c++){var f=u[c];if(!o(f))return!1;var d=e[f],h=n[f];if(s=r?r.call(i,d,h,f):void 0,s===!1||s===void 0&&d!==h)return!1}return!0};Object.defineProperty(Ef,"__esModule",{value:!0});var jv=tne;function Li(t){return t===void 0?-1:t.height}var yw=function(){function t(e,n){this.intervalTree=e,this.records=[],this.height=0,this.key=n.low,this.max=n.high,this.records.push(n)}return t.prototype.getNodeHigh=function(){for(var e=this.records[0].high,n=1;n<this.records.length;n++)this.records[n].high>e&&(e=this.records[n].high);return e},t.prototype.updateHeight=function(){this.height=Math.max(Li(this.left),Li(this.right))+1},t.prototype.updateMaxOfParents=function(){if(this!==void 0){var e=this.getNodeHigh();this.left!==void 0&&this.right!==void 0?this.max=Math.max(Math.max(this.left.max,this.right.max),e):this.left!==void 0&&this.right===void 0?this.max=Math.max(this.left.max,e):this.left===void 0&&this.right!==void 0?this.max=Math.max(this.right.max,e):this.max=e,this.parent&&this.parent.updateMaxOfParents()}},t.prototype._updateMaxAfterRightRotate=function(){var e=this.parent,n=e.left,r=n.getNodeHigh();n.left===void 0&&n.right!==void 0?n.max=Math.max(r,n.right.max):n.left!==void 0&&n.right===void 0?n.max=Math.max(r,n.left.max):n.left===void 0&&n.right===void 0?n.max=r:n.max=Math.max(Math.max(n.left.max,n.right.max),r);var i=this.getNodeHigh();this.left===void 0&&this.right!==void 0?this.max=Math.max(i,this.right.max):this.left!==void 0&&this.right===void 0?this.max=Math.max(i,this.left.max):this.left===void 0&&this.right===void 0?this.max=i:this.max=Math.max(Math.max(this.left.max,this.right.max),i),e.max=Math.max(Math.max(e.left.max,e.right.max),e.getNodeHigh())},t.prototype._updateMaxAfterLeftRotate=function(){var e=this.parent,n=e.right,r=n.getNodeHigh();n.left===void 0&&n.right!==void 0?n.max=Math.max(r,n.right.max):n.left!==void 0&&n.right===void 0?n.max=Math.max(r,n.left.max):n.left===void 0&&n.right===void 0?n.max=r:n.max=Math.max(Math.max(n.left.max,n.right.max),r);var i=this.getNodeHigh();this.left===void 0&&this.right!==void 0?this.max=Math.max(i,this.right.max):this.left!==void 0&&this.right===void 0?this.max=Math.max(i,this.left.max):this.left===void 0&&this.right===void 0?this.max=i:this.max=Math.max(Math.max(this.left.max,this.right.max),i),e.max=Math.max(Math.max(e.left.max,n.max),e.getNodeHigh())},t.prototype._leftRotate=function(){var e=this.right;e.parent=this.parent,e.parent===void 0?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.right=e.left,this.right!==void 0&&(this.right.parent=this),e.left=this,this.parent=e,this.updateHeight(),e.updateHeight()},t.prototype._rightRotate=function(){var e=this.left;e.parent=this.parent,e.parent===void 0?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.left=e.right,this.left!==void 0&&(this.left.parent=this),e.right=this,this.parent=e,this.updateHeight(),e.updateHeight()},t.prototype._rebalance=function(){if(Li(this.left)>=2+Li(this.right)){var e=this.left;Li(e.left)>=Li(e.right)?(this._rightRotate(),this._updateMaxAfterRightRotate()):(e._leftRotate(),this._rightRotate(),this._updateMaxAfterRightRotate())}else if(Li(this.right)>=2+Li(this.left)){var n=this.right;Li(n.right)>=Li(n.left)?(this._leftRotate(),this._updateMaxAfterLeftRotate()):(n._rightRotate(),this._leftRotate(),this._updateMaxAfterLeftRotate())}},t.prototype.insert=function(e){e.low<this.key?this.left===void 0?(this.left=new t(this.intervalTree,e),this.left.parent=this):this.left.insert(e):this.right===void 0?(this.right=new t(this.intervalTree,e),this.right.parent=this):this.right.insert(e),this.max<e.high&&(this.max=e.high),this.updateHeight(),this._rebalance()},t.prototype._getOverlappingRecords=function(e,n,r){if(e.key<=r&&n<=e.getNodeHigh()){for(var i=[],s=0;s<e.records.length;s++)e.records[s].high>=n&&i.push(e.records[s]);return i}return[]},t.prototype.search=function(e,n){if(this===void 0)return[];var r=[],i=[],s=[];return e>this.max?[]:(this.left!==void 0&&this.left.max>=e&&(r=this.left.search(e,n)),i=this._getOverlappingRecords(this,e,n),n<this.key?r.concat(i):(this.right!==void 0&&(s=this.right.search(e,n)),r.concat(i,s)))},t.prototype.searchExisting=function(e){if(this!==void 0){if(this.key===e)return this;if(e<this.key){if(this.left!==void 0)return this.left.searchExisting(e)}else if(this.right!==void 0)return this.right.searchExisting(e)}},t.prototype._minValue=function(){return this.left===void 0?this:this.left._minValue()},t.prototype.remove=function(e){var n=this.parent;if(e.key<this.key)return this.left!==void 0?this.left.remove(e):void 0;if(e.key>this.key)return this.right!==void 0?this.right.remove(e):void 0;if(this.left!==void 0&&this.right!==void 0){var r=this.right._minValue();return this.key=r.key,this.records=r.records,this.right.remove(this)}else{if(n.left===this)return this.right!==void 0?(n.left=this.right,this.right.parent=n):(n.left=this.left,this.left!==void 0&&(this.left.parent=n)),n.updateMaxOfParents(),n.updateHeight(),n._rebalance(),this;if(n.right===this)return this.right!==void 0?(n.right=this.right,this.right.parent=n):(n.right=this.left,this.left!==void 0&&(this.left.parent=n)),n.updateMaxOfParents(),n.updateHeight(),n._rebalance(),this}},t}();Ef.Node=yw;var sj=function(){function t(){this.count=0}return t.prototype.insert=function(e){if(e.low>e.high)throw new Error("`low` value must be lower or equal to `high` value");if(this.root===void 0)return this.root=new yw(this,e),this.count++,!0;var n=this.root.searchExisting(e.low);if(n!==void 0){for(var r=0;r<n.records.length;r++)if(jv(n.records[r],e))return!1;return n.records.push(e),e.high>n.max&&(n.max=e.high,n.parent&&n.parent.updateMaxOfParents()),this.count++,!0}else return this.root.insert(e),this.count++,!0},t.prototype.search=function(e,n){return this.root===void 0?[]:this.root.search(e,n)},t.prototype.remove=function(e){if(this.root===void 0)return!1;var n=this.root.searchExisting(e.low);if(n===void 0)return!1;if(n.records.length>1){for(var r=void 0,i=0;i<n.records.length;i++)if(jv(n.records[i],e)){r=n.records[i],n.records.splice(i,1);break}if(r){if(r=void 0,e.high===n.max){var s=n.getNodeHigh();n.left!==void 0&&n.right!==void 0?n.max=Math.max(Math.max(n.left.max,n.right.max),s):n.left!==void 0&&n.right===void 0?n.max=Math.max(n.left.max,s):n.left===void 0&&n.right!==void 0?n.max=Math.max(n.right.max,s):n.max=s,n.parent&&n.parent.updateMaxOfParents()}return this.count--,!0}else return!1}else if(n.records.length===1)if(jv(n.records[0],e))if(this.root.key===n.key){var u=new yw(this,{low:e.low,high:e.low});u.left=this.root,this.root.parent=u;var a=this.root.remove(n);return this.root=u.left,this.root!==void 0&&(this.root.parent=void 0),a?(a=void 0,this.count--,!0):!1}else{var a=this.root.remove(n);return a?(a=void 0,this.count--,!0):!1}else return!1;else return!1},t.prototype.inOrder=function(){return new Y2(this.root)},t.prototype.preOrder=function(){return new Z2(this.root)},t}();Ef.IntervalTree=sj;var nne=function(){function t(){this.tree=new sj}return t.prototype.insert=function(e,n,r){return this.tree.insert({low:e,high:n,data:r})},t.prototype.remove=function(e,n,r){return this.tree.remove({low:e,high:n,data:r})},t.prototype.search=function(e,n){return this.tree.search(e,n).map(function(r){return r.data})},t.prototype.inOrder=function(){return this.tree.inOrder()},t.prototype.preOrder=function(){return this.tree.preOrder()},Object.defineProperty(t.prototype,"count",{get:function(){return this.tree.count},enumerable:!0,configurable:!0}),t}(),Iv=Ef.default=nne,Y2=function(){function t(e){this.stack=[],e!==void 0&&this.push(e)}return t.prototype.next=function(){return this.currentNode===void 0?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(this.currentNode.right!==void 0?this.push(this.currentNode.right):this.pop(),this.next())},t.prototype.push=function(e){for(this.currentNode=e,this.i=0;this.currentNode.left!==void 0;)this.stack.push(this.currentNode),this.currentNode=this.currentNode.left},t.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},t}();Ef.InOrder=Y2;typeof Symbol=="function"&&(Y2.prototype[Symbol.iterator]=function(){return this});var Z2=function(){function t(e){this.stack=[],this.i=0,this.currentNode=e}return t.prototype.next=function(){return this.currentNode===void 0?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(this.currentNode.right!==void 0&&this.push(this.currentNode.right),this.currentNode.left!==void 0&&this.push(this.currentNode.left),this.pop(),this.next())},t.prototype.push=function(e){this.stack.push(e)},t.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},t}();Ef.PreOrder=Z2;typeof Symbol=="function"&&(Z2.prototype[Symbol.iterator]=function(){return this});const rne=[["AlphabeticPresentationForms","ﬀ-ﭏ"],["Arabic","؀-ۿ"],["ArabicExtendedA","ࢠ-ࣿ"],["ArabicPresentationFormsA","ﭐ-﷿"],["ArabicPresentationFormsB","ﹰ-\uFEFF"],["ArabicSupplement","ݐ-ݿ"],["Armenian","԰-֏"],["Arrows","←-⇿"],["Balinese","ᬀ-᭿"],["Bamum","ꚠ-꛿"],["BasicLatin","\0-"],["Batak","ᯀ-᯿"],["Bengali","ঀ-৿"],["BlockElements","▀-▟"],["Bopomofo","㄀-ㄯ"],["BopomofoExtended","ㆠ-ㆿ"],["BoxDrawing","─-╿"],["BraillePatterns","⠀-⣿"],["Buginese","ᨀ-᨟"],["Buhid","ᝀ-᝟"],["CJKCompatibility","㌀-㏿"],["CJKCompatibilityForms","︰-﹏"],["CJKCompatibilityIdeographs","豈-﫿"],["CJKRadicalsSupplement","⺀-⻿"],["CJKStrokes","㇀-㇯"],["CJKSymbolsandPunctuation","　-〿"],["CJKUnifiedIdeographs","一-鿿"],["CJKUnifiedIdeographsExtensionA","㐀-䶿"],["Cham","ꨀ-꩟"],["Cherokee","Ꭰ-᏿"],["CherokeeSupplement","ꭰ-ꮿ"],["CombiningDiacriticalMarks","̀-ͯ"],["CombiningDiacriticalMarksExtended","᪰-᫿"],["CombiningDiacriticalMarksSupplement","᷀-᷿"],["CombiningDiacriticalMarksforSymbols","⃐-⃿"],["CombiningHalfMarks","︠-︯"],["CommonIndicNumberForms","꠰-꠿"],["ControlPictures","␀-␿"],["Coptic","Ⲁ-⳿"],["CurrencySymbols","₠-⃏"],["Cyrillic","Ѐ-ӿ"],["CyrillicExtendedA","ⷠ-ⷿ"],["CyrillicExtendedB","Ꙁ-ꚟ"],["CyrillicExtendedC","ᲀ-᲏"],["CyrillicSupplement","Ԁ-ԯ"],["Devanagari","ऀ-ॿ"],["DevanagariExtended","꣠-ꣿ"],["Dingbats","✀-➿"],["EnclosedAlphanumerics","①-⓿"],["EnclosedCJKLettersandMonths","㈀-㋿"],["Ethiopic","ሀ-፿"],["EthiopicExtended","ⶀ-⷟"],["EthiopicExtendedA","꬀-꬯"],["EthiopicSupplement","ᎀ-᎟"],["GeneralPunctuation"," -⁯"],["GeometricShapes","■-◿"],["Georgian","Ⴀ-ჿ"],["GeorgianSupplement","ⴀ-⴯"],["Glagolitic","Ⰰ-ⱟ"],["GreekExtended","ἀ-῿"],["GreekandCoptic","Ͱ-Ͽ"],["Gujarati","઀-૿"],["Gurmukhi","਀-੿"],["HalfwidthandFullwidthForms","＀-￯"],["HangulCompatibilityJamo","㄰-㆏"],["HangulJamo","ᄀ-ᇿ"],["HangulJamoExtendedA","ꥠ-꥿"],["HangulJamoExtendedB","ힰ-퟿"],["HangulSyllables","가-힯"],["Hanunoo","ᜠ-᜿"],["Hebrew","֐-׿"],["HighPrivateUseSurrogates","\uDB80-\uDBFF"],["HighSurrogates","\uD800-\uDB7F"],["Hiragana","぀-ゟ"],["IPAExtensions","ɐ-ʯ"],["IdeographicDescriptionCharacters","⿰-⿿"],["Javanese","ꦀ-꧟"],["Kanbun","㆐-㆟"],["KangxiRadicals","⼀-⿟"],["Kannada","ಀ-೿"],["Katakana","゠-ヿ"],["KatakanaPhoneticExtensions","ㇰ-ㇿ"],["KayahLi","꤀-꤯"],["Khmer","ក-៿"],["KhmerSymbols","᧠-᧿"],["Lao","຀-໿"],["LatinExtendedAdditional","Ḁ-ỿ"],["LatinExtendedA","Ā-ſ"],["LatinExtendedB","ƀ-ɏ"],["LatinExtendedC","Ⱡ-Ɀ"],["LatinExtendedD","꜠-ꟿ"],["LatinExtendedE","ꬰ-꭯"],["Latin1Supplement","-ÿ"],["Lepcha","ᰀ-ᱏ"],["LetterlikeSymbols","℀-⅏"],["Limbu","ᤀ-᥏"],["Lisu","ꓐ-꓿"],["LowSurrogates","\uDC00-\uDFFF"],["Malayalam","ഀ-ൿ"],["Mandaic","ࡀ-࡟"],["MathematicalOperators","∀-⋿"],["MeeteiMayek","ꯀ-꯿"],["MeeteiMayekExtensions","ꫠ-꫿"],["MiscellaneousMathematicalSymbolsA","⟀-⟯"],["MiscellaneousMathematicalSymbolsB","⦀-⧿"],["MiscellaneousSymbols","☀-⛿"],["MiscellaneousSymbolsandArrows","⬀-⯿"],["MiscellaneousTechnical","⌀-⏿"],["ModifierToneLetters","꜀-ꜟ"],["Mongolian","᠀-᢯"],["Myanmar","က-႟"],["MyanmarExtendedA","ꩠ-ꩿ"],["MyanmarExtendedB","ꧠ-꧿"],["NKo","߀-߿"],["NewTaiLue","ᦀ-᧟"],["NumberForms","⅐-↏"],["Ogham"," -᚟"],["OlChiki","᱐-᱿"],["OpticalCharacterRecognition","⑀-⑟"],["Oriya","଀-୿"],["Phagspa","ꡀ-꡿"],["PhoneticExtensions","ᴀ-ᵿ"],["PhoneticExtensionsSupplement","ᶀ-ᶿ"],["PrivateUseArea","-"],["Rejang","ꤰ-꥟"],["Runic","ᚠ-᛿"],["Samaritan","ࠀ-࠿"],["Saurashtra","ꢀ-꣟"],["Sinhala","඀-෿"],["SmallFormVariants","﹐-﹯"],["SpacingModifierLetters","ʰ-˿"],["Specials","￰-￿"],["Sundanese","ᮀ-ᮿ"],["SundaneseSupplement","᳀-᳏"],["SuperscriptsandSubscripts","⁰-₟"],["SupplementalArrowsA","⟰-⟿"],["SupplementalArrowsB","⤀-⥿"],["SupplementalMathematicalOperators","⨀-⫿"],["SupplementalPunctuation","⸀-⹿"],["SylotiNagri","ꠀ-꠯"],["Syriac","܀-ݏ"],["Tagalog","ᜀ-ᜟ"],["Tagbanwa","ᝠ-᝿"],["TaiLe","ᥐ-᥿"],["TaiTham","ᨠ-᪯"],["TaiViet","ꪀ-꫟"],["Tamil","஀-௿"],["Telugu","ఀ-౿"],["Thaana","ހ-޿"],["Thai","฀-๿"],["Tibetan","ༀ-࿿"],["Tifinagh","ⴰ-⵿"],["UnifiedCanadianAboriginalSyllabics","᐀-ᙿ"],["UnifiedCanadianAboriginalSyllabicsExtended","ᢰ-᣿"],["Vai","ꔀ-꘿"],["VariationSelectors","︀-️"],["VedicExtensions","᳐-᳿"],["VerticalForms","︐-︟"],["YiRadicals","꒐-꓏"],["YiSyllables","ꀀ-꒏"],["YijingHexagramSymbols","䷀-䷿"]],ine=[[["C","Other"],"\0--­͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-؅؜؝۝܎܏݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵࢾ-࣓࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹅-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿"],[["Cc","Control"],"\0--"],[["Cf","Format"],"­؀-؅؜۝܏࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\uFEFF￹-￻"],[["Cn","Unassigned"],"͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-׿؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵࢾ-࣓঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹅-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿"],[["Co","PrivateUse"],"-"],[["Cs","Surrogate"],"\uD800-\uDFFF"],[["L","Letter"],"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"],[["Ll","LowercaseLetter"],"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ"],[["Lm","ModifierLetter"],"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ"],[["Lo","OtherLetter"],"ªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"],[["Lt","TitlecaseLetter"],"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"],[["Lu","UppercaseLetter"],"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶＡ-Ｚ"],[["M","Mark"],"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯"],[["Mc","SpacingMark"],"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬"],[["Me","EnclosingMark"],"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"],[["Mn","NonspacingMark"],"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯"],[["N","Number"],"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"],[["Nd","DecimalNumber"],"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"],[["Nl","LetterNumber"],"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ"],[["No","OtherNumber"],"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵"],[["P","Punctuation"],"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D\\x7B}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹄、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･"],[["Pc","ConnectorPunctuation"],"‿⁀⁔︳︴﹍-﹏＿"],[["Pd","DashPunctuation"],"\\x2D֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"],[["Pe","ClosePunctuation"],"\\x29\\x5D}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"],[["Pf","FinalPunctuation"],"»’”›⸃⸅⸊⸍⸝⸡"],[["Pi","InitialPunctuation"],"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"],[["Po","OtherPunctuation"],"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃⹄、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･"],[["Ps","OpenPunctuation"],"\\x28\\x5B\\x7B༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"],[["S","Symbol"],"\\x24\\x2B<->\\x5E`\\x7C~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₾℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-⏾␀-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�"],[["Sc","CurrencySymbol"],"\\x24¢-¥֏؋৲৳৻૱௹฿៛₠-₾꠸﷼﹩＄￠￡￥￦"],[["Sk","ModifierSymbol"],"\\x5E`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣"],[["Sm","MathSymbol"],"\\x2B<->\\x7C~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬"],[["So","OtherSymbol"],"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏾␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�"],[["Z","Separator"],"    - \u2028\u2029  　"],[["Zl","LineSeparator"],"\u2028"],[["Zp","ParagraphSeparator"],"\u2029"],[["Zs","SpaceSeparator"],"    -   　	"],[["_Zv","Custom_VerticalSeparator"],"\\x0A-\\x0D\\x85\\u2028-\\u2029"]],sne=[["Arabic","؀-؄؆-؋؍-ؚ؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࢶ-ࢽࣔ-ࣣ࣡-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ"],["Armenian","Ա-Ֆՙ-՟ա-և֊֍-֏ﬓ-ﬗ"],["Balinese","ᬀ-ᭋ᭐-᭼"],["Bamum","ꚠ-꛷"],["Batak","ᯀ-᯳᯼-᯿"],["Bengali","ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৻"],["Bopomofo","˪˫ㄅ-ㄭㆠ-ㆺ"],["Braille","⠀-⣿"],["Buginese","ᨀ-ᨛ᨞᨟"],["Buhid","ᝀ-ᝓ"],["CanadianAboriginal","᐀-ᙿᢰ-ᣵ"],["Cham","ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"],["Cherokee","Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"],["Common","\0-@\\x5B-`\\x7B-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؜؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₾℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-⏾␀-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⸀-⹄⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\uFEFF！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�"],["Coptic","Ϣ-ϯⲀ-ⳳ⳹-⳿"],["Cyrillic","Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"],["Devanagari","ऀ-ॐ॓-ॣ०-ॿ꣠-ꣽ"],["Ethiopic","ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"],["Georgian","Ⴀ-ჅჇჍა-ჺჼ-ჿⴀ-ⴥⴧⴭ"],["Glagolitic","Ⰰ-Ⱞⰰ-ⱞ"],["Greek","Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ"],["Gujarati","ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ"],["Gurmukhi","ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵ"],["Han","⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿕豈-舘並-龎"],["Hangul","ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"],["Hanunoo","ᜠ-᜴"],["Hebrew","֑-ׇא-תװ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"],["Hiragana","ぁ-ゖゝ-ゟ"],["Inherited","̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷻-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭"],["Javanese","ꦀ-꧍꧐-꧙꧞꧟"],["Kannada","ಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"],["Katakana","ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ"],["KayahLi","꤀-꤭꤯"],["Khmer","ក-៝០-៩៰-៹᧠-᧿"],["Lao","ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"],["Latin","A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞮꞰ-ꞷꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"],["Lepcha","ᰀ-᰷᰻-᱉ᱍ-ᱏ"],["Limbu","ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"],["Lisu","ꓐ-꓿"],["Malayalam","ഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"],["Mandaic","ࡀ-࡛࡞"],["MeeteiMayek","ꫠ-꫶ꯀ-꯭꯰-꯹"],["Mongolian","᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡷᢀ-ᢪ"],["Myanmar","က-႟ꧠ-ꧾꩠ-ꩿ"],["NewTaiLue","ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"],["Nko","߀-ߺ"],["Ogham"," -᚜"],["OlChiki","᱐-᱿"],["Oriya","ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"],["PhagsPa","ꡀ-꡷"],["Rejang","ꤰ-꥓꥟"],["Runic","ᚠ-ᛪᛮ-ᛸ"],["Samaritan","ࠀ-࠭࠰-࠾"],["Saurashtra","ꢀ-ꣅ꣎-꣙"],["Sinhala","ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴"],["Sundanese","ᮀ-ᮿ᳀-᳇"],["SylotiNagri","ꠀ-꠫"],["Syriac","܀-܍܏-݊ݍ-ݏ"],["Tagalog","ᜀ-ᜌᜎ-᜔"],["Tagbanwa","ᝠ-ᝬᝮ-ᝰᝲᝳ"],["TaiLe","ᥐ-ᥭᥰ-ᥴ"],["TaiTham","ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"],["TaiViet","ꪀ-ꫂꫛ-꫟"],["Tamil","ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"],["Telugu","ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"],["Thaana","ހ-ޱ"],["Thai","ก-ฺเ-๛"],["Tibetan","ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"],["Tifinagh","ⴰ-ⵧⵯ⵰⵿"],["Vai","ꔀ-ꘫ"],["Yi","ꀀ-ꒌ꒐-꓆"]];function mp(t){return t.toLowerCase().replace(/_/g,"")}const une=/(\\\w[0-9a-fA-F]+|[\s\S])(?:-(\\\w[0-9a-fA-F]+|[\s\S]))?/g;function IS(t){if(t.length===1)return t.charCodeAt(0);let e=t.slice(2);return Number.parseInt(e,16)}function ane(t){let e=[],n=null;for(;n=une.exec(t);)e.push([n[1],n[2]||n[1]]);let r=[];for(let i of e){let s=IS(i[0]),u=IS(i[1]);r.push({low:s,high:u})}return r.sort((i,s)=>i.low-s.low),r}function Rv(t){let e,n,r=t[0];return r.constructor===Array?(e=r[0],n=r[1]):e=r,{name:e,alias:n,intervals:ane(t[1]),get displayName(){return this.alias||this.name}}}function one(){let t={allBlocks:new Iv,allCategories:new Iv,allScripts:new Iv,blocks:new Map,categories:new Map,scripts:new Map,longCategoryToCode:new Map};for(let e of rne){let n=Rv(e);t.blocks.set(mp(n.name),n);for(let r of n.intervals)t.allBlocks.insert(r.low,r.high,n)}for(let e of ine){let n=Rv(e),r=mp(n.name);t.categories.set(r,n),t.longCategoryToCode.set(mp(n.alias),r);for(let i of n.intervals)t.allCategories.insert(i.low,i.high,n)}for(let e of sne){let n=Rv(e);t.scripts.set(mp(n.name),n);for(let r of n.intervals)t.allScripts.insert(r.low,r.high,n)}return t}const No=one();function lne(t){return function e(n,r,i){if(n>r)return!1;let s=n+r>>1,u=t[s];return u.low>i?e(n,s-1,i):u.high<i?e(s+1,r,i):!0}}class X2{constructor(e){this._group=e;let n=e.intervals;this._binarySearchInIntervals=lne(n),this.char=this.char.bind(this),this.code=this.code.bind(this)}code(e){let n=this._group.intervals;return this._binarySearchInIntervals(0,n.length-1,e)}char(e){return e===""?!1:(this._group.intervals,this.code(e.codePointAt(0)))}}var vw;(function(t){t.AlphabeticPresentationForms="AlphabeticPresentationForms",t.Arabic="Arabic",t.ArabicExtendedA="ArabicExtendedA",t.ArabicPresentationFormsA="ArabicPresentationFormsA",t.ArabicPresentationFormsB="ArabicPresentationFormsB",t.ArabicSupplement="ArabicSupplement",t.Armenian="Armenian",t.Arrows="Arrows",t.Balinese="Balinese",t.Bamum="Bamum",t.BasicLatin="BasicLatin",t.Batak="Batak",t.BlockElements="BlockElements",t.Bopomofo="Bopomofo",t.BopomofoExtended="BopomofoExtended",t.BoxDrawing="BoxDrawing",t.BraillePatterns="BraillePatterns",t.Buginese="Buginese",t.Buhid="Buhid",t.CJKCompatibility="CJKCompatibility",t.CJKCompatibilityForms="CJKCompatibilityForms",t.CJKCompatibilityIdeographs="CJKCompatibilityIdeographs",t.CJKRadicalsSupplement="CJKRadicalsSupplement",t.CJKStrokes="CJKStrokes",t.CJKSymbolsAndPunctuation="CJKSymbolsandPunctuation",t.CJKUnifiedIdeographs="CJKUnifiedIdeographs",t.CJKUnifiedIdeographsExtensionA="CJKUnifiedIdeographsExtensionA",t.Cham="Cham",t.Cherokee="Cherokee",t.CherokeeSupplement="CherokeeSupplement",t.CombiningDiacriticalMarks="CombiningDiacriticalMarks",t.CombiningDiacriticalMarksExtended="CombiningDiacriticalMarksExtended",t.CombiningDiacriticalMarksSupplement="CombiningDiacriticalMarksSupplement",t.CombiningDiacriticalMarksforSymbols="CombiningDiacriticalMarksforSymbols",t.CombiningHalfMarks="CombiningHalfMarks",t.CommonIndicNumberForms="CommonIndicNumberForms",t.ControlPictures="ControlPictures",t.Coptic="Coptic",t.CurrencySymbols="CurrencySymbols",t.Cyrillic="Cyrillic",t.CyrillicExtendedA="CyrillicExtendedA",t.CyrillicExtendedB="CyrillicExtendedB",t.CyrillicExtendedC="CyrillicExtendedC",t.CyrillicSupplement="CyrillicSupplement",t.Devanagari="Devanagari",t.DevanagariExtended="DevanagariExtended",t.Dingbats="Dingbats",t.EnclosedAlphanumerics="EnclosedAlphanumerics",t.EnclosedCJKLettersAndMonths="EnclosedCJKLettersandMonths",t.Ethiopic="Ethiopic",t.EthiopicExtended="EthiopicExtended",t.EthiopicExtendedA="EthiopicExtendedA",t.EthiopicSupplement="EthiopicSupplement",t.GeneralPunctuation="GeneralPunctuation",t.GeometricShapes="GeometricShapes",t.Georgian="Georgian",t.GeorgianSupplement="GeorgianSupplement",t.Glagolitic="Glagolitic",t.GreekExtended="GreekExtended",t.GreekAndCoptic="GreekandCoptic",t.Gujarati="Gujarati",t.Gurmukhi="Gurmukhi",t.HalfwidthAndFullwidthForms="HalfwidthandFullwidthForms",t.HangulCompatibilityJamo="HangulCompatibilityJamo",t.HangulJamo="HangulJamo",t.HangulJamoExtendedA="HangulJamoExtendedA",t.HangulJamoExtendedB="HangulJamoExtendedB",t.HangulSyllables="HangulSyllables",t.Hanunoo="Hanunoo",t.Hebrew="Hebrew",t.HighPrivateUseSurrogates="HighPrivateUseSurrogates",t.HighSurrogates="HighSurrogates",t.Hiragana="Hiragana",t.IPAExtensions="IPAExtensions",t.IdeographicDescriptionCharacters="IdeographicDescriptionCharacters",t.Javanese="Javanese",t.Kanbun="Kanbun",t.KangxiRadicals="KangxiRadicals",t.Kannada="Kannada",t.Katakana="Katakana",t.KatakanaPhoneticExtensions="KatakanaPhoneticExtensions",t.KayahLi="KayahLi",t.Khmer="Khmer",t.KhmerSymbols="KhmerSymbols",t.Lao="Lao",t.LatinExtendedAdditional="LatinExtendedAdditional",t.LatinExtendedA="LatinExtendedA",t.LatinExtendedB="LatinExtendedB",t.LatinExtendedC="LatinExtendedC",t.LatinExtendedD="LatinExtendedD",t.LatinExtendedE="LatinExtendedE",t.Latin1Supplement="Latin1Supplement",t.Lepcha="Lepcha",t.LetterlikeSymbols="LetterlikeSymbols",t.Limbu="Limbu",t.Lisu="Lisu",t.LowSurrogates="LowSurrogates",t.Malayalam="Malayalam",t.MAndaic="Mandaic",t.MathematicalOperators="MathematicalOperators",t.MeeteiMayek="MeeteiMayek",t.MeeteiMayekExtensions="MeeteiMayekExtensions",t.MiscellaneousMathematicalSymbolsA="MiscellaneousMathematicalSymbolsA",t.MiscellaneousMathematicalSymbolsB="MiscellaneousMathematicalSymbolsB",t.MiscellaneousSymbols="MiscellaneousSymbols",t.MiscellaneousSymbolsAndArrows="MiscellaneousSymbolsandArrows",t.MiscellaneousTechnical="MiscellaneousTechnical",t.ModifierToneLetters="ModifierToneLetters",t.Mongolian="Mongolian",t.Myanmar="Myanmar",t.MyanmarExtendedA="MyanmarExtendedA",t.MyanmarExtendedB="MyanmarExtendedB",t.NKo="NKo",t.NewTaiLue="NewTaiLue",t.NumberForms="NumberForms",t.Ogham="Ogham",t.OlChiki="OlChiki",t.OpticalCharacterRecognition="OpticalCharacterRecognition",t.Oriya="Oriya",t.Phagspa="Phagspa",t.PhoneticExtensions="PhoneticExtensions",t.PhoneticExtensionsSupplement="PhoneticExtensionsSupplement",t.PrivateUseArea="PrivateUseArea",t.Rejang="Rejang",t.Runic="Runic",t.Samaritan="Samaritan",t.Saurashtra="Saurashtra",t.Sinhala="Sinhala",t.SmallFormVariants="SmallFormVariants",t.SpacingModifierLetters="SpacingModifierLetters",t.Specials="Specials",t.Sundanese="Sundanese",t.SundaneseSupplement="SundaneseSupplement",t.SuperscriptsAndSubscripts="SuperscriptsandSubscripts",t.SupplementalArrowsA="SupplementalArrowsA",t.SupplementalArrowsB="SupplementalArrowsB",t.SupplementalMathematicalOperators="SupplementalMathematicalOperators",t.SupplementalPunctuation="SupplementalPunctuation",t.SylotiNagri="SylotiNagri",t.Syriac="Syriac",t.Tagalog="Tagalog",t.Tagbanwa="Tagbanwa",t.TaiLe="TaiLe",t.TaiTham="TaiTham",t.TaiViet="TaiViet",t.Tamil="Tamil",t.Telugu="Telugu",t.Thaana="Thaana",t.Thai="Thai",t.Tibetan="Tibetan",t.Tifinagh="Tifinagh",t.UnifiedCanadianAboriginalSyllabics="UnifiedCanadianAboriginalSyllabics",t.UnifiedCanadianAboriginalSyllabicsExtended="UnifiedCanadianAboriginalSyllabicsExtended",t.Vai="Vai",t.VariationSelectors="VariationSelectors",t.VedicExtensions="VedicExtensions",t.VerticalForms="VerticalForms",t.YiRadicals="YiRadicals",t.YiSyllables="YiSyllables",t.YijingHexagramSymbols="YijingHexagramSymbols"})(vw||(vw={}));var Qs;(function(t){t.Letter="L",t.LetterUppercase="Lu",t.LetterLowercase="Ll",t.LetterTitlecase="Lt",t.LetterModifier="Lm",t.LetterOther="Lo",t.MarkNonspacing="Mn",t.MarkSpacingCombining="Mc",t.MarkEncloding="Me",t.Mark="M",t.NumberDecimalDigit="Nd",t.NumberLetter="Nl",t.NumberOther="No",t.Number="N",t.PunctuationConnector="Pc",t.PunctuationDash="Pd",t.PuncutationOpen="Ps",t.PunctuationClose="Pe",t.PunctuationInitialQuote="Pi",t.PunctuationFinalQuote="Pf",t.PunctuationOther="Po",t.Punctuation="P",t.SymbolMath="Sm",t.SymbolCurrency="Sc",t.SymbolModifier="Sk",t.SymbolOther="So",t.Symbol="S",t.SeparatorSpace="Zs",t.SeparatorLine="Zl",t.SeparatorParagraph="Zp",t.Separator="Z",t.Custom_SeparatorVertical="_Zv",t.OtherControl="Cc",t.OtherFormat="Cf",t.OtherSurrogate="Cs",t.OtherPrivateUse="Co",t.OtherNotAssigned="Cn",t.Other="C"})(Qs||(Qs={}));var bw;(function(t){t.Arabic="Arabic",t.Armenian="Armenian",t.Balinese="Balinese",t.Bamum="Bamum",t.Batak="Batak",t.Bengali="Bengali",t.Bopomofo="Bopomofo",t.Braille="Braille",t.Buginese="Buginese",t.Buhid="Buhid",t.CanadianAboriginal="CanadianAboriginal",t.Cham="Cham",t.Cherokee="Cherokee",t.Common="Common",t.Coptic="Coptic",t.Cyrillic="Cyrillic",t.Devanagari="Devanagari",t.Ethiopic="Ethiopic",t.Georgian="Georgian",t.Glagolitic="Glagolitic",t.Greek="Greek",t.Gujarati="Gujarati",t.Gurmukhi="Gurmukhi",t.Han="Han",t.Hangul="Hangul",t.Hanunoo="Hanunoo",t.Hebrew="Hebrew",t.Hiragana="Hiragana",t.Inherited="Inherited",t.Javanese="Javanese",t.Kannada="Kannada",t.Katakana="Katakana",t.KayahLi="KayahLi",t.Khmer="Khmer",t.Lao="Lao",t.Latin="Latin",t.Lepcha="Lepcha",t.Limbu="Limbu",t.Lisu="Lisu",t.Malayalam="Malayalam",t.Mandaic="Mandaic",t.MeeteiMayek="MeeteiMayek",t.Mongolian="Mongolian",t.Myanmar="Myanmar",t.NewTaiLue="NewTaiLue",t.Nko="Nko",t.Ogham="Ogham",t.OlChiki="OlChiki",t.Oriya="Oriya",t.PhagsPa="PhagsPa",t.Rejang="Rejang",t.Runic="Runic",t.Samaritan="Samaritan",t.Saurashtra="Saurashtra",t.Sinhala="Sinhala",t.Sundanese="Sundanese",t.SylotiNagri="SylotiNagri",t.Syriac="Syriac",t.Tagalog="Tagalog",t.Tagbanwa="Tagbanwa",t.TaiLe="TaiLe",t.TaiTham="TaiTham",t.TaiViet="TaiViet",t.Tamil="Tamil",t.Telugu="Telugu",t.Thaana="Thaana",t.Thai="Thai",t.Tibetan="Tibetan",t.Tifinagh="Tifinagh",t.Vai="Vai",t.Yi="Yi"})(bw||(bw={}));function ex(t){return t.toLowerCase().replace(/[_ -,]/g,"")}function Vo(t){t=ex(t),t.length>3&&(t=No.longCategoryToCode.get(t));let e=No.categories.get(t);return new X2(e)}function cne(t){t=ex(t);let e=No.scripts.get(t);return new X2(e)}function fne(t){t=ex(t);let e=No.blocks.get(t);return new X2(e)}const dne=Vo(Qs.NumberDecimalDigit),hne=Vo(Qs.Letter),pne=Vo(Qs.LetterLowercase),mne=Vo(Qs.LetterUppercase),gne=Vo(Qs.SeparatorSpace),yne=Vo(Qs.Custom_SeparatorVertical),uj={code(t){return No.allCategories.search(t,t)},char(t){return uj.code(t.charCodeAt(0))}},aj={code(t){return No.allScripts.search(t,t)},char(t){return aj.code(t.charCodeAt(0))}},oj={code(t){return No.allBlocks.search(t,t)[0]},char(t){return oj.code(t.charCodeAt(0))}},vne=Object.freeze(Object.defineProperty({__proto__:null,get AsciiCodes(){return xe},get UnicodeBlock(){return vw},get UnicodeCategory(){return Qs},get UnicodeScript(){return bw},isAscii:ene,isAsciiCode:ij,isDigit:Wte,isDigitCode:YP,isHex:Gte,isHexCode:JP,isLetter:qte,isLetterCode:ZP,isLower:Jte,isLowerCode:ej,isNewline:Yte,isNewlineCode:tj,isSpace:Zte,isSpaceCode:nj,isUpper:Kte,isUpperCode:XP,isWordChar:Xte,isWordCharCode:rj,uniGetBlock:oj,uniGetCategories:uj,uniGetScripts:aj,uniInBlock:fne,uniInCategory:Vo,uniInScript:cne,uniIsDecimal:dne,uniIsLetter:hne,uniIsLower:pne,uniIsNewline:yne,uniIsSpace:gne,uniIsUpper:mne},Symbol.toStringTag,{value:"Module"})),lj=r3(vne);var w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.charWhere=void 0;const bne=Lt(),RS=Je;class Ane extends bne.ParjserBase{constructor(e){super(),this.predicate=e,this.type="charWhere",this.expecting="expecting a character matching a predicate"}_apply(e){const{position:n,input:r}=e,i=this.predicate;if(n>=r.length){e.kind=RS.ResultKind.SoftFail,e.reason="expecting a character";return}const s=r[n],u=i(s,e.userState);if(u!==!0){e.reason=u.reason||this.expecting,e.kind=u.kind||"Soft";return}e.value=s,e.position++,e.kind=RS.ResultKind.Ok}}function wne(t){return new Ane(t)}w0.charWhere=wne;var E0={};Object.defineProperty(E0,"__esModule",{value:!0});E0.stringLen=void 0;const Ene=Lt(),LS=Je;class xne extends Ene.ParjserBase{constructor(e){super(),this.length=e,this.type="stringLen",this.expecting=`expecting ${this.length} characters`}_apply(e){const{position:n,input:r}=e,i=this.length;if(r.length<n+i){e.kind=LS.ResultKind.SoftFail;return}e.position+=i,e.value=r.substring(n,n+i),e.kind=LS.ResultKind.Ok}}function Fne(t){return new xne(t)}E0.stringLen=Fne;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.whitespace=Ne.uniLower=Ne.upper=Ne.lower=Ne.hex=Ne.uniUpper=Ne.uniDecimal=Ne.digit=Ne.uniLetter=Ne.letter=Ne.noCharOf=Ne.anyCharOf=Ne.spaces1=Ne.space=Ne.anyChar=void 0;const Jr=lj,_d=Fy,xr=w0,Cne=E0;function Dne(){return(0,Cne.stringLen)(1)}Ne.anyChar=Dne;function cj(){return(0,xr.charWhere)(t=>(0,Jr.isSpace)(t)||{reason:"expecting a space"})}Ne.space=cj;function kne(){return cj().pipe((0,_d.many)(),(0,_d.must)(t=>t.length>0||{kind:"Soft"}),(0,_d.stringify)())}Ne.spaces1=kne;function Sne(t){return(0,xr.charWhere)(e=>t.includes(e)||{reason:`any char of ${t}`})}Ne.anyCharOf=Sne;function Bne(t){return(0,xr.charWhere)(e=>!t.includes(e)||{reason:`no char of: ${t}`})}Ne.noCharOf=Bne;function One(){return(0,xr.charWhere)(t=>(0,Jr.isLetter)(t)||{reason:"expecting a letter"})}Ne.letter=One;function Nne(){return(0,xr.charWhere)(t=>Jr.uniIsLetter.char(t)||{reason:"expecting a Unicode letter"})}Ne.uniLetter=Nne;function _ne(t=10){return(0,xr.charWhere)(e=>(0,Jr.isDigit)(e,t)||{reason:`expecting a digit in base ${t}`})}Ne.digit=_ne;function Tne(){return(0,xr.charWhere)(t=>Jr.uniIsDecimal.char(t)||{reason:"expecting a Unicode decimal digit"})}Ne.uniDecimal=Tne;function Pne(){return(0,xr.charWhere)(t=>Jr.uniIsUpper.char(t)||{reason:"expecting a Unicode upper-case letter"})}Ne.uniUpper=Pne;function jne(){return(0,xr.charWhere)(t=>(0,Jr.isHex)(t)||{reason:"expecting a hex digit"})}Ne.hex=jne;function Ine(){return(0,xr.charWhere)(t=>(0,Jr.isLower)(t)||{reason:"expecting a lowercase letter"})}Ne.lower=Ine;function Rne(){return(0,xr.charWhere)(t=>(0,Jr.isUpper)(t)||{reason:"expecting an uppercase letter"})}Ne.upper=Rne;function Lne(){return(0,xr.charWhere)(t=>Jr.uniIsLower.char(t)||{reason:"expecting a Unicode lowercase letter"})}Ne.uniLower=Lne;function Mne(){return(0,xr.charWhere)(t=>(0,Jr.isSpace)(t)||(0,Jr.isNewline)(t)||{reason:"expecting a whitespaced character"}).pipe((0,_d.many)(),(0,_d.stringify)())}Ne.whitespace=Mne;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.eof=void 0;const $ne=Lt(),MS=Je;class Une extends $ne.ParjserBase{constructor(e){super(),this.result=e,this.type="eof",this.expecting="expecting end of input"}_apply(e){e.position===e.input.length?(e.kind=MS.ResultKind.Ok,e.value=this.result):e.kind=MS.ResultKind.SoftFail}}function Vne(t){return new Une(t)}Gy.eof=Vne;var af={};Object.defineProperty(af,"__esModule",{value:!0});af.fail=af.nope=void 0;const Hne=Kt,zne=Lt(),Qne={kind:"Hard",reason:"User initiated failure."};function Gne(t){return fj({kind:"Soft",reason:t})}af.nope=Gne;class Wne extends zne.ParjserBase{constructor(e){super(),this.failure=e,this.type="fail",this.expecting=this.failure.reason}_apply(e){e.kind=this.failure.kind,e.reason=this.expecting}}function fj(t){const e=typeof t=="string"?{kind:"Hard",reason:t}:(0,Hne.defaults)(t,Qne);return new Wne(e)}af.fail=fj;var Wy={},tx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e;(function(w){w.a=97,w.f=102,w.F=70,w.z=122,w.A=65,w.Z=90,w.zero=48,w.nine=57,w.newline=10,w.maxAscii=127,w.carriageReturn=13,w.space=32,w.tab=9,w.minus=45,w.plus=43,w.decimalPoint=46,w.e=w.a+4,w.E=w.A+4,w.underscore=95})(e=t.AsciiCodes||(t.AsciiCodes={}));function n(w){return w>=e.A&&w<=e.F||w>=e.a&&w<=e.f||w>=e.zero&&w<=e.nine}t.isHexCode=n;function r(w,F=10){let k=F-10;return k<=0?w>=e.zero&&w<=e.nine+k:w>=e.zero&&w<=e.nine||w>=e.a&&w<e.a+k}t.isDigitCode=r;function i(w){return w>=e.a&&w<=e.z||w>=e.A&&w<=e.Z}t.isLetterCode=i;function s(w){return w>=e.A&&w<=e.Z}t.isUpperCode=s;function u(w){return w>=e.a&&w<=e.z}t.isLowerCode=u;function a(w){return w===e.carriageReturn||w===e.newline}t.isNewlineCode=a;function o(w){return w===e.space||w===e.tab}t.isSpaceCode=o;function c(w){return w>=e.A&&w<=e.Z||w>=e.zero&&w<=e.nine||w>=e.a&&w<=e.z||w===e.underscore||w===e.minus}t.isWordCharCode=c;function f(w){return w>=0&&w<=e.maxAscii}t.isAsciiCode=f;function d(w){return n(w.charCodeAt(0))}t.isHex=d;function h(w,F=10){return r(w.charCodeAt(0),F)}t.isDigit=h;function p(w){return i(w.charCodeAt(0))}t.isLetter=p;function v(w){return s(w.charCodeAt(0))}t.isUpper=v;function m(w){return u(w.charCodeAt(0))}t.isLower=m;function b(w){return a(w.charCodeAt(0))}t.isNewline=b;function g(w){return o(w.charCodeAt(0))}t.isSpace=g;function y(w){return c(w.charCodeAt(0))}t.isWordChar=y;function A(w){return f(w.charCodeAt(0))}t.isAscii=A})(tx);var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.NumericHelpers=_o.NumericHelpersType=void 0;const Lv=tx;class dj{parseDigitsInBase(e,n){let{position:r}=e;const{input:i}=e,s=i.length,u=0;for(;r<s;r++){const a=i.charCodeAt(r);if(!(0,Lv.isDigitCode)(a,n))break}return e.position=r,u}parseSign(e){let n=0;const r=e.input.charCodeAt(e.position);return r===Lv.AsciiCodes.minus?(n=-1,e.position++):r===Lv.AsciiCodes.plus&&(e.position++,n=1),n}}_o.NumericHelpersType=dj;_o.NumericHelpers=new dj;Object.defineProperty(Wy,"__esModule",{value:!0});Wy.float=void 0;const Mv=tx,Aa=Je,Yf=_o,qne=Kt,Kne=Lt(),$S={allowExponent:!0,allowSign:!0,allowImplicitZero:!0,allowFloatingPoint:!0},$v="one or more digits";class Jne extends Kne.ParjserBase{constructor(e){super(),this.options=e,this.type="float",this.expecting="expecting a floating-point number"}_apply(e){const{allowSign:n,allowFloatingPoint:r,allowImplicitZero:i,allowExponent:s}=this.options,{position:u,input:a}=e;if(u>=a.length){e.kind=Aa.ResultKind.SoftFail;return}const o=u;let c=1,f=!1,d=!1,h=!1;n&&(c=Yf.NumericHelpers.parseSign(e),c===0?c=1:f=!0);let p=e.position;Yf.NumericHelpers.parseDigitsInBase(e,10),d=e.position!==p;let v=a.charCodeAt(e.position);if(p=e.position,!i&&!d){e.kind=f?Aa.ResultKind.HardFail:Aa.ResultKind.SoftFail,e.reason=$v;return}e:{if(r&&v===Mv.AsciiCodes.decimalPoint){e.position++;const m=e.position;if(Yf.NumericHelpers.parseDigitsInBase(e,10),h=m!==e.position,!i&&!h)break e;v=a.charCodeAt(e.position),p=e.position}if(!d&&!h){e.kind=f?Aa.ResultKind.HardFail:Aa.ResultKind.SoftFail,e.reason=$v;return}if(s&&(v===Mv.AsciiCodes.e||v===Mv.AsciiCodes.E)){e.position++,Yf.NumericHelpers.parseSign(e);const m=e.position;if(Yf.NumericHelpers.parseDigitsInBase(e,10),e.position===m){e.kind=Aa.ResultKind.HardFail,e.reason=$v;return}}}e.kind=Aa.ResultKind.Ok,e.value=parseFloat(a.substring(o,e.position))}}function Yne(t=$S){return t=(0,qne.defaults)(t,$S),new Jne(t)}Wy.float=Yne;var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.int=void 0;const Zne=zr,Xne=Kt,ere=Lt(),Uv=Je,US=_o,tre={allowSign:!0,base:10};class nre extends ere.ParjserBase{constructor(e,n){super(),this.options=e,this.expecting=n,this.type="int"}_apply(e){const{allowSign:n,base:r}=this.options;let{position:i}=e;const{input:s}=e,u=e.position;let a=n?US.NumericHelpers.parseSign(e):0,o=!1;a!==0?o=!0:a=1,i=e.position,US.NumericHelpers.parseDigitsInBase(e,r);const c=parseInt(s.substring(u,e.position),r);e.position===i?e.kind=o?Uv.ResultKind.HardFail:Uv.ResultKind.SoftFail:(e.value=c,e.kind=Uv.ResultKind.Ok)}}function rre(t){const e=(0,Xne.defaults)(t,tre);if(e.base>36)throw new Zne.ParserDefinitionError("int","invalid base");const n=`expecting a ${e.allowSign?"signed":"unsigned"} integer in base ${e.base}`;return new nre(e,n)}qy.int=rre;var of={};Object.defineProperty(of,"__esModule",{value:!0});of.uniNewline=of.newline=void 0;const Aw=lj,ire=Lt(),gp=Je;class hj extends ire.ParjserBase{constructor(e){super(),this._unicodeRecognizer=e,this.type="newline",this.expecting="expecting newline"}_apply(e){var u;const{position:n,input:r}=e;if(n>=r.length){e.kind=gp.ResultKind.SoftFail;return}const i=r.slice(n,n+2);if(i===`\r
`){e.position+=2,e.value=i,e.kind=gp.ResultKind.Ok;return}const s=i.charCodeAt(0);if(s===Aw.AsciiCodes.newline||s===Aw.AsciiCodes.carriageReturn||(u=this._unicodeRecognizer)!=null&&u.call(this,s)){e.position++,e.value=i[0],e.kind=gp.ResultKind.Ok;return}e.kind=gp.ResultKind.SoftFail}}function sre(){return new hj}of.newline=sre;function ure(){return new hj(Aw.uniIsNewline.code)}of.uniNewline=ure;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.position=void 0;const are=Lt(),ore=Je;function lre(){return new class extends are.ParjserBase{constructor(){super(...arguments),this.type="position",this.expecting="anything"}_apply(e){e.value=e.position,e.kind=ore.ResultKind.Ok}}}Ky.position=lre;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.rest=void 0;const cre=Lt(),fre=Je;class dre extends cre.ParjserBase{constructor(){super(...arguments),this.type="rest",this.expecting="expecting anything"}_apply(e){const{position:n,input:r}=e,i=r.substring(Math.min(n,r.length));e.position=r.length,e.value=i,e.kind=fre.ResultKind.Ok}}function hre(){return new dre}Jy.rest=hre;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.result=void 0;const pre=Lt(),mre=Je;class gre extends pre.ParjserBase{constructor(e){super(),this.value=e,this.type="result",this.expecting="expecting anything"}_apply(e){e.value=this.value,e.kind=mre.ResultKind.Ok}}function yre(t){return new gre(t)}Yy.result=yre;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.state=void 0;const vre=Je,bre=Lt();class Are extends bre.ParjserBase{constructor(){super(...arguments),this.type="state",this.expecting="expecting anything"}_apply(e){e.value=e.userState,e.kind=vre.ResultKind.Ok}}function wre(){return new Are}Zy.state=wre;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.anyStringOf=void 0;const Ere=Lt(),VS=Je;class xre extends Ere.ParjserBase{constructor(e){super(),this.strs=e,this.type="anyStringOf",this.expecting=`expecting any of ${this.strs.map(n=>`'${n}'`).join(", ")}`}_apply(e){const{position:n,input:r}=e,{strs:i}=this;for(let s=0;s<i.length;s++){const u=i[s];if(r.length-n<u.length)continue;if(r.slice(n,n+u.length)===u){e.position=n+u.length,e.value=u,e.kind=VS.ResultKind.Ok;return}}e.kind=VS.ResultKind.SoftFail}}function Fre(...t){return new xre(t)}Xy.anyStringOf=Fre;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.anyStringOf=t.stringLen=t.state=t.result=t.rest=t.position=t.uniNewline=t.newline=t.int=t.float=t.nope=t.fail=t.eof=t.charWhere=t.whitespace=t.upper=t.uniUpper=t.uniLower=t.uniLetter=t.uniDecimal=t.spaces1=t.space=t.noCharOf=t.lower=t.letter=t.hex=t.digit=t.anyCharOf=t.anyChar=t.charCodeWhere=t.caseString=void 0;var e=zy;Object.defineProperty(t,"caseString",{enumerable:!0,get:function(){return e.caseString}});var n=Qy;Object.defineProperty(t,"charCodeWhere",{enumerable:!0,get:function(){return n.charCodeWhere}});var r=Ne;Object.defineProperty(t,"anyChar",{enumerable:!0,get:function(){return r.anyChar}}),Object.defineProperty(t,"anyCharOf",{enumerable:!0,get:function(){return r.anyCharOf}}),Object.defineProperty(t,"digit",{enumerable:!0,get:function(){return r.digit}}),Object.defineProperty(t,"hex",{enumerable:!0,get:function(){return r.hex}}),Object.defineProperty(t,"letter",{enumerable:!0,get:function(){return r.letter}}),Object.defineProperty(t,"lower",{enumerable:!0,get:function(){return r.lower}}),Object.defineProperty(t,"noCharOf",{enumerable:!0,get:function(){return r.noCharOf}}),Object.defineProperty(t,"space",{enumerable:!0,get:function(){return r.space}}),Object.defineProperty(t,"spaces1",{enumerable:!0,get:function(){return r.spaces1}}),Object.defineProperty(t,"uniDecimal",{enumerable:!0,get:function(){return r.uniDecimal}}),Object.defineProperty(t,"uniLetter",{enumerable:!0,get:function(){return r.uniLetter}}),Object.defineProperty(t,"uniLower",{enumerable:!0,get:function(){return r.uniLower}}),Object.defineProperty(t,"uniUpper",{enumerable:!0,get:function(){return r.uniUpper}}),Object.defineProperty(t,"upper",{enumerable:!0,get:function(){return r.upper}}),Object.defineProperty(t,"whitespace",{enumerable:!0,get:function(){return r.whitespace}});var i=w0;Object.defineProperty(t,"charWhere",{enumerable:!0,get:function(){return i.charWhere}});var s=Gy;Object.defineProperty(t,"eof",{enumerable:!0,get:function(){return s.eof}});var u=af;Object.defineProperty(t,"fail",{enumerable:!0,get:function(){return u.fail}}),Object.defineProperty(t,"nope",{enumerable:!0,get:function(){return u.nope}});var a=Wy;Object.defineProperty(t,"float",{enumerable:!0,get:function(){return a.float}});var o=qy;Object.defineProperty(t,"int",{enumerable:!0,get:function(){return o.int}});var c=of;Object.defineProperty(t,"newline",{enumerable:!0,get:function(){return c.newline}}),Object.defineProperty(t,"uniNewline",{enumerable:!0,get:function(){return c.uniNewline}});var f=Ky;Object.defineProperty(t,"position",{enumerable:!0,get:function(){return f.position}});var d=Jy;Object.defineProperty(t,"rest",{enumerable:!0,get:function(){return d.rest}});var h=Yy;Object.defineProperty(t,"result",{enumerable:!0,get:function(){return h.result}});var p=Zy;Object.defineProperty(t,"state",{enumerable:!0,get:function(){return p.state}});var v=E0;Object.defineProperty(t,"stringLen",{enumerable:!0,get:function(){return v.stringLen}});var m=Xy;Object.defineProperty(t,"anyStringOf",{enumerable:!0,get:function(){return m.anyStringOf}})})(KP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapImplicit=t.UNINITIALIZED_RESULT=t.FAIL_RESULT=t.BasicParsingState=t.ResultKind=t.ParjsSuccess=t.ParjsFailure=t.whitespace=t.upper=t.uniUpper=t.uniNewline=t.uniLower=t.uniLetter=t.uniDecimal=t.stringLen=t.state=t.spaces1=t.space=t.result=t.rest=t.position=t.nope=t.noCharOf=t.newline=t.lower=t.letter=t.int=t.hex=t.float=t.fail=t.eof=t.digit=t.charWhere=t.charCodeWhere=t.caseString=t.anyStringOf=t.anyCharOf=t.anyChar=t.string=t.regexp=t.defineCombinator=t.composeCombinator=t.ParserUserState=t.ParjserBase=void 0;var e=Lt();Object.defineProperty(t,"ParjserBase",{enumerable:!0,get:function(){return e.ParjserBase}}),Object.defineProperty(t,"ParserUserState",{enumerable:!0,get:function(){return e.ParserUserState}});var n=Fy;Object.defineProperty(t,"composeCombinator",{enumerable:!0,get:function(){return n.composeCombinator}}),Object.defineProperty(t,"defineCombinator",{enumerable:!0,get:function(){return n.defineCombinator}});var r=Lt();Object.defineProperty(t,"regexp",{enumerable:!0,get:function(){return r.regexp}}),Object.defineProperty(t,"string",{enumerable:!0,get:function(){return r.string}});var i=KP;Object.defineProperty(t,"anyChar",{enumerable:!0,get:function(){return i.anyChar}}),Object.defineProperty(t,"anyCharOf",{enumerable:!0,get:function(){return i.anyCharOf}}),Object.defineProperty(t,"anyStringOf",{enumerable:!0,get:function(){return i.anyStringOf}}),Object.defineProperty(t,"caseString",{enumerable:!0,get:function(){return i.caseString}}),Object.defineProperty(t,"charCodeWhere",{enumerable:!0,get:function(){return i.charCodeWhere}}),Object.defineProperty(t,"charWhere",{enumerable:!0,get:function(){return i.charWhere}}),Object.defineProperty(t,"digit",{enumerable:!0,get:function(){return i.digit}}),Object.defineProperty(t,"eof",{enumerable:!0,get:function(){return i.eof}}),Object.defineProperty(t,"fail",{enumerable:!0,get:function(){return i.fail}}),Object.defineProperty(t,"float",{enumerable:!0,get:function(){return i.float}}),Object.defineProperty(t,"hex",{enumerable:!0,get:function(){return i.hex}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return i.int}}),Object.defineProperty(t,"letter",{enumerable:!0,get:function(){return i.letter}}),Object.defineProperty(t,"lower",{enumerable:!0,get:function(){return i.lower}}),Object.defineProperty(t,"newline",{enumerable:!0,get:function(){return i.newline}}),Object.defineProperty(t,"noCharOf",{enumerable:!0,get:function(){return i.noCharOf}}),Object.defineProperty(t,"nope",{enumerable:!0,get:function(){return i.nope}}),Object.defineProperty(t,"position",{enumerable:!0,get:function(){return i.position}}),Object.defineProperty(t,"rest",{enumerable:!0,get:function(){return i.rest}}),Object.defineProperty(t,"result",{enumerable:!0,get:function(){return i.result}}),Object.defineProperty(t,"space",{enumerable:!0,get:function(){return i.space}}),Object.defineProperty(t,"spaces1",{enumerable:!0,get:function(){return i.spaces1}}),Object.defineProperty(t,"state",{enumerable:!0,get:function(){return i.state}}),Object.defineProperty(t,"stringLen",{enumerable:!0,get:function(){return i.stringLen}}),Object.defineProperty(t,"uniDecimal",{enumerable:!0,get:function(){return i.uniDecimal}}),Object.defineProperty(t,"uniLetter",{enumerable:!0,get:function(){return i.uniLetter}}),Object.defineProperty(t,"uniLower",{enumerable:!0,get:function(){return i.uniLower}}),Object.defineProperty(t,"uniNewline",{enumerable:!0,get:function(){return i.uniNewline}}),Object.defineProperty(t,"uniUpper",{enumerable:!0,get:function(){return i.uniUpper}}),Object.defineProperty(t,"upper",{enumerable:!0,get:function(){return i.upper}}),Object.defineProperty(t,"whitespace",{enumerable:!0,get:function(){return i.whitespace}});var s=Je;Object.defineProperty(t,"ParjsFailure",{enumerable:!0,get:function(){return s.ParjsFailure}}),Object.defineProperty(t,"ParjsSuccess",{enumerable:!0,get:function(){return s.ParjsSuccess}}),Object.defineProperty(t,"ResultKind",{enumerable:!0,get:function(){return s.ResultKind}});var u=Is;Object.defineProperty(t,"BasicParsingState",{enumerable:!0,get:function(){return u.BasicParsingState}}),Object.defineProperty(t,"FAIL_RESULT",{enumerable:!0,get:function(){return u.FAIL_RESULT}}),Object.defineProperty(t,"UNINITIALIZED_RESULT",{enumerable:!0,get:function(){return u.UNINITIALIZED_RESULT}});var a=vt();Object.defineProperty(t,"wrapImplicit",{enumerable:!0,get:function(){return a.wrapImplicit}})})(IP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.whitespace=t.upper=t.uniUpper=t.uniNewline=t.uniLower=t.uniLetter=t.uniDecimal=t.stringLen=t.string=t.state=t.spaces1=t.space=t.result=t.rest=t.regexp=t.position=t.nope=t.noCharOf=t.newline=t.lower=t.letter=t.int=t.hex=t.float=t.fail=t.eof=t.digit=t.charWhere=t.charCodeWhere=t.caseString=t.anyStringOf=t.anyCharOf=t.anyChar=t.ResultKind=t.ParjsSuccess=t.ParjsFailure=t.ParserDefinitionError=t.ParjsParsingFailure=t.ParjsError=void 0;var e=zr;Object.defineProperty(t,"ParjsError",{enumerable:!0,get:function(){return e.ParjsError}}),Object.defineProperty(t,"ParjsParsingFailure",{enumerable:!0,get:function(){return e.ParjsParsingFailure}}),Object.defineProperty(t,"ParserDefinitionError",{enumerable:!0,get:function(){return e.ParserDefinitionError}});var n=IP;Object.defineProperty(t,"ParjsFailure",{enumerable:!0,get:function(){return n.ParjsFailure}}),Object.defineProperty(t,"ParjsSuccess",{enumerable:!0,get:function(){return n.ParjsSuccess}}),Object.defineProperty(t,"ResultKind",{enumerable:!0,get:function(){return n.ResultKind}}),Object.defineProperty(t,"anyChar",{enumerable:!0,get:function(){return n.anyChar}}),Object.defineProperty(t,"anyCharOf",{enumerable:!0,get:function(){return n.anyCharOf}}),Object.defineProperty(t,"anyStringOf",{enumerable:!0,get:function(){return n.anyStringOf}}),Object.defineProperty(t,"caseString",{enumerable:!0,get:function(){return n.caseString}}),Object.defineProperty(t,"charCodeWhere",{enumerable:!0,get:function(){return n.charCodeWhere}}),Object.defineProperty(t,"charWhere",{enumerable:!0,get:function(){return n.charWhere}}),Object.defineProperty(t,"digit",{enumerable:!0,get:function(){return n.digit}}),Object.defineProperty(t,"eof",{enumerable:!0,get:function(){return n.eof}}),Object.defineProperty(t,"fail",{enumerable:!0,get:function(){return n.fail}}),Object.defineProperty(t,"float",{enumerable:!0,get:function(){return n.float}}),Object.defineProperty(t,"hex",{enumerable:!0,get:function(){return n.hex}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return n.int}}),Object.defineProperty(t,"letter",{enumerable:!0,get:function(){return n.letter}}),Object.defineProperty(t,"lower",{enumerable:!0,get:function(){return n.lower}}),Object.defineProperty(t,"newline",{enumerable:!0,get:function(){return n.newline}}),Object.defineProperty(t,"noCharOf",{enumerable:!0,get:function(){return n.noCharOf}}),Object.defineProperty(t,"nope",{enumerable:!0,get:function(){return n.nope}}),Object.defineProperty(t,"position",{enumerable:!0,get:function(){return n.position}}),Object.defineProperty(t,"regexp",{enumerable:!0,get:function(){return n.regexp}}),Object.defineProperty(t,"rest",{enumerable:!0,get:function(){return n.rest}}),Object.defineProperty(t,"result",{enumerable:!0,get:function(){return n.result}}),Object.defineProperty(t,"space",{enumerable:!0,get:function(){return n.space}}),Object.defineProperty(t,"spaces1",{enumerable:!0,get:function(){return n.spaces1}}),Object.defineProperty(t,"state",{enumerable:!0,get:function(){return n.state}}),Object.defineProperty(t,"string",{enumerable:!0,get:function(){return n.string}}),Object.defineProperty(t,"stringLen",{enumerable:!0,get:function(){return n.stringLen}}),Object.defineProperty(t,"uniDecimal",{enumerable:!0,get:function(){return n.uniDecimal}}),Object.defineProperty(t,"uniLetter",{enumerable:!0,get:function(){return n.uniLetter}}),Object.defineProperty(t,"uniLower",{enumerable:!0,get:function(){return n.uniLower}}),Object.defineProperty(t,"uniNewline",{enumerable:!0,get:function(){return n.uniNewline}}),Object.defineProperty(t,"uniUpper",{enumerable:!0,get:function(){return n.uniUpper}}),Object.defineProperty(t,"upper",{enumerable:!0,get:function(){return n.upper}}),Object.defineProperty(t,"whitespace",{enumerable:!0,get:function(){return n.whitespace}})})(q2);var st={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.thenq=t.thenPick=t.then=t.stringify=t.replaceState=t.recover=t.reason=t.qthen=t.pipe=t.or=t.not=t.mustCapture=t.must=t.maybe=t.mapConst=t.map=t.manyTill=t.manySepBy=t.manyBetween=t.many=t.later=t.flatten=t.exactly=t.each=t.between=t.backtrack=void 0;var e=Fy;Object.defineProperty(t,"backtrack",{enumerable:!0,get:function(){return e.backtrack}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return e.between}}),Object.defineProperty(t,"each",{enumerable:!0,get:function(){return e.each}}),Object.defineProperty(t,"exactly",{enumerable:!0,get:function(){return e.exactly}}),Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return e.flatten}}),Object.defineProperty(t,"later",{enumerable:!0,get:function(){return e.later}}),Object.defineProperty(t,"many",{enumerable:!0,get:function(){return e.many}}),Object.defineProperty(t,"manyBetween",{enumerable:!0,get:function(){return e.manyBetween}}),Object.defineProperty(t,"manySepBy",{enumerable:!0,get:function(){return e.manySepBy}}),Object.defineProperty(t,"manyTill",{enumerable:!0,get:function(){return e.manyTill}}),Object.defineProperty(t,"map",{enumerable:!0,get:function(){return e.map}}),Object.defineProperty(t,"mapConst",{enumerable:!0,get:function(){return e.mapConst}}),Object.defineProperty(t,"maybe",{enumerable:!0,get:function(){return e.maybe}}),Object.defineProperty(t,"must",{enumerable:!0,get:function(){return e.must}}),Object.defineProperty(t,"mustCapture",{enumerable:!0,get:function(){return e.mustCapture}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return e.not}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return e.or}}),Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return e.pipe}}),Object.defineProperty(t,"qthen",{enumerable:!0,get:function(){return e.qthen}}),Object.defineProperty(t,"reason",{enumerable:!0,get:function(){return e.reason}}),Object.defineProperty(t,"recover",{enumerable:!0,get:function(){return e.recover}}),Object.defineProperty(t,"replaceState",{enumerable:!0,get:function(){return e.replaceState}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(t,"then",{enumerable:!0,get:function(){return e.then}}),Object.defineProperty(t,"thenPick",{enumerable:!0,get:function(){return e.thenPick}}),Object.defineProperty(t,"thenq",{enumerable:!0,get:function(){return e.thenq}})})(st);var Cre=0;function pj(t){var e=++Cre;return rf(t)+e}const Yr=q2.regexp.bind({});function x0(t,...e){return st.or(...e)(t)}function nx(t){const e=[];if(t.length===0)return t;let n=t[0];for(let r=1;r<t.length;r++){const i=t[r];n.type==="text"&&i.type==="text"?(n.value+=i.value,n.key+=i.key):(e.push(n),n=t[r])}return e.push(n),e}const Dre=Yr(/.[^[\n>hfQ]*/g).pipe(st.map(t=>({type:"text",key:t[0],value:t[0]}))),mj=Yr(/(Qm[1-9A-Za-z]{44})/).pipe(st.map(t=>({type:"ipfs",key:t[0],hash:t[0]}))),gj=q2.string(`
`).pipe(st.map(()=>({type:"newline",key:""}))),kre=Yr(/>>(0[xX][0-9a-fA-F]+)/).pipe(st.map(t=>({type:"ref",key:t[1],id:t[1]}))),Sre=Yr(/(0[xX][0-9a-fA-F]+)/).pipe(st.map(t=>({type:"txhashref",key:t[1],id:t[1]}))),Bre=Yr(/>>(?:(0[xX][0-9a-fA-F]+)\/)?(\d+)/).pipe(st.map(t=>({type:"postref",key:`${t[1]}/${t[2]}`,id:t[1],n:t[2]}))),Ore=Yr(/>>(\/[a-zA-Z]+\/)(0[xX][0-9a-fA-F]+(?:\/\d+)?)?/).pipe(st.map(t=>({type:"boardref",key:`${t[1]}${t[2]}`,board:t[1],id:t[2]}))),rx=x0(Sre,Ore,Bre,kre),yj=Yr(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/i).pipe(st.map(t=>({type:"link",key:t[0],value:t[0]}))),vj=st.later(),bj=vj.pipe(st.many(),st.between("[spoiler]","[/spoiler]"),st.map(t=>{const e=nx(t);for(let n=0;n<e.length;n++)e[n].key+=` ${n}`;return{type:"spoiler",key:pj("spoiler_"),value:e}})),Nre=Yr(/[^[][^[\n>hfQ]*/g).pipe(st.map(t=>({type:"text",key:t[0],value:t[0]}))),Aj=Yr(/((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(-nocookie)?\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?/g).pipe(st.map(t=>({type:"youtubelink",key:t[6],id:t[6],url:t[0]}))),wj=Yr(/https?:\/\/(www\.)?soundcloud\.com\/.+\w/g).pipe(st.map(t=>({type:"soundcloudlink",key:t[6],id:t[6],url:t[0]})));vj.init(x0(rx,bj,yj,mj,gj,Nre,Aj,wj));const Ej=x0(bj,Aj,wj,yj,mj,Dre),_re=Yr(/^>/m).pipe(st.qthen(x0(rx,Ej).pipe(st.many())),st.thenq(Yr(/$/m).pipe(st.backtrack())),st.map(t=>{const e=nx(t);for(let n=0;n<e.length;n++)e[n].key+=` ${n}`;return{type:"textquote",key:pj("textquote_"),value:e}})),Tre=x0(rx,_re,gj,Ej).pipe(st.many(),st.map(t=>{const e=nx(t);for(let n=0;n<e.length;n++)e[n].key+=` ${n}`;return e})),Pre=t=>t===""?[]:Tre.parse(t).value,jre="modulepreload",Ire=function(t){return"/"+t},HS={},Gn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),a=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.all(n.map(o=>{if(o=Ire(o),o in HS)return;HS[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":jre,c||(h.as="script",h.crossOrigin=""),h.href=o,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s})};var Rre=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&Lre(s,n.attrs),n.text&&(s.text=""+n.text);var u="onload"in s?zS:Mre;u(s,r),s.onload||zS(s,r),i.appendChild(s)};function Lre(t,e){for(var n in e)t.setAttribute(n,e[n])}function zS(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Mre(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var $re=function(e){return Ure(e)&&!Vre(e)};function Ure(t){return!!t&&typeof t=="object"}function Vre(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Qre(t)}var Hre=typeof Symbol=="function"&&Symbol.for,zre=Hre?Symbol.for("react.element"):60103;function Qre(t){return t.$$typeof===zre}function Gre(t){return Array.isArray(t)?[]:{}}function wh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?lf(Gre(t),t,e):t}function Wre(t,e,n){return t.concat(e).map(function(r){return wh(r,n)})}function qre(t,e){if(!e.customMerge)return lf;var n=e.customMerge(t);return typeof n=="function"?n:lf}function Kre(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function QS(t){return Object.keys(t).concat(Kre(t))}function xj(t,e){try{return e in t}catch{return!1}}function Jre(t,e){return xj(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Yre(t,e,n){var r={};return n.isMergeableObject(t)&&QS(t).forEach(function(i){r[i]=wh(t[i],n)}),QS(e).forEach(function(i){Jre(t,i)||(xj(t,i)&&n.isMergeableObject(e[i])?r[i]=qre(i,n)(t[i],e[i],n):r[i]=wh(e[i],n))}),r}function lf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Wre,n.isMergeableObject=n.isMergeableObject||$re,n.cloneUnlessOtherwiseSpecified=wh;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Yre(t,e,n):wh(e,n)}lf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return lf(r,i,n)},{})};var Zre=lf,Fj=Zre,Xre=Object.create,e1=Object.defineProperty,eie=Object.getOwnPropertyDescriptor,tie=Object.getOwnPropertyNames,nie=Object.getPrototypeOf,rie=Object.prototype.hasOwnProperty,iie=(t,e)=>{for(var n in e)e1(t,n,{get:e[n],enumerable:!0})},Cj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tie(e))!rie.call(t,i)&&i!==n&&e1(t,i,{get:()=>e[i],enumerable:!(r=eie(e,i))||r.enumerable});return t},ix=(t,e,n)=>(n=t!=null?Xre(nie(t)):{},Cj(e||!t||!t.__esModule?e1(n,"default",{value:t,enumerable:!0}):n,t)),sie=t=>Cj(e1({},"__esModule",{value:!0}),t),Dj={};iie(Dj,{callPlayer:()=>wie,getConfig:()=>bie,getSDK:()=>vie,isBlobUrl:()=>xie,isMediaStream:()=>Eie,lazy:()=>lie,omit:()=>Aie,parseEndTime:()=>mie,parseStartTime:()=>pie,queryString:()=>yie,randomString:()=>gie,supportsWebKitPresentationMode:()=>Fie});var t1=sie(Dj),uie=ix(x),aie=ix(Rre),oie=ix(Fj);const lie=t=>uie.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),cie=/[?&#](?:start|t)=([0-9hms]+)/,fie=/[?&#]end=([0-9hms]+)/,ww=/(\d+)(h|m|s)/g,die=/^\d+$/;function kj(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(ww))return hie(r);if(die.test(r))return parseInt(r)}}function hie(t){let e=0,n=ww.exec(t);for(;n!==null;){const[,r,i]=n;i==="h"&&(e+=parseInt(r,10)*60*60),i==="m"&&(e+=parseInt(r,10)*60),i==="s"&&(e+=parseInt(r,10)),n=ww.exec(t)}return e}function pie(t){return kj(t,cie)}function mie(t){return kj(t,fie)}function gie(){return Math.random().toString(36).substr(2,5)}function yie(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function Vv(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const Zo={},vie=function(e,n,r=null,i=()=>!0,s=aie.default){const u=Vv(n);return u&&i(u)?Promise.resolve(u):new Promise((a,o)=>{if(Zo[e]){Zo[e].push({resolve:a,reject:o});return}Zo[e]=[{resolve:a,reject:o}];const c=f=>{Zo[e].forEach(d=>d.resolve(f))};if(r){const f=window[r];window[r]=function(){f&&f(),c(Vv(n))}}s(e,f=>{f?(Zo[e].forEach(d=>d.reject(f)),Zo[e]=null):r||c(Vv(n))})})};function bie(t,e){return(0,oie.default)(e.config,t.config)}function Aie(t,...e){const n=[].concat(...e),r={},i=Object.keys(t);for(const s of i)n.indexOf(s)===-1&&(r[s]=t[s]);return r}function wie(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function Eie(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function xie(t){return/^blob:/.test(t)}function Fie(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var sx=Object.defineProperty,Cie=Object.getOwnPropertyDescriptor,Die=Object.getOwnPropertyNames,kie=Object.prototype.hasOwnProperty,Sie=(t,e)=>{for(var n in e)sx(t,n,{get:e[n],enumerable:!0})},Bie=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Die(e))!kie.call(t,i)&&i!==n&&sx(t,i,{get:()=>e[i],enumerable:!(r=Cie(e,i))||r.enumerable});return t},Oie=t=>Bie(sx({},"__esModule",{value:!0}),t),Sj={};Sie(Sj,{AUDIO_EXTENSIONS:()=>ux,DASH_EXTENSIONS:()=>Vj,FLV_EXTENSIONS:()=>Hj,HLS_EXTENSIONS:()=>ox,MATCH_URL_DAILYMOTION:()=>Lj,MATCH_URL_FACEBOOK:()=>_j,MATCH_URL_FACEBOOK_WATCH:()=>Tj,MATCH_URL_KALTURA:()=>Uj,MATCH_URL_MIXCLOUD:()=>Mj,MATCH_URL_MUX:()=>Nj,MATCH_URL_SOUNDCLOUD:()=>Bj,MATCH_URL_STREAMABLE:()=>Pj,MATCH_URL_TWITCH_CHANNEL:()=>Rj,MATCH_URL_TWITCH_VIDEO:()=>Ij,MATCH_URL_VIDYARD:()=>$j,MATCH_URL_VIMEO:()=>Oj,MATCH_URL_WISTIA:()=>jj,MATCH_URL_YOUTUBE:()=>Ew,VIDEO_EXTENSIONS:()=>ax,canPlay:()=>_ie});var Nie=Oie(Sj),GS=t1;const Ew=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Bj=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Oj=/vimeo\.com\/(?!progressive_redirect).+/,Nj=/stream\.mux\.com\/(\w+)/,_j=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Tj=/^https?:\/\/fb\.watch\/.+$/,Pj=/streamable\.com\/([a-z0-9]+)$/,jj=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,Ij=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,Rj=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,Lj=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Mj=/mixcloud\.com\/([^/]+\/[^/]+)/,$j=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Uj=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,ux=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,ax=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,ox=/\.(m3u8)($|\?)/i,Vj=/\.(mpd)($|\?)/i,Hj=/\.(flv)($|\?)/i,xw=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&xw(e)||xw(e.src))return!0;return!1}return(0,GS.isMediaStream)(t)||(0,GS.isBlobUrl)(t)?!0:ux.test(t)||ax.test(t)||ox.test(t)||Vj.test(t)||Hj.test(t)},_ie={youtube:t=>t instanceof Array?t.every(e=>Ew.test(e)):Ew.test(t),soundcloud:t=>Bj.test(t)&&!ux.test(t),vimeo:t=>Oj.test(t)&&!ax.test(t)&&!ox.test(t),mux:t=>Nj.test(t),facebook:t=>_j.test(t)||Tj.test(t),streamable:t=>Pj.test(t),wistia:t=>jj.test(t),twitch:t=>Ij.test(t)||Rj.test(t),dailymotion:t=>Lj.test(t),mixcloud:t=>Mj.test(t),vidyard:t=>$j.test(t),kaltura:t=>Uj.test(t),file:xw};var lx=Object.defineProperty,Tie=Object.getOwnPropertyDescriptor,Pie=Object.getOwnPropertyNames,jie=Object.prototype.hasOwnProperty,Iie=(t,e)=>{for(var n in e)lx(t,n,{get:e[n],enumerable:!0})},Rie=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pie(e))!jie.call(t,i)&&i!==n&&lx(t,i,{get:()=>e[i],enumerable:!(r=Tie(e,i))||r.enumerable});return t},Lie=t=>Rie(lx({},"__esModule",{value:!0}),t),zj={};Iie(zj,{default:()=>$ie});var Mie=Lie(zj),zn=t1,Cn=Nie,$ie=[{key:"youtube",name:"YouTube",canPlay:Cn.canPlay.youtube,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./YouTube-BDOAdTOE.js").then(t=>t.Y),__vite__mapDeps([])))},{key:"soundcloud",name:"SoundCloud",canPlay:Cn.canPlay.soundcloud,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./SoundCloud-DS9pSo4v.js").then(t=>t.S),__vite__mapDeps([])))},{key:"vimeo",name:"Vimeo",canPlay:Cn.canPlay.vimeo,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Vimeo-e5ZRlA_7.js").then(t=>t.V),__vite__mapDeps([])))},{key:"mux",name:"Mux",canPlay:Cn.canPlay.mux,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Mux-hTt60daA.js").then(t=>t.M),__vite__mapDeps([])))},{key:"facebook",name:"Facebook",canPlay:Cn.canPlay.facebook,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Facebook-BiDP8JmU.js").then(t=>t.F),__vite__mapDeps([])))},{key:"streamable",name:"Streamable",canPlay:Cn.canPlay.streamable,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Streamable-DzPFBbkV.js").then(t=>t.S),__vite__mapDeps([])))},{key:"wistia",name:"Wistia",canPlay:Cn.canPlay.wistia,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Wistia-DdAddftf.js").then(t=>t.W),__vite__mapDeps([])))},{key:"twitch",name:"Twitch",canPlay:Cn.canPlay.twitch,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Twitch-DR5Acvd6.js").then(t=>t.T),__vite__mapDeps([])))},{key:"dailymotion",name:"DailyMotion",canPlay:Cn.canPlay.dailymotion,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./DailyMotion-Cq4ElsSr.js").then(t=>t.D),__vite__mapDeps([])))},{key:"mixcloud",name:"Mixcloud",canPlay:Cn.canPlay.mixcloud,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Mixcloud-DQMjJbeC.js").then(t=>t.M),__vite__mapDeps([])))},{key:"vidyard",name:"Vidyard",canPlay:Cn.canPlay.vidyard,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Vidyard-D8yy0yfx.js").then(t=>t.V),__vite__mapDeps([])))},{key:"kaltura",name:"Kaltura",canPlay:Cn.canPlay.kaltura,lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./Kaltura-1hoDHjji.js").then(t=>t.K),__vite__mapDeps([])))},{key:"file",name:"FilePlayer",canPlay:Cn.canPlay.file,canEnablePIP:t=>Cn.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,zn.supportsWebKitPresentationMode)())&&!Cn.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,zn.lazy)(()=>Gn(()=>import("./FilePlayer-C7-RkmEo.js").then(t=>t.F),__vite__mapDeps([])))}],WS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Uie(t,e){return!!(t===e||WS(t)&&WS(e))}function Vie(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Uie(t[n],e[n]))return!1;return!0}function Hie(t,e){e===void 0&&(e=Vie);var n,r=[],i,s=!1;function u(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return u}const zie=Object.freeze(Object.defineProperty({__proto__:null,default:Hie},Symbol.toStringTag,{value:"Module"})),Qie=r3(zie);var Gie=typeof Element<"u",Wie=typeof Map=="function",qie=typeof Set=="function",Kie=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function em(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!em(t[r],e[r]))return!1;return!0}var s;if(Wie&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!em(r.value[1],e.get(r.value[0])))return!1;return!0}if(qie&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Kie&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Gie&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!em(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var Qj=function(e,n){try{return em(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Gj={exports:{}},Jie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yie=Jie,Zie=Yie;function Wj(){}function qj(){}qj.resetWarningCache=Wj;var Xie=function(){function t(r,i,s,u,a,o){if(o!==Zie){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qj,resetWarningCache:Wj};return n.PropTypes=n,n};Gj.exports=Xie();var ese=Gj.exports,tse=Object.create,n1=Object.defineProperty,nse=Object.getOwnPropertyDescriptor,rse=Object.getOwnPropertyNames,ise=Object.getPrototypeOf,sse=Object.prototype.hasOwnProperty,use=(t,e)=>{for(var n in e)n1(t,n,{get:e[n],enumerable:!0})},Kj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rse(e))!sse.call(t,i)&&i!==n&&n1(t,i,{get:()=>e[i],enumerable:!(r=nse(e,i))||r.enumerable});return t},ase=(t,e,n)=>(n=t!=null?tse(ise(t)):{},Kj(e||!t||!t.__esModule?n1(n,"default",{value:t,enumerable:!0}):n,t)),ose=t=>Kj(n1({},"__esModule",{value:!0}),t),Jj={};use(Jj,{defaultProps:()=>fse,propTypes:()=>cse});var Yj=ose(Jj),lse=ase(ese);const{string:en,bool:Dn,number:Xo,array:Hv,oneOfType:Zf,shape:ur,object:pn,func:Mt,node:qS}=lse.default,cse={url:Zf([en,Hv,pn]),playing:Dn,loop:Dn,controls:Dn,volume:Xo,muted:Dn,playbackRate:Xo,width:Zf([en,Xo]),height:Zf([en,Xo]),style:pn,progressInterval:Xo,playsinline:Dn,pip:Dn,stopOnUnmount:Dn,light:Zf([Dn,en,pn]),playIcon:qS,previewTabIndex:Xo,previewAriaLabel:en,fallback:qS,oEmbedUrl:en,wrapper:Zf([en,Mt,ur({render:Mt.isRequired})]),config:ur({soundcloud:ur({options:pn}),youtube:ur({playerVars:pn,embedOptions:pn,onUnstarted:Mt}),facebook:ur({appId:en,version:en,playerId:en,attributes:pn}),dailymotion:ur({params:pn}),vimeo:ur({playerOptions:pn,title:en}),mux:ur({attributes:pn,version:en}),file:ur({attributes:pn,tracks:Hv,forceVideo:Dn,forceAudio:Dn,forceHLS:Dn,forceSafariHLS:Dn,forceDisableHls:Dn,forceDASH:Dn,forceFLV:Dn,hlsOptions:pn,hlsVersion:en,dashVersion:en,flvVersion:en}),wistia:ur({options:pn,playerId:en,customControls:Hv}),mixcloud:ur({options:pn}),twitch:ur({options:pn,playerId:en}),vidyard:ur({options:pn})}),onReady:Mt,onStart:Mt,onPlay:Mt,onPause:Mt,onBuffer:Mt,onBufferEnd:Mt,onEnded:Mt,onError:Mt,onDuration:Mt,onSeek:Mt,onPlaybackRateChange:Mt,onPlaybackQualityChange:Mt,onProgress:Mt,onClickPreview:Mt,onEnablePIP:Mt,onDisablePIP:Mt},tn=()=>{},fse={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:tn},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:tn,onStart:tn,onPlay:tn,onPause:tn,onBuffer:tn,onBufferEnd:tn,onEnded:tn,onError:tn,onDuration:tn,onSeek:tn,onPlaybackRateChange:tn,onPlaybackQualityChange:tn,onProgress:tn,onClickPreview:tn,onEnablePIP:tn,onDisablePIP:tn};var dse=Object.create,F0=Object.defineProperty,hse=Object.getOwnPropertyDescriptor,pse=Object.getOwnPropertyNames,mse=Object.getPrototypeOf,gse=Object.prototype.hasOwnProperty,yse=(t,e,n)=>e in t?F0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vse=(t,e)=>{for(var n in e)F0(t,n,{get:e[n],enumerable:!0})},Zj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pse(e))!gse.call(t,i)&&i!==n&&F0(t,i,{get:()=>e[i],enumerable:!(r=hse(e,i))||r.enumerable});return t},Xj=(t,e,n)=>(n=t!=null?dse(mse(t)):{},Zj(e||!t||!t.__esModule?F0(n,"default",{value:t,enumerable:!0}):n,t)),bse=t=>Zj(F0({},"__esModule",{value:!0}),t),xt=(t,e,n)=>(yse(t,typeof e!="symbol"?e+"":e,n),n),e6={};vse(e6,{default:()=>r1});var Ase=bse(e6),KS=Xj(x),wse=Xj(Qj),t6=Yj,Ese=t1;const xse=5e3;class r1 extends KS.Component{constructor(){super(...arguments),xt(this,"mounted",!1),xt(this,"isReady",!1),xt(this,"isPlaying",!1),xt(this,"isLoading",!0),xt(this,"loadOnReady",null),xt(this,"startOnPlay",!0),xt(this,"seekOnPlay",null),xt(this,"onDurationCalled",!1),xt(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),xt(this,"getInternalPlayer",e=>this.player?this.player[e]:null),xt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:e,played:e/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),xt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:i}=this.props;e(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),xt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),xt(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),xt(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),xt(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),xt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),xt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:i,muted:s,playbackRate:u,pip:a,loop:o,activePlayer:c,disableDeferredLoading:f}=this.props;if(!(0,wse.default)(e.url,n)){if(this.isLoading&&!c.forceLoad&&!f&&!(0,Ese.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==i&&i!==null&&this.player.setVolume(i),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==o&&this.player.setLoop&&this.player.setLoop(o)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},xse));return}if(n?n==="fraction":e>0&&e<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(s*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?KS.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}xt(r1,"displayName","Player");xt(r1,"propTypes",t6.propTypes);xt(r1,"defaultProps",t6.defaultProps);var Fse=Object.create,C0=Object.defineProperty,Cse=Object.getOwnPropertyDescriptor,Dse=Object.getOwnPropertyNames,kse=Object.getPrototypeOf,Sse=Object.prototype.hasOwnProperty,Bse=(t,e,n)=>e in t?C0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ose=(t,e)=>{for(var n in e)C0(t,n,{get:e[n],enumerable:!0})},n6=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dse(e))!Sse.call(t,i)&&i!==n&&C0(t,i,{get:()=>e[i],enumerable:!(r=Cse(e,i))||r.enumerable});return t},D0=(t,e,n)=>(n=t!=null?Fse(kse(t)):{},n6(e||!t||!t.__esModule?C0(n,"default",{value:t,enumerable:!0}):n,t)),Nse=t=>n6(C0({},"__esModule",{value:!0}),t),Et=(t,e,n)=>(Bse(t,typeof e!="symbol"?e+"":e,n),n),r6={};Ose(r6,{createReactPlayer:()=>$se});var _se=Nse(r6),sl=D0(x),Tse=D0(Fj),zv=D0(Qie),JS=D0(Qj),dd=Yj,i6=t1,Pse=D0(Ase);const jse=(0,i6.lazy)(()=>Gn(()=>import("./Preview-DKYM6qI_.js").then(t=>t.P),__vite__mapDeps([]))),Ise=typeof window<"u"&&window.document&&typeof document<"u",Rse=typeof yp<"u"&&yp.window&&yp.window.document,Lse=Object.keys(dd.propTypes),Mse=Ise||Rse?sl.Suspense:()=>null,Xf=[],$se=(t,e)=>{var n;return n=class extends sl.Component{constructor(){super(...arguments),Et(this,"state",{showPreview:!!this.props.light}),Et(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),Et(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),Et(this,"showPreview",()=>{this.setState({showPreview:!0})}),Et(this,"getDuration",()=>this.player?this.player.getDuration():null),Et(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),Et(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),Et(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),Et(this,"seekTo",(r,i,s)=>{if(!this.player)return null;this.player.seekTo(r,i,s)}),Et(this,"handleReady",()=>{this.props.onReady(this)}),Et(this,"getActivePlayer",(0,zv.default)(r=>{for(const i of[...Xf,...t])if(i.canPlay(r))return i;return e||null})),Et(this,"getConfig",(0,zv.default)((r,i)=>{const{config:s}=this.props;return Tse.default.all([dd.defaultProps.config,dd.defaultProps.config[i]||{},s,s[i]||{}])})),Et(this,"getAttributes",(0,zv.default)(r=>(0,i6.omit)(this.props,Lse))),Et(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const s=this.getConfig(r,i.key);return sl.default.createElement(Pse.default,{...this.props,key:i.key,ref:this.references.player,config:s,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,JS.default)(this.props,r)||!(0,JS.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:s,previewTabIndex:u,oEmbedUrl:a,previewAriaLabel:o}=this.props;return sl.default.createElement(jse,{url:r,light:i,playIcon:s,previewTabIndex:u,previewAriaLabel:o,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:s,height:u,fallback:a,wrapper:o}=this.props,{showPreview:c}=this.state,f=this.getAttributes(r),d=typeof o=="string"?this.references.wrapper:void 0;return sl.default.createElement(o,{ref:d,style:{...i,width:s,height:u},...f},sl.default.createElement(Mse,{fallback:a},c?this.renderPreview(r):this.renderActivePlayer(r)))}},Et(n,"displayName","ReactPlayer"),Et(n,"propTypes",dd.propTypes),Et(n,"defaultProps",dd.defaultProps),Et(n,"addCustomPlayer",r=>{Xf.push(r)}),Et(n,"removeCustomPlayers",()=>{Xf.length=0}),Et(n,"canPlay",r=>{for(const i of[...Xf,...t])if(i.canPlay(r))return!0;return!1}),Et(n,"canEnablePIP",r=>{for(const i of[...Xf,...t])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var Use=Object.create,i1=Object.defineProperty,Vse=Object.getOwnPropertyDescriptor,Hse=Object.getOwnPropertyNames,zse=Object.getPrototypeOf,Qse=Object.prototype.hasOwnProperty,Gse=(t,e)=>{for(var n in e)i1(t,n,{get:e[n],enumerable:!0})},s6=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hse(e))!Qse.call(t,i)&&i!==n&&i1(t,i,{get:()=>e[i],enumerable:!(r=Vse(e,i))||r.enumerable});return t},Wse=(t,e,n)=>(n=t!=null?Use(zse(t)):{},s6(e||!t||!t.__esModule?i1(n,"default",{value:t,enumerable:!0}):n,t)),qse=t=>s6(i1({},"__esModule",{value:!0}),t),u6={};Gse(u6,{default:()=>Zse});var Kse=qse(u6),Fw=Wse(Mie),Jse=_se;const Yse=Fw.default[Fw.default.length-1];var Zse=(0,Jse.createReactPlayer)(Fw.default,Yse);const Xse=n3(Kse),eue=({children:t,post:e,thread:n,block:r})=>l.jsxs("span",{className:"text-quote",children:[">",t.map(i=>cx(i,e,n,r))]});function YS({link:t,children:e}){return l.jsxs(Ce,{className:"dchan-postref dchan-link",to:t,children:[l.jsx("wbr",{}),l.jsxs("span",{children:[">>",e]})]})}function tue({id:t,children:e}){return l.jsxs(Ce,{className:"dchan-link",to:`https://polygonscan.com/tx/${t}`,children:[l.jsx("wbr",{}),l.jsx("span",{children:e})]})}function nue({post:t,thread:e,value:n,block:r}){const{publish:i}=hf(),s=n.id?`${n.id}/${n.n}`:n.n,u=x.useMemo(()=>e&&[e.op,...e.replies||e.lastReplies||[]].find(v=>n.id?`${v.from.id}/${v.n}`===s||`0x${m0(v.from.id).replace("-","")}/${v.n}`===s:v.n===n.n),[e,n,s]);x.useEffect(()=>{const v={from:t,to:{userId:n.id,n:n.n}};i("POST_BACKLINK",v)},[t,n,i]);const a=x.useCallback(()=>{u!=null&&i("POST_HIGHLIGHT",u.id)},[i,u]),o=x.useCallback(()=>{u!=null&&i("POST_DEHIGHLIGHT",u.id)},[i,u]),c=`${t.thread?Be.thread(t.thread):t.board?Be.board(t.board):""}/`,{accounts:f}=wr(),d=e&&u&&e.op.id===u.id,h=f&&f[0]&&u&&f[0]===u.from.address,p=e&&!u;return l.jsxs(Ce,{className:"dchan-postref dchan-link",to:`${p?"/":c}${s}${r?`?block=${r}`:""}`,onMouseEnter:a,onMouseLeave:o,children:[l.jsx("wbr",{}),l.jsxs("span",{className:"whitespace-nowrap",children:[">>",s]}),d?" (OP)":"",h?" (You)":""]})}function rue({children:t,post:e,thread:n,block:r}){return l.jsx("span",{className:"dchan-post-spoiler",children:t.map(i=>cx(i,e,n,r))})}function a6({link:t}){return l.jsx("a",{className:"dchan-link",href:t,target:"_blank",rel:"noreferrer",children:t})}function iue({hash:t}){return l.jsxs("details",{className:"inline w-full",children:[l.jsx("summary",{children:l.jsx("a",{className:"dchan-link",href:`//ipfs.4dchan.org/ipfs/${t}`,target:"_blank",rel:"noreferrer",children:t})}),l.jsx("img",{src:`//ipfs.4dchan.org/ipfs/${t}`,alt:""})]})}function sue({url:t,id:e}){const[n,r]=x.useState(!1),i=x.useCallback(()=>{r(!n)},[n,r]);return l.jsxs("span",{id:e,children:[l.jsx(a6,{link:t})," ",l.jsxs("button",{className:"dchan-link",onClick:i,children:["(",n?"unembed":"embed",")"]}),n?l.jsx(Xse,{url:t,controls:!0,className:"grid"}):""]})}function cx(t,e,n,r){switch(t.type){case"text":return t.value;case"link":return l.jsx(a6,{link:t.value},t.key);case"ipfs":return l.jsx(iue,{hash:t.hash},t.key);case"newline":return l.jsx("br",{},t.key);case"textquote":return l.jsx(eue,{post:e,thread:n,block:r,children:t.value},t.key);case"ref":return l.jsx(YS,{link:`/${t.id}${r?`?block=${r}`:""}`,children:t.id},t.key);case"txhashref":return l.jsx(tue,{id:t.id,children:t.id},t.key);case"postref":return l.jsx(nue,{post:e,thread:n,block:r,value:t},t.key);case"boardref":return l.jsxs(YS,{link:`/${t.id}${r?`?block=${r}`:""}`,children:[t.board,t.id]},t.key);case"spoiler":return l.jsx(rue,{post:e,thread:n,block:r,children:t.value},t.key);case"youtubelink":case"soundcloudlink":return l.jsx(sue,{url:t.url,id:t.id},t.key)}}const Cw=x.memo(({post:t,thread:e,style:n={},className:r=""})=>{const{timeTraveledToBlockNumber:i}=He(),s=x.useMemo(()=>Pre(t.comment),[t.comment]);return l.jsx("div",{className:r+" block text-left break-words font-sans text-sm max-w-90vw dchan-post-body",style:n,children:s.map(u=>cx(u,t,e,i==null?void 0:i.toString()))},`${t.id}-${e==null?void 0:e.id}`)},jP);function Bl(t){return ie.fromSeconds(parseInt(t))}const uue=({post:t})=>{const e=Bl(t.createdAtBlock.timestamp),{currentBlock:n}=He(),r=e.toRelative(),i=n?Bl(n.timestamp):void 0,s=i&&e.diff(i).milliseconds?e.toRelative({base:i}):"Now",u=`${e.toLocaleString({day:"2-digit",month:"2-digit",year:"2-digit"})}(${e.weekdayShort})${e.toLocaleString(ie.TIME_24_WITH_SECONDS)}`,a=Si(),o=Af.parse(a.search);o.block=`${t.createdAtBlock.number}`;const c=`${a.pathname}?${new URLSearchParams(o).toString()}`;return l.jsxs("span",{className:"px-0.5 whitespace-nowrap text-sm flex center",title:r!==null?r:void 0,children:[u,l.jsxs("span",{className:"text-xs px-1 opacity-20 hover:opacity-100 inline-block",children:["[",l.jsx(Ce,{title:`Time travel to ${u}`,to:c,children:n?l.jsxs("span",{children:[s," (",r,")"]}):r}),"]"]})]})},ZS=({post:t,thread:e,backlinks:n,children:r})=>{var G,W,oe;const{timeTraveledToBlockNumber:i}=He(),{id:s,n:u,name:a,from:{address:o}}=t,{accounts:c}=wr(),{publish:f}=hf(),[d]=_i(),h=ra(),p=ra(o),v=c.length>0&&c[0]===o,[m,b]=x.useState(),g=((G=e==null?void 0:e.board)==null?void 0:G.id)&&h.isJannyOf(e.board.id),y=p.isAdmin(),A=((W=e==null?void 0:e.board)==null?void 0:W.id)&&p.isJannyOf(e==null?void 0:e.board.id),w=x.useCallback((Z,ye)=>{f("FORM_QUOTE",{n:ye,...e&&[...e.replies||e.lastReplies||[],e.op].filter(we=>we.n===ye).length>1?{from:Z}:{}})},[e,f]),F=x.useCallback(async(Z,ye)=>{try{if(ye=ye||parseFloat(prompt("How much? (MATIC)")||""),isNaN(ye)){alert("Invalid amount");return}await VQ(c[0],Z,ye)}catch(we){console.error({onSendTipError:we})}},[c]),k=e==null?void 0:e.isPinned,C=e==null?void 0:e.isLocked,D=s===(e==null?void 0:e.id),T=D&&g,N=v||g,V=g,H=D&&(v||g),Q=n?Object.values(n):[],{isFavorite:ne,addFavorite:P,removeFavorite:L}=L2(),Y=e&&ne?ne(e):!1,M=x.useCallback(()=>{e&&L&&P&&(Y?L(e):P(e))},[P,L,e,Y]);return l.jsxs("span",{className:"max-w-95vw inline-flex flex-wrap items-center",children:[D&&e?l.jsx("button",{className:`inline-block ${Y?"opacity-70 hover:opacity-100":"opacity-40 hover:opacity-70"}`,title:Y?"Remove from watched":"Add to watched",onClick:M,children:l.jsx(de,{emoji:Y?"🌟":"⭐️"})}):l.jsx("span",{}),l.jsx("span",{className:"px-0.5 break-all grid center",children:l.jsxs("span",{className:`font-bold font-size-090rem ${y?"text-red-600":A?"text-purple-600":"text-accent"}`,title:y?"This user is an administrator.":A?"This user is a moderator for this board.":"",children:[!a||a===""?"Anonymous":a,y?" ## Admin":A?" ## Mod":""]})}),l.jsxs("span",{className:"px-1 whitespace-nowrap text-xs",children:["(ID: ",l.jsx(fx,{user:t.from})," )"]}),l.jsx(uue,{post:t}),l.jsxs("span",{className:"whitespace-nowrap flex center",children:[l.jsxs("span",{className:"px-0.5 on-parent-target-font-bold text-sm whitespace-nowrap",children:[l.jsx(Ce,{className:"dchan-link",to:`${Be.post(t)}${i?`?block=${i}`:""}`,title:"Link to this post",children:"No."}),l.jsx("span",{className:"dchan-link",title:"Reply to this post",onClick:()=>w(t.from.id,t.n),children:u})]}),l.jsxs(A0,{children:[l.jsx("div",{children:l.jsxs("a",{href:`https://polygonscan.com/tx/${t.id}`,title:"TX Details",target:"_blank",rel:"noreferrer",children:[l.jsx(de,{emoji:"🔍"})," TX Details"]})}),l.jsx("div",{children:l.jsxs(Ce,{to:`${Be.post(t)}?block=${t.createdAtBlock.number}`,children:[l.jsx(de,{emoji:"⏱️"})," Time travel to"]})}),c&&c[0]?l.jsxs("div",{children:[H?l.jsx("div",{children:e&&e.isLocked?l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>fJ(s,c,b),children:[l.jsx(de,{emoji:"🔓"})," Unlock"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>cJ(s,c,b),children:[l.jsx(de,{emoji:"🔒"})," Lock"]})]})}):"",T?l.jsx("div",{children:e&&e.isPinned?l.jsxs("span",{children:[l.jsx("input",{name:"sticky",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>hJ(s,c,b),children:[l.jsx(de,{emoji:"📌"})," Unpin"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"sticky",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>dJ(s,c,b),children:[l.jsx(de,{emoji:"📌"})," Pin"]})]})}):"",N?l.jsx("div",{children:l.jsxs("button",{onClick:()=>iJ(s,c,b),children:[l.jsx(de,{emoji:"❌"})," Remove"]})}):"",V?l.jsx("div",{children:l.jsxs("button",{onClick:()=>pJ(s,c,b),children:[l.jsx(de,{emoji:"🔫"})," Ban"]})}):"",l.jsx("div",{children:l.jsxs("button",{onClick:()=>sJ(s,c,b),children:[l.jsx(de,{emoji:"⚠️"})," Report"]})}),l.jsx("div",{children:l.jsx("button",{title:"Send MATIC tip",onClick:()=>F(o),children:"💸 Send Tip"})})]}):""]}),l.jsxs("span",{className:"flex gap-1",children:[D&&k?l.jsx("span",{title:"Thread pinned. This might be important.",children:l.jsx(de,{emoji:"📌"})}):l.jsx(l.Fragment,{}),D&&C?l.jsx("span",{title:"Thread locked. You cannot reply anymore.",children:l.jsx(de,{emoji:"🔒"})}):l.jsx(l.Fragment,{}),D&&aP(e)?l.jsx("span",{title:"Thread archived. You can still reply.",children:l.jsx(de,{emoji:"📁"})}):l.jsx(l.Fragment,{}),G2(t,(oe=d==null?void 0:d.content_filter)==null?void 0:oe.score_threshold)?l.jsx("span",{title:"Post hidden due to reports. Click to show anyway.",children:l.jsx(de,{emoji:"⚠️"})}):l.jsx(l.Fragment,{})]})]}),r,l.jsx("span",{className:"dchan-backlinks text-left text-xs flex flex-wrap",children:Q==null?void 0:Q.map(Z=>l.jsx(Ce,{className:"dchan-link px-1",to:`${Be.post(Z)}${i?`?block=${i}`:""}`,onMouseEnter:()=>f("POST_HIGHLIGHT",Z.id),onMouseLeave:()=>f("POST_DEHIGHLIGHT",Z.id),children:`>>${Z.n}`},Z.id))}),l.jsx(s1,{status:m})]})},aue=({post:t})=>{var s;const{timeTraveledToBlockNumber:e}=He(),n=Un(),r=`/${t.id}${e?`?block=${e}`:""}`,i=x.useCallback(()=>{n(r)},[n,r]);return l.jsx("div",{"data-theme":(s=t==null?void 0:t.board)!=null&&s.isNsfw?"nsfw":"blueboard",onDoubleClick:i,children:l.jsx(Ah,{post:t,showPostMarker:!1,header:l.jsxs("span",{children:[l.jsxs("span",{className:"p-1 whitespace-nowrap",children:["[",l.jsx(Ce,{to:r,className:"dchan-link inline",title:"View post in thread",children:"View"}),"]"]}),t.board?l.jsx("span",{className:"whitespace-nowrap",children:l.jsx(Bo,{board:t.board})}):""]})},t.id)})},oue=()=>l.jsx(rs,{title:l.jsx("span",{children:"The rules"}),className:"flex flex-col flex-grow flex-shrink-0",bodyClassName:"flex",collapsible:!1,children:l.jsx("div",{className:"p-8",children:l.jsxs("ul",{className:"list-disc text-wrap text-left m-auto",children:[l.jsx("li",{children:"Do not post anything that can get you in trouble with local or global jurisdictions."}),l.jsx("li",{children:"Be decent."})]})})}),o6=({className:t=""})=>{const[,e]=zg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:n=>{n.stopPropagation(),n.preventDefault(),e("rules")},children:"Rules"})})},lue=()=>{var n,r,i,s;const[t,e]=_i();return l.jsxs("details",{children:[l.jsx("summary",{children:l.jsxs("span",{className:"inline-flex flex-wrap center",children:[l.jsxs("span",{className:"whitespace-nowrap",children:[l.jsx("label",{className:"pl-2",htmlFor:"dchan-input-view-mode",children:"Sort by"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_sort_threads_by:u.target.value}})},value:(n=t==null?void 0:t.content_view)==null?void 0:n.board_sort_threads_by,children:[l.jsx("option",{value:"lastBumpedAt",children:"Last bumped at"}),l.jsx("option",{value:"replyCount",children:"Reply count"}),l.jsx("option",{value:"imageCount",children:"File count"})]})]}),l.jsxs("span",{className:"whitespace-nowrap",children:[l.jsx("label",{className:"pl-2",htmlFor:"dchan-input-view-mode",children:"Sort direction"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_sort_direction:u.target.value}})},value:(r=t==null?void 0:t.content_view)==null?void 0:r.board_sort_direction,children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]})]})}),l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"px-2",htmlFor:"dchan-input-view-mode",children:"Page size"}),l.jsx("input",{id:"dchan-input-page-size",type:"number",min:1,value:(i=t==null?void 0:t.content_view)==null?void 0:i.page_size,onChange:u=>{t&&e({...t,content_view:{...t.content_view,page_size:Number(u.target.value)}})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"px-2",htmlFor:"dchan-input-view-mode",children:"Default board view mode"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_default_view_mode:u.target.value}})},value:(s=t==null?void 0:t.content_view)==null?void 0:s.board_default_view_mode,children:[l.jsx("option",{value:"catalog",children:"Catalog"}),l.jsx("option",{value:"index",children:"Index"})]})]})]})]})},Ol=({className:t="",speed:e="slow",reverse:n=!1,size:r=16,style:i={}})=>l.jsx("span",{className:`center flex ${t}`,children:l.jsx("img",{className:`spin-${e} ${{16:"h-16 w-16",8:"h-8 w-8",4:"h-4 w-4"}[r]} ${n?"animation-direction-reverse":""} animation-spin pointer-events-none`,src:lP,alt:"",style:i})}),s1=({status:t,className:e=""})=>t?l.jsx("div",{className:e+" inline-block text-xs",children:l.jsx("div",{className:"bg-secondary px-1 border border-black",children:t.error?l.jsx("div",{className:"text-red-600",children:l.jsxs("details",{children:[l.jsx("summary",{children:"Error"}),l.jsx("pre",{className:"whitespace-pre-wrap max-w-32rem mt-2",children:t.error.message?t.error.message:JSON.stringify(t.error,null,2)})]})}):t.progress?l.jsxs("div",{className:"text-gray-900 flex center",children:[l.jsx(Ol,{size:4,speed:"faster"}),l.jsx("span",{className:"px-2",children:t.progress})]}):t.success?l.jsx("div",{className:"text-green-600",children:l.jsx("span",{className:"px-2",children:t.success})}):Ay(t)?t:JSON.stringify(t)==="{}"?"No tx result returned by wallet, but it likely went through successfully.":JSON.stringify(t)})}):l.jsx("span",{}),lg=({ms:t=1e4,children:e})=>{const[n,r]=x.useState(!1);return x.useEffect(()=>{const i=setTimeout(()=>{r(!0)},t);return()=>clearTimeout(i)},[t]),n?e:l.jsx("span",{})},l6=({children:t,className:e="",sectionClassName:n="",containerClassName:r="",firstTab:i="",slideshowInterval:s=0})=>{const u=Array.from(t.keys()),[a,o]=x.useState(i||u[0]);let c=a;t.has(a)||(c=u[0]);const[f,d]=x.useState(!1),h=x.useCallback(()=>{d(!0)},[d]),p=x.useCallback(()=>{d(!1)},[d]);return x.useEffect(()=>{const v=s>0?setInterval(()=>{!f&&o(u[(u.findIndex(m=>m===a)+1)%u.length])},s):null;return()=>{v&&clearInterval(v)}},[s,a,o,f,u]),l.jsxs("article",{className:`${e}`,onMouseOver:h,onMouseOut:p,children:[l.jsx("header",{className:"bg-white border border-highlight flex flex-row justify-evenly",style:{flex:"0 1 auto"},children:Array.from(t.keys()).map((v,m)=>l.jsxs(Ct.Fragment,{children:[l.jsx("button",{className:["bg-highlight py-1 px-4 w-full font-bold",v===c?"opacity-100":"opacity-80 hover:opacity-100"].join(" "),onClick:()=>{o(v)},children:v}),m<t.size-1?l.jsx("div",{className:"border-l border-highlight"}):null]},v))}),l.jsx("section",{className:`animation-fade-in bg-white border border-tertiary-accent flex flex-col border-t-0 ${n}`,style:{flex:"1 1 auto"},children:l.jsx("div",{className:r,children:Array.from(t.entries()).map(([v,m])=>l.jsx("div",{className:["",v!==c?"hidden":""].join(" "),style:{flex:"0 0 auto"},children:m},v))})}),l.jsx("div",{})]})},cue=({className:t="",limit:e,board:n})=>{const{currentBlock:r,timeTraveledToBlockNumber:i}=He(),s=x.useMemo(()=>Math.floor((r?parseInt(r.timestamp):ie.now().toSeconds())-60*60*24*30),[r]),{data:u,loading:a}=ln(i?X5:eM,{fetchPolicy:i?"cache-first":"network-only",variables:{block:i,limit:e,cutoff:s,board:(n==null?void 0:n.id)||""}});return u?l.jsx(l6,{className:`${t} w-auto`,firstTab:"Last bumped",children:new Map([["Most popular",u.mostPopular.length?l.jsx(Xp,{threads:u.mostPopular,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})],["Last created",u.lastCreated.length?l.jsx(Xp,{threads:u.lastCreated,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})],["Last bumped",u.lastBumped.length?l.jsx(Xp,{threads:u.lastBumped,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})]])}):a?l.jsx("div",{className:"border border-solid border-tertiary-accent flex-grow p-2",children:l.jsx(Er,{})}):l.jsx("span",{})},fx=({user:t,className:e=""})=>t.address?l.jsx("a",{className:"dchan-link",href:`https://polygonscan.com/address/${t.address}`,target:"_blank",children:l.jsx(b0,{id:t.address||"0x000000",className:e,children:t.b58id})}):"",fue=()=>l.jsx("div",{className:"grid center",children:l.jsxs("span",{className:"text-center bg-secondary border border-tertiary-accent border-solid",children:[l.jsx(c6,{}),l.jsx(due,{}),l.jsx(pue,{}),l.jsx(vue,{})]})}),due=()=>{var u;const{provider:t,accounts:e,balance:n,chainId:r}=wr(),i=(u=ra().data)==null?void 0:u.user,s=e[0];return t&&s&&F8(r)?l.jsxs("div",{className:"text-xs center grid",children:[l.jsxs("div",{children:[l.jsx("span",{className:"px-1",children:"Connected as"}),l.jsxs("span",{children:["[",l.jsx(fx,{user:i||{address:s}}),"]"]},s),l.jsx("div",{className:"text-gray-700",children:i?l.jsx(l.Fragment,{}):l.jsxs("div",{className:"p-2",children:["It seems you haven't posted yet.",l.jsx("br",{}),"You'll be assigned a unique ID once you do."]})})]}),l.jsx("div",{children:n!==void 0?l.jsxs("span",{children:[l.jsxs("span",{className:"flex center text-gray-600",children:[n.toFixed(4),l.jsx("img",{className:"inline h-4 w-4 mx-1",alt:"MATIC",src:ag})]}),n!==void 0&&n<.01?l.jsx("div",{className:"p-4",children:l.jsxs("details",{children:[l.jsx("summary",{children:"Need Matic?"}),l.jsxs("div",{className:"pt-2",children:["Free faucets:",l.jsx(fP,{})]}),l.jsxs("div",{className:"pt-2",children:["Or ",l.jsx("a",{className:"dchan-link",href:"https://wallet.polygon.technology/gas-swap",target:"_blank",rel:"noreferrer",children:"swap tokens for Matic."})]}),l.jsxs("div",{className:"pt-2",children:["Or ",l.jsx("a",{className:"dchan-link",href:"https://presearch.com/search?q=buy+matic",target:"_blank",rel:"noreferrer",children:"buy some."})]})]})}):""]}):""})]}):l.jsx("span",{})},hue=({className:t=""})=>{const[e,n]=x.useState(!1),[r,i]=x.useState(!1),[s,u]=x.useState(),{provider:a,connect:o,disconnect:c}=wr(),f=x.useCallback(async()=>{try{if(a)c();else{n(!0);const{success:d,error:h}=await o();n(!1),i(!d),u(h)}}catch(d){console.error({onClickError:d})}},[o,c,a]);return l.jsxs("span",{className:`text-center select-none ${t}`,children:[l.jsx("div",{children:l.jsx("button",{className:"dchan-link dchan-brackets whitespace-nowrap",onClick:f,children:e?"Connecting wallet...":a?"Disconnect Wallet":"Connect Wallet"})}),l.jsxs("span",{className:"text-sm",children:[r?l.jsx("span",{children:l.jsxs("details",{children:[l.jsxs("summary",{children:[l.jsx(de,{emoji:"⚠️"})," Something went wrong. ",l.jsx("br",{}),"Check that your wallet is unlocked and doesn't have any pending modals, then try again."]}),l.jsx("div",{className:"bg-red",children:JSON.stringify(s,null,2)})]})}):"",!r&&e?l.jsx(lg,{ms:2e3,children:l.jsx("span",{children:"If the above button does not work, try unlocking your wallet first, then retry."})}):""]})]})},c6=()=>{const{provider:t}=wr();return l.jsxs("div",{children:[l.jsx(hue,{}),t?l.jsx(l.Fragment,{}):l.jsx("div",{className:"text-xs px-2",children:l.jsxs("small",{className:"p-1 text-center",children:[l.jsxs("div",{children:["Use ",l.jsx("a",{className:"dchan-link",href:"//metamask.io",target:"_blank",children:"Metamask"})," or ",l.jsx("a",{className:"dchan-link",href:"//brave.com/",target:"_blank",children:"Brave Browser"})," for Desktop"]}),l.jsxs("div",{children:["or ",l.jsx("a",{className:"dchan-link",href:"//trustwallet.com/",target:"_blank",children:"Trust Wallet"})," for Mobile","."]}),l.jsx("div",{children:"Other wallets might not be supported."})]})})]})},pue=()=>{const{provider:t,chainId:e,network:n}=wr(),[r,i]=x.useState(!1),s=x.useCallback(async()=>{i(!0),await MQ(),i(!1)},[]);return t&&!F8(e)?l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{children:[l.jsx(de,{emoji:"⚠️"})," You need to be connected to the"," ",l.jsx("img",{className:"inline h-4 w-4",alt:"Polygon",src:ag})," ","Polygon chain in order to interact with 4dchan.org."," ",l.jsx(de,{emoji:"⚠️"})]}),l.jsxs("div",{className:"flex center",children:[l.jsxs("div",{className:"m-2 relative",children:[l.jsx("div",{className:"flex center w-16 h-16 rounded-full bg-secondary",children:n==null?void 0:n.name}),l.jsxs("div",{className:"text-xs",children:["ID: ",e]}),l.jsx("div",{className:"text-xs absolute left-0 right-0 opacity-60",style:{bottom:"-1rem"},children:"(current)"})]}),l.jsx("div",{children:l.jsxs("button",{className:"dchan-link",onClick:s,children:[l.jsx("div",{children:l.jsx(de,{emoji:"➡"})}),l.jsx("div",{children:l.jsx("span",{className:"m-2",children:"Switch chain"})})]})}),l.jsxs("div",{className:"m-2",children:[l.jsx("div",{className:"flex center w-16 h-16 rounded-full bg-secondary",children:l.jsxs("div",{children:[l.jsx("img",{className:"h-8 w-8",alt:"Polygon",title:"Polygon",src:ag})," "]})}),l.jsx("div",{className:"text-xs",children:"ID: 137"})]})]}),r?l.jsx(lg,{ms:3e3,children:l.jsxs("div",{className:"text-xs px-2",children:["If the button doesn't work, try switching the network from your wallet.",l.jsx(lg,{ms:6e3,children:l.jsxs("div",{children:["If you can't find the correct chain in your wallet, try manually adding it using"," ",l.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.google.com/search?q=how+to+add+polygon+chain",className:"dchan-link",children:"this guide"}),"."]})})]})}):""]}):l.jsx(l.Fragment,{})};var mue=Zr.isFinite,gue=Math.min;function yue(t){var e=Math[t];return function(n,r){if(n=og(n),r=r==null?0:gue(TP(r),292),r&&mue(n)){var i=(rf(n)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+r));return i=(rf(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(n)}}var XS=yue("round");const vue=()=>{const{balance:t,gasPrice:e,provider:n}=wr(),[r,i]=x.useState(NaN),[s,u]=x.useState(NaN);x.useEffect(()=>{e&&(u(XS(parseFloat(OA(e,"ether"))*5e4,5)),i(XS(parseFloat(OA(e,"gwei")))))},[e]);const a=s!==0&&(t||t===0)?Math.floor(t/s):null;return n?l.jsxs("div",{className:"text-xs pt-1 text-gray-400 hover:text-gray-600",children:[a!==null?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"pb-2",children:["~",a||0," posts left"]})}):l.jsx(l.Fragment,{}),l.jsx("small",{children:l.jsxs("a",{href:"//polygonscan.com/gastracker",target:"_blank",rel:"noreferrer",children:[l.jsx("div",{children:"Posting costs gas."}),l.jsxs("div",{children:[l.jsx(de,{emoji:"⛽️"})," Current est. tx price: ",s||"?"," ","MATIC @ ",r||"?"," gwei."," ",r>=100?l.jsx("span",{className:"px-1",title:r>1e3?"VERY high fees!":"High fees!",children:[...Math.floor(r/100).toString()].map((o,c)=>l.jsx(de,{emoji:"🔥"},"highfees-"+c))}):l.jsx(l.Fragment,{})]})]})})]}):l.jsx(l.Fragment,{})},bue=({onRefresh:t})=>{var c,f;const[e,n]=_i(),[r,i]=x.useState(""),[s,u]=x.useState(ie.now()),a=x.useCallback(()=>{u(ie.now()),t()},[u,t]),o=x.useCallback(()=>{var h,p;const d=-(s.diffNow().toMillis()/1e3);if((h=e==null?void 0:e.autorefresh)!=null&&h.enabled&&d>(((p=e==null?void 0:e.autorefresh)==null?void 0:p.seconds)||Number.MAX_SAFE_INTEGER))a();else{if(d===0)return;i(s.toRelative()||"")}},[e,s,i,a]);return x.useEffect(()=>{o()},[s,o]),AY(()=>{o()},1e3),l.jsx("span",{className:"mx-2 flex whitespace-nowrap select-none",children:l.jsxs("div",{children:[l.jsxs("span",{children:["[",l.jsx("button",{className:"dchan-link",onClick:a,children:r||"Refreshing..."}),"]"]}),l.jsx(A0,{children:l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dchan-input-refresh-toggle",children:"Enable autorefresh"}),l.jsx("input",{id:"dchan-input-refresh-toggle",className:"mx-1 text-xs whitespace-nowrap",type:"checkbox",checked:(c=e==null?void 0:e.autorefresh)==null?void 0:c.enabled,onChange:d=>{e&&n({...e,autorefresh:{...e.autorefresh,enabled:d.target.checked}})}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dchan-input-autorefresh-interval",children:"Autorefresh interval (seconds)"}),l.jsx("input",{id:"dchan-input-autorefresh-interval",className:"mx-1 text-xs whitespace-nowrap",type:"number",min:"10",value:(f=e==null?void 0:e.autorefresh)==null?void 0:f.seconds,onChange:d=>{e&&n({...e,autorefresh:{...e.autorefresh,seconds:Number(d.target.value)}})}})]})]})})]})})};var Aue="Expected a function",wue=Math.max,Eue=Math.min;function cg(t,e,n){var r,i,s,u,a,o,c=0,f=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Aue);e=og(e)||0,Di(n)&&(f=!!n.leading,d="maxWait"in n,s=d?wue(og(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(k){var C=r,D=i;return r=i=void 0,c=k,u=t.apply(D,C),u}function v(k){return c=k,a=setTimeout(g,e),f?p(k):u}function m(k){var C=k-o,D=k-c,T=e-C;return d?Eue(T,s-D):T}function b(k){var C=k-o,D=k-c;return o===void 0||C>=e||C<0||d&&D>=s}function g(){var k=Zp();if(b(k))return y(k);a=setTimeout(g,m(k))}function y(k){return a=void 0,h&&r?p(k):(r=i=void 0,u)}function A(){a!==void 0&&clearTimeout(a),c=0,r=o=i=a=void 0}function w(){return a===void 0?u:y(Zp())}function F(){var k=Zp(),C=b(k);if(r=arguments,i=this,o=k,C){if(a===void 0)return v(o);if(d)return clearTimeout(a),a=setTimeout(g,e),p(o)}return a===void 0&&(a=setTimeout(g,e)),u}return F.cancel=A,F.flush=w,F}const f6=({search:t="",open:e=!0,onSearch:n=()=>{}})=>{const[r,i]=x.useState(t||""),s=x.useCallback(f=>{i(f)},[i]),u=x.useRef(null),a=x.useCallback(()=>{s(""),u!=null&&u.current&&(u.current.value="")},[s]),o=x.useMemo(()=>cg(n,500),[n]),c=x.useCallback(f=>{const d=f.target.value;i(d),o(d)},[o]);return l.jsxs("details",{className:"grid center self-center bg-secondary border border-secondary-accent p-1",open:e,children:[l.jsx("summary",{children:"Search"}),l.jsx("div",{children:l.jsx("input",{id:"dchan-search",className:"text-center w-32",ref:u,type:"text",placeholder:"...",value:r,onChange:c,autoFocus:!0})}),l.jsx("div",{className:"relative",children:t?l.jsxs("span",{className:"text-xs",children:["[",l.jsx("button",{className:"dchan-link",onClick:a,children:"Cancel"}),"]"]}):""})]})},xue=({onExit:t})=>{var d,h;const[e,n]=_i(),[r,i]=x.useState((d=e==null?void 0:e.subgraph)==null?void 0:d.endpoint),s=x.useCallback((p,v)=>{const m={...p};p.subgraph.endpoint=v,n(m)},[n]),u=x.useMemo(()=>cg(s,500),[s]),[a,o]=x.useState((h=e==null?void 0:e.content_filter)==null?void 0:h.score_threshold),c=x.useMemo(()=>cg((p,v)=>{const m={...p};p.content_filter.score_threshold=v,n(m)},500),[n]),f=x.useCallback(()=>{window.confirm("All settings will be reset to their default value. Are you sure?")||n(Ql),window.alert("Reset successful"),window.location.reload()},[n]);return l.jsxs("div",{className:"bg-secondary border-tertiary-accent border-2 flex flex-col h-full",children:[l.jsxs("div",{className:"mb-2 mt-1 px-3",style:{flex:"0 1 auto"},children:[l.jsx("div",{className:"float-left",children:l.jsx("span",{className:"font-bold",children:"4dchan.org Settings"})}),l.jsxs("div",{className:"float-right",children:[l.jsx("button",{className:"dchan-link",onClick:f,children:"Reset settings"}),l.jsx("span",{className:"px-2",children:"|"}),l.jsx("button",{onClick:t,children:l.jsx(de,{emoji:"❌"})})]})]}),l.jsxs("div",{className:"h-full overflow-y-scroll overscroll-contain",style:{flex:"1 1 auto"},children:[l.jsxs("fieldset",{className:"border border-tertiary-accent rounded px-4 pb-2 mx-2",children:[l.jsx("legend",{className:"font-bold",children:"Subgraph Endpoint"}),l.jsx("div",{children:"Endpoint used to query the subgraph for data."}),l.jsx("div",{children:"If you're having issues with boards/threads not loading, check if resetting to default fixes the issue first."}),l.jsx("button",{className:"border border-black px-1 mb-0.5 bg-primary",onClick:()=>{i(Ql.subgraph.endpoint),s(e,Ql.subgraph.endpoint)},children:"Reset to default"}),l.jsx("textarea",{className:"w-full",spellCheck:!1,onChange:p=>{i(p.target.value),u(e,p.target.value)},value:r})]}),l.jsxs("fieldset",{className:"border border-tertiary-accent rounded px-4 pb-2 mx-2",children:[l.jsx("legend",{className:"font-bold",children:"Filter Settings"}),l.jsxs("div",{className:"text-contrast",children:["⚠ By disabling/changing filters, it's possible you may view/download highly disturbing content, or content which may be illegal in your jurisdiction.",l.jsx("div",{children:"Do so at your own risk."})]}),l.jsx("input",{id:"dchan-input-show-below-threshold",className:"mx-1 text-xs whitespace-nowrap opacity-80 hover:opacity-100",type:"checkbox",checked:e==null?void 0:e.content_filter.show_below_threshold,onChange:p=>{if(!e)return;const v={...e};e.content_filter.show_below_threshold=p.target.checked,n(v)}}),l.jsx("label",{htmlFor:"dchan-input-show-below-threshold",children:"Show hidden content"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"dchan-input-score-threshold",children:"Score hide threshold"}),l.jsx("div",{children:l.jsx("input",{id:"dchan-input-score-threshold",className:"mx-1 text-xs whitespace-nowrap opacity-80 hover:opacity-100",type:"range",min:0,max:1,step:.1,value:a,onChange:p=>{if(!e)return;const v=parseFloat(p.target.value);o(v),c(e,v)}})}),l.jsx("div",{className:"text-sm",children:{0:"Show everything","0.1":"Hide heavily reported content","0.2":"Hide heavily reported content","0.3":"Hide heavily reported content","0.4":"Hide reported content","0.5":"Hide reported content","0.6":"Hide reported content","0.7":"Hide slighly reported content","0.8":"Hide slighly reported content","0.9":"Hide slighly reported content",1:"Only show content with no reports"}[a??"1"]})]})]})]})},Fue="You time traveled! The content is being displayed as it was shown to users at the specified date.",Cue=x.forwardRef(({startBlock:t,startRangeLabel:e,widgetClassName:n,open:r,onOpen:i},s)=>{var P;const[u,a]=x.useState(ie.now()),[o,c]=x.useState(),{currentBlock:f,nextBlock:d,travelToDateTime:h,travelToBlockNumber:p,travelToPreviousBlock:v,travelToNextBlock:m,travelToPresent:b,lastBlock:g,timeTraveledToBlockNumber:y,timeTraveledToDateTime:A,isPlayback:w,setIsPlayback:F,nextBlockPlaybackAt:k,travelToBeginning:C}=He(),D=f,T=x.useCallback(L=>{h(ie.fromISO(L))},[h]),N=x.useMemo(()=>cg(p,300),[p]),V=x.useCallback(L=>{N(Number(L))},[N]),H=x.useCallback(()=>{F(!1)},[F]),Q=x.useCallback(()=>{F(!0)},[F]),ne=x.useCallback(()=>{if(o==null)return;const L=prompt(`Block number: (range: ${o.min.number}-${o.max.number})`,(y||(g==null?void 0:g.number)||0).toString());if(L===null)return;const Y=parseInt(L||"");isNaN(Y)||Y<parseInt(o.min.number)||Y>parseInt(o.max.number)?alert(`Invalid block number: ${L}`):p(Number(L))},[o,p,y,g]);return x.useEffect(()=>{const L=setInterval(()=>a(ie.now()),1e3);return()=>clearInterval(L)}),x.useEffect(()=>{t&&g&&c({min:t,max:g})},[t,g,c]),l.jsxs("details",{className:"sm:relative",open:r,ref:s,children:[l.jsx("summary",{className:"list-none cursor-pointer w-full whitespace-nowrap",onClick:L=>{L.preventDefault()},children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mx-1",children:l.jsxs("span",{className:"hidden sm:flex center",onClick:i,children:[l.jsx("span",{className:"select-none",children:D?l.jsxs("span",{children:[l.jsx("strong",{children:l.jsxs("div",{className:"inline-block relative",title:`Time traveled to ${A}!`,children:[l.jsx("span",{className:"animation-pulse absolute",children:"Time Traveled"}),"Time Traveled"]})})," ","to"]}):l.jsx(l.Fragment,{})}),l.jsxs("span",{className:"ml-1 text-xs",children:["[",l.jsx("span",{className:"inline-block min-w-3rem",children:(A||u).toLocaleString(ie.DATETIME_SHORT_WITH_SECONDS)}),"]"]}),D?l.jsx("span",{className:"filter opacity-80 hover:opacity-100 pl-2",title:"Return to present time",onClick:b,children:l.jsx(de,{emoji:"⏩"})}):l.jsx("span",{className:"filter grayscale opacity-30 hover:opacity-100 pl-2",title:"Currently at present time",children:l.jsx(de,{emoji:"⏩"})})]})}),l.jsx("div",{className:"mx-1 sm:hidden",onClick:i,children:D?l.jsxs("abbr",{title:Fue,children:[l.jsx("span",{className:"animation-pulse absolute",children:l.jsx(de,{emoji:"⏪"})}),l.jsx(de,{emoji:"⏪"})]}):l.jsx("span",{className:"filter grayscale opacity-30",children:l.jsx(de,{emoji:"⏪"})})})]}):null}),l.jsx("div",{className:n,children:o?l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-1",children:[l.jsx("div",{className:"flex center text-xs my-1 ml-2",children:l.jsxs("span",{children:["[",l.jsx("input",{required:!0,type:"datetime-local",id:"dchan-timetravel-date-input",value:(P=(A||u).toISO())==null?void 0:P.slice(0,16),onChange:L=>T(L.target.value),min:Bl(o.min.timestamp).toISODate()||"",max:Bl(o.max.timestamp).toISODate()||""}),"]"]})}),l.jsx("div",{className:"grid align-center text-xs w-full",children:l.jsx("span",{className:"mx-auto",children:l.jsx("button",{className:"dchan-link",onClick:ne,children:`Block #${y||(g==null?void 0:g.number)||"????????"}`})})}),l.jsxs("div",{className:"text-xs bg-secondary",children:[l.jsxs("div",{className:"grid grid-cols-4 center text-center",children:[l.jsx("span",{className:"mx-1",children:e}),l.jsx("input",{className:"col-span-2",id:"timetravel",type:"range",min:parseInt(o.min.number),max:parseInt(o.max.number),onChange:L=>V(L.target.value),value:y||(g==null?void 0:g.number)})," ",l.jsx("span",{className:"mx-1",children:"Now"})]}),l.jsxs("div",{className:"grid grid-cols-4 center text-center",children:[l.jsxs("span",{className:"mx-1",children:[l.jsx("div",{children:Bl(o.min.timestamp).toLocaleString(ie.DATETIME_SHORT)}),l.jsxs("div",{children:["#",o.min.number]})]}),l.jsx("span",{className:"col-span-2"}),l.jsxs("span",{className:"mx-1",children:[l.jsx("div",{children:Bl(o.max.timestamp).toLocaleString(ie.DATETIME_SHORT)}),l.jsxs("div",{children:["#",o.max.number]})]})]}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex center",children:[l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:C,title:"Travel To Beginning",children:l.jsx(de,{emoji:"⏪"})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:v,title:"Travel To Previous Block",children:l.jsx(de,{emoji:"⬅️"})})}),l.jsx("div",{className:"text-xs text-center px-2",children:w?l.jsx("button",{className:"dchan-link",onClick:H,title:"Pause",children:l.jsx(de,{emoji:"⏸"})}):l.jsx("button",{className:"dchan-link",onClick:Q,title:"Start",children:l.jsx(de,{emoji:"▶️"})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:m,title:"Travel To Next Block",children:l.jsx(de,{emoji:"➡️"})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:b,title:"Travel To Present",children:l.jsx(de,{emoji:"⏩"})})})]}),l.jsx("div",{className:"flex center mt-1",children:w&&d&&k?l.jsx(l.Fragment,{children:l.jsxs("div",{children:["Next block in ",Math.max(0,Math.round((k-new Date().getTime())/1e3)),"s"]})}):""})]})})]})]}):l.jsx("div",{className:"bg-secondary border border-tertiary-accent border-solid p-1",children:"Cannot time travel here."})})]})}),Due=()=>{const{favorites:t,removeFavorite:e}=L2(),n=x.useMemo(()=>t?Object.keys(t):[],[t]),{data:r,loading:i,refetch:s}=ln(Z5,{variables:{ids:n},skip:!t}),[u,a]=x.useState(r);x.useEffect(()=>r&&a(r),[r,a]);const o=u==null?void 0:u.threads,c=x.useCallback(()=>s({ids:n}),[s,n]),f=mu(c,1,!0),d=e||(()=>({}));return t?l.jsx("div",{className:"bg-secondary border border-tertiary-accent p-1",children:i?l.jsx(Er,{}):n.length>0&&o&&o.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-1",children:["Watched threads:",l.jsxs("span",{className:"text-xs pl-2",children:["[",l.jsx("button",{className:"dchan-link",onClick:f,children:"Refresh"}),"]"]})]}),l.jsx("div",{className:"text-sm",children:o.map(h=>{const p=h.board;return l.jsxs("div",{children:[l.jsx("button",{onClick:()=>d(h),children:l.jsx(de,{emoji:"✖"})})," ",p?l.jsx("span",{children:l.jsx(Bo,{board:p})}):"",l.jsxs(Ce,{className:"dchan-link",to:`${Be.thread(h)}`,children:[" ","- (",h.replyCount,") -"," ",PP(h.subject||h.op.comment,{length:32})," ",h.isLocked?l.jsx(de,{emoji:"🔒"}):""," ",h.isPinned?l.jsx(de,{emoji:"📌"}):"",aP(h)?l.jsx(de,{emoji:"📁"}):""]})]},h.id)})})]}):l.jsxs("span",{children:["No threads are being watched. Use the ",l.jsx(de,{emoji:"⭐️"})," button on threads to keep track of them here."]})}):l.jsx("div",{className:"bg-secondary border border-tertiary-accent p-1",children:"..."})},kue=()=>{const{isAdmin:t}=ra(),{accounts:e}=wr();x.useEffect(()=>{window.scrollTo({top:0})},[]);const n=async()=>{await sn("admin:claim",{},e[0])},r=async()=>{const a=prompt("Whomst 0x?");alert(`Granting admin to ${a}`),await sn("admin:grant",{hex_address:a},e[0])},i=async()=>{const a=prompt("IPFS hash?"),o=prompt("Version?"),c=prompt("Channel?")||"",f=a&&o;alert(`${f?"Publishing":"Invalid"} '${a}', version '${o}' on channel '${c}'`),await f&&sn("client:publish",{ipfs_hash:a,version:o,channel:c},e[0])},s=async()=>{await sn("chan:lock",{},e[0])},u=async()=>{await sn("chan:unlock",{},e[0])};return l.jsxs("div",{className:"bg-primary min-h-100vh",children:[l.jsx(dP,{title:"Admin panel"}),l.jsx(c6,{}),t()?l.jsxs("div",{children:[l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:i,children:"Publish Client"})}),l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:n,children:"Claim Admin"})}),l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:r,children:"Grant Admin"})}),l.jsxs("div",{className:"center grid",children:[l.jsx("button",{onClick:s,children:"Lock"}),l.jsx("button",{onClick:u,children:"Unlock"})]}),l.jsx(Ce,{className:"m-4 dchan-link",to:"/",children:"Home"}),l.jsx(Uo,{})]}):""]})},Sue=()=>{var C;const t=Si(),{board_id:e,board_name:n}=Zu(),{timeTraveledToBlockNumber:r,lastBlock:i,currentBlock:s}=He(),[u,a]=x.useContext(Qg),o=Af.parse(t.search),c=parseInt(`${o.page||"1"}`),f=Un(),[d]=_i(),h=Number(r||(i==null?void 0:i.number)),p=100,v=x.useMemo(()=>Math.floor((s?parseInt(s.timestamp):ie.now().toSeconds())-60*60*24*30),[s]),m={board:e||"",block:h,orderDirection:((C=d==null?void 0:d.content_view)==null?void 0:C.board_sort_direction)||"desc",limit:p,cutoff:v,skip:p*(c-1)},{refetch:b,data:g,loading:y}=ln(T5,{variables:m}),{loading:A,data:w}=ln(ON,{skip:!h,variables:{board:e||"",block:h}}),F=w==null?void 0:w.board,k=x.useMemo(()=>[...(g==null?void 0:g.pinned)||[],...(g==null?void 0:g.threads)||[]],[g]);return x.useEffect(()=>{window.scrollTo({top:0})},[F==null?void 0:F.id]),x.useEffect(()=>{F&&F.name!==n&&f(`/${F.id}`,{replace:!0})},[F,n,f]),x.useEffect(()=>{b()},[h,b]),wy(A?`Loading... - 4dchan.org - [${e}]`:F?`/${F.name}/ - 4dchan.org - [${F.id}]`:`??? - 4dchan.org - [${e}]`),x.useEffect(()=>{F&&a(F!=null&&F.isNsfw?"nsfw":"blueboard")},[F,a]),l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":u,children:[l.jsxs("div",{children:[l.jsx(by,{board:F,summary:y?l.jsx("span",{children:"..."}):l.jsx("span",{className:"font-bold",children:"Displaying threads without replies after 30 days"}),onRefresh:b,archive:!0}),l.jsxs("div",{children:[F===null?l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"text-xs p-2",children:e}),l.jsx("br",{}),"Board does not exist.",isNaN(h)?"":l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"You may have time traveled to before it was created, or after it was deleted."]})]}):y&&!g?l.jsx("div",{className:"center grid",children:l.jsx(Er,{})}):F&&k?k.length===0?l.jsx("div",{className:"center grid p-8",children:"No threads."}):l.jsx("div",{className:"center flex",children:l.jsxs("table",{className:"w-full md:w-4/5 xl:w-3/5 border-separate mt-4 text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-2",children:"No."}),l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-full max-w-75vw",children:"Excerpt"}),l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-2"})]})}),l.jsx("tbody",{children:k.map((D,T)=>l.jsxs("tr",{className:T%2===1?"bg-primary":"bg-secondary",children:[l.jsx("td",{children:D.n}),l.jsxs("td",{className:"text-left whitespace-nowrap truncate max-w-75vw",children:[D.subject?l.jsxs("b",{children:[D.subject,":"]}):""," ",D.op.comment]}),l.jsxs("td",{children:["[",l.jsx(Ce,{className:"dchan-link",to:Be.thread(D)||"#",children:"View"}),"]"]})]}))})]})}):l.jsx("div",{}),F?l.jsxs("div",{children:[l.jsx("hr",{}),l.jsx(Nd,{url:t.pathname,page:c,hasNextPage:k.length>=p}),l.jsx(vy,{to:"#board-header",label:"Top"})]}):""]})]}),l.jsx(Uo,{showContentDisclaimer:!0})]})},e3=()=>{var V,H,Q,ne;const t=Zu(),{board_id:e}=t,{timeTraveledToBlockNumber:n,lastBlock:r}=He(),{currentBlock:i}=He(),s=Af.parse(location.search),u=parseInt(`${s.page||"1"}`),[a]=_i(),o=x.useMemo(()=>Math.floor((i?parseInt(i.timestamp):ie.now().toSeconds())-60*60*24*30),[i]),[c,f]=x.useContext(Qg),d=Number(n||(r==null?void 0:r.number)),h=t.view_mode||((V=a==null?void 0:a.content_view)==null?void 0:V.board_default_view_mode)||"catalog",p=((H=a==null?void 0:a.content_view)==null?void 0:H.board_sort_threads_by)||"lastBumpedAt",v=parseInt(`${((Q=a==null?void 0:a.content_view)==null?void 0:Q.page_size)||"100"}`),m={board:e||"",block:d,orderBy:p,orderDirection:((ne=a==null?void 0:a.content_view)==null?void 0:ne.board_sort_direction)||"desc",limit:v,skip:v*(u-1),cutoff:o},{refetch:b,data:g,loading:y}=ln(P5,{variables:m}),{loading:A,data:w}=ln(ON,{skip:!d,variables:{board:e||"",block:d}}),[F,k]=x.useState(w);x.useEffect(()=>w&&k(w),[w,k]);const C=F==null?void 0:F.board,D=x.useMemo(()=>[...(g==null?void 0:g.pinned)||[],...(g==null?void 0:g.threads)||[]],[g]);x.useEffect(()=>{window.scrollTo({top:0})},[C==null?void 0:C.id]),x.useEffect(()=>{b()},[d,p,b]);const T=(D||[]).filter(P=>{var L,Y;return((L=a==null?void 0:a.content_filter)==null?void 0:L.show_below_threshold)||!uP(P,(Y=a==null?void 0:a.content_filter)==null?void 0:Y.score_threshold)});wy(A?`Loading... - 4dchan.org - [${e}]`:C?`/${C.name}/ - 4dchan.org - [${C.id}]`:`??? - 4dchan.org - [${e}]`),x.useEffect(()=>{C&&f(C!=null&&C.isNsfw?"nsfw":"blueboard")},[C,f]);const N=x.useCallback(()=>{gi.publish("WIDGET_OPEN",wf.TIMETRAVEL)},[]);return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":c,children:[l.jsxs("div",{children:[l.jsx(by,{board:C,summary:y?l.jsx("span",{children:"..."}):l.jsxs("span",{children:["Threads: ",D.length," (Hidden:"," ",D.length-T.length,"), Posts: ",C==null?void 0:C.postCount]}),onRefresh:b}),l.jsxs("div",{children:[C===null?l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"text-xs p-2",children:e}),l.jsx("br",{}),"Board does not exist.",isNaN(d)?"":l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"You may have time traveled to before it was created, or after it was deleted."]})]}):y&&!g?l.jsx("div",{className:"center grid",children:l.jsx(Er,{})}):C&&D?D.length===0?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"p-2",children:"No threads."}),l.jsx("button",{className:"dchan-link dchan-brackets p-2",onClick:N,children:"Time Travel"}),l.jsx(Ce,{className:"dchan-link dchan-brackets p-2",to:Be.board(C,"archive")??"",children:"Archive"})]})}):l.jsx("div",{children:({catalog:()=>l.jsx($J,{board:C,threads:T}),index:()=>l.jsx(Xp,{board:C,threads:T})}[h]||(()=>l.jsx(l.Fragment,{})))()}):l.jsx("div",{}),C?l.jsxs("div",{children:[l.jsx("hr",{}),l.jsx(Nd,{url:location.pathname,page:u,hasNextPage:D.length>=v}),l.jsx(vy,{to:"#board-header",label:"Top"})]}):""]})]}),l.jsx(Uo,{showContentDisclaimer:!0})]})};function Bue(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Oue(t){return t!==t}function Nue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function _ue(t,e,n){return e===e?Nue(t,e,n):Bue(t,Oue,n)}function Tue(t,e){var n=t==null?0:t.length;return!!n&&_ue(t,e,0)>-1}function Pue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function jue(){}var Iue=1/0,Rue=Jl&&1/Q2(new Jl([,-0]))[1]==Iue?function(t){return new Jl(t)}:jue,Lue=200;function Mue(t,e,n){var r=-1,i=Tue,s=t.length,u=!0,a=[],o=a;if(n)u=!1,i=Pue;else if(s>=Lue){var c=e?null:Rue(t);if(c)return Q2(c);u=!1,i=mP,o=new bh}else o=e?[]:a;e:for(;++r<s;){var f=t[r],d=e?e(f):f;if(f=n||f!==0?f:0,u&&d===d){for(var h=o.length;h--;)if(o[h]===d)continue e;e&&o.push(d),a.push(f)}else i(o,d,n)||(o!==a&&o.push(d),a.push(f))}return a}function $ue(t,e){return t&&t.length?Mue(t,AP(e)):[]}const t3=()=>{const t=Si(),{id:e}=Zu(),n=Un(),r=Af.parse(t.search),i=`${e||""}`||(Ay(r.s)?r.s:""),{timeTraveledToBlockNumber:s}=He(),{refetch:u,data:a,loading:o}=ln(s?I5:R5,{fetchPolicy:s?"cache-first":"network-only",variables:{searchName:i,searchTitle:i.length>1?`${i}:*`:"",block:s},skip:!i}),c=x.useCallback(d=>{n(Be.boards({search:d}))},[n]);x.useEffect(()=>{u()},[i,u]),x.useEffect(()=>{window.scrollTo({top:0})},[i]);const f=a&&(a.searchByTitle||a.searchByName)?$ue([...a.searchByName,...a.searchByTitle],"id"):[];return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col",children:[l.jsx(dP,{title:"Boards"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"flex center pb-1",children:l.jsx(f6,{baseUrl:`${Be.boards()}${s?`?block=${s}`:""}`,search:i,onSearch:c})}),l.jsxs("div",{className:"",children:[o?l.jsx("div",{className:"center grid",children:l.jsx(Er,{})}):i?l.jsx("div",{className:"center flex",children:l.jsx("div",{className:"p-2",children:f.length>0?l.jsx(rs,{title:l.jsxs("span",{children:['Results for "',i,'"']}),className:"pt-4",children:l.jsx(Jp,{boards:f})}):"No boards found"})}):l.jsx(l.Fragment,{children:l.jsx("div",{className:"center flex",children:l.jsx("div",{className:"max-w-xl",children:l.jsx(sP,{})})})}),l.jsx("div",{className:"center flex sticky bottom-0",children:l.jsx("div",{className:"",children:l.jsx(RJ,{})})})]})]}),l.jsx(Uo,{})]})},Uue=()=>{wy("4dchan.org");const[t,e]=x.useState(),[n,r]=x.useState();x.useEffect(()=>{window.scrollTo({top:0})},[]);const i=x.useCallback(s=>{s.preventDefault(),r(void 0),e(void 0)},[r]);return x.useEffect(()=>{const s=gi.subscribe("BOARD_ITEM_SELECT",(u,a)=>{r(a),e(a)});return()=>{gi.unsubscribe(s)}},[r]),l.jsxs("div",{className:"h-screen bg-primary flex flex-col pb-2",children:[l.jsx(z2,{}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute ",children:l.jsx(H2,{})}),l.jsx("div",{className:"ml-28 lg:ml-64 h-20 overflow-scroll-disabled text-xs"})]}),l.jsx("hr",{}),l.jsxs("div",{className:"mt-2 flex flex-grow flex-col lg:grid-cols-2 lg:grid px-4 text-sm",children:[l.jsx("div",{children:l.jsx(rs,{title:"Boards",titleRight:l.jsx(l.Fragment,{children:t!=null?l.jsxs("div",{className:"absolute top-0 right-0",children:["[",l.jsx("div",{className:"inline dchan-link",onClick:i,children:"Clear Board"}),"]"]}):""}),className:"md:px-1 w-full pb-4",bodyClassName:"p-none b-none",children:l.jsx(BY,{highlight:n})})}),l.jsx("div",{children:l.jsx(rs,{title:l.jsxs("span",{children:["Threads"," ",t?l.jsxs("span",{children:["on ",l.jsx(Bo,{board:t})]}):""]}),className:"md:px-1 w-full pb-4",bodyClassName:"p-none b-none",children:l.jsx(cue,{limit:10,board:t})})})]}),l.jsx(Uo,{})]})},Vue=()=>{const[t,e]=x.useState(),n=Un(),{id:r}=Zu(),{timeTraveledToBlockNumber:i}=He(),s=i?G5:W5,{data:u}=ln(s,{variables:{id:r||"",block:i},fetchPolicy:"cache-and-network",pollInterval:1e4});return x.useEffect(()=>{if(u){let a=null;const{boardRef:o,threadRef:c,postRef:f}=u;let{board:d,thread:h,post:p}=u;!d&&o?d=o.board:!h&&c?h=c.thread:!p&&f&&(p=f.post);const v=i?`?block=${i}`:"";d?a=`${Be.board(d)}${v}`:h?a=`${Be.thread(h)}${v}`:p&&(a=`${Be.post(p)}${v}`),(d||h||p)&&!a&&e("Content not found. It may have been deleted, or the ID is invalid."),a&&n(a,{replace:!0})}},[u,i,n]),l.jsx("div",{className:"bg-primary center grid w-screen h-screen",children:t?l.jsx(oP,{subject:"Not found",children:l.jsx("span",{children:t})}):l.jsxs("div",{children:[l.jsx(Er,{}),l.jsx("div",{className:"text-xs dchan-link",children:r}),l.jsx("div",{children:l.jsx(lg,{children:l.jsx("span",{children:(r==null?void 0:r.indexOf("0x"))===0?"The content is being indexed, please wait...":"Are you sure it's a valid ID?"})})})]})})},Hue=()=>{const t=Si(),e=Af.parse(t.search),n=e.s||e.search,r=Ay(n)?n:"",i=parseInt(`${e.page||"1"}`),{timeTraveledToBlockNumber:s}=He(),[u]=_i(),a=Un(),o=100,c={block:s,search:r.length>1?`${r.trim().split(" ").join(" & ")}`:"*:*",limit:o,skip:(i-1)*o},{refetch:f,data:d,loading:h}=ln(s?z5:Q5,{variables:c}),p=x.useMemo(()=>{const{postSearch:b}=d||{};return PZ((b||[]).filter(g=>g&&g.thread&&g.board))},[d]);x.useEffect(()=>{window.scrollTo({top:0})},[r]),x.useEffect(()=>{f()},[r,s,f]);const v=x.useCallback(b=>{a(Be.posts({search:b}))},[a]),m=x.useMemo(()=>d&&d.postSearch.length>=0,[d]);return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":"blueboard",children:[l.jsx(by,{board:null,title:"Posts",summary:p?l.jsxs("span",{children:["Found: ",p.length," posts (Hidden:"," ",p.filter(b=>{var g;return G2(b,(g=u==null?void 0:u.content_filter)==null?void 0:g.score_threshold)}).length,")"]}):l.jsx("span",{children:"..."}),onRefresh:f}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex justify-center md:justify-start p-2",children:[l.jsx(f6,{baseUrl:`${Be.posts({search:r})}${s?`?block=${s}`:""}`,search:r,open:!0,onSearch:v}),h?l.jsx("span",{}):l.jsx("span",{className:"grid center bg-secondary border border-secondary-accent mx-2",children:l.jsx(Nd,{page:i,url:Be.posts({search:r}),hasNextPage:m})})]}),l.jsx("div",{className:"p-2",children:l.jsx("hr",{})}),h?l.jsx("div",{className:"center grid",children:l.jsx(Er,{})}):p&&p.length?l.jsxs("div",{children:[l.jsx("div",{children:p==null?void 0:p.map(b=>{var g,y,A,w;return l.jsx("div",{className:"p-2 flex flex-wrap",children:l.jsx(Ah,{post:b,header:l.jsxs("span",{children:[l.jsxs("span",{className:"p-1",children:["[",l.jsx("span",{className:"p-1",children:l.jsxs(Ce,{className:"dchan-link",to:`/${(g=b.board)==null?void 0:g.name}/${(y=b.board)==null?void 0:y.id}`,children:["/",(A=b.board)==null?void 0:A.name,"/",l.jsx(b0,{id:((w=b.board)==null?void 0:w.id)||"0x000000"})]})}),"]"]}),l.jsxs("span",{className:"p-1",children:["[",l.jsx(Ce,{to:`/${b.id}`,className:"dchan-link",children:"View"}),"]"]})]})},b.id)},b.id)})}),l.jsx(Nd,{page:i,url:Be.posts({search:r}),hasNextPage:m})]}):r?l.jsx("div",{className:"py-4",children:"No results"}):l.jsxs("div",{children:[l.jsx(DY,{limit:25,skip:i>1?i*25:0}),l.jsx(Nd,{page:i,url:Be.posts({search:r}),hasNextPage:m})]})]}),l.jsx(Uo,{showContentDisclaimer:!0})]})},zue=()=>{const t=Zu(),[e,n]=x.useState(),r=Un(),{board_name:i,board_id:s}=t,u=`${i}/${s}`,{timeTraveledToBlockNumber:a}=He(),{loading:o,data:c,error:f}=ln(a?PC.query_ref_by_block:PC.query_ref,{variables:{id:i||"",post_n:s||"",post_ref:u,block:a}});return x.useEffect(()=>{f&&n(JSON.stringify(f,null,2).repeat(100))},[f]),x.useEffect(()=>{if(c){let d=null,h=null,p=null;const{threads:v,posts:m,postRef:b}=c;v&&v.length>0?h=v[0]:m&&m.length>0?p=m[0]:b&&(p=b.post);const g=a?`?block=${a}`:"";h?d=`${Be.thread(h)}${g}`:p&&(d=`${Be.post(p)}${g}`),(h||p||b)&&!d&&n("Content not found. It may have been deleted, or the ID is invalid."),d&&r(d,{replace:!0})}},[c,a,r]),l.jsx("div",{className:"bg-primary center grid w-screen h-screen",children:e?l.jsx(oP,{subject:"Something went wrong",children:l.jsx("pre",{className:"text-left",children:e})}):l.jsxs("div",{children:[o?l.jsx(Er,{}):"",l.jsxs("div",{className:"text-xs",children:[i,"/",s]})]})})},ed=()=>{var k,C;const t=Zu(),{board_name:e,board_id:n,user_id:r,thread_n:i,focus_user_id:s,focus_post_n:u}=t,a=Un(),{publish:o}=hf(),{timeTraveledToBlockNumber:c}=He(),[f,d]=x.useContext(Qg),h={board:n||"",n:i||"",block:c},{refetch:p,data:v,loading:m}=ln(c?Y5:J5,{variables:h}),[b,g]=x.useState(v);x.useEffect(()=>v&&g(v),[v,g]);const y=(k=b==null?void 0:b.posts)==null?void 0:k[0],A=b==null?void 0:b.board,w=(C=b==null?void 0:b.threads)==null?void 0:C[0],F=x.useMemo(()=>w?[w.op,...w.replies||w.lastReplies]:[],[w]);return x.useEffect(()=>{window.scrollTo({top:0})},[w==null?void 0:w.id]),x.useEffect(()=>{const D=!w&&y?Be.post(y):void 0;D&&a(`${D}${c?`?block=${c}`:""}`,{replace:!0})},[a,w,c,y]),x.useEffect(()=>{const D=!m&&(s||u)?F.filter(T=>{const N=!s||T.from.id===s||`0x${m0(T.from.id).replace("-","")}`===s,V=!u||T.n===u;return N&&V}):[];if(D.length>0){const T=D[0];a(`${Be.post(T)}${c?`?block=${c}`:""}`,{replace:!0}),o("POST_FOCUS",T)}else!m&&s&&u&&a(`/${s}/${u}`,{replace:!0})},[F,s,u,c,m,o,a]),x.useEffect(()=>{if(A&&w&&(e!==A.name||r!==w.op.from.id)){const D=Be.thread(w);D&&a(`${D}${c?`?block=${c}`:""}`,{replace:!0})}},[A,w,e,r,a,c]),x.useEffect(()=>{p({block:c})},[c,p]),x.useEffect(()=>{A&&d(A!=null&&A.isNsfw?"nsfw":"blueboard")},[A,d]),wy(A&&w?`/${A.name}/ - ${w.subject||w.op.comment} - 4dchan.org - [${w.id}]`:`/${n}/ - Loading... - 4dchan.org`),l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":f,children:[l.jsx(by,{board:A,thread:w,summary:m?l.jsx("span",{children:"..."}):l.jsxs("span",{children:["Posts: ",F.length]}),onRefresh:p}),l.jsx("div",{className:"flex-grow",children:F&&w?l.jsxs("div",{children:[l.jsx("div",{children:F.map(D=>{var T;return l.jsx(Ah,{post:D,thread:w,enableBacklinks:!0,showNsfw:(T=w.board)==null?void 0:T.isNsfw},D.id)})}),l.jsx("div",{className:"flex text-xs mt-2 pr-1 sticky bottom-0 z-30 pointer-events-none",children:l.jsxs("span",{className:"flex bg-primary pl-2 rounded select-none pointer-events-auto",children:[l.jsx("span",{className:"pr-1",children:l.jsx(vy,{to:"#board-header",label:"Top"})}),l.jsx("span",{className:"pr-1",children:l.jsxs("div",{children:["[",l.jsx("button",{className:"dchan-link",onClick:()=>{var D,T;(D=document.getElementById("board-header"))==null||D.scrollIntoView(),(T=document.getElementById("dchan-post-form-textarea"))==null||T.focus()},children:"Reply"}),"]"]})})]})})]}):m?l.jsx("div",{className:"center grid",children:l.jsx(Er,{})}):l.jsx("div",{className:"p-4",children:"Thread not found."})}),l.jsx(Uo,{showContentDisclaimer:F&&w&&!0})]})},Que=({children:t})=>{const e=x.useState(!1),n=x.useState("blueboard"),r=x.useState(null),i=x.useMemo(()=>__,[]);return l.jsx(v5,{client:i,children:l.jsx(zQ,{children:l.jsx(mU,{children:l.jsx(Qg.Provider,{value:n,children:l.jsx(_N.Provider,{value:e,children:l.jsx(v0.Provider,{value:r,children:t})})})})})})},Gue=({children:t})=>{const{isTimeTraveling:e,firstBlock:n,lastBlock:r,timeTraveledToBlockNumber:i}=He(),u=(()=>{if(!e||!n||!r||!i)return 0;const a=Number(r.number)-Number(n.number),o=(Number(r.number)-Number(i))/a;return .1+Math.min(o,1)*.5})();return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{filter:`sepia(${u})`},children:t}),e&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:9999,boxShadow:"inset 0 0 150px rgba(0,0,0,0.8)"}})]})};function Wue(){const[t]=TO(),{isTimeTraveling:e}=He();console.log("isTimeTraveling",e);const n=()=>{const{id:i}=Zu();return(i==null?void 0:i.indexOf("0x"))===0?l.jsx(Vue,{}):l.jsx(t3,{})},r=()=>{const{board_name:i}=Zu();return(i==null?void 0:i.indexOf("0x"))===0?l.jsx(zue,{}):l.jsx(e3,{})};return t===!1?l.jsx(GJ,{}):l.jsx(PR,{basename:"/",children:l.jsx(Que,{children:l.jsxs(Gue,{children:[l.jsx(eJ,{}),l.jsx(NO,{}),l.jsx(kY,{}),l.jsxs("div",{className:"App text-center",children:[l.jsxs(kR,{children:[l.jsx(Qn,{path:"/",element:l.jsx(Uue,{})}),l.jsx(Qn,{path:"_/boards",element:l.jsx(t3,{})}),l.jsx(Qn,{path:"_/admin",element:l.jsx(kue,{})}),l.jsx(Qn,{path:"_/posts",element:l.jsx(Hue,{})}),l.jsx(Qn,{path:":id",element:l.jsx(n,{})}),l.jsx(Qn,{path:":board_name/:board_id",element:l.jsx(r,{})}),l.jsx(Qn,{path:":board_name/:board_id/archive",element:l.jsx(Sue,{})}),l.jsx(Qn,{path:":board_name/:board_id/:view_mode",element:l.jsx(e3,{})}),l.jsx(Qn,{path:":board_name/:board_id/:user_id/:thread_n/:focus_user_id/:focus_post_n",element:l.jsx(ed,{})}),l.jsx(Qn,{path:":board_name/:board_id/:user_id/:thread_n/:focus_user_id",element:l.jsx(ed,{})}),l.jsx(Qn,{path:":board_name/:board_id/:user_id/:thread_n/:focus_post_n",element:l.jsx(ed,{})}),l.jsx(Qn,{path:":board_name/:board_id/:user_id/:thread_n/:post_n",element:l.jsx(ed,{})}),l.jsx(Qn,{path:":board_name/:board_id/:user_id/:thread_n",element:l.jsx(ed,{})})]}),l.jsx(SY,{})]})]})})})}Qv.createRoot(document.getElementById("root")).render(l.jsx(Ct.StrictMode,{children:l.jsx(Wue,{})}));export{Gn as _,n3 as g,Nie as p,x as r,t1 as u};
