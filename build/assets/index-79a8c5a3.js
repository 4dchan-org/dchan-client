var dj=Object.defineProperty;var hj=(t,e,r)=>e in t?dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var W=(t,e,r)=>(hj(t,typeof e!="symbol"?e+"":e,r),r),Ug=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var _=(t,e,r)=>(Ug(t,e,"read from private field"),r?r.call(t):e.get(t)),q=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$=(t,e,r,n)=>(Ug(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),yf=(t,e,r,n)=>({set _(i){$(t,e,i,r)},get _(){return _(t,e,n)}}),te=(t,e,r)=>(Ug(t,e,"access private method"),r);var pae=pj((yn,Lr)=>{function mj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var pO={exports:{}},ky={},mO={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=Symbol.for("react.element"),yj=Symbol.for("react.portal"),gj=Symbol.for("react.fragment"),vj=Symbol.for("react.strict_mode"),Aj=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),wj=Symbol.for("react.context"),Ej=Symbol.for("react.forward_ref"),xj=Symbol.for("react.suspense"),Fj=Symbol.for("react.memo"),Cj=Symbol.for("react.lazy"),A2=Symbol.iterator;function Sj(t){return t===null||typeof t!="object"?null:(t=A2&&t[A2]||t["@@iterator"],typeof t=="function"?t:null)}var yO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gO=Object.assign,vO={};function Jc(t,e,r){this.props=t,this.context=e,this.refs=vO,this.updater=r||yO}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AO(){}AO.prototype=Jc.prototype;function dw(t,e,r){this.props=t,this.context=e,this.refs=vO,this.updater=r||yO}var hw=dw.prototype=new AO;hw.constructor=dw;gO(hw,Jc.prototype);hw.isPureReactComponent=!0;var b2=Array.isArray,bO=Object.prototype.hasOwnProperty,pw={current:null},wO={key:!0,ref:!0,__self:!0,__source:!0};function EO(t,e,r){var n,i={},s=null,u=null;if(e!=null)for(n in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(s=""+e.key),e)bO.call(e,n)&&!wO.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Hh,type:t,key:s,ref:u,props:i,_owner:pw.current}}function Dj(t,e){return{$$typeof:Hh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hh}function kj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var w2=/\/+/g;function Vg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kj(""+t.key):e.toString(36)}function b0(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Hh:case yj:u=!0}}if(u)return u=t,i=i(u),t=n===""?"."+Vg(u,0):n,b2(i)?(r="",t!=null&&(r=t.replace(w2,"$&/")+"/"),b0(i,e,r,"",function(c){return c})):i!=null&&(mw(i)&&(i=Dj(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(w2,"$&/")+"/")+t)),e.push(i)),1;if(u=0,n=n===""?".":n+":",b2(t))for(var a=0;a<t.length;a++){s=t[a];var o=n+Vg(s,a);u+=b0(s,e,r,o,i)}else if(o=Sj(t),typeof o=="function")for(t=o.call(t),a=0;!(s=t.next()).done;)s=s.value,o=n+Vg(s,a++),u+=b0(s,e,r,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Op(t,e,r){if(t==null)return t;var n=[],i=0;return b0(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Oj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $r={current:null},w0={transition:null},_j={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:w0,ReactCurrentOwner:pw};_e.Children={map:Op,forEach:function(t,e,r){Op(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Op(t,function(){e++}),e},toArray:function(t){return Op(t,function(e){return e})||[]},only:function(t){if(!mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Jc;_e.Fragment=gj;_e.Profiler=Aj;_e.PureComponent=dw;_e.StrictMode=vj;_e.Suspense=xj;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_j;_e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=gO({},t.props),i=t.key,s=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,u=pw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)bO.call(e,o)&&!wO.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Hh,type:t.type,key:i,ref:s,props:n,_owner:u}};_e.createContext=function(t){return t={$$typeof:wj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bj,_context:t},t.Consumer=t};_e.createElement=EO;_e.createFactory=function(t){var e=EO.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:Ej,render:t}};_e.isValidElement=mw;_e.lazy=function(t){return{$$typeof:Cj,_payload:{_status:-1,_result:t},_init:Oj}};_e.memo=function(t,e){return{$$typeof:Fj,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=w0.transition;w0.transition={};try{t()}finally{w0.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return $r.current.useCallback(t,e)};_e.useContext=function(t){return $r.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return $r.current.useDeferredValue(t)};_e.useEffect=function(t,e){return $r.current.useEffect(t,e)};_e.useId=function(){return $r.current.useId()};_e.useImperativeHandle=function(t,e,r){return $r.current.useImperativeHandle(t,e,r)};_e.useInsertionEffect=function(t,e){return $r.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return $r.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return $r.current.useMemo(t,e)};_e.useReducer=function(t,e,r){return $r.current.useReducer(t,e,r)};_e.useRef=function(t){return $r.current.useRef(t)};_e.useState=function(t){return $r.current.useState(t)};_e.useSyncExternalStore=function(t,e,r){return $r.current.useSyncExternalStore(t,e,r)};_e.useTransition=function(){return $r.current.useTransition()};_e.version="18.2.0";mO.exports=_e;var k=mO.exports;const Cr=hO(k),xO=mj({__proto__:null,default:Cr},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=k,Bj=Symbol.for("react.element"),Tj=Symbol.for("react.fragment"),Nj=Object.prototype.hasOwnProperty,jj=Pj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ij={key:!0,ref:!0,__self:!0,__source:!0};function FO(t,e,r){var n,i={},s=null,u=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(u=e.ref);for(n in e)Nj.call(e,n)&&!Ij.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Bj,type:t,key:s,ref:u,props:i,_owner:jj.current}}ky.Fragment=Tj;ky.jsx=FO;ky.jsxs=FO;pO.exports=ky;var l=pO.exports,N1={},CO={exports:{}},En={},SO={exports:{}},DO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var j=T.length;T.push(R);e:for(;0<j;){var I=j-1>>>1,V=T[I];if(0<i(V,R))T[I]=R,T[j]=V,j=I;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],j=T.pop();if(j!==R){T[0]=j;e:for(var I=0,V=T.length,re=V>>>1;I<re;){var Z=2*(I+1)-1,ge=T[Z],he=Z+1,Ce=T[he];if(0>i(ge,j))he<V&&0>i(Ce,ge)?(T[I]=Ce,T[he]=j,I=he):(T[I]=ge,T[Z]=j,I=Z);else if(he<V&&0>i(Ce,j))T[I]=Ce,T[he]=j,I=he;else break e}}return R}function i(T,R){var j=T.sortIndex-R.sortIndex;return j!==0?j:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,a=u.now();t.unstable_now=function(){return u.now()-a}}var o=[],c=[],f=1,d=null,p=3,m=!1,w=!1,b=!1,F=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=T)n(c),R.sortIndex=R.expirationTime,e(o,R);else break;R=r(c)}}function C(T){if(b=!1,x(T),!w)if(r(o)!==null)w=!0,H(S);else{var R=r(c);R!==null&&M(C,R.startTime-T)}}function S(T,R){w=!1,b&&(b=!1,E(h),h=-1),m=!0;var j=p;try{for(x(R),d=r(o);d!==null&&(!(d.expirationTime>R)||T&&!D());){var I=d.callback;if(typeof I=="function"){d.callback=null,p=d.priorityLevel;var V=I(d.expirationTime<=R);R=t.unstable_now(),typeof V=="function"?d.callback=V:d===r(o)&&n(o),x(R)}else n(o);d=r(o)}if(d!==null)var re=!0;else{var Z=r(c);Z!==null&&M(C,Z.startTime-R),re=!1}return re}finally{d=null,p=j,m=!1}}var O=!1,g=null,h=-1,v=5,y=-1;function D(){return!(t.unstable_now()-y<v)}function P(){if(g!==null){var T=t.unstable_now();y=T;var R=!0;try{R=g(!0,T)}finally{R?N():(O=!1,g=null)}}else O=!1}var N;if(typeof A=="function")N=function(){A(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=P,N=function(){L.postMessage(null)}}else N=function(){F(P,0)};function H(T){g=T,O||(O=!0,N())}function M(T,R){h=F(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,H(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var j=p;p=R;try{return T()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var j=p;p=T;try{return R()}finally{p=j}},t.unstable_scheduleCallback=function(T,R,j){var I=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?I+j:I):j=I,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,T={id:f++,callback:R,priorityLevel:T,startTime:j,expirationTime:V,sortIndex:-1},j>I?(T.sortIndex=j,e(c,T),r(o)===null&&T===r(c)&&(b?(E(h),h=-1):b=!0,M(C,j-I))):(T.sortIndex=V,e(o,T),w||m||(w=!0,H(S))),T},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(T){var R=p;return function(){var j=p;p=R;try{return T.apply(this,arguments)}finally{p=j}}}})(DO);SO.exports=DO;var Rj=SO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=k,An=Rj;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OO=new Set,Td={};function Bo(t,e){Tc(t,e),Tc(t+"Capture",e)}function Tc(t,e){for(Td[t]=e,t=0;t<e.length;t++)OO.add(e[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j1=Object.prototype.hasOwnProperty,Lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E2={},x2={};function Mj(t){return j1.call(x2,t)?!0:j1.call(E2,t)?!1:Lj.test(t)?x2[t]=!0:(E2[t]=!0,!1)}function $j(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Uj(t,e,r,n){if(e===null||typeof e>"u"||$j(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,r,n,i,s,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=u}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var yw=/[\-:]([a-z])/g;function gw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yw,gw);dr[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yw,gw);dr[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yw,gw);dr[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function vw(t,e,r,n){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Uj(e,r,i,n)&&(r=null),n||i===null?Mj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var qs=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),il=Symbol.for("react.portal"),sl=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),PO=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),du=Symbol.for("react.lazy"),BO=Symbol.for("react.offscreen"),F2=Symbol.iterator;function gf(t){return t===null||typeof t!="object"?null:(t=F2&&t[F2]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Hg;function Gf(t){if(Hg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hg=e&&e[1]||""}return`
`+Hg+t}var zg=!1;function Wg(t,e){if(!t||zg)return"";zg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),u=i.length-1,a=s.length-1;1<=u&&0<=a&&i[u]!==s[a];)a--;for(;1<=u&&0<=a;u--,a--)if(i[u]!==s[a]){if(u!==1||a!==1)do if(u--,a--,0>a||i[u]!==s[a]){var o=`
`+i[u].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=u&&0<=a);break}}}finally{zg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gf(t):""}function Vj(t){switch(t.tag){case 5:return Gf(t.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return t=Wg(t.type,!1),t;case 11:return t=Wg(t.type.render,!1),t;case 1:return t=Wg(t.type,!0),t;default:return""}}function M1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sl:return"Fragment";case il:return"Portal";case I1:return"Profiler";case Aw:return"StrictMode";case R1:return"Suspense";case L1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PO:return(t.displayName||"Context")+".Consumer";case _O:return(t._context.displayName||"Context")+".Provider";case bw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ww:return e=t.displayName||null,e!==null?e:M1(t.type)||"Memo";case du:e=t._payload,t=t._init;try{return M1(t(e))}catch{}}return null}function Hj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M1(e);case 8:return e===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ia(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zj(t){var e=TO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pp(t){t._valueTracker||(t._valueTracker=zj(t))}function NO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=TO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function nm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $1(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function C2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ia(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jO(t,e){e=e.checked,e!=null&&vw(t,"checked",e,!1)}function U1(t,e){jO(t,e);var r=ia(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?V1(t,e.type,r):e.hasOwnProperty("defaultValue")&&V1(t,e.type,ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function V1(t,e,r){(e!=="number"||nm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Kf=Array.isArray;function _l(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ia(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function H1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(Kf(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ia(r)}}function IO(t,e){var r=ia(e.value),n=ia(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function k2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bp,LO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bp=Bp||document.createElement("div"),Bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wj=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(t){Wj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ad[e]=ad[t]})});function MO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ad.hasOwnProperty(t)&&ad[t]?(""+e).trim():e+"px"}function $O(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Qj=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W1(t,e){if(e){if(Qj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Q1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q1=null;function Ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var G1=null,Pl=null,Bl=null;function O2(t){if(t=Qh(t)){if(typeof G1!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Ty(e),G1(t.stateNode,t.type,e))}}function UO(t){Pl?Bl?Bl.push(t):Bl=[t]:Pl=t}function VO(){if(Pl){var t=Pl,e=Bl;if(Bl=Pl=null,O2(t),e)for(t=0;t<e.length;t++)O2(e[t])}}function HO(t,e){return t(e)}function zO(){}var Qg=!1;function WO(t,e,r){if(Qg)return t(e,r);Qg=!0;try{return HO(t,e,r)}finally{Qg=!1,(Pl!==null||Bl!==null)&&(zO(),VO())}}function jd(t,e){var r=t.stateNode;if(r===null)return null;var n=Ty(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var K1=!1;if(Ms)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){K1=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{K1=!1}function qj(t,e,r,n,i,s,u,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var od=!1,im=null,sm=!1,J1=null,Gj={onError:function(t){od=!0,im=t}};function Kj(t,e,r,n,i,s,u,a,o){od=!1,im=null,qj.apply(Gj,arguments)}function Jj(t,e,r,n,i,s,u,a,o){if(Kj.apply(this,arguments),od){if(od){var c=im;od=!1,im=null}else throw Error(X(198));sm||(sm=!0,J1=c)}}function To(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function QO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _2(t){if(To(t)!==t)throw Error(X(188))}function Yj(t){var e=t.alternate;if(!e){if(e=To(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _2(i),t;if(s===n)return _2(i),e;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var u=!1,a=i.child;a;){if(a===r){u=!0,r=i,n=s;break}if(a===n){u=!0,n=i,r=s;break}a=a.sibling}if(!u){for(a=s.child;a;){if(a===r){u=!0,r=s,n=i;break}if(a===n){u=!0,n=s,r=i;break}a=a.sibling}if(!u)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function qO(t){return t=Yj(t),t!==null?GO(t):null}function GO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GO(t);if(e!==null)return e;t=t.sibling}return null}var KO=An.unstable_scheduleCallback,P2=An.unstable_cancelCallback,Zj=An.unstable_shouldYield,Xj=An.unstable_requestPaint,Tt=An.unstable_now,eI=An.unstable_getCurrentPriorityLevel,xw=An.unstable_ImmediatePriority,JO=An.unstable_UserBlockingPriority,um=An.unstable_NormalPriority,tI=An.unstable_LowPriority,YO=An.unstable_IdlePriority,Oy=null,rs=null;function rI(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(Oy,t,void 0,(t.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:sI,nI=Math.log,iI=Math.LN2;function sI(t){return t>>>=0,t===0?32:31-(nI(t)/iI|0)|0}var Tp=64,Np=4194304;function Jf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function am(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,u=r&268435455;if(u!==0){var a=u&~i;a!==0?n=Jf(a):(s&=u,s!==0&&(n=Jf(s)))}else u=r&~i,u!==0?n=Jf(u):s!==0&&(n=Jf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ci(e),i=1<<r,n|=t[r],e&=~i;return n}function uI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ci(s),a=1<<u,o=i[u];o===-1?(!(a&r)||a&n)&&(i[u]=uI(a,e)):o<=e&&(t.expiredLanes|=a),s&=~a}}function Y1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZO(){var t=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),t}function qg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ci(e),t[e]=r}function oI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ci(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Fw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ci(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ye=0;function XO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e_,Cw,t_,r_,n_,Z1=!1,jp=[],Qu=null,qu=null,Gu=null,Id=new Map,Rd=new Map,Eu=[],lI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B2(t,e){switch(t){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":Id.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(e.pointerId)}}function Af(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qh(e),e!==null&&Cw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cI(t,e,r,n,i){switch(e){case"focusin":return Qu=Af(Qu,t,e,r,n,i),!0;case"dragenter":return qu=Af(qu,t,e,r,n,i),!0;case"mouseover":return Gu=Af(Gu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Id.set(s,Af(Id.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Rd.set(s,Af(Rd.get(s)||null,t,e,r,n,i)),!0}return!1}function i_(t){var e=ja(t.target);if(e!==null){var r=To(e);if(r!==null){if(e=r.tag,e===13){if(e=QO(r),e!==null){t.blockedOn=e,n_(t.priority,function(){t_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function E0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=X1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);q1=n,r.target.dispatchEvent(n),q1=null}else return e=Qh(r),e!==null&&Cw(e),t.blockedOn=r,!1;e.shift()}return!0}function T2(t,e,r){E0(t)&&r.delete(e)}function fI(){Z1=!1,Qu!==null&&E0(Qu)&&(Qu=null),qu!==null&&E0(qu)&&(qu=null),Gu!==null&&E0(Gu)&&(Gu=null),Id.forEach(T2),Rd.forEach(T2)}function bf(t,e){t.blockedOn===e&&(t.blockedOn=null,Z1||(Z1=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,fI)))}function Ld(t){function e(i){return bf(i,t)}if(0<jp.length){bf(jp[0],t);for(var r=1;r<jp.length;r++){var n=jp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qu!==null&&bf(Qu,t),qu!==null&&bf(qu,t),Gu!==null&&bf(Gu,t),Id.forEach(e),Rd.forEach(e),r=0;r<Eu.length;r++)n=Eu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Eu.length&&(r=Eu[0],r.blockedOn===null);)i_(r),r.blockedOn===null&&Eu.shift()}var Tl=qs.ReactCurrentBatchConfig,om=!0;function dI(t,e,r,n){var i=Ye,s=Tl.transition;Tl.transition=null;try{Ye=1,Sw(t,e,r,n)}finally{Ye=i,Tl.transition=s}}function hI(t,e,r,n){var i=Ye,s=Tl.transition;Tl.transition=null;try{Ye=4,Sw(t,e,r,n)}finally{Ye=i,Tl.transition=s}}function Sw(t,e,r,n){if(om){var i=X1(t,e,r,n);if(i===null)nv(t,e,n,lm,r),B2(t,n);else if(cI(i,t,e,r,n))n.stopPropagation();else if(B2(t,n),e&4&&-1<lI.indexOf(t)){for(;i!==null;){var s=Qh(i);if(s!==null&&e_(s),s=X1(t,e,r,n),s===null&&nv(t,e,n,lm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else nv(t,e,n,null,r)}}var lm=null;function X1(t,e,r,n){if(lm=null,t=Ew(n),t=ja(t),t!==null)if(e=To(t),e===null)t=null;else if(r=e.tag,r===13){if(t=QO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lm=t,null}function s_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eI()){case xw:return 1;case JO:return 4;case um:case tI:return 16;case YO:return 536870912;default:return 16}default:return 16}}var $u=null,Dw=null,x0=null;function u_(){if(x0)return x0;var t,e=Dw,r=e.length,n,i="value"in $u?$u.value:$u.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var u=r-t;for(n=1;n<=u&&e[r-n]===i[s-n];n++);return x0=i.slice(t,1<n?1-n:void 0)}function F0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ip(){return!0}function N2(){return!1}function xn(t){function e(r,n,i,s,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ip:N2,this.isPropagationStopped=N2,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ip)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ip)},persist:function(){},isPersistent:Ip}),e}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kw=xn(Yc),Wh=St({},Yc,{view:0,detail:0}),pI=xn(Wh),Gg,Kg,wf,_y=St({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ow,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wf&&(wf&&t.type==="mousemove"?(Gg=t.screenX-wf.screenX,Kg=t.screenY-wf.screenY):Kg=Gg=0,wf=t),Gg)},movementY:function(t){return"movementY"in t?t.movementY:Kg}}),j2=xn(_y),mI=St({},_y,{dataTransfer:0}),yI=xn(mI),gI=St({},Wh,{relatedTarget:0}),Jg=xn(gI),vI=St({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=xn(vI),bI=St({},Yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wI=xn(bI),EI=St({},Yc,{data:0}),I2=xn(EI),xI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CI[t])?!!e[t]:!1}function Ow(){return SI}var DI=St({},Wh,{key:function(t){if(t.key){var e=xI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=F0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ow,charCode:function(t){return t.type==="keypress"?F0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?F0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kI=xn(DI),OI=St({},_y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R2=xn(OI),_I=St({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ow}),PI=xn(_I),BI=St({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TI=xn(BI),NI=St({},_y,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jI=xn(NI),II=[9,13,27,32],_w=Ms&&"CompositionEvent"in window,ld=null;Ms&&"documentMode"in document&&(ld=document.documentMode);var RI=Ms&&"TextEvent"in window&&!ld,a_=Ms&&(!_w||ld&&8<ld&&11>=ld),L2=String.fromCharCode(32),M2=!1;function o_(t,e){switch(t){case"keyup":return II.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function LI(t,e){switch(t){case"compositionend":return l_(e);case"keypress":return e.which!==32?null:(M2=!0,L2);case"textInput":return t=e.data,t===L2&&M2?null:t;default:return null}}function MI(t,e){if(ul)return t==="compositionend"||!_w&&o_(t,e)?(t=u_(),x0=Dw=$u=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a_&&e.locale!=="ko"?null:e.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$I[t.type]:e==="textarea"}function c_(t,e,r,n){UO(n),e=cm(e,"onChange"),0<e.length&&(r=new kw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cd=null,Md=null;function UI(t){w_(t,0)}function Py(t){var e=ll(t);if(NO(e))return t}function VI(t,e){if(t==="change")return e}var f_=!1;if(Ms){var Yg;if(Ms){var Zg="oninput"in document;if(!Zg){var U2=document.createElement("div");U2.setAttribute("oninput","return;"),Zg=typeof U2.oninput=="function"}Yg=Zg}else Yg=!1;f_=Yg&&(!document.documentMode||9<document.documentMode)}function V2(){cd&&(cd.detachEvent("onpropertychange",d_),Md=cd=null)}function d_(t){if(t.propertyName==="value"&&Py(Md)){var e=[];c_(e,Md,t,Ew(t)),WO(UI,e)}}function HI(t,e,r){t==="focusin"?(V2(),cd=e,Md=r,cd.attachEvent("onpropertychange",d_)):t==="focusout"&&V2()}function zI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Py(Md)}function WI(t,e){if(t==="click")return Py(e)}function QI(t,e){if(t==="input"||t==="change")return Py(e)}function qI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:qI;function $d(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!j1.call(e,i)||!Di(t[i],e[i]))return!1}return!0}function H2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z2(t,e){var r=H2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H2(r)}}function h_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p_(){for(var t=window,e=nm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=nm(t.document)}return e}function Pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GI(t){var e=p_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&h_(r.ownerDocument.documentElement,r)){if(n!==null&&Pw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=z2(r,s);var u=z2(r,n);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KI=Ms&&"documentMode"in document&&11>=document.documentMode,al=null,eA=null,fd=null,tA=!1;function W2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tA||al==null||al!==nm(n)||(n=al,"selectionStart"in n&&Pw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fd&&$d(fd,n)||(fd=n,n=cm(eA,"onSelect"),0<n.length&&(e=new kw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=al)))}function Rp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ol={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},Xg={},m_={};Ms&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function By(t){if(Xg[t])return Xg[t];if(!ol[t])return t;var e=ol[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in m_)return Xg[t]=e[r];return t}var y_=By("animationend"),g_=By("animationiteration"),v_=By("animationstart"),A_=By("transitionend"),b_=new Map,Q2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){b_.set(t,e),Bo(e,[t])}for(var ev=0;ev<Q2.length;ev++){var tv=Q2[ev],JI=tv.toLowerCase(),YI=tv[0].toUpperCase()+tv.slice(1);ma(JI,"on"+YI)}ma(y_,"onAnimationEnd");ma(g_,"onAnimationIteration");ma(v_,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(A_,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yf));function q2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Jj(n,e,void 0,t),t.currentTarget=null}function w_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var u=n.length-1;0<=u;u--){var a=n[u],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==s&&i.isPropagationStopped())break e;q2(i,a,c),s=o}else for(u=0;u<n.length;u++){if(a=n[u],o=a.instance,c=a.currentTarget,a=a.listener,o!==s&&i.isPropagationStopped())break e;q2(i,a,c),s=o}}}if(sm)throw t=J1,sm=!1,J1=null,t}function ft(t,e){var r=e[uA];r===void 0&&(r=e[uA]=new Set);var n=t+"__bubble";r.has(n)||(E_(e,t,2,!1),r.add(n))}function rv(t,e,r){var n=0;e&&(n|=4),E_(r,t,n,e)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Lp]){t[Lp]=!0,OO.forEach(function(r){r!=="selectionchange"&&(ZI.has(r)||rv(r,!1,t),rv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lp]||(e[Lp]=!0,rv("selectionchange",!1,e))}}function E_(t,e,r,n){switch(s_(e)){case 1:var i=dI;break;case 4:i=hI;break;default:i=Sw}r=i.bind(null,e,r,t),i=void 0,!K1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function nv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var o=u.tag;if((o===3||o===4)&&(o=u.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;u=u.return}for(;a!==null;){if(u=ja(a),u===null)return;if(o=u.tag,o===5||o===6){n=s=u;continue e}a=a.parentNode}}n=n.return}WO(function(){var c=s,f=Ew(r),d=[];e:{var p=b_.get(t);if(p!==void 0){var m=kw,w=t;switch(t){case"keypress":if(F0(r)===0)break e;case"keydown":case"keyup":m=kI;break;case"focusin":w="focus",m=Jg;break;case"focusout":w="blur",m=Jg;break;case"beforeblur":case"afterblur":m=Jg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PI;break;case y_:case g_:case v_:m=AI;break;case A_:m=TI;break;case"scroll":m=pI;break;case"wheel":m=jI;break;case"copy":case"cut":case"paste":m=wI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=R2}var b=(e&4)!==0,F=!b&&t==="scroll",E=b?p!==null?p+"Capture":null:p;b=[];for(var A=c,x;A!==null;){x=A;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,E!==null&&(C=jd(A,E),C!=null&&b.push(Vd(A,C,x)))),F)break;A=A.return}0<b.length&&(p=new m(p,w,null,r,f),d.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==q1&&(w=r.relatedTarget||r.fromElement)&&(ja(w)||w[$s]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=c,w=w?ja(w):null,w!==null&&(F=To(w),w!==F||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(b=j2,C="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(b=R2,C="onPointerLeave",E="onPointerEnter",A="pointer"),F=m==null?p:ll(m),x=w==null?p:ll(w),p=new b(C,A+"leave",m,r,f),p.target=F,p.relatedTarget=x,C=null,ja(f)===c&&(b=new b(E,A+"enter",w,r,f),b.target=x,b.relatedTarget=F,C=b),F=C,m&&w)t:{for(b=m,E=w,A=0,x=b;x;x=Ho(x))A++;for(x=0,C=E;C;C=Ho(C))x++;for(;0<A-x;)b=Ho(b),A--;for(;0<x-A;)E=Ho(E),x--;for(;A--;){if(b===E||E!==null&&b===E.alternate)break t;b=Ho(b),E=Ho(E)}b=null}else b=null;m!==null&&G2(d,p,m,b,!1),w!==null&&F!==null&&G2(d,F,w,b,!0)}}e:{if(p=c?ll(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=VI;else if($2(p))if(f_)S=QI;else{S=zI;var O=HI}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=WI);if(S&&(S=S(t,c))){c_(d,S,r,f);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&V1(p,"number",p.value)}switch(O=c?ll(c):window,t){case"focusin":($2(O)||O.contentEditable==="true")&&(al=O,eA=c,fd=null);break;case"focusout":fd=eA=al=null;break;case"mousedown":tA=!0;break;case"contextmenu":case"mouseup":case"dragend":tA=!1,W2(d,r,f);break;case"selectionchange":if(KI)break;case"keydown":case"keyup":W2(d,r,f)}var g;if(_w)e:{switch(t){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else ul?o_(t,r)&&(h="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(h="onCompositionStart");h&&(a_&&r.locale!=="ko"&&(ul||h!=="onCompositionStart"?h==="onCompositionEnd"&&ul&&(g=u_()):($u=f,Dw="value"in $u?$u.value:$u.textContent,ul=!0)),O=cm(c,h),0<O.length&&(h=new I2(h,t,null,r,f),d.push({event:h,listeners:O}),g?h.data=g:(g=l_(r),g!==null&&(h.data=g)))),(g=RI?LI(t,r):MI(t,r))&&(c=cm(c,"onBeforeInput"),0<c.length&&(f=new I2("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=g))}w_(d,e)})}function Vd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jd(t,r),s!=null&&n.unshift(Vd(t,s,i)),s=jd(t,e),s!=null&&n.push(Vd(t,s,i))),t=t.return}return n}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G2(t,e,r,n,i){for(var s=e._reactName,u=[];r!==null&&r!==n;){var a=r,o=a.alternate,c=a.stateNode;if(o!==null&&o===n)break;a.tag===5&&c!==null&&(a=c,i?(o=jd(r,s),o!=null&&u.unshift(Vd(r,o,a))):i||(o=jd(r,s),o!=null&&u.push(Vd(r,o,a)))),r=r.return}u.length!==0&&t.push({event:e,listeners:u})}var XI=/\r\n?/g,e4=/\u0000|\uFFFD/g;function K2(t){return(typeof t=="string"?t:""+t).replace(XI,`
`).replace(e4,"")}function Mp(t,e,r){if(e=K2(e),K2(t)!==e&&r)throw Error(X(425))}function fm(){}var rA=null,nA=null;function iA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sA=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,J2=typeof Promise=="function"?Promise:void 0,r4=typeof queueMicrotask=="function"?queueMicrotask:typeof J2<"u"?function(t){return J2.resolve(null).then(t).catch(n4)}:sA;function n4(t){setTimeout(function(){throw t})}function iv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ld(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ld(e)}function Ku(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),Zi="__reactFiber$"+Zc,Hd="__reactProps$"+Zc,$s="__reactContainer$"+Zc,uA="__reactEvents$"+Zc,i4="__reactListeners$"+Zc,s4="__reactHandles$"+Zc;function ja(t){var e=t[Zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$s]||r[Zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Y2(t);t!==null;){if(r=t[Zi])return r;t=Y2(t)}return e}t=r,r=t.parentNode}return null}function Qh(t){return t=t[Zi]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Ty(t){return t[Hd]||null}var aA=[],cl=-1;function ya(t){return{current:t}}function mt(t){0>cl||(t.current=aA[cl],aA[cl]=null,cl--)}function ot(t,e){cl++,aA[cl]=t.current,t.current=e}var sa={},Dr=ya(sa),en=ya(!1),po=sa;function Nc(t,e){var r=t.type.contextTypes;if(!r)return sa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function dm(){mt(en),mt(Dr)}function Z2(t,e,r){if(Dr.current!==sa)throw Error(X(168));ot(Dr,e),ot(en,r)}function x_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,Hj(t)||"Unknown",i));return St({},r,n)}function hm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,po=Dr.current,ot(Dr,t),ot(en,en.current),!0}function X2(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=x_(t,e,po),n.__reactInternalMemoizedMergedChildContext=t,mt(en),mt(Dr),ot(Dr,t)):mt(en),ot(en,r)}var hs=null,Ny=!1,sv=!1;function F_(t){hs===null?hs=[t]:hs.push(t)}function u4(t){Ny=!0,F_(t)}function ga(){if(!sv&&hs!==null){sv=!0;var t=0,e=Ye;try{var r=hs;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hs=null,Ny=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),KO(xw,ga),i}finally{Ye=e,sv=!1}}return null}var fl=[],dl=0,pm=null,mm=0,Vn=[],Hn=0,mo=null,_s=1,Ps="";function ka(t,e){fl[dl++]=mm,fl[dl++]=pm,pm=t,mm=e}function C_(t,e,r){Vn[Hn++]=_s,Vn[Hn++]=Ps,Vn[Hn++]=mo,mo=t;var n=_s;t=Ps;var i=32-Ci(n)-1;n&=~(1<<i),r+=1;var s=32-Ci(e)+i;if(30<s){var u=i-i%5;s=(n&(1<<u)-1).toString(32),n>>=u,i-=u,_s=1<<32-Ci(e)+i|r<<i|n,Ps=s+t}else _s=1<<s|r<<i|n,Ps=t}function Bw(t){t.return!==null&&(ka(t,1),C_(t,1,0))}function Tw(t){for(;t===pm;)pm=fl[--dl],fl[dl]=null,mm=fl[--dl],fl[dl]=null;for(;t===mo;)mo=Vn[--Hn],Vn[Hn]=null,Ps=Vn[--Hn],Vn[Hn]=null,_s=Vn[--Hn],Vn[Hn]=null}var gn=null,hn=null,vt=!1,Ai=null;function S_(t,e){var r=Qn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function eF(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,hn=Ku(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mo!==null?{id:_s,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gn=t,hn=null,!0):!1;default:return!1}}function oA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lA(t){if(vt){var e=hn;if(e){var r=e;if(!eF(t,e)){if(oA(t))throw Error(X(418));e=Ku(r.nextSibling);var n=gn;e&&eF(t,e)?S_(n,r):(t.flags=t.flags&-4097|2,vt=!1,gn=t)}}else{if(oA(t))throw Error(X(418));t.flags=t.flags&-4097|2,vt=!1,gn=t}}}function tF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function $p(t){if(t!==gn)return!1;if(!vt)return tF(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iA(t.type,t.memoizedProps)),e&&(e=hn)){if(oA(t))throw D_(),Error(X(418));for(;e;)S_(t,e),e=Ku(e.nextSibling)}if(tF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hn=Ku(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=gn?Ku(t.stateNode.nextSibling):null;return!0}function D_(){for(var t=hn;t;)t=Ku(t.nextSibling)}function jc(){hn=gn=null,vt=!1}function Nw(t){Ai===null?Ai=[t]:Ai.push(t)}var a4=qs.ReactCurrentBatchConfig;function fi(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ym=ya(null),gm=null,hl=null,jw=null;function Iw(){jw=hl=gm=null}function Rw(t){var e=ym.current;mt(ym),t._currentValue=e}function cA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Nl(t,e){gm=t,jw=hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xr=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(jw!==t)if(t={context:t,memoizedValue:e,next:null},hl===null){if(gm===null)throw Error(X(308));hl=t,gm.dependencies={lanes:0,firstContext:t}}else hl=hl.next=t;return e}var Ia=null;function Lw(t){Ia===null?Ia=[t]:Ia.push(t)}function k_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Lw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Us(t,n)}function Us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hu=!1;function Mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ju(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Us(t,r)}return i=n.interleaved,i===null?(e.next=e,Lw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Us(t,r)}function C0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fw(t,r)}}function rF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=u:s=s.next=u,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vm(t,e,r,n){var i=t.updateQueue;hu=!1;var s=i.firstBaseUpdate,u=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var o=a,c=o.next;o.next=null,u===null?s=c:u.next=c,u=o;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==u&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;u=0,f=c=o=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,b=a;switch(p=e,m=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){d=w.call(m,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,p=typeof w=="function"?w.call(m,d,p):w,p==null)break e;d=St({},d,p);break e;case 2:hu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,o=d):f=f.next=m,u|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(o=d),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);go|=u,t.lanes=u,t.memoizedState=d}}function nF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var __=new kO.Component().refs;function fA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jy={isMounted:function(t){return(t=t._reactInternals)?To(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mr(),i=Zu(t),s=js(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ju(t,s,i),e!==null&&(Si(e,t,i,n),C0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mr(),i=Zu(t),s=js(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ju(t,s,i),e!==null&&(Si(e,t,i,n),C0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mr(),n=Zu(t),i=js(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ju(t,i,n),e!==null&&(Si(e,t,n,r),C0(e,t,n))}};function iF(t,e,r,n,i,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,u):e.prototype&&e.prototype.isPureReactComponent?!$d(r,n)||!$d(i,s):!0}function P_(t,e,r){var n=!1,i=sa,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=tn(e)?po:Dr.current,n=e.contextTypes,s=(n=n!=null)?Nc(t,i):sa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jy,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jy.enqueueReplaceState(e,e.state,null)}function dA(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=__,Mw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=tn(e)?po:Dr.current,i.context=Nc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fA(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jy.enqueueReplaceState(i,i.state,null),vm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ef(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(u){var a=i.refs;a===__&&(a=i.refs={}),u===null?delete a[s]:a[s]=u},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uF(t){var e=t._init;return e(t._payload)}function B_(t){function e(E,A){if(t){var x=E.deletions;x===null?(E.deletions=[A],E.flags|=16):x.push(A)}}function r(E,A){if(!t)return null;for(;A!==null;)e(E,A),A=A.sibling;return null}function n(E,A){for(E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function i(E,A){return E=Xu(E,A),E.index=0,E.sibling=null,E}function s(E,A,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<A?(E.flags|=2,A):x):(E.flags|=2,A)):(E.flags|=1048576,A)}function u(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,A,x,C){return A===null||A.tag!==6?(A=dv(x,E.mode,C),A.return=E,A):(A=i(A,x),A.return=E,A)}function o(E,A,x,C){var S=x.type;return S===sl?f(E,A,x.props.children,C,x.key):A!==null&&(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===du&&uF(S)===A.type)?(C=i(A,x.props),C.ref=Ef(E,A,x),C.return=E,C):(C=P0(x.type,x.key,x.props,null,E.mode,C),C.ref=Ef(E,A,x),C.return=E,C)}function c(E,A,x,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=hv(x,E.mode,C),A.return=E,A):(A=i(A,x.children||[]),A.return=E,A)}function f(E,A,x,C,S){return A===null||A.tag!==7?(A=ao(x,E.mode,C,S),A.return=E,A):(A=i(A,x),A.return=E,A)}function d(E,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return A=dv(""+A,E.mode,x),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _p:return x=P0(A.type,A.key,A.props,null,E.mode,x),x.ref=Ef(E,null,A),x.return=E,x;case il:return A=hv(A,E.mode,x),A.return=E,A;case du:var C=A._init;return d(E,C(A._payload),x)}if(Kf(A)||gf(A))return A=ao(A,E.mode,x,null),A.return=E,A;Up(E,A)}return null}function p(E,A,x,C){var S=A!==null?A.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(E,A,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:return x.key===S?o(E,A,x,C):null;case il:return x.key===S?c(E,A,x,C):null;case du:return S=x._init,p(E,A,S(x._payload),C)}if(Kf(x)||gf(x))return S!==null?null:f(E,A,x,C,null);Up(E,x)}return null}function m(E,A,x,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(x)||null,a(A,E,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _p:return E=E.get(C.key===null?x:C.key)||null,o(A,E,C,S);case il:return E=E.get(C.key===null?x:C.key)||null,c(A,E,C,S);case du:var O=C._init;return m(E,A,x,O(C._payload),S)}if(Kf(C)||gf(C))return E=E.get(x)||null,f(A,E,C,S,null);Up(A,C)}return null}function w(E,A,x,C){for(var S=null,O=null,g=A,h=A=0,v=null;g!==null&&h<x.length;h++){g.index>h?(v=g,g=null):v=g.sibling;var y=p(E,g,x[h],C);if(y===null){g===null&&(g=v);break}t&&g&&y.alternate===null&&e(E,g),A=s(y,A,h),O===null?S=y:O.sibling=y,O=y,g=v}if(h===x.length)return r(E,g),vt&&ka(E,h),S;if(g===null){for(;h<x.length;h++)g=d(E,x[h],C),g!==null&&(A=s(g,A,h),O===null?S=g:O.sibling=g,O=g);return vt&&ka(E,h),S}for(g=n(E,g);h<x.length;h++)v=m(g,E,h,x[h],C),v!==null&&(t&&v.alternate!==null&&g.delete(v.key===null?h:v.key),A=s(v,A,h),O===null?S=v:O.sibling=v,O=v);return t&&g.forEach(function(D){return e(E,D)}),vt&&ka(E,h),S}function b(E,A,x,C){var S=gf(x);if(typeof S!="function")throw Error(X(150));if(x=S.call(x),x==null)throw Error(X(151));for(var O=S=null,g=A,h=A=0,v=null,y=x.next();g!==null&&!y.done;h++,y=x.next()){g.index>h?(v=g,g=null):v=g.sibling;var D=p(E,g,y.value,C);if(D===null){g===null&&(g=v);break}t&&g&&D.alternate===null&&e(E,g),A=s(D,A,h),O===null?S=D:O.sibling=D,O=D,g=v}if(y.done)return r(E,g),vt&&ka(E,h),S;if(g===null){for(;!y.done;h++,y=x.next())y=d(E,y.value,C),y!==null&&(A=s(y,A,h),O===null?S=y:O.sibling=y,O=y);return vt&&ka(E,h),S}for(g=n(E,g);!y.done;h++,y=x.next())y=m(g,E,h,y.value,C),y!==null&&(t&&y.alternate!==null&&g.delete(y.key===null?h:y.key),A=s(y,A,h),O===null?S=y:O.sibling=y,O=y);return t&&g.forEach(function(P){return e(E,P)}),vt&&ka(E,h),S}function F(E,A,x,C){if(typeof x=="object"&&x!==null&&x.type===sl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:e:{for(var S=x.key,O=A;O!==null;){if(O.key===S){if(S=x.type,S===sl){if(O.tag===7){r(E,O.sibling),A=i(O,x.props.children),A.return=E,E=A;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===du&&uF(S)===O.type){r(E,O.sibling),A=i(O,x.props),A.ref=Ef(E,O,x),A.return=E,E=A;break e}r(E,O);break}else e(E,O);O=O.sibling}x.type===sl?(A=ao(x.props.children,E.mode,C,x.key),A.return=E,E=A):(C=P0(x.type,x.key,x.props,null,E.mode,C),C.ref=Ef(E,A,x),C.return=E,E=C)}return u(E);case il:e:{for(O=x.key;A!==null;){if(A.key===O)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){r(E,A.sibling),A=i(A,x.children||[]),A.return=E,E=A;break e}else{r(E,A);break}else e(E,A);A=A.sibling}A=hv(x,E.mode,C),A.return=E,E=A}return u(E);case du:return O=x._init,F(E,A,O(x._payload),C)}if(Kf(x))return w(E,A,x,C);if(gf(x))return b(E,A,x,C);Up(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,A!==null&&A.tag===6?(r(E,A.sibling),A=i(A,x),A.return=E,E=A):(r(E,A),A=dv(x,E.mode,C),A.return=E,E=A),u(E)):r(E,A)}return F}var Ic=B_(!0),T_=B_(!1),qh={},ns=ya(qh),zd=ya(qh),Wd=ya(qh);function Ra(t){if(t===qh)throw Error(X(174));return t}function $w(t,e){switch(ot(Wd,e),ot(zd,t),ot(ns,qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=z1(e,t)}mt(ns),ot(ns,e)}function Rc(){mt(ns),mt(zd),mt(Wd)}function N_(t){Ra(Wd.current);var e=Ra(ns.current),r=z1(e,t.type);e!==r&&(ot(zd,t),ot(ns,r))}function Uw(t){zd.current===t&&(mt(ns),mt(zd))}var wt=ya(0);function Am(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uv=[];function Vw(){for(var t=0;t<uv.length;t++)uv[t]._workInProgressVersionPrimary=null;uv.length=0}var S0=qs.ReactCurrentDispatcher,av=qs.ReactCurrentBatchConfig,yo=0,Ct=null,Qt=null,er=null,bm=!1,dd=!1,Qd=0,o4=0;function mr(){throw Error(X(321))}function Hw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Di(t[r],e[r]))return!1;return!0}function zw(t,e,r,n,i,s){if(yo=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,S0.current=t===null||t.memoizedState===null?d4:h4,t=r(n,i),dd){s=0;do{if(dd=!1,Qd=0,25<=s)throw Error(X(301));s+=1,er=Qt=null,e.updateQueue=null,S0.current=p4,t=r(n,i)}while(dd)}if(S0.current=wm,e=Qt!==null&&Qt.next!==null,yo=0,er=Qt=Ct=null,bm=!1,e)throw Error(X(300));return t}function Ww(){var t=Qd!==0;return Qd=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Ct.memoizedState=er=t:er=er.next=t,er}function Yn(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=er===null?Ct.memoizedState:er.next;if(e!==null)er=e,Qt=t;else{if(t===null)throw Error(X(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},er===null?Ct.memoizedState=er=t:er=er.next=t}return er}function qd(t,e){return typeof e=="function"?e(t):e}function ov(t){var e=Yn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Qt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var u=i.next;i.next=s.next,s.next=u}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=u=null,o=null,c=s;do{var f=c.lane;if((yo&f)===f)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=d,u=n):o=o.next=d,Ct.lanes|=f,go|=f}c=c.next}while(c!==null&&c!==s);o===null?u=n:o.next=a,Di(n,e.memoizedState)||(Xr=!0),e.memoizedState=n,e.baseState=u,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ct.lanes|=s,go|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lv(t){var e=Yn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do s=t(s,u.action),u=u.next;while(u!==i);Di(s,e.memoizedState)||(Xr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function j_(){}function I_(t,e){var r=Ct,n=Yn(),i=e(),s=!Di(n.memoizedState,i);if(s&&(n.memoizedState=i,Xr=!0),n=n.queue,Qw(M_.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Gd(9,L_.bind(null,r,n,i,e),void 0,null),rr===null)throw Error(X(349));yo&30||R_(r,e,i)}return i}function R_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function L_(t,e,r,n){e.value=r,e.getSnapshot=n,$_(e)&&U_(t)}function M_(t,e,r){return r(function(){$_(e)&&U_(t)})}function $_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Di(t,r)}catch{return!0}}function U_(t){var e=Us(t,1);e!==null&&Si(e,t,1,-1)}function aF(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:t},e.queue=t,t=t.dispatch=f4.bind(null,Ct,t),[e.memoizedState,t]}function Gd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function V_(){return Yn().memoizedState}function D0(t,e,r,n){var i=zi();Ct.flags|=t,i.memoizedState=Gd(1|e,r,void 0,n===void 0?null:n)}function Iy(t,e,r,n){var i=Yn();n=n===void 0?null:n;var s=void 0;if(Qt!==null){var u=Qt.memoizedState;if(s=u.destroy,n!==null&&Hw(n,u.deps)){i.memoizedState=Gd(e,r,s,n);return}}Ct.flags|=t,i.memoizedState=Gd(1|e,r,s,n)}function oF(t,e){return D0(8390656,8,t,e)}function Qw(t,e){return Iy(2048,8,t,e)}function H_(t,e){return Iy(4,2,t,e)}function z_(t,e){return Iy(4,4,t,e)}function W_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q_(t,e,r){return r=r!=null?r.concat([t]):null,Iy(4,4,W_.bind(null,e,t),r)}function qw(){}function q_(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function G_(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function K_(t,e,r){return yo&21?(Di(r,e)||(r=ZO(),Ct.lanes|=r,go|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xr=!0),t.memoizedState=r)}function l4(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=av.transition;av.transition={};try{t(!1),e()}finally{Ye=r,av.transition=n}}function J_(){return Yn().memoizedState}function c4(t,e,r){var n=Zu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y_(t))Z_(e,r);else if(r=k_(t,e,r,n),r!==null){var i=Mr();Si(r,t,n,i),X_(r,e,n)}}function f4(t,e,r){var n=Zu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y_(t))Z_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,a=s(u,r);if(i.hasEagerState=!0,i.eagerState=a,Di(a,u)){var o=e.interleaved;o===null?(i.next=i,Lw(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}r=k_(t,e,i,n),r!==null&&(i=Mr(),Si(r,t,n,i),X_(r,e,n))}}function Y_(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function Z_(t,e){dd=bm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function X_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fw(t,r)}}var wm={readContext:Jn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},d4={readContext:Jn,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:oF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,D0(4194308,4,W_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return D0(4194308,4,t,e)},useInsertionEffect:function(t,e){return D0(4,2,t,e)},useMemo:function(t,e){var r=zi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=c4.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:aF,useDebugValue:qw,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=aF(!1),e=t[0];return t=l4.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ct,i=zi();if(vt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),rr===null)throw Error(X(349));yo&30||R_(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,oF(M_.bind(null,n,s,t),[t]),n.flags|=2048,Gd(9,L_.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=zi(),e=rr.identifierPrefix;if(vt){var r=Ps,n=_s;r=(n&~(1<<32-Ci(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=o4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h4={readContext:Jn,useCallback:q_,useContext:Jn,useEffect:Qw,useImperativeHandle:Q_,useInsertionEffect:H_,useLayoutEffect:z_,useMemo:G_,useReducer:ov,useRef:V_,useState:function(){return ov(qd)},useDebugValue:qw,useDeferredValue:function(t){var e=Yn();return K_(e,Qt.memoizedState,t)},useTransition:function(){var t=ov(qd)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:I_,useId:J_,unstable_isNewReconciler:!1},p4={readContext:Jn,useCallback:q_,useContext:Jn,useEffect:Qw,useImperativeHandle:Q_,useInsertionEffect:H_,useLayoutEffect:z_,useMemo:G_,useReducer:lv,useRef:V_,useState:function(){return lv(qd)},useDebugValue:qw,useDeferredValue:function(t){var e=Yn();return Qt===null?e.memoizedState=t:K_(e,Qt.memoizedState,t)},useTransition:function(){var t=lv(qd)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:I_,useId:J_,unstable_isNewReconciler:!1};function Lc(t,e){try{var r="",n=e;do r+=Vj(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function e3(t,e,r){r=js(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xm||(xm=!0,xA=n),hA(t,e)},r}function t3(t,e,r){r=js(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){hA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){hA(t,e),typeof n!="function"&&(Yu===null?Yu=new Set([this]):Yu.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),r}function lF(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new m4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=O4.bind(null,t,e,r),e.then(t,t))}function cF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fF(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=js(-1,1),e.tag=2,Ju(r,e,1))),r.lanes|=1),t)}var y4=qs.ReactCurrentOwner,Xr=!1;function Pr(t,e,r,n){e.child=t===null?T_(e,null,r,n):Ic(e,t.child,r,n)}function dF(t,e,r,n,i){r=r.render;var s=e.ref;return Nl(e,i),n=zw(t,e,r,n,s,i),r=Ww(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(vt&&r&&Bw(e),e.flags|=1,Pr(t,e,n,i),e.child)}function hF(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!tE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,r3(t,e,s,n,i)):(t=P0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var u=s.memoizedProps;if(r=r.compare,r=r!==null?r:$d,r(u,n)&&t.ref===e.ref)return Vs(t,e,i)}return e.flags|=1,t=Xu(s,n),t.ref=e.ref,t.return=e,e.child=t}function r3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if($d(s,n)&&t.ref===e.ref)if(Xr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Xr=!0);else return e.lanes=t.lanes,Vs(t,e,i)}return pA(t,e,r,n,i)}function n3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ml,fn),fn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(ml,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ot(ml,fn),fn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ot(ml,fn),fn|=n;return Pr(t,e,i,r),e.child}function i3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pA(t,e,r,n,i){var s=tn(r)?po:Dr.current;return s=Nc(e,s),Nl(e,i),r=zw(t,e,r,n,s,i),n=Ww(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(vt&&n&&Bw(e),e.flags|=1,Pr(t,e,r,i),e.child)}function pF(t,e,r,n,i){if(tn(r)){var s=!0;hm(e)}else s=!1;if(Nl(e,i),e.stateNode===null)k0(t,e),P_(e,r,n),dA(e,r,n,i),n=!0;else if(t===null){var u=e.stateNode,a=e.memoizedProps;u.props=a;var o=u.context,c=r.contextType;typeof c=="object"&&c!==null?c=Jn(c):(c=tn(r)?po:Dr.current,c=Nc(e,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof u.getSnapshotBeforeUpdate=="function";d||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(a!==n||o!==c)&&sF(e,u,n,c),hu=!1;var p=e.memoizedState;u.state=p,vm(e,n,u,i),o=e.memoizedState,a!==n||p!==o||en.current||hu?(typeof f=="function"&&(fA(e,r,f,n),o=e.memoizedState),(a=hu||iF(e,r,a,n,p,o,c))?(d||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),u.props=n,u.state=o,u.context=c,n=a):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{u=e.stateNode,O_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:fi(e.type,a),u.props=c,d=e.pendingProps,p=u.context,o=r.contextType,typeof o=="object"&&o!==null?o=Jn(o):(o=tn(r)?po:Dr.current,o=Nc(e,o));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(a!==d||p!==o)&&sF(e,u,n,o),hu=!1,p=e.memoizedState,u.state=p,vm(e,n,u,i);var w=e.memoizedState;a!==d||p!==w||en.current||hu?(typeof m=="function"&&(fA(e,r,m,n),w=e.memoizedState),(c=hu||iF(e,r,c,n,p,w,o)||!1)?(f||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,w,o),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,w,o)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),u.props=n,u.state=w,u.context=o,n=c):(typeof u.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return mA(t,e,r,n,s,i)}function mA(t,e,r,n,i,s){i3(t,e);var u=(e.flags&128)!==0;if(!n&&!u)return i&&X2(e,r,!1),Vs(t,e,s);n=e.stateNode,y4.current=e;var a=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&u?(e.child=Ic(e,t.child,null,s),e.child=Ic(e,null,a,s)):Pr(t,e,a,s),e.memoizedState=n.state,i&&X2(e,r,!0),e.child}function s3(t){var e=t.stateNode;e.pendingContext?Z2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z2(t,e.context,!1),$w(t,e.containerInfo)}function mF(t,e,r,n,i){return jc(),Nw(i),e.flags|=256,Pr(t,e,r,n),e.child}var yA={dehydrated:null,treeContext:null,retryLane:0};function gA(t){return{baseLanes:t,cachePool:null,transitions:null}}function u3(t,e,r){var n=e.pendingProps,i=wt.current,s=!1,u=(e.flags&128)!==0,a;if((a=u)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(wt,i&1),t===null)return lA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=n.children,t=n.fallback,s?(n=e.mode,s=e.child,u={mode:"hidden",children:u},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=My(u,n,0,null),t=ao(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gA(r),e.memoizedState=yA,t):Gw(e,u));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return g4(t,e,u,n,a,i,r);if(s){s=n.fallback,u=e.mode,i=t.child,a=i.sibling;var o={mode:"hidden",children:n.children};return!(u&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=Xu(i,o),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xu(a,s):(s=ao(s,u,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,u=t.child.memoizedState,u=u===null?gA(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~r,e.memoizedState=yA,n}return s=t.child,t=s.sibling,n=Xu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Gw(t,e){return e=My({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vp(t,e,r,n){return n!==null&&Nw(n),Ic(e,t.child,null,r),t=Gw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g4(t,e,r,n,i,s,u){if(r)return e.flags&256?(e.flags&=-257,n=cv(Error(X(422))),Vp(t,e,u,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=My({mode:"visible",children:n.children},i,0,null),s=ao(s,i,u,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ic(e,t.child,null,u),e.child.memoizedState=gA(u),e.memoizedState=yA,s);if(!(e.mode&1))return Vp(t,e,u,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(X(419)),n=cv(s,n,void 0),Vp(t,e,u,n)}if(a=(u&t.childLanes)!==0,Xr||a){if(n=rr,n!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|u)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Us(t,i),Si(n,t,i,-1))}return eE(),n=cv(Error(X(421))),Vp(t,e,u,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Ku(i.nextSibling),gn=e,vt=!0,Ai=null,t!==null&&(Vn[Hn++]=_s,Vn[Hn++]=Ps,Vn[Hn++]=mo,_s=t.id,Ps=t.overflow,mo=e),e=Gw(e,n.children),e.flags|=4096,e)}function yF(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cA(t.return,e,r)}function fv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function a3(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=wt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yF(t,r,e);else if(t.tag===19)yF(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ot(wt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Am(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Am(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fv(e,!0,r,null,s);break;case"together":fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function k0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Xu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function v4(t,e,r){switch(e.tag){case 3:s3(e),jc();break;case 5:N_(e);break;case 1:tn(e.type)&&hm(e);break;case 4:$w(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ot(ym,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ot(wt,wt.current&1),e.flags|=128,null):r&e.child.childLanes?u3(t,e,r):(ot(wt,wt.current&1),t=Vs(t,e,r),t!==null?t.sibling:null);ot(wt,wt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return a3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(wt,wt.current),n)break;return null;case 22:case 23:return e.lanes=0,n3(t,e,r)}return Vs(t,e,r)}var o3,vA,l3,c3;o3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vA=function(){};l3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ra(ns.current);var s=null;switch(r){case"input":i=$1(t,i),n=$1(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=H1(t,i),n=H1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fm)}W1(r,n);var u;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(u in a)a.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Td.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var o=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(u in a)!a.hasOwnProperty(u)||o&&o.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in o)o.hasOwnProperty(u)&&a[u]!==o[u]&&(r||(r={}),r[u]=o[u])}else r||(s||(s=[]),s.push(c,r)),r=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(s=s||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Td.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&ft("scroll",t),s||a===o||(s=[])):(s=s||[]).push(c,o))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};c3=function(t,e,r,n){r!==n&&(e.flags|=4)};function xf(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function A4(t,e,r){var n=e.pendingProps;switch(Tw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return tn(e.type)&&dm(),yr(e),null;case 3:return n=e.stateNode,Rc(),mt(en),mt(Dr),Vw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($p(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ai!==null&&(SA(Ai),Ai=null))),vA(t,e),yr(e),null;case 5:Uw(e);var i=Ra(Wd.current);if(r=e.type,t!==null&&e.stateNode!=null)l3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return yr(e),null}if(t=Ra(ns.current),$p(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Zi]=e,n[Hd]=s,t=(e.mode&1)!==0,r){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(i=0;i<Yf.length;i++)ft(Yf[i],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":C2(n,s),ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ft("invalid",n);break;case"textarea":D2(n,s),ft("invalid",n)}W1(r,s),i=null;for(var u in s)if(s.hasOwnProperty(u)){var a=s[u];u==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mp(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mp(n.textContent,a,t),i=["children",""+a]):Td.hasOwnProperty(u)&&a!=null&&u==="onScroll"&&ft("scroll",n)}switch(r){case"input":Pp(n),S2(n,s,!0);break;case"textarea":Pp(n),k2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),r==="select"&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[Zi]=e,t[Hd]=n,o3(t,e,!1,!1),e.stateNode=t;e:{switch(u=Q1(r,n),r){case"dialog":ft("cancel",t),ft("close",t),i=n;break;case"iframe":case"object":case"embed":ft("load",t),i=n;break;case"video":case"audio":for(i=0;i<Yf.length;i++)ft(Yf[i],t);i=n;break;case"source":ft("error",t),i=n;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=n;break;case"details":ft("toggle",t),i=n;break;case"input":C2(t,n),i=$1(t,n),ft("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ft("invalid",t);break;case"textarea":D2(t,n),i=H1(t,n),ft("invalid",t);break;default:i=n}W1(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="style"?$O(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&LO(t,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Nd(t,o):typeof o=="number"&&Nd(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Td.hasOwnProperty(s)?o!=null&&s==="onScroll"&&ft("scroll",t):o!=null&&vw(t,s,o,u))}switch(r){case"input":Pp(t),S2(t,n,!1);break;case"textarea":Pp(t),k2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ia(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?_l(t,!!n.multiple,s,!1):n.defaultValue!=null&&_l(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(t&&e.stateNode!=null)c3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Ra(Wd.current),Ra(ns.current),$p(e)){if(n=e.stateNode,r=e.memoizedProps,n[Zi]=e,(s=n.nodeValue!==r)&&(t=gn,t!==null))switch(t.tag){case 3:Mp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zi]=e,e.stateNode=n}return yr(e),null;case 13:if(mt(wt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&hn!==null&&e.mode&1&&!(e.flags&128))D_(),jc(),e.flags|=98560,s=!1;else if(s=$p(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Zi]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),s=!1}else Ai!==null&&(SA(Ai),Ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?qt===0&&(qt=3):eE())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return Rc(),vA(t,e),t===null&&Ud(e.stateNode.containerInfo),yr(e),null;case 10:return Rw(e.type._context),yr(e),null;case 17:return tn(e.type)&&dm(),yr(e),null;case 19:if(mt(wt),s=e.memoizedState,s===null)return yr(e),null;if(n=(e.flags&128)!==0,u=s.rendering,u===null)if(n)xf(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Am(t),u!==null){for(e.flags|=128,xf(s,!1),n=u.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ot(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>Mc&&(e.flags|=128,n=!0,xf(s,!1),e.lanes=4194304)}else{if(!n)if(t=Am(u),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!vt)return yr(e),null}else 2*Tt()-s.renderingStartTime>Mc&&r!==1073741824&&(e.flags|=128,n=!0,xf(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(r=s.last,r!==null?r.sibling=u:e.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,r=wt.current,ot(wt,n?r&1|2:r&1),e):(yr(e),null);case 22:case 23:return Xw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fn&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function b4(t,e){switch(Tw(e),e.tag){case 1:return tn(e.type)&&dm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rc(),mt(en),mt(Dr),Vw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uw(e),null;case 13:if(mt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(wt),null;case 4:return Rc(),null;case 10:return Rw(e.type._context),null;case 22:case 23:return Xw(),null;case 24:return null;default:return null}}var Hp=!1,Er=!1,w4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function pl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function AA(t,e,r){try{r()}catch(n){_t(t,e,n)}}var gF=!1;function E4(t,e){if(rA=om,t=p_(),Pw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var u=0,a=-1,o=-1,c=0,f=0,d=t,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(a=u+i),d!==s||n!==0&&d.nodeType!==3||(o=u+n),d.nodeType===3&&(u+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===r&&++c===i&&(a=u),p===s&&++f===n&&(o=u),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=a===-1||o===-1?null:{start:a,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(nA={focusedElem:t,selectionRange:r},om=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,F=w.memoizedState,E=e.stateNode,A=E.getSnapshotBeforeUpdate(e.elementType===e.type?b:fi(e.type,b),F);E.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(C){_t(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return w=gF,gF=!1,w}function hd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&AA(e,r,s)}i=i.next}while(i!==n)}}function Ry(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function f3(t){var e=t.alternate;e!==null&&(t.alternate=null,f3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zi],delete e[Hd],delete e[uA],delete e[i4],delete e[s4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d3(t){return t.tag===5||t.tag===3||t.tag===4}function vF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fm));else if(n!==4&&(t=t.child,t!==null))for(wA(t,e,r),t=t.sibling;t!==null;)wA(t,e,r),t=t.sibling}function EA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(EA(t,e,r),t=t.sibling;t!==null;)EA(t,e,r),t=t.sibling}var ar=null,vi=!1;function ru(t,e,r){for(r=r.child;r!==null;)h3(t,e,r),r=r.sibling}function h3(t,e,r){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(Oy,r)}catch{}switch(r.tag){case 5:Er||pl(r,e);case 6:var n=ar,i=vi;ar=null,ru(t,e,r),ar=n,vi=i,ar!==null&&(vi?(t=ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(vi?(t=ar,r=r.stateNode,t.nodeType===8?iv(t.parentNode,r):t.nodeType===1&&iv(t,r),Ld(t)):iv(ar,r.stateNode));break;case 4:n=ar,i=vi,ar=r.stateNode.containerInfo,vi=!0,ru(t,e,r),ar=n,vi=i;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&AA(r,e,u),i=i.next}while(i!==n)}ru(t,e,r);break;case 1:if(!Er&&(pl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_t(r,e,a)}ru(t,e,r);break;case 21:ru(t,e,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,ru(t,e,r),Er=n):ru(t,e,r);break;default:ru(t,e,r)}}function AF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new w4),e.forEach(function(n){var i=P4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function si(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,u=e,a=u;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,vi=!1;break e;case 3:ar=a.stateNode.containerInfo,vi=!0;break e;case 4:ar=a.stateNode.containerInfo,vi=!0;break e}a=a.return}if(ar===null)throw Error(X(160));h3(s,u,i),ar=null,vi=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p3(e,t),e=e.sibling}function p3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),$i(t),n&4){try{hd(3,t,t.return),Ry(3,t)}catch(b){_t(t,t.return,b)}try{hd(5,t,t.return)}catch(b){_t(t,t.return,b)}}break;case 1:si(e,t),$i(t),n&512&&r!==null&&pl(r,r.return);break;case 5:if(si(e,t),$i(t),n&512&&r!==null&&pl(r,r.return),t.flags&32){var i=t.stateNode;try{Nd(i,"")}catch(b){_t(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,u=r!==null?r.memoizedProps:s,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jO(i,s),Q1(a,u);var c=Q1(a,s);for(u=0;u<o.length;u+=2){var f=o[u],d=o[u+1];f==="style"?$O(i,d):f==="dangerouslySetInnerHTML"?LO(i,d):f==="children"?Nd(i,d):vw(i,f,d,c)}switch(a){case"input":U1(i,s);break;case"textarea":IO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?_l(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?_l(i,!!s.multiple,s.defaultValue,!0):_l(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hd]=s}catch(b){_t(t,t.return,b)}}break;case 6:if(si(e,t),$i(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){_t(t,t.return,b)}}break;case 3:if(si(e,t),$i(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ld(e.containerInfo)}catch(b){_t(t,t.return,b)}break;case 4:si(e,t),$i(t);break;case 13:si(e,t),$i(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yw=Tt())),n&4&&AF(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Er=(c=Er)||f,si(e,t),Er=c):si(e,t),$i(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(oe=t,f=t.child;f!==null;){for(d=oe=f;oe!==null;){switch(p=oe,m=p.child,p.tag){case 0:case 11:case 14:case 15:hd(4,p,p.return);break;case 1:pl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){_t(n,r,b)}}break;case 5:pl(p,p.return);break;case 22:if(p.memoizedState!==null){wF(d);continue}}m!==null?(m.return=p,oe=m):wF(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,o=d.memoizedProps.style,u=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=MO("display",u))}catch(b){_t(t,t.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){_t(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),$i(t),n&4&&AF(t);break;case 21:break;default:si(e,t),$i(t)}}function $i(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(d3(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nd(i,""),n.flags&=-33);var s=vF(t);EA(t,s,i);break;case 3:case 4:var u=n.stateNode.containerInfo,a=vF(t);wA(t,a,u);break;default:throw Error(X(161))}}catch(o){_t(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x4(t,e,r){oe=t,m3(t)}function m3(t,e,r){for(var n=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||Hp;if(!u){var a=i.alternate,o=a!==null&&a.memoizedState!==null||Er;a=Hp;var c=Er;if(Hp=u,(Er=o)&&!c)for(oe=i;oe!==null;)u=oe,o=u.child,u.tag===22&&u.memoizedState!==null?EF(i):o!==null?(o.return=u,oe=o):EF(i);for(;s!==null;)oe=s,m3(s),s=s.sibling;oe=i,Hp=a,Er=c}bF(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):bF(t)}}function bF(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||Ry(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:fi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nF(e,s,n);break;case 3:var u=e.updateQueue;if(u!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}nF(e,u,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ld(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Er||e.flags&512&&bA(e)}catch(p){_t(e,e.return,p)}}if(e===t){oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,oe=r;break}oe=e.return}}function wF(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,oe=r;break}oe=e.return}}function EF(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ry(4,e)}catch(o){_t(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(o){_t(e,i,o)}}var s=e.return;try{bA(e)}catch(o){_t(e,s,o)}break;case 5:var u=e.return;try{bA(e)}catch(o){_t(e,u,o)}}}catch(o){_t(e,e.return,o)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var F4=Math.ceil,Em=qs.ReactCurrentDispatcher,Kw=qs.ReactCurrentOwner,Gn=qs.ReactCurrentBatchConfig,Ie=0,rr=null,Ut=null,cr=0,fn=0,ml=ya(0),qt=0,Kd=null,go=0,Ly=0,Jw=0,pd=null,Kr=null,Yw=0,Mc=1/0,cs=null,xm=!1,xA=null,Yu=null,zp=!1,Uu=null,Fm=0,md=0,FA=null,O0=-1,_0=0;function Mr(){return Ie&6?Tt():O0!==-1?O0:O0=Tt()}function Zu(t){return t.mode&1?Ie&2&&cr!==0?cr&-cr:a4.transition!==null?(_0===0&&(_0=ZO()),_0):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:s_(t.type)),t):1}function Si(t,e,r,n){if(50<md)throw md=0,FA=null,Error(X(185));zh(t,r,n),(!(Ie&2)||t!==rr)&&(t===rr&&(!(Ie&2)&&(Ly|=r),qt===4&&xu(t,cr)),rn(t,n),r===1&&Ie===0&&!(e.mode&1)&&(Mc=Tt()+500,Ny&&ga()))}function rn(t,e){var r=t.callbackNode;aI(t,e);var n=am(t,t===rr?cr:0);if(n===0)r!==null&&P2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&P2(r),e===1)t.tag===0?u4(xF.bind(null,t)):F_(xF.bind(null,t)),r4(function(){!(Ie&6)&&ga()}),r=null;else{switch(XO(n)){case 1:r=xw;break;case 4:r=JO;break;case 16:r=um;break;case 536870912:r=YO;break;default:r=um}r=x3(r,y3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function y3(t,e){if(O0=-1,_0=0,Ie&6)throw Error(X(327));var r=t.callbackNode;if(jl()&&t.callbackNode!==r)return null;var n=am(t,t===rr?cr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cm(t,n);else{e=n;var i=Ie;Ie|=2;var s=v3();(rr!==t||cr!==e)&&(cs=null,Mc=Tt()+500,uo(t,e));do try{D4();break}catch(a){g3(t,a)}while(1);Iw(),Em.current=s,Ie=i,Ut!==null?e=0:(rr=null,cr=0,e=qt)}if(e!==0){if(e===2&&(i=Y1(t),i!==0&&(n=i,e=CA(t,i))),e===1)throw r=Kd,uo(t,0),xu(t,n),rn(t,Tt()),r;if(e===6)xu(t,n);else{if(i=t.current.alternate,!(n&30)&&!C4(i)&&(e=Cm(t,n),e===2&&(s=Y1(t),s!==0&&(n=s,e=CA(t,s))),e===1))throw r=Kd,uo(t,0),xu(t,n),rn(t,Tt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Oa(t,Kr,cs);break;case 3:if(xu(t,n),(n&130023424)===n&&(e=Yw+500-Tt(),10<e)){if(am(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sA(Oa.bind(null,t,Kr,cs),e);break}Oa(t,Kr,cs);break;case 4:if(xu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var u=31-Ci(n);s=1<<u,u=e[u],u>i&&(i=u),n&=~s}if(n=i,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*F4(n/1960))-n,10<n){t.timeoutHandle=sA(Oa.bind(null,t,Kr,cs),n);break}Oa(t,Kr,cs);break;case 5:Oa(t,Kr,cs);break;default:throw Error(X(329))}}}return rn(t,Tt()),t.callbackNode===r?y3.bind(null,t):null}function CA(t,e){var r=pd;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Cm(t,e),t!==2&&(e=Kr,Kr=r,e!==null&&SA(e)),t}function SA(t){Kr===null?Kr=t:Kr.push.apply(Kr,t)}function C4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Di(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xu(t,e){for(e&=~Jw,e&=~Ly,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ci(e),n=1<<r;t[r]=-1,e&=~n}}function xF(t){if(Ie&6)throw Error(X(327));jl();var e=am(t,0);if(!(e&1))return rn(t,Tt()),null;var r=Cm(t,e);if(t.tag!==0&&r===2){var n=Y1(t);n!==0&&(e=n,r=CA(t,n))}if(r===1)throw r=Kd,uo(t,0),xu(t,e),rn(t,Tt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,Kr,cs),rn(t,Tt()),null}function Zw(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(Mc=Tt()+500,Ny&&ga())}}function vo(t){Uu!==null&&Uu.tag===0&&!(Ie&6)&&jl();var e=Ie;Ie|=1;var r=Gn.transition,n=Ye;try{if(Gn.transition=null,Ye=1,t)return t()}finally{Ye=n,Gn.transition=r,Ie=e,!(Ie&6)&&ga()}}function Xw(){fn=ml.current,mt(ml)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,t4(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(Tw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dm();break;case 3:Rc(),mt(en),mt(Dr),Vw();break;case 5:Uw(n);break;case 4:Rc();break;case 13:mt(wt);break;case 19:mt(wt);break;case 10:Rw(n.type._context);break;case 22:case 23:Xw()}r=r.return}if(rr=t,Ut=t=Xu(t.current,null),cr=fn=e,qt=0,Kd=null,Jw=Ly=go=0,Kr=pd=null,Ia!==null){for(e=0;e<Ia.length;e++)if(r=Ia[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var u=s.next;s.next=i,n.next=u}r.pending=n}Ia=null}return t}function g3(t,e){do{var r=Ut;try{if(Iw(),S0.current=wm,bm){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bm=!1}if(yo=0,er=Qt=Ct=null,dd=!1,Qd=0,Kw.current=null,r===null||r.return===null){qt=1,Kd=e,Ut=null;break}e:{var s=t,u=r.return,a=r,o=e;if(e=cr,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=cF(u);if(m!==null){m.flags&=-257,fF(m,u,a,s,e),m.mode&1&&lF(s,c,e),e=m,o=c;var w=e.updateQueue;if(w===null){var b=new Set;b.add(o),e.updateQueue=b}else w.add(o);break e}else{if(!(e&1)){lF(s,c,e),eE();break e}o=Error(X(426))}}else if(vt&&a.mode&1){var F=cF(u);if(F!==null){!(F.flags&65536)&&(F.flags|=256),fF(F,u,a,s,e),Nw(Lc(o,a));break e}}s=o=Lc(o,a),qt!==4&&(qt=2),pd===null?pd=[s]:pd.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=e3(s,o,e);rF(s,E);break e;case 1:a=o;var A=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yu===null||!Yu.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=t3(s,a,e);rF(s,C);break e}}s=s.return}while(s!==null)}b3(r)}catch(S){e=S,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(1)}function v3(){var t=Em.current;return Em.current=wm,t===null?wm:t}function eE(){(qt===0||qt===3||qt===2)&&(qt=4),rr===null||!(go&268435455)&&!(Ly&268435455)||xu(rr,cr)}function Cm(t,e){var r=Ie;Ie|=2;var n=v3();(rr!==t||cr!==e)&&(cs=null,uo(t,e));do try{S4();break}catch(i){g3(t,i)}while(1);if(Iw(),Ie=r,Em.current=n,Ut!==null)throw Error(X(261));return rr=null,cr=0,qt}function S4(){for(;Ut!==null;)A3(Ut)}function D4(){for(;Ut!==null&&!Zj();)A3(Ut)}function A3(t){var e=E3(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?b3(t):Ut=e,Kw.current=null}function b3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=b4(r,e),r!==null){r.flags&=32767,Ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Ut=null;return}}else if(r=A4(r,e,fn),r!==null){Ut=r;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);qt===0&&(qt=5)}function Oa(t,e,r){var n=Ye,i=Gn.transition;try{Gn.transition=null,Ye=1,k4(t,e,r,n)}finally{Gn.transition=i,Ye=n}return null}function k4(t,e,r,n){do jl();while(Uu!==null);if(Ie&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(oI(t,s),t===rr&&(Ut=rr=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zp||(zp=!0,x3(um,function(){return jl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var u=Ye;Ye=1;var a=Ie;Ie|=4,Kw.current=null,E4(t,r),p3(r,t),GI(nA),om=!!rA,nA=rA=null,t.current=r,x4(r),Xj(),Ie=a,Ye=u,Gn.transition=s}else t.current=r;if(zp&&(zp=!1,Uu=t,Fm=i),s=t.pendingLanes,s===0&&(Yu=null),rI(r.stateNode),rn(t,Tt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xm)throw xm=!1,t=xA,xA=null,t;return Fm&1&&t.tag!==0&&jl(),s=t.pendingLanes,s&1?t===FA?md++:(md=0,FA=t):md=0,ga(),null}function jl(){if(Uu!==null){var t=XO(Fm),e=Gn.transition,r=Ye;try{if(Gn.transition=null,Ye=16>t?16:t,Uu===null)var n=!1;else{if(t=Uu,Uu=null,Fm=0,Ie&6)throw Error(X(331));var i=Ie;for(Ie|=4,oe=t.current;oe!==null;){var s=oe,u=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(oe=c;oe!==null;){var f=oe;switch(f.tag){case 0:case 11:case 15:hd(8,f,s)}var d=f.child;if(d!==null)d.return=f,oe=d;else for(;oe!==null;){f=oe;var p=f.sibling,m=f.return;if(f3(f),f===c){oe=null;break}if(p!==null){p.return=m,oe=p;break}oe=m}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var F=b.sibling;b.sibling=null,b=F}while(b!==null)}}oe=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,oe=u;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hd(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,oe=E;break e}oe=s.return}}var A=t.current;for(oe=A;oe!==null;){u=oe;var x=u.child;if(u.subtreeFlags&2064&&x!==null)x.return=u,oe=x;else e:for(u=A;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ry(9,a)}}catch(S){_t(a,a.return,S)}if(a===u){oe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,oe=C;break e}oe=a.return}}if(Ie=i,ga(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(Oy,t)}catch{}n=!0}return n}finally{Ye=r,Gn.transition=e}}return!1}function FF(t,e,r){e=Lc(r,e),e=e3(t,e,1),t=Ju(t,e,1),e=Mr(),t!==null&&(zh(t,1,e),rn(t,e))}function _t(t,e,r){if(t.tag===3)FF(t,t,r);else for(;e!==null;){if(e.tag===3){FF(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yu===null||!Yu.has(n))){t=Lc(r,t),t=t3(e,t,1),e=Ju(e,t,1),t=Mr(),e!==null&&(zh(e,1,t),rn(e,t));break}}e=e.return}}function O4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&r,rr===t&&(cr&r)===r&&(qt===4||qt===3&&(cr&130023424)===cr&&500>Tt()-Yw?uo(t,0):Jw|=r),rn(t,e)}function w3(t,e){e===0&&(t.mode&1?(e=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):e=1);var r=Mr();t=Us(t,e),t!==null&&(zh(t,e,r),rn(t,r))}function _4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),w3(t,r)}function P4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),w3(t,r)}var E3;E3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Xr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Xr=!1,v4(t,e,r);Xr=!!(t.flags&131072)}else Xr=!1,vt&&e.flags&1048576&&C_(e,mm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;k0(t,e),t=e.pendingProps;var i=Nc(e,Dr.current);Nl(e,r),i=zw(null,e,n,t,i,r);var s=Ww();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(n)?(s=!0,hm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mw(e),i.updater=jy,e.stateNode=i,i._reactInternals=e,dA(e,n,t,r),e=mA(null,e,n,!0,s,r)):(e.tag=0,vt&&s&&Bw(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(k0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=T4(n),t=fi(n,t),i){case 0:e=pA(null,e,n,t,r);break e;case 1:e=pF(null,e,n,t,r);break e;case 11:e=dF(null,e,n,t,r);break e;case 14:e=hF(null,e,n,fi(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),pA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),pF(t,e,n,i,r);case 3:e:{if(s3(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,i=s.element,O_(t,e),vm(e,n,null,r);var u=e.memoizedState;if(n=u.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lc(Error(X(423)),e),e=mF(t,e,n,r,i);break e}else if(n!==i){i=Lc(Error(X(424)),e),e=mF(t,e,n,r,i);break e}else for(hn=Ku(e.stateNode.containerInfo.firstChild),gn=e,vt=!0,Ai=null,r=T_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jc(),n===i){e=Vs(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return N_(e),t===null&&lA(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,u=i.children,iA(n,i)?u=null:s!==null&&iA(n,s)&&(e.flags|=32),i3(t,e),Pr(t,e,u,r),e.child;case 6:return t===null&&lA(e),null;case 13:return u3(t,e,r);case 4:return $w(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ic(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),dF(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,u=i.value,ot(ym,n._currentValue),n._currentValue=u,s!==null)if(Di(s.value,u)){if(s.children===i.children&&!en.current){e=Vs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){u=s.child;for(var o=a.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=js(-1,r&-r),o.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),cA(s.return,r,e),a.lanes|=r;break}o=o.next}}else if(s.tag===10)u=s.type===e.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(X(341));u.lanes|=r,a=u.alternate,a!==null&&(a.lanes|=r),cA(u,r,e),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Nl(e,r),i=Jn(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=fi(n,e.pendingProps),i=fi(n.type,i),hF(t,e,n,i,r);case 15:return r3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),k0(t,e),e.tag=1,tn(n)?(t=!0,hm(e)):t=!1,Nl(e,r),P_(e,n,i),dA(e,n,i,r),mA(null,e,n,!0,t,r);case 19:return a3(t,e,r);case 22:return n3(t,e,r)}throw Error(X(156,e.tag))};function x3(t,e){return KO(t,e)}function B4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,r,n){return new B4(t,e,r,n)}function tE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T4(t){if(typeof t=="function")return tE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bw)return 11;if(t===ww)return 14}return 2}function Xu(t,e){var r=t.alternate;return r===null?(r=Qn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function P0(t,e,r,n,i,s){var u=2;if(n=t,typeof t=="function")tE(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case sl:return ao(r.children,i,s,e);case Aw:u=8,i|=8;break;case I1:return t=Qn(12,r,e,i|2),t.elementType=I1,t.lanes=s,t;case R1:return t=Qn(13,r,e,i),t.elementType=R1,t.lanes=s,t;case L1:return t=Qn(19,r,e,i),t.elementType=L1,t.lanes=s,t;case BO:return My(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _O:u=10;break e;case PO:u=9;break e;case bw:u=11;break e;case ww:u=14;break e;case du:u=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Qn(u,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ao(t,e,r,n){return t=Qn(7,t,n,e),t.lanes=r,t}function My(t,e,r,n){return t=Qn(22,t,n,e),t.elementType=BO,t.lanes=r,t.stateNode={isHidden:!1},t}function dv(t,e,r){return t=Qn(6,t,null,e),t.lanes=r,t}function hv(t,e,r){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qg(0),this.expirationTimes=qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rE(t,e,r,n,i,s,u,a,o){return t=new N4(t,e,r,a,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mw(s),t}function j4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function F3(t){if(!t)return sa;t=t._reactInternals;e:{if(To(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(tn(r))return x_(t,r,e)}return e}function C3(t,e,r,n,i,s,u,a,o){return t=rE(r,n,!0,t,i,s,u,a,o),t.context=F3(null),r=t.current,n=Mr(),i=Zu(r),s=js(n,i),s.callback=e??null,Ju(r,s,i),t.current.lanes=i,zh(t,i,n),rn(t,n),t}function $y(t,e,r,n){var i=e.current,s=Mr(),u=Zu(i);return r=F3(r),e.context===null?e.context=r:e.pendingContext=r,e=js(s,u),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ju(i,e,u),t!==null&&(Si(t,i,u,s),C0(t,i,u)),u}function Sm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function nE(t,e){CF(t,e),(t=t.alternate)&&CF(t,e)}function I4(){return null}var S3=typeof reportError=="function"?reportError:function(t){console.error(t)};function iE(t){this._internalRoot=t}Uy.prototype.render=iE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));$y(t,e,null,null)};Uy.prototype.unmount=iE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){$y(null,t,null,null)}),e[$s]=null}};function Uy(t){this._internalRoot=t}Uy.prototype.unstable_scheduleHydration=function(t){if(t){var e=r_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Eu.length&&e!==0&&e<Eu[r].priority;r++);Eu.splice(r,0,t),r===0&&i_(t)}};function sE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SF(){}function R4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Sm(u);s.call(c)}}var u=C3(e,n,t,0,null,!1,!1,"",SF);return t._reactRootContainer=u,t[$s]=u.current,Ud(t.nodeType===8?t.parentNode:t),vo(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Sm(o);a.call(c)}}var o=rE(t,0,!1,null,null,!1,!1,"",SF);return t._reactRootContainer=o,t[$s]=o.current,Ud(t.nodeType===8?t.parentNode:t),vo(function(){$y(e,o,r,n)}),o}function Hy(t,e,r,n,i){var s=r._reactRootContainer;if(s){var u=s;if(typeof i=="function"){var a=i;i=function(){var o=Sm(u);a.call(o)}}$y(e,u,t,i)}else u=R4(r,e,t,i,n);return Sm(u)}e_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Jf(e.pendingLanes);r!==0&&(Fw(e,r|1),rn(e,Tt()),!(Ie&6)&&(Mc=Tt()+500,ga()))}break;case 13:vo(function(){var n=Us(t,1);if(n!==null){var i=Mr();Si(n,t,1,i)}}),nE(t,1)}};Cw=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var r=Mr();Si(e,t,134217728,r)}nE(t,134217728)}};t_=function(t){if(t.tag===13){var e=Zu(t),r=Us(t,e);if(r!==null){var n=Mr();Si(r,t,e,n)}nE(t,e)}};r_=function(){return Ye};n_=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};G1=function(t,e,r){switch(e){case"input":if(U1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ty(n);if(!i)throw Error(X(90));NO(n),U1(n,i)}}}break;case"textarea":IO(t,r);break;case"select":e=r.value,e!=null&&_l(t,!!r.multiple,e,!1)}};HO=Zw;zO=vo;var L4={usingClientEntryPoint:!1,Events:[Qh,ll,Ty,UO,VO,Zw]},Ff={findFiberByHostInstance:ja,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M4={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||I4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{Oy=Wp.inject(M4),rs=Wp}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4;En.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sE(e))throw Error(X(200));return j4(t,e,null,r)};En.createRoot=function(t,e){if(!sE(t))throw Error(X(299));var r=!1,n="",i=S3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rE(t,1,!1,null,null,r,!1,n,i),t[$s]=e.current,Ud(t.nodeType===8?t.parentNode:t),new iE(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=qO(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return vo(t)};En.hydrate=function(t,e,r){if(!Vy(e))throw Error(X(200));return Hy(null,t,e,!0,r)};En.hydrateRoot=function(t,e,r){if(!sE(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",u=S3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),e=C3(e,null,t,1,r??null,i,!1,s,u),t[$s]=e.current,Ud(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Uy(e)};En.render=function(t,e,r){if(!Vy(e))throw Error(X(200));return Hy(null,t,e,!1,r)};En.unmountComponentAtNode=function(t){if(!Vy(t))throw Error(X(40));return t._reactRootContainer?(vo(function(){Hy(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};En.unstable_batchedUpdates=Zw;En.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vy(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Hy(t,e,r,!1,n)};En.version="18.2.0-next-9e3b772b8-20220608";function D3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D3)}catch(t){console.error(t)}}D3(),CO.exports=En;var k3=CO.exports,O3,DF=k3;O3=N1.createRoot=DF.createRoot,N1.hydrateRoot=DF.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}var Vu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vu||(Vu={}));const kF="popstate";function $4(t){t===void 0&&(t={});function e(i,s){let{pathname:u="/",search:a="",hash:o=""}=No(i.location.hash.substr(1));return DA("",{pathname:u,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let u=i.document.querySelector("base"),a="";if(u&&u.getAttribute("href")){let o=i.location.href,c=o.indexOf("#");a=c===-1?o:o.slice(0,c)}return a+"#"+(typeof s=="string"?s:Dm(s))}function n(i,s){zy(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return V4(e,r,n,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U4(){return Math.random().toString(36).substr(2,8)}function OF(t,e){return{usr:t.state,key:t.key,idx:e}}function DA(t,e,r,n){return r===void 0&&(r=null),Jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?No(e):e,{state:r,key:e&&e.key||n||U4()})}function Dm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function No(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function V4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,u=i.history,a=Vu.Pop,o=null,c=f();c==null&&(c=0,u.replaceState(Jd({},u.state,{idx:c}),""));function f(){return(u.state||{idx:null}).idx}function d(){a=Vu.Pop;let F=f(),E=F==null?null:F-c;c=F,o&&o({action:a,location:b.location,delta:E})}function p(F,E){a=Vu.Push;let A=DA(b.location,F,E);r&&r(A,F),c=f()+1;let x=OF(A,c),C=b.createHref(A);try{u.pushState(x,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&o&&o({action:a,location:b.location,delta:1})}function m(F,E){a=Vu.Replace;let A=DA(b.location,F,E);r&&r(A,F),c=f();let x=OF(A,c),C=b.createHref(A);u.replaceState(x,"",C),s&&o&&o({action:a,location:b.location,delta:0})}function w(F){let E=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof F=="string"?F:Dm(F);return Ht(E,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,E)}let b={get action(){return a},get location(){return t(i,u)},listen(F){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(kF,d),o=F,()=>{i.removeEventListener(kF,d),o=null}},createHref(F){return e(i,F)},createURL:w,encodeLocation(F){let E=w(F);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(F){return u.go(F)}};return b}var _F;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_F||(_F={}));function H4(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?No(e):e,i=uE(n.pathname||"/",r);if(i==null)return null;let s=_3(t);z4(s);let u=null;for(let a=0;u==null&&a<s.length;++a)u=X4(s[a],rR(i));return u}function _3(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,u,a)=>{let o={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};o.relativePath.startsWith("/")&&(Ht(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let c=ea([n,o.relativePath]),f=r.concat(o);s.children&&s.children.length>0&&(Ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_3(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Y4(c,s.index),routesMeta:f})};return t.forEach((s,u)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,u);else for(let o of P3(s.path))i(s,u,o)}),e}function P3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let u=P3(n.join("/")),a=[];return a.push(...u.map(o=>o===""?s:[s,o].join("/"))),i&&a.push(...u),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function z4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Z4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const W4=/^:\w+$/,Q4=3,q4=2,G4=1,K4=10,J4=-2,PF=t=>t==="*";function Y4(t,e){let r=t.split("/"),n=r.length;return r.some(PF)&&(n+=J4),e&&(n+=q4),r.filter(i=>!PF(i)).reduce((i,s)=>i+(W4.test(s)?Q4:s===""?G4:K4),n)}function Z4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function X4(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let u=0;u<r.length;++u){let a=r[u],o=u===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=eR({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},c);if(!f)return null;Object.assign(n,f.params);let d=a.route;s.push({params:n,pathname:ea([i,f.pathname]),pathnameBase:uR(ea([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=ea([i,f.pathnameBase]))}return s}function eR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tR(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],u=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,f,d)=>{if(f==="*"){let p=a[d]||"";u=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[f]=nR(a[d]||"",f),c},{}),pathname:s,pathnameBase:u,pattern:t}}function tR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(u,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rR(t){try{return decodeURI(t)}catch(e){return zy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nR(t,e){try{return decodeURIComponent(t)}catch(r){return zy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function uE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function iR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?No(t):t;return{pathname:r?r.startsWith("/")?r:sR(r,e):e,search:aR(n),hash:oR(i)}}function sR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function T3(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=No(t):(i=Jd({},t),Ht(!i.pathname||!i.pathname.includes("?"),pv("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),pv("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),pv("#","search","hash",i)));let s=t===""||i.pathname==="",u=s?"/":i.pathname,a;if(n||u==null)a=r;else{let d=e.length-1;if(u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let o=iR(i,a),c=u&&u!=="/"&&u.endsWith("/"),f=(s||u===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(c||f)&&(o.pathname+="/"),o}const ea=t=>t.join("/").replace(/\/\/+/g,"/"),uR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const N3=["post","put","patch","delete"];new Set(N3);const cR=["get",...N3];new Set(cR);/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(this,arguments)}const fR="startTransition";var BF=xO[fR];const aE=k.createContext(null),dR=k.createContext(null),Xc=k.createContext(null),Wy=k.createContext(null),va=k.createContext({outlet:null,matches:[],isDataRoute:!1}),j3=k.createContext(null);function hR(t,e){let{relative:r}=e===void 0?{}:e;Gh()||Ht(!1);let{basename:n,navigator:i}=k.useContext(Xc),{hash:s,pathname:u,search:a}=R3(t,{relative:r}),o=u;return n!=="/"&&(o=u==="/"?n:ea([n,u])),i.createHref({pathname:o,search:a,hash:s})}function Gh(){return k.useContext(Wy)!=null}function Ni(){return Gh()||Ht(!1),k.useContext(Wy).location}function I3(t){k.useContext(Xc).static||k.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=k.useContext(va);return t?SR():pR()}function pR(){Gh()||Ht(!1);let t=k.useContext(aE),{basename:e,navigator:r}=k.useContext(Xc),{matches:n}=k.useContext(va),{pathname:i}=Ni(),s=JSON.stringify(B3(n).map(o=>o.pathnameBase)),u=k.useRef(!1);return I3(()=>{u.current=!0}),k.useCallback(function(o,c){if(c===void 0&&(c={}),!u.current)return;if(typeof o=="number"){r.go(o);return}let f=T3(o,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ea([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,i,t])}function ua(){let{matches:t}=k.useContext(va),e=t[t.length-1];return e?e.params:{}}function R3(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=k.useContext(va),{pathname:i}=Ni(),s=JSON.stringify(B3(n).map(u=>u.pathnameBase));return k.useMemo(()=>T3(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function mR(t,e){return yR(t,e)}function yR(t,e,r){Gh()||Ht(!1);let{navigator:n}=k.useContext(Xc),{matches:i}=k.useContext(va),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let o=Ni(),c;if(e){var f;let b=typeof e=="string"?No(e):e;a==="/"||(f=b.pathname)!=null&&f.startsWith(a)||Ht(!1),c=b}else c=o;let d=c.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=H4(t,{pathname:p}),w=wR(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:ea([a,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:ea([a,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r);return e&&w?k.createElement(Wy.Provider,{value:{location:km({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vu.Pop}},w):w}function gR(){let t=CR(),e=lR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,s)}const vR=k.createElement(gR,null);class AR extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?k.createElement(va.Provider,{value:this.props.routeContext},k.createElement(j3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bR(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(aE);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(va.Provider,{value:e},n)}function wR(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,u=(n=r)==null?void 0:n.errors;if(u!=null){let a=s.findIndex(o=>o.route.id&&(u==null?void 0:u[o.route.id]));a>=0||Ht(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,o,c)=>{let f=o.route.id?u==null?void 0:u[o.route.id]:null,d=null;r&&(d=o.route.errorElement||vR);let p=e.concat(s.slice(0,c+1)),m=()=>{let w;return f?w=d:o.route.Component?w=k.createElement(o.route.Component,null):o.route.element?w=o.route.element:w=a,k.createElement(bR,{match:o,routeContext:{outlet:a,matches:p,isDataRoute:r!=null},children:w})};return r&&(o.route.ErrorBoundary||o.route.errorElement||c===0)?k.createElement(AR,{location:r.location,revalidation:r.revalidation,component:d,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var kA;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(kA||(kA={}));var Yd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Yd||(Yd={}));function ER(t){let e=k.useContext(aE);return e||Ht(!1),e}function xR(t){let e=k.useContext(dR);return e||Ht(!1),e}function FR(t){let e=k.useContext(va);return e||Ht(!1),e}function L3(t){let e=FR(),r=e.matches[e.matches.length-1];return r.route.id||Ht(!1),r.route.id}function CR(){var t;let e=k.useContext(j3),r=xR(Yd.UseRouteError),n=L3(Yd.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function SR(){let{router:t}=ER(kA.UseNavigateStable),e=L3(Yd.UseNavigateStable),r=k.useRef(!1);return I3(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,km({fromRouteId:e},s)))},[t,e])}function Qr(t){Ht(!1)}function DR(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Vu.Pop,navigator:s,static:u=!1}=t;Gh()&&Ht(!1);let a=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:a,navigator:s,static:u}),[a,s,u]);typeof n=="string"&&(n=No(n));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=n,w=k.useMemo(()=>{let b=uE(c,a);return b==null?null:{location:{pathname:b,search:f,hash:d,state:p,key:m},navigationType:i}},[a,c,f,d,p,m,i]);return w==null?null:k.createElement(Xc.Provider,{value:o},k.createElement(Wy.Provider,{children:r,value:w}))}function kR(t){let{children:e,location:r}=t;return mR(OA(e),r)}var TF;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(TF||(TF={}));new Promise(()=>{});function OA(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,OA(n.props.children,s));return}n.type!==Qr&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let u={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=OA(n.props.children,s)),r.push(u)}),r}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}function OR(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _R(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PR(t,e){return t.button===0&&(!e||e==="_self")&&!_R(t)}const BR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function TR(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=$4({window:i,v5Compat:!0}));let u=s.current,[a,o]=k.useState({action:u.action,location:u.location}),{v7_startTransition:c}=n||{},f=k.useCallback(d=>{c&&BF?BF(()=>o(d)):o(d)},[o,c]);return k.useLayoutEffect(()=>u.listen(f),[u,f]),k.createElement(DR,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:u})}const NR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:u,state:a,target:o,to:c,preventScrollReset:f}=e,d=OR(e,BR),{basename:p}=k.useContext(Xc),m,w=!1;if(typeof c=="string"&&jR.test(c)&&(m=c,NR))try{let A=new URL(window.location.href),x=c.startsWith("//")?new URL(A.protocol+c):new URL(c),C=uE(x.pathname,p);x.origin===A.origin&&C!=null?c=C+x.search+x.hash:w=!0}catch{}let b=hR(c,{relative:i}),F=IR(c,{replace:u,state:a,target:o,preventScrollReset:f,relative:i});function E(A){n&&n(A),A.defaultPrevented||F(A)}return k.createElement("a",_A({},d,{href:m||b,onClick:w||s?n:E,ref:r,target:o}))});var NF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(NF||(NF={}));var jF;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jF||(jF={}));function IR(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:u}=e===void 0?{}:e,a=Vr(),o=Ni(),c=R3(t,{relative:u});return k.useCallback(f=>{if(PR(f,r)){f.preventDefault();let d=n!==void 0?n:Dm(o)===Dm(c);a(t,{replace:d,state:i,preventScrollReset:s,relative:u})}},[o,a,c,n,i,r,t,s,u])}var RR=function(e){var r=e.initValue,n=e.useHookBody,i=e.applyStateChange,s=k.useRef(r);if(typeof n!="function")throw new Error("function expected as hook body parameter. got "+typeof n);var u=n();return k.useLayoutEffect(function(){s.current!==u&&(s.current=u,i(u))},[i,u]),null},PA=function(e){console&&console.warn&&console.warn(e)},mv=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,LR=function(e){return k3.unstable_batchedUpdates(e)},MR=function(e){if(mv.document&&mv.document.createElement){var r=mv.document.createElement("div"),n=O3(r);n.render(Cr.createElement(e,{automaticContainerInternalUseOnly:!0}))}else PA("Can not mount SingletonHooksContainer on server side. Did you manage to run useEffect on server? Please mount SingletonHooksContainer into your components tree manually.")};function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BA.apply(this,arguments)}var $R=1,TA=!1,M3=!1,B0=[],yl=[],Om=function(){yl.forEach(function(e){return e()})},$3=function(e){var r=e.automaticContainerInternalUseOnly,n=k.useState([]),i=n[0],s=n[1],u=k.useRef();return u.current=i,!r&&TA===!1&&(M3=!0),k.useEffect(function(){var a=!0;function o(){if(a){if(yl[0]!==o){!r&&TA===!0&&PA("SingletonHooksContainer is mounted after some singleton hook has been used.Your SingletonHooksContainer will not be used in favor of internal one."),s(function(c){return[]});return}s([].concat(B0))}}return yl.push(o),Om(),function(){a=!1,u.current.length>0&&PA("SingletonHooksContainer is unmounted, but it has active singleton hooks. They will be reevaluated once SingletonHooksContainer is mounted again"),yl.splice(yl.indexOf(o),1),Om()}},[r]),Cr.createElement(Cr.Fragment,null,i.map(function(a){var o=a.hook,c=a.key;return Cr.createElement(RR,BA({},o,{key:c}))}))},UR=function(e){var r=$R++;return B0.push({hook:e,key:r}),yl.length===0&&M3===!1&&(TA=!0,MR($3)),Om(),function(){B0.splice(B0.findIndex(function(n){return n.key===r}),1),Om()}},U3=function(e,r,n){n===void 0&&(n={});var i=!1,s=void 0,u=!1,a=void 0,o=[],c=n,f=c.unmountIfNoConsumers,d=f===void 0?!1:f,p=function(b){a=b,LR(function(){return o.forEach(function(F){return F(b)})})},m=function(){return u||(a=typeof e=="function"?e():e,u=!0),a};return function(){var w=k.useState(m),b=w[0],F=w[1];return k.useEffect(function(){return i||(i=!0,s=UR({initValue:e,useHookBody:r,applyStateChange:p})),o.push(F),a!==b&&F(a),function(){o.splice(o.indexOf(F),1),o.length===0&&d&&(s(),i=!1)}},[]),b}};function VR(t,e,r=window){const n=k.useRef();k.useEffect(()=>{n.current=e},[e]),k.useEffect(()=>{if(!(r&&r.addEventListener))return;const s=u=>(n==null?void 0:n.current)&&(n==null?void 0:n.current(u));return r.addEventListener(t,s),()=>{r.removeEventListener(t,s)}},[t,r])}const Ca=new Map;function oE(t,e){if(k.useSyncExternalStore===void 0)throw new TypeError('You are using React 17 or below. Install with "npm install use-local-storage-state@17".');const[r]=k.useState(e==null?void 0:e.defaultValue);if(typeof window>"u")return[r,()=>{},{isPersistent:!0,removeItem:()=>{}}];const n=e==null?void 0:e.serializer;return HR(t,r,e==null?void 0:e.storageSync,n==null?void 0:n.parse,n==null?void 0:n.stringify)}function HR(t,e,r=!0,n=zR,i=JSON.stringify){!Ca.has(t)&&e!==void 0&&Cf(()=>localStorage.getItem(t))===null&&Cf(()=>localStorage.setItem(t,i(e)));const s=k.useRef({item:null,parsed:e}),u=k.useSyncExternalStore(k.useCallback(o=>{const c=f=>{t===f&&o()};return NA.add(c),()=>{NA.delete(c)}},[t]),()=>{var o;const c=(o=Cf(()=>localStorage.getItem(t)))!==null&&o!==void 0?o:null;if(Ca.has(t))s.current={item:c,parsed:Ca.get(t)};else if(c!==s.current.item){let f;try{f=c===null?e:n(c)}catch{f=e}s.current={item:c,parsed:f}}return s.current.parsed},()=>e),a=k.useCallback(o=>{const c=o instanceof Function?o(s.current.parsed):o;try{localStorage.setItem(t,i(c)),Ca.delete(t)}catch{Ca.set(t,c)}yv(t)},[t,i]);return k.useEffect(()=>{if(!r)return;const o=c=>{c.storageArea===Cf(()=>localStorage)&&c.key===t&&yv(t)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[t,r]),k.useMemo(()=>[u,a,{isPersistent:u===e||!Ca.has(t),removeItem(){Cf(()=>localStorage.removeItem(t)),Ca.delete(t),yv(t)}}],[t,a,u,e])}const NA=new Set;function yv(t){for(const e of[...NA])e(t)}function zR(t){return t==="undefined"?void 0:JSON.parse(t)}function Cf(t){try{return t()}catch{return}}const V3=()=>oE("4dchan.org.eula.accepted",{defaultValue:!1}),WR=(t,{watch:e,setValue:r},{storage:n=window.localStorage,include:i=[],onDataRestored:s=void 0,validate:u=!1,dirty:a=!1}={})=>{const[o,c]=k.useState(!1),f=e(i);return k.useEffect(()=>{const d=n.getItem(t);if(!o&&d){const p=JSON.parse(d),m={};Object.keys(p).forEach(w=>{m[w]=p[w];const b=p[w];r(w,b,{shouldValidate:u,shouldDirty:!0})}),s&&s(m),c(!0)}},[a,i,n,s,r,u,t,o,c]),k.useEffect(()=>{if(f.filter(d=>d).length>0){const d={};f.forEach((p,m)=>{d[i[m]]=p}),n.setItem(t,JSON.stringify(d))}}),{clear:()=>n.removeItem(t)}};var _m={exports:{}};_m.exports;(function(t,e){(function(r,n){var i={};r.PubSub?(i=r.PubSub,console.warn("PubSub already loaded, using existing version")):(r.PubSub=i,n(i)),t!==void 0&&t.exports&&(e=t.exports=i),e.PubSub=i,t.exports=e=i})(typeof window=="object"&&window||Vt,function(r){var n={},i=-1,s="*";function u(b){var F;for(F in b)if(Object.prototype.hasOwnProperty.call(b,F))return!0;return!1}function a(b){return function(){throw b}}function o(b,F,E){try{b(F,E)}catch(A){setTimeout(a(A),0)}}function c(b,F,E){b(F,E)}function f(b,F,E,A){var x=n[F],C=A?c:o,S;if(Object.prototype.hasOwnProperty.call(n,F))for(S in x)Object.prototype.hasOwnProperty.call(x,S)&&C(x[S],b,E)}function d(b,F,E){return function(){var x=String(b),C=x.lastIndexOf(".");for(f(b,b,F,E);C!==-1;)x=x.substr(0,C),C=x.lastIndexOf("."),f(b,x,F,E);f(b,s,F,E)}}function p(b){var F=String(b),E=!!(Object.prototype.hasOwnProperty.call(n,F)&&u(n[F]));return E}function m(b){for(var F=String(b),E=p(F)||p(s),A=F.lastIndexOf(".");!E&&A!==-1;)F=F.substr(0,A),A=F.lastIndexOf("."),E=p(F);return E}function w(b,F,E,A){b=typeof b=="symbol"?b.toString():b;var x=d(b,F,A),C=m(b);return C?(E===!0?x():setTimeout(x,0),!0):!1}r.publish=function(b,F){return w(b,F,!1,r.immediateExceptions)},r.publishSync=function(b,F){return w(b,F,!0,r.immediateExceptions)},r.subscribe=function(b,F){if(typeof F!="function")return!1;b=typeof b=="symbol"?b.toString():b,Object.prototype.hasOwnProperty.call(n,b)||(n[b]={});var E="uid_"+String(++i);return n[b][E]=F,E},r.subscribeAll=function(b){return r.subscribe(s,b)},r.subscribeOnce=function(b,F){var E=r.subscribe(b,function(){r.unsubscribe(E),F.apply(this,arguments)});return r},r.clearAllSubscriptions=function(){n={}},r.clearSubscriptions=function(F){var E;for(E in n)Object.prototype.hasOwnProperty.call(n,E)&&E.indexOf(F)===0&&delete n[E]},r.countSubscriptions=function(F){var E,A,x=0;for(E in n)if(Object.prototype.hasOwnProperty.call(n,E)&&E.indexOf(F)===0){for(A in n[E])x++;break}return x},r.getSubscriptions=function(F){var E,A=[];for(E in n)Object.prototype.hasOwnProperty.call(n,E)&&E.indexOf(F)===0&&A.push(E);return A},r.unsubscribe=function(b){var F=function(h){var v;for(v in n)if(Object.prototype.hasOwnProperty.call(n,v)&&v.indexOf(h)===0)return!0;return!1},E=typeof b=="string"&&(Object.prototype.hasOwnProperty.call(n,b)||F(b)),A=!E&&typeof b=="string",x=typeof b=="function",C=!1,S,O,g;if(E){r.clearSubscriptions(b);return}for(S in n)if(Object.prototype.hasOwnProperty.call(n,S)){if(O=n[S],A&&O[b]){delete O[b],C=b;break}if(x)for(g in O)Object.prototype.hasOwnProperty.call(O,g)&&O[g]===b&&(delete O[g],C=!0)}return C}})})(_m,_m.exports);var bi=_m.exports;const ef=U3({publish:bi.publish,subscribe:bi.subscribe,unsubscribe:bi.unsubscribe},()=>({publish:bi.publish,subscribe:bi.subscribe,unsubscribe:bi.unsubscribe}));var jA=function(t,e){return jA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jA(t,e)};function ji(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q=function(){return Q=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Q.apply(this,arguments)};function aa(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function pu(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function a(f){try{c(n.next(f))}catch(d){u(d)}}function o(f){try{c(n.throw(f))}catch(d){u(d)}}function c(f){f.done?s(f.value):i(f.value).then(a,o)}c((n=n.apply(t,e||[])).next())})}function mu(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(c){return function(f){return o([c,f])}}function o(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function oo(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var gv="Invariant Violation",IF=Object.setPrototypeOf,QR=IF===void 0?function(t,e){return t.__proto__=e,t}:IF,We=function(t){ji(e,t);function e(r){r===void 0&&(r=gv);var n=t.call(this,typeof r=="number"?gv+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=gv,QR(n,e.prototype),n}return e}(Error);function ee(t,e){if(!t)throw new We(e)}var H3=["debug","log","warn","error","silent"],qR=H3.indexOf("log");function Qp(t){return function(){if(H3.indexOf(t)>=qR){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Qp("debug"),t.log=Qp("log"),t.warn=Qp("warn"),t.error=Qp("error")})(ee||(ee={}));function zn(t){try{return t()}catch{}}const RF=zn(function(){return globalThis})||zn(function(){return window})||zn(function(){return self})||zn(function(){return global})||zn(function(){return zn.constructor("return this")()});var LF="__",MF=[LF,LF].join("DEV");function GR(){try{return!!__DEV__}catch{return Object.defineProperty(RF,MF,{value:zn(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),RF[MF]}}const vv=GR();function yu(t){try{return t()}catch{}}var IA=yu(function(){return globalThis})||yu(function(){return window})||yu(function(){return self})||yu(function(){return global})||yu(function(){return yu.constructor("return this")()}),RA=!1;function KR(){IA&&!yu(function(){return"production"})&&!yu(function(){return process})&&(Object.defineProperty(IA,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),RA=!0)}KR();function $F(){RA&&(delete IA.process,RA=!1)}function T0(t,e){if(!!!t)throw new Error(e)}function JR(t){return typeof t=="object"&&t!==null}function YR(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const ZR=/\r\n|[\n\r]/g;function LA(t,e){let r=0,n=1;for(const i of t.body.matchAll(ZR)){if(typeof i.index=="number"||YR(!1),i.index>=e)break;r=i.index+i[0].length,n+=1}return{line:n,column:e+1-r}}function XR(t){return z3(t.source,LA(t.source,t.start))}function z3(t,e){const r=t.locationOffset.column-1,n="".padStart(r)+t.body,i=e.line-1,s=t.locationOffset.line-1,u=e.line+s,a=e.line===1?r:0,o=e.column+a,c=`${t.name}:${u}:${o}
`,f=n.split(/\r\n|[\n\r]/g),d=f[i];if(d.length>120){const p=Math.floor(o/80),m=o%80,w=[];for(let b=0;b<d.length;b+=80)w.push(d.slice(b,b+80));return c+UF([[`${u} |`,w[0]],...w.slice(1,p+1).map(b=>["|",b]),["|","^".padStart(m)],["|",w[p+1]]])}return c+UF([[`${u-1} |`,f[i-1]],[`${u} |`,d],["|","^".padStart(o)],[`${u+1} |`,f[i+1]]])}function UF(t){const e=t.filter(([n,i])=>i!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(r)+(i?" "+i:"")).join(`
`)}function e9(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class lE extends Error{constructor(e,...r){var n,i,s;const{nodes:u,source:a,positions:o,path:c,originalError:f,extensions:d}=e9(r);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=f??void 0,this.nodes=VF(Array.isArray(u)?u:u?[u]:void 0);const p=VF((n=this.nodes)===null||n===void 0?void 0:n.map(w=>w.loc).filter(w=>w!=null));this.source=a??(p==null||(i=p[0])===null||i===void 0?void 0:i.source),this.positions=o??(p==null?void 0:p.map(w=>w.start)),this.locations=o&&a?o.map(w=>LA(a,w)):p==null?void 0:p.map(w=>LA(w.source,w.start));const m=JR(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(s=d??m)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,lE):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(e+=`

`+XR(r.loc));else if(this.source&&this.locations)for(const r of this.locations)e+=`

`+z3(this.source,r);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function VF(t){return t===void 0||t.length===0?void 0:t}function tr(t,e,r){return new lE(`Syntax Error: ${r}`,{source:t,positions:[e]})}class t9{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class W3{constructor(e,r,n,i,s,u){this.kind=e,this.start=r,this.end=n,this.line=i,this.column=s,this.value=u,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Q3={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},r9=new Set(Object.keys(Q3));function HF(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&r9.has(e)}var gl;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(gl||(gl={}));var MA;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(MA||(MA={}));var fe;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(fe||(fe={}));function $A(t){return t===9||t===32}function Zd(t){return t>=48&&t<=57}function q3(t){return t>=97&&t<=122||t>=65&&t<=90}function G3(t){return q3(t)||t===95}function n9(t){return q3(t)||Zd(t)||t===95}function i9(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let u=0;u<t.length;++u){var s;const a=t[u],o=s9(a);o!==a.length&&(n=(s=n)!==null&&s!==void 0?s:u,i=u,u!==0&&o<r&&(r=o))}return t.map((u,a)=>a===0?u:u.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function s9(t){let e=0;for(;e<t.length&&$A(t.charCodeAt(e));)++e;return e}function u9(t,e){const r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(m=>m.length===0||$A(m.charCodeAt(0))),u=r.endsWith('\\"""'),a=t.endsWith('"')&&!u,o=t.endsWith("\\"),c=a||o,f=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||u);let d="";const p=i&&$A(t.charCodeAt(0));return(f&&!p||s)&&(d+=`
`),d+=r,(f||c)&&(d+=`
`),'"""'+d+'"""'}var J;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(J||(J={}));class a9{constructor(e){const r=new W3(J.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==J.EOF)do if(e.next)e=e.next;else{const r=l9(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===J.COMMENT);return e}}function o9(t){return t===J.BANG||t===J.DOLLAR||t===J.AMP||t===J.PAREN_L||t===J.PAREN_R||t===J.SPREAD||t===J.COLON||t===J.EQUALS||t===J.AT||t===J.BRACKET_L||t===J.BRACKET_R||t===J.BRACE_L||t===J.PIPE||t===J.BRACE_R}function tf(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Qy(t,e){return K3(t.charCodeAt(e))&&J3(t.charCodeAt(e+1))}function K3(t){return t>=55296&&t<=56319}function J3(t){return t>=56320&&t<=57343}function Ao(t,e){const r=t.source.body.codePointAt(e);if(r===void 0)return J.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function Rt(t,e,r,n,i){const s=t.line,u=1+r-t.lineStart;return new W3(e,r,n,s,u,i)}function l9(t,e){const r=t.source.body,n=r.length;let i=e;for(;i<n;){const s=r.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:r.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return c9(t,i);case 33:return Rt(t,J.BANG,i,i+1);case 36:return Rt(t,J.DOLLAR,i,i+1);case 38:return Rt(t,J.AMP,i,i+1);case 40:return Rt(t,J.PAREN_L,i,i+1);case 41:return Rt(t,J.PAREN_R,i,i+1);case 46:if(r.charCodeAt(i+1)===46&&r.charCodeAt(i+2)===46)return Rt(t,J.SPREAD,i,i+3);break;case 58:return Rt(t,J.COLON,i,i+1);case 61:return Rt(t,J.EQUALS,i,i+1);case 64:return Rt(t,J.AT,i,i+1);case 91:return Rt(t,J.BRACKET_L,i,i+1);case 93:return Rt(t,J.BRACKET_R,i,i+1);case 123:return Rt(t,J.BRACE_L,i,i+1);case 124:return Rt(t,J.PIPE,i,i+1);case 125:return Rt(t,J.BRACE_R,i,i+1);case 34:return r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34?y9(t,i):d9(t,i)}if(Zd(s)||s===45)return f9(t,i,s);if(G3(s))return g9(t,i);throw tr(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:tf(s)||Qy(r,i)?`Unexpected character: ${Ao(t,i)}.`:`Invalid character: ${Ao(t,i)}.`)}return Rt(t,J.EOF,n,n)}function c9(t,e){const r=t.source.body,n=r.length;let i=e+1;for(;i<n;){const s=r.charCodeAt(i);if(s===10||s===13)break;if(tf(s))++i;else if(Qy(r,i))i+=2;else break}return Rt(t,J.COMMENT,e,i,r.slice(e+1,i))}function f9(t,e,r){const n=t.source.body;let i=e,s=r,u=!1;if(s===45&&(s=n.charCodeAt(++i)),s===48){if(s=n.charCodeAt(++i),Zd(s))throw tr(t.source,i,`Invalid number, unexpected digit after 0: ${Ao(t,i)}.`)}else i=Av(t,i,s),s=n.charCodeAt(i);if(s===46&&(u=!0,s=n.charCodeAt(++i),i=Av(t,i,s),s=n.charCodeAt(i)),(s===69||s===101)&&(u=!0,s=n.charCodeAt(++i),(s===43||s===45)&&(s=n.charCodeAt(++i)),i=Av(t,i,s),s=n.charCodeAt(i)),s===46||G3(s))throw tr(t.source,i,`Invalid number, expected digit but got: ${Ao(t,i)}.`);return Rt(t,u?J.FLOAT:J.INT,e,i,n.slice(e,i))}function Av(t,e,r){if(!Zd(r))throw tr(t.source,e,`Invalid number, expected digit but got: ${Ao(t,e)}.`);const n=t.source.body;let i=e+1;for(;Zd(n.charCodeAt(i));)++i;return i}function d9(t,e){const r=t.source.body,n=r.length;let i=e+1,s=i,u="";for(;i<n;){const a=r.charCodeAt(i);if(a===34)return u+=r.slice(s,i),Rt(t,J.STRING,e,i+1,u);if(a===92){u+=r.slice(s,i);const o=r.charCodeAt(i+1)===117?r.charCodeAt(i+2)===123?h9(t,i):p9(t,i):m9(t,i);u+=o.value,i+=o.size,s=i;continue}if(a===10||a===13)break;if(tf(a))++i;else if(Qy(r,i))i+=2;else throw tr(t.source,i,`Invalid character within String: ${Ao(t,i)}.`)}throw tr(t.source,i,"Unterminated string.")}function h9(t,e){const r=t.source.body;let n=0,i=3;for(;i<12;){const s=r.charCodeAt(e+i++);if(s===125){if(i<5||!tf(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Zf(s),n<0)break}throw tr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+i)}".`)}function p9(t,e){const r=t.source.body,n=zF(r,e+2);if(tf(n))return{value:String.fromCodePoint(n),size:6};if(K3(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){const i=zF(r,e+8);if(J3(i))return{value:String.fromCodePoint(n,i),size:12}}throw tr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function zF(t,e){return Zf(t.charCodeAt(e))<<12|Zf(t.charCodeAt(e+1))<<8|Zf(t.charCodeAt(e+2))<<4|Zf(t.charCodeAt(e+3))}function Zf(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function m9(t,e){const r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw tr(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function y9(t,e){const r=t.source.body,n=r.length;let i=t.lineStart,s=e+3,u=s,a="";const o=[];for(;s<n;){const c=r.charCodeAt(s);if(c===34&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34){a+=r.slice(u,s),o.push(a);const f=Rt(t,J.BLOCK_STRING,e,s+3,i9(o).join(`
`));return t.line+=o.length-1,t.lineStart=i,f}if(c===92&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34&&r.charCodeAt(s+3)===34){a+=r.slice(u,s),u=s+1,s+=4;continue}if(c===10||c===13){a+=r.slice(u,s),o.push(a),c===13&&r.charCodeAt(s+1)===10?s+=2:++s,a="",u=s,i=s;continue}if(tf(c))++s;else if(Qy(r,s))s+=2;else throw tr(t.source,s,`Invalid character within String: ${Ao(t,s)}.`)}throw tr(t.source,s,"Unterminated string.")}function g9(t,e){const r=t.source.body,n=r.length;let i=e+1;for(;i<n;){const s=r.charCodeAt(i);if(n9(s))++i;else break}return Rt(t,J.NAME,e,i,r.slice(e,i))}const v9=10,Y3=2;function Z3(t){return qy(t,[])}function qy(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return A9(t,e);default:return String(t)}}function A9(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const r=[...e,t];if(b9(t)){const n=t.toJSON();if(n!==t)return typeof n=="string"?n:qy(n,r)}else if(Array.isArray(t))return E9(t,r);return w9(t,r)}function b9(t){return typeof t.toJSON=="function"}function w9(t,e){const r=Object.entries(t);return r.length===0?"{}":e.length>Y3?"["+x9(t)+"]":"{ "+r.map(([i,s])=>i+": "+qy(s,e)).join(", ")+" }"}function E9(t,e){if(t.length===0)return"[]";if(e.length>Y3)return"[Array]";const r=Math.min(v9,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(qy(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function x9(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}const F9=function(e,r){return e instanceof r};class cE{constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||T0(!1,`Body must be a string. Received: ${Z3(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||T0(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||T0(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function C9(t){return F9(t,cE)}function S9(t,e){return new D9(t,e).parseDocument()}class D9{constructor(e,r={}){const n=C9(e)?e:new cE(e);this._lexer=new a9(n),this._options=r,this._tokenCounter=0}parseName(){const e=this.expectToken(J.NAME);return this.node(e,{kind:fe.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:fe.DOCUMENT,definitions:this.many(J.SOF,this.parseDefinition,J.EOF)})}parseDefinition(){if(this.peek(J.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(r.kind===J.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw tr(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(J.BRACE_L))return this.node(e,{kind:fe.OPERATION_DEFINITION,operation:gl.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(J.NAME)&&(n=this.parseName()),this.node(e,{kind:fe.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(J.NAME);switch(e.value){case"query":return gl.QUERY;case"mutation":return gl.MUTATION;case"subscription":return gl.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(J.PAREN_L,this.parseVariableDefinition,J.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:fe.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(J.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(J.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(J.DOLLAR),this.node(e,{kind:fe.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:fe.SELECTION_SET,selections:this.many(J.BRACE_L,this.parseSelection,J.BRACE_R)})}parseSelection(){return this.peek(J.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,r=this.parseName();let n,i;return this.expectOptionalToken(J.COLON)?(n=r,i=this.parseName()):i=r,this.node(e,{kind:fe.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(J.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(J.PAREN_L,r,J.PAREN_R)}parseArgument(e=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(J.COLON),this.node(r,{kind:fe.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(J.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(J.NAME)?this.node(e,{kind:fe.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:fe.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:fe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:fe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const r=this._lexer.token;switch(r.kind){case J.BRACKET_L:return this.parseList(e);case J.BRACE_L:return this.parseObject(e);case J.INT:return this.advanceLexer(),this.node(r,{kind:fe.INT,value:r.value});case J.FLOAT:return this.advanceLexer(),this.node(r,{kind:fe.FLOAT,value:r.value});case J.STRING:case J.BLOCK_STRING:return this.parseStringLiteral();case J.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:fe.BOOLEAN,value:!0});case"false":return this.node(r,{kind:fe.BOOLEAN,value:!1});case"null":return this.node(r,{kind:fe.NULL});default:return this.node(r,{kind:fe.ENUM,value:r.value})}case J.DOLLAR:if(e)if(this.expectToken(J.DOLLAR),this._lexer.token.kind===J.NAME){const n=this._lexer.token.value;throw tr(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:fe.STRING,value:e.value,block:e.kind===J.BLOCK_STRING})}parseList(e){const r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:fe.LIST,values:this.any(J.BRACKET_L,r,J.BRACKET_R)})}parseObject(e){const r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:fe.OBJECT,fields:this.any(J.BRACE_L,r,J.BRACE_R)})}parseObjectField(e){const r=this._lexer.token,n=this.parseName();return this.expectToken(J.COLON),this.node(r,{kind:fe.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const r=[];for(;this.peek(J.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const r=this._lexer.token;return this.expectToken(J.AT),this.node(r,{kind:fe.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let r;if(this.expectOptionalToken(J.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(J.BRACKET_R),r=this.node(e,{kind:fe.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(J.BANG)?this.node(e,{kind:fe.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:fe.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(J.STRING)||this.peek(J.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(J.BRACE_L,this.parseOperationTypeDefinition,J.BRACE_R);return this.node(e,{kind:fe.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,r=this.parseOperationType();this.expectToken(J.COLON);const n=this.parseNamedType();return this.node(e,{kind:fe.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:fe.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),u=this.parseFieldsDefinition();return this.node(e,{kind:fe.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:s,fields:u})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(J.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(J.BRACE_L,this.parseFieldDefinition,J.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(J.COLON);const s=this.parseTypeReference(),u=this.parseConstDirectives();return this.node(e,{kind:fe.FIELD_DEFINITION,description:r,name:n,arguments:i,type:s,directives:u})}parseArgumentDefs(){return this.optionalMany(J.PAREN_L,this.parseInputValueDef,J.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(J.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(J.EQUALS)&&(s=this.parseConstValueLiteral());const u=this.parseConstDirectives();return this.node(e,{kind:fe.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:s,directives:u})}parseInterfaceTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),u=this.parseFieldsDefinition();return this.node(e,{kind:fe.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:s,fields:u})}parseUnionTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:fe.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(J.EQUALS)?this.delimitedMany(J.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:fe.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(J.BRACE_L,this.parseEnumValueDefinition,J.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:fe.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw tr(this._lexer.source,this._lexer.token.start,`${qp(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:fe.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(J.BRACE_L,this.parseInputValueDef,J.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===J.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(J.BRACE_L,this.parseOperationTypeDefinition,J.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:fe.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:fe.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:fe.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:fe.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:fe.UNION_TYPE_EXTENSION,name:r,directives:n,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:fe.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:fe.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(J.AT);const n=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const u=this.parseDirectiveLocations();return this.node(e,{kind:fe.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,repeatable:s,locations:u})}parseDirectiveLocations(){return this.delimitedMany(J.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(MA,r.value))return r;throw this.unexpected(e)}node(e,r){return this._options.noLocation!==!0&&(r.loc=new t9(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){const r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw tr(this._lexer.source,r.start,`Expected ${X3(e)}, found ${qp(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const r=this._lexer.token;if(r.kind===J.NAME&&r.value===e)this.advanceLexer();else throw tr(this._lexer.source,r.start,`Expected "${e}", found ${qp(r)}.`)}expectOptionalKeyword(e){const r=this._lexer.token;return r.kind===J.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const r=e??this._lexer.token;return tr(this._lexer.source,r.start,`Unexpected ${qp(r)}.`)}any(e,r,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(r.call(this));return i}optionalMany(e,r,n){if(this.expectOptionalToken(e)){const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,r,n){this.expectToken(e);const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,r){this.expectOptionalToken(e);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,r=this._lexer.advance();if(e!==void 0&&r.kind!==J.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw tr(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function qp(t){const e=t.value;return X3(t.kind)+(e!=null?` "${e}"`:"")}function X3(t){return o9(t)?`"${t}"`:t}function k9(t){return`"${t.replace(O9,_9)}"`}const O9=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function _9(t){return P9[t.charCodeAt(0)]}const P9=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],fE=Object.freeze({});function Hs(t,e,r=Q3){const n=new Map;for(const E of Object.values(fe))n.set(E,B9(e,E));let i,s=Array.isArray(t),u=[t],a=-1,o=[],c=t,f,d;const p=[],m=[];do{a++;const E=a===u.length,A=E&&o.length!==0;if(E){if(f=m.length===0?void 0:p[p.length-1],c=d,d=m.pop(),A)if(s){c=c.slice();let C=0;for(const[S,O]of o){const g=S-C;O===null?(c.splice(g,1),C++):c[g]=O}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[C,S]of o)c[C]=S}a=i.index,u=i.keys,o=i.edits,s=i.inArray,i=i.prev}else if(d){if(f=s?a:u[a],c=d[f],c==null)continue;p.push(f)}let x;if(!Array.isArray(c)){var w,b;HF(c)||T0(!1,`Invalid AST Node: ${Z3(c)}.`);const C=E?(w=n.get(c.kind))===null||w===void 0?void 0:w.leave:(b=n.get(c.kind))===null||b===void 0?void 0:b.enter;if(x=C==null?void 0:C.call(e,c,f,d,p,m),x===fE)break;if(x===!1){if(!E){p.pop();continue}}else if(x!==void 0&&(o.push([f,x]),!E))if(HF(x))c=x;else{p.pop();continue}}if(x===void 0&&A&&o.push([f,c]),E)p.pop();else{var F;i={inArray:s,index:a,keys:u,edits:o,prev:i},s=Array.isArray(c),u=s?c:(F=r[c.kind])!==null&&F!==void 0?F:[],a=-1,o=[],d&&m.push(d),d=c}}while(i!==void 0);return o.length!==0?o[o.length-1][1]:t}function B9(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function T9(t){return Hs(t,j9)}const N9=80,j9={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>de(t.definitions,`

`)},OperationDefinition:{leave(t){const e=ke("(",de(t.variableDefinitions,", "),")"),r=de([t.operation,de([t.name,e]),de(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+ke(" = ",r)+ke(" ",de(n," "))},SelectionSet:{leave:({selections:t})=>ui(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){const s=ke("",t,": ")+e;let u=s+ke("(",de(r,", "),")");return u.length>N9&&(u=s+ke(`(
`,N0(de(r,`
`)),`
)`)),de([u,de(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+ke(" ",de(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>de(["...",ke("on ",t),de(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${ke("(",de(r,", "),")")} on ${e} ${ke("",de(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?u9(t):k9(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+de(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+de(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+ke("(",de(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>ke("",t,`
`)+de(["schema",de(e," "),ui(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>ke("",t,`
`)+de(["scalar",e,de(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>ke("",t,`
`)+de(["type",e,ke("implements ",de(r," & ")),de(n," "),ui(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>ke("",t,`
`)+e+(WF(r)?ke(`(
`,N0(de(r,`
`)),`
)`):ke("(",de(r,", "),")"))+": "+n+ke(" ",de(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>ke("",t,`
`)+de([e+": "+r,ke("= ",n),de(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>ke("",t,`
`)+de(["interface",e,ke("implements ",de(r," & ")),de(n," "),ui(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>ke("",t,`
`)+de(["union",e,de(r," "),ke("= ",de(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>ke("",t,`
`)+de(["enum",e,de(r," "),ui(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>ke("",t,`
`)+de([e,de(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>ke("",t,`
`)+de(["input",e,de(r," "),ui(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>ke("",t,`
`)+"directive @"+e+(WF(r)?ke(`(
`,N0(de(r,`
`)),`
)`):ke("(",de(r,", "),")"))+(n?" repeatable":"")+" on "+de(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>de(["extend schema",de(t," "),ui(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>de(["extend scalar",t,de(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>de(["extend type",t,ke("implements ",de(e," & ")),de(r," "),ui(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>de(["extend interface",t,ke("implements ",de(e," & ")),de(r," "),ui(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>de(["extend union",t,de(e," "),ke("= ",de(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>de(["extend enum",t,de(e," "),ui(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>de(["extend input",t,de(e," "),ui(r)]," ")}};function de(t,e=""){var r;return(r=t==null?void 0:t.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function ui(t){return ke(`{
`,N0(de(t,`
`)),`
}`)}function ke(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function N0(t){return ke("  ",t.replace(/\n/g,`
  `))}function WF(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function QF(t){return t.kind===fe.FIELD||t.kind===fe.FRAGMENT_SPREAD||t.kind===fe.INLINE_FRAGMENT}function I9(){return $F()}function R9(){__DEV__?ee(typeof vv=="boolean",vv):ee(typeof vv=="boolean",39)}I9();R9();function Gy(t,e){var r=t.directives;return!r||!r.length?!0:$9(r).every(function(n){var i=n.directive,s=n.ifArgument,u=!1;return s.value.kind==="Variable"?(u=e&&e[s.value.name.value],__DEV__?ee(u!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):ee(u!==void 0,40)):u=s.value.value,i.name.value==="skip"?!u:u})}function dE(t,e,r){var n=new Set(t),i=n.size;return Hs(e,{Directive:function(s){if(n.delete(s.name.value)&&(!r||!n.size))return fE}}),r?!n.size:n.size<i}function L9(t){return t&&dE(["client","export"],t,!0)}function M9(t){var e=t.name.value;return e==="skip"||e==="include"}function $9(t){var e=[];return t&&t.length&&t.forEach(function(r){if(M9(r)){var n=r.arguments,i=r.name.value;__DEV__?ee(n&&n.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):ee(n&&n.length===1,41);var s=n[0];__DEV__?ee(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):ee(s.name&&s.name.value==="if",42);var u=s.value;__DEV__?ee(u&&(u.kind==="Variable"||u.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):ee(u&&(u.kind==="Variable"||u.kind==="BooleanValue"),43),e.push({directive:r,ifArgument:s})}}),e}function U9(t,e){var r=e,n=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new We("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new We(44);s.kind==="FragmentDefinition"&&n.push(s)}),typeof r>"u"&&(__DEV__?ee(n.length===1,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):ee(n.length===1,45),r=n[0].name.value);var i=Q(Q({},t),{definitions:oo([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function hE(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function pE(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return __DEV__?ee(n,"No fragment named ".concat(r)):ee(n,46),n||null}default:return null}}function At(t){return t!==null&&typeof t=="object"}function Il(t){return{__ref:String(t)}}function Je(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function V9(t){return At(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function H9(t){return t.kind==="StringValue"}function z9(t){return t.kind==="BooleanValue"}function W9(t){return t.kind==="IntValue"}function Q9(t){return t.kind==="FloatValue"}function q9(t){return t.kind==="Variable"}function G9(t){return t.kind==="ObjectValue"}function K9(t){return t.kind==="ListValue"}function J9(t){return t.kind==="EnumValue"}function Y9(t){return t.kind==="NullValue"}function $c(t,e,r,n){if(W9(r)||Q9(r))t[e.value]=Number(r.value);else if(z9(r)||H9(r))t[e.value]=r.value;else if(G9(r)){var i={};r.fields.map(function(u){return $c(i,u.name,u.value,n)}),t[e.value]=i}else if(q9(r)){var s=(n||{})[r.name.value];t[e.value]=s}else if(K9(r))t[e.value]=r.values.map(function(u){var a={};return $c(a,e,u,n),a[e.value]});else if(J9(r))t[e.value]=r.value;else if(Y9(r))t[e.value]=null;else throw __DEV__?new We('The inline argument "'.concat(e.value,'" of kind "').concat(r.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new We(55)}function Z9(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var u=s.name,a=s.value;return $c(r[i.name.value],u,a,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var s=i.name,u=i.value;return $c(n,s,u,e)})),mE(t.name.value,n,r)}var X9=["connection","include","skip","client","rest","export"],mE=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(a){i[a]=e[a]}),"".concat(r.connection.key,"(").concat(Sf(i),")")}else return r.connection.key;var s=t;if(e){var u=Sf(e);s+="(".concat(u,")")}return r&&Object.keys(r).forEach(function(a){X9.indexOf(a)===-1&&(r[a]&&Object.keys(r[a]).length?s+="@".concat(a,"(").concat(Sf(r[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=Sf;return Sf=t,e}}),Sf=function(e){return JSON.stringify(e,eL)};function eL(t,e){return At(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function Ky(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,s=n.value;return $c(r,i,s,e)}),r}return null}function bo(t){return t.alias?t.alias.value:t.name.value}function UA(t,e,r){for(var n,i=0,s=e.selections;i<s.length;i++){var u=s[i];if(wo(u)){if(u.name.value==="__typename")return t[bo(u)]}else n?n.push(u):n=[u]}if(typeof t.__typename=="string")return t.__typename;if(n)for(var a=0,o=n;a<o.length;a++){var u=o[a],c=UA(t,pE(u,r).selectionSet,r);if(typeof c=="string")return c}}function wo(t){return t.kind==="Field"}function tL(t){return t.kind==="InlineFragment"}function Jy(t){__DEV__?ee(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):ee(t&&t.kind==="Document",47);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw __DEV__?new We('Schema type definitions not allowed in queries. Found: "'.concat(r.kind,'"')):new We(48);return r});return __DEV__?ee(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):ee(e.length<=1,49),t}function Kh(t){return Jy(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function VA(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function yE(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function eP(t){var e=Kh(t);return __DEV__?ee(e&&e.operation==="query","Must contain a query definition."):ee(e&&e.operation==="query",50),e}function rL(t){__DEV__?ee(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):ee(t.kind==="Document",51),__DEV__?ee(t.definitions.length<=1,"Fragment must have exactly one definition."):ee(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?ee(e.kind==="FragmentDefinition","Must be a fragment definition."):ee(e.kind==="FragmentDefinition",53),e}function Yy(t){Jy(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new We("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new We(54)}function gE(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&$c(e,n.variable.name,n.defaultValue)}),e}var Bt=Array.isArray;function Zn(t){return Array.isArray(t)&&t.length>0}var qF={kind:fe.FIELD,name:{kind:fe.NAME,value:"__typename"}};function tP(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind===fe.FRAGMENT_SPREAD&&tP(e[r.name.value],e)})}function nL(t){return tP(Kh(t)||rL(t),hE(yE(t)))?null:t}function iL(t){var e=new Set,r=[];return t.forEach(function(n){n.name?e.add(n.name):n.test&&r.push(n.test)}),function(n){return e.has(n.name.value)||r.some(function(i){return i(n)})}}function GF(t){var e=new Map;return function(n){n===void 0&&(n=t);var i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function rP(t,e){for(var r=GF(""),n=GF(""),i=function(A){for(var x=0,C=void 0;x<A.length&&(C=A[x]);++x)if(!Bt(C)){if(C.kind===fe.OPERATION_DEFINITION)return r(C.name&&C.name.value);if(C.kind===fe.FRAGMENT_DEFINITION)return n(C.name.value)}return __DEV__&&ee.error("Could not find operation or fragment"),null},s=0,u=e.definitions.length-1;u>=0;--u)e.definitions[u].kind===fe.OPERATION_DEFINITION&&++s;var a=iL(t),o=t.some(function(A){return A.remove}),c=function(A){return o&&A&&A.some(a)},f=new Map,d=!1,p={enter:function(A){if(c(A.directives))return d=!0,null}},m=Hs(e,{Field:p,InlineFragment:p,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(A,x,C,S,O){var g=i(O);g&&g.variables.add(A.name.value)}},FragmentSpread:{enter:function(A,x,C,S,O){if(c(A.directives))return d=!0,null;var g=i(O);g&&g.fragmentSpreads.add(A.name.value)}},FragmentDefinition:{enter:function(A,x,C,S){f.set(JSON.stringify(S),A)},leave:function(A,x,C,S){var O=f.get(JSON.stringify(S));if(A===O)return A;if(s>0&&A.selectionSet.selections.every(function(g){return g.kind===fe.FIELD&&g.name.value==="__typename"}))return n(A.name.value).removed=!0,d=!0,null}},Directive:{leave:function(A){if(a(A))return d=!0,null}}});if(!d)return e;var w=function(A){return A.transitiveVars||(A.transitiveVars=new Set(A.variables),A.removed||A.fragmentSpreads.forEach(function(x){w(n(x)).transitiveVars.forEach(function(C){A.transitiveVars.add(C)})})),A},b=new Set;m.definitions.forEach(function(A){A.kind===fe.OPERATION_DEFINITION?w(r(A.name&&A.name.value)).fragmentSpreads.forEach(function(x){b.add(x)}):A.kind===fe.FRAGMENT_DEFINITION&&s===0&&!n(A.name.value).removed&&b.add(A.name.value)}),b.forEach(function(A){w(n(A)).fragmentSpreads.forEach(function(x){b.add(x)})});var F=function(A){return!!(!b.has(A)||n(A).removed)},E={enter:function(A){if(F(A.name.value))return null}};return nL(Hs(m,{FragmentSpread:E,FragmentDefinition:E,OperationDefinition:{leave:function(A){if(A.variableDefinitions){var x=w(r(A.name&&A.name.value)).transitiveVars;if(x.size<A.variableDefinitions.length)return Q(Q({},A),{variableDefinitions:A.variableDefinitions.filter(function(C){return x.has(C.variable.name.value)})})}}}}))}var vE=Object.assign(function(t){return Hs(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind===fe.OPERATION_DEFINITION)){var i=e.selections;if(i){var s=i.some(function(a){return wo(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var u=n;if(!(wo(u)&&u.directives&&u.directives.some(function(a){return a.name.value==="export"})))return Q(Q({},e),{selections:oo(oo([],i,!0),[qF],!1)})}}}}}})},{added:function(t){return t===qF}}),sL={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"}))&&__DEV__&&ee.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function uL(t){return rP([sL],Jy(t))}function aL(t){var e=Yy(t),r=e.operation;if(r==="query")return t;var n=Hs(t,{OperationDefinition:{enter:function(i){return Q(Q({},i),{operation:"query"})}}});return n}function oL(t){Jy(t);var e=rP([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e}var lL=Object.prototype.hasOwnProperty;function KF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return AE(t)}function AE(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new oa,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var cL=function(t,e,r){return this.merge(t[r],e[r])},oa=function(){function t(e){e===void 0&&(e=cL),this.reconciler=e,this.isObject=At,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return At(r)&&At(e)?(Object.keys(r).forEach(function(u){if(lL.call(e,u)){var a=e[u];if(r[u]!==a){var o=n.reconciler.apply(n,oo([e,r,u],i,!1));o!==a&&(e=n.shallowCopyForMerge(e),e[u]=o)}}else e=n.shallowCopyForMerge(e),e[u]=r[u]}),e):r},t.prototype.shallowCopyForMerge=function(e){return At(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=Q({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function fL(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=dL(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(t,e){if(t){if(typeof t=="string")return JF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bE(t,e,r){return e&&YF(t.prototype,e),r&&YF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var wE=function(){return typeof Symbol=="function"},EE=function(t){return wE()&&!!Symbol[t]},xE=function(t){return EE(t)?Symbol[t]:"@@"+t};wE()&&!EE("observable")&&(Symbol.observable=Symbol("observable"));var hL=xE("iterator"),HA=xE("observable"),nP=xE("species");function Pm(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Df(t){var e=t.constructor;return e!==void 0&&(e=e[nP],e===null&&(e=void 0)),e!==void 0?e:ht}function pL(t){return t instanceof ht}function Uc(t){Uc.log?Uc.log(t):setTimeout(function(){throw t})}function j0(t){Promise.resolve().then(function(){try{t()}catch(e){Uc(e)}})}function iP(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=Pm(e,"unsubscribe");r&&r.call(e)}}catch(n){Uc(n)}}function zA(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function mL(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(sP(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function sP(t,e,r){t._state="running";var n=t._observer;try{var i=Pm(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(zA(t),i)i.call(n,r);else throw r;break;case"complete":zA(t),i&&i.call(n);break}}catch(s){Uc(s)}t._state==="closed"?iP(t):t._state==="running"&&(t._state="ready")}function bv(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],j0(function(){return mL(t)});return}sP(t,e,r)}}var yL=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new gL(this);try{this._cleanup=n.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(zA(this),iP(this))},bE(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),gL=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){bv(this._subscription,"next",n)},e.error=function(n){bv(this._subscription,"error",n)},e.complete=function(){bv(this._subscription,"complete")},bE(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),ht=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new yL(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(s,u){if(typeof n!="function"){u(new TypeError(n+" is not a function"));return}function a(){o.unsubscribe(),s()}var o=i.subscribe({next:function(c){try{n(c,a)}catch(f){u(f),o.unsubscribe()}},error:u,complete:s})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var s=Df(this);return new s(function(u){return i.subscribe({next:function(a){try{a=n(a)}catch(o){return u.error(o)}u.next(a)},error:function(a){u.error(a)},complete:function(){u.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var s=Df(this);return new s(function(u){return i.subscribe({next:function(a){try{if(!n(a))return}catch(o){return u.error(o)}u.next(a)},error:function(a){u.error(a)},complete:function(){u.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var s=Df(this),u=arguments.length>1,a=!1,o=arguments[1],c=o;return new s(function(f){return i.subscribe({next:function(d){var p=!a;if(a=!0,!p||u)try{c=n(c,d)}catch(m){return f.error(m)}else c=d},error:function(d){f.error(d)},complete:function(){if(!a&&!u)return f.error(new TypeError("Cannot reduce an empty sequence"));f.next(c),f.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];var a=Df(this);return new a(function(o){var c,f=0;function d(p){c=p.subscribe({next:function(m){o.next(m)},error:function(m){o.error(m)},complete:function(){f===s.length?(c=void 0,o.complete()):d(a.from(s[f++]))}})}return d(n),function(){c&&(c.unsubscribe(),c=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var s=Df(this);return new s(function(u){var a=[],o=i.subscribe({next:function(f){if(n)try{f=n(f)}catch(p){return u.error(p)}var d=s.from(f).subscribe({next:function(p){u.next(p)},error:function(p){u.error(p)},complete:function(){var p=a.indexOf(d);p>=0&&a.splice(p,1),c()}});a.push(d)},error:function(f){u.error(f)},complete:function(){c()}});function c(){o.closed&&a.length===0&&u.complete()}return function(){a.forEach(function(f){return f.unsubscribe()}),o.unsubscribe()}})},e[HA]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var s=Pm(n,HA);if(s){var u=s.call(n);if(Object(u)!==u)throw new TypeError(u+" is not an object");return pL(u)&&u.constructor===i?u:new i(function(a){return u.subscribe(a)})}if(EE("iterator")&&(s=Pm(n,hL),s))return new i(function(a){j0(function(){if(!a.closed){for(var o=fL(s.call(n)),c;!(c=o()).done;){var f=c.value;if(a.next(f),a.closed)return}a.complete()}})});if(Array.isArray(n))return new i(function(a){j0(function(){if(!a.closed){for(var o=0;o<n.length;++o)if(a.next(n[o]),a.closed)return;a.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var u=typeof this=="function"?this:t;return new u(function(a){j0(function(){if(!a.closed){for(var o=0;o<i.length;++o)if(a.next(i[o]),a.closed)return;a.complete()}})})},bE(t,null,[{key:nP,get:function(){return this}}]),t}();wE()&&Object.defineProperty(ht,Symbol("extensions"),{value:{symbol:HA,hostReportError:Uc},configurable:!0});function vL(t){var e,r=t.Symbol;if(typeof r=="function")if(r.observable)e=r.observable;else{typeof r.for=="function"?e=r.for("https://github.com/benlesh/symbol-observable"):e=r("https://github.com/benlesh/symbol-observable");try{r.observable=e}catch{}}else e="@@observable";return e}var el;typeof self<"u"?el=self:typeof window<"u"?el=window:typeof global<"u"?el=global:typeof Lr<"u"?el=Lr:el=Function("return this")();vL(el);var ZF=ht.prototype,XF="@@observable";ZF[XF]||(ZF[XF]=function(){return this});var AL=Object.prototype.toString;function uP(t){return WA(t)}function WA(t,e){switch(AL.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,s){r[s]=WA(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=WA(t[i],e)}),n}default:return t}}function bL(t){var e=new Set([t]);return e.forEach(function(r){At(r)&&wL(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){At(r[n])&&e.add(r[n])})}),t}function wL(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Xd(t){return __DEV__&&bL(t),t}function yd(t,e,r){var n=[];t.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](r)})}function wv(t,e,r){return new ht(function(n){var i=n.next,s=n.error,u=n.complete,a=0,o=!1,c={then:function(m){return new Promise(function(w){return w(m())})}};function f(m,w){return m?function(b){++a;var F=function(){return m(b)};c=c.then(F,F).then(function(E){--a,i&&i.call(n,E),o&&d.complete()},function(E){throw--a,E}).catch(function(E){s&&s.call(n,E)})}:function(b){return w&&w.call(n,b)}}var d={next:f(e,i),error:f(r,s),complete:function(){o=!0,a||u&&u.call(n)}},p=t.subscribe(d);return function(){return p.unsubscribe()}})}var Aa=typeof WeakMap=="function"&&zn(function(){return navigator.product})!=="ReactNative",EL=typeof WeakSet=="function",FE=typeof Symbol=="function"&&typeof Symbol.for=="function",Zy=FE&&Symbol.asyncIterator,xL=typeof zn(function(){return window.document.createElement})=="function",FL=zn(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,CL=xL&&!FL;function aP(t){function e(r){Object.defineProperty(t,r,{value:ht})}return FE&&Symbol.species&&e(Symbol.species),e("@@species"),t}function eC(t){return t&&typeof t.then=="function"}var tl=function(t){ji(e,t);function e(r){var n=t.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.promise=new Promise(function(i,s){n.resolve=i,n.reject=s}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],n.notify("next",i),yd(n.observers,"next",i))},error:function(i){var s=n.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),n.notify("error",i),yd(n.observers,"error",i))},complete:function(){var i=n,s=i.sub,u=i.sources,a=u===void 0?[]:u;if(s!==null){var o=a.shift();o?eC(o)?o.then(function(c){return n.sub=c.subscribe(n.handlers)}):n.sub=o.subscribe(n.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),yd(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new ht(r)]),eC(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},e.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(r,n){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(r,n)}))},e.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(i,s){n||(n=!0,r(i,s))})},e}(ht);aP(tl);function Rl(t){return"incremental"in t}function SL(t){return"hasNext"in t&&"data"in t}function DL(t){return Rl(t)||SL(t)}function kL(t){return At(t)&&"payload"in t}function oP(t,e){var r=t,n=new oa;return Rl(e)&&Zn(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,u=i.path,a=u.length-1;a>=0;--a){var o=u[a],c=!isNaN(+o),f=c?[]:{};f[o]=s,s=f}r=n.merge(r,s)}),r}function I0(t){var e=QA(t);return Zn(e)}function QA(t){var e=Zn(t.errors)?t.errors.slice(0):[];return Rl(t)&&Zn(t.incremental)&&t.incremental.forEach(function(r){r.errors&&e.push.apply(e,r.errors)}),e}function Jh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){n&&Object.keys(n).forEach(function(i){var s=n[i];s!==void 0&&(r[i]=s)})}),r}var tC=new Map;function qA(t){var e=tC.get(t)||1;return tC.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function OL(t){var e=qA("stringifyForDisplay");return JSON.stringify(t,function(r,n){return n===void 0?e:n}).split(JSON.stringify(e)).join("<undefined>")}function R0(t,e){return Jh(t,e,e.variables&&{variables:Q(Q({},t&&t.variables),e.variables)})}function rC(t){return new ht(function(e){e.error(t)})}var GA=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};function _L(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(e.indexOf(i)<0)throw __DEV__?new We("illegal argument: ".concat(i)):new We(27)}return t}function PL(t,e){var r=Q({},t),n=function(s){typeof s=="function"?r=Q(Q({},r),s(r)):r=Q(Q({},r),s)},i=function(){return Q({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function BL(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?VA(e.query)||void 0:""),e}function nC(t,e){return e?e(t):ht.of()}function kf(t){return typeof t=="function"?new Yh(t):t}function Gp(t){return t.request.length<=1}var TL=function(t){ji(e,t);function e(r,n){var i=t.call(this,r)||this;return i.link=n,i}return e}(Error),Yh=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return ht.of()})},t.from=function(e){return e.length===0?t.empty():e.map(kf).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var i=kf(r),s=kf(n||new t(nC));return Gp(i)&&Gp(s)?new t(function(u){return e(u)?i.request(u)||ht.of():s.request(u)||ht.of()}):new t(function(u,a){return e(u)?i.request(u,a)||ht.of():s.request(u,a)||ht.of()})},t.execute=function(e,r){return e.request(PL(r.context,BL(_L(r))))||ht.of()},t.concat=function(e,r){var n=kf(e);if(Gp(n))return __DEV__&&ee.warn(new TL("You are calling concat on a terminating link, which will have no effect",n)),n;var i=kf(r);return Gp(i)?new t(function(s){return n.request(s,function(u){return i.request(u)||ht.of()})||ht.of()}):new t(function(s,u){return n.request(s,function(a){return i.request(a,u)||ht.of()})||ht.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(nC)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw __DEV__?new We("request is not implemented"):new We(22)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),KA=Yh.execute,NL="3.7.15";function jL(t){return!!t.body}function IL(t){return!!t.getReader}function RL(t){return!!(Zy&&t[Symbol.asyncIterator])}function LL(t){return!!t.stream}function ML(t){return!!t.arrayBuffer}function $L(t){return!!t.pipe}function UL(t){var e,r=t[Symbol.asyncIterator]();return e={next:function(){return r.next()}},e[Symbol.asyncIterator]=function(){return this},e}function VL(t){var e=null,r=null,n=!1,i=[],s=[];function u(d){if(!r){if(s.length){var p=s.shift();if(Array.isArray(p)&&p[0])return p[0]({value:d,done:!1})}i.push(d)}}function a(d){r=d;var p=s.slice();p.forEach(function(m){m[1](d)}),!e||e()}function o(){n=!0;var d=s.slice();d.forEach(function(p){p[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",u),t.removeListener("error",a),t.removeListener("end",o),t.removeListener("finish",o),t.removeListener("close",o)},t.on("data",u),t.on("error",a),t.on("end",o),t.on("finish",o),t.on("close",o);function c(){return new Promise(function(d,p){if(r)return p(r);if(i.length)return d({value:i.shift(),done:!1});if(n)return d({value:void 0,done:!0});s.push([d,p])})}var f={next:function(){return c()}};return Zy&&(f[Symbol.asyncIterator]=function(){return this}),f}function HL(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,i){t.then(function(s){n({value:s,done:!1})}).catch(i)}))}};return Zy&&(r[Symbol.asyncIterator]=function(){return this}),r}function iC(t){var e={next:function(){return t.read()}};return Zy&&(e[Symbol.asyncIterator]=function(){return this}),e}function zL(t){var e=t;if(jL(t)&&(e=t.body),RL(e))return UL(e);if(IL(e))return iC(e.getReader());if(LL(e))return iC(e.stream().getReader());if(ML(e))return HL(e.arrayBuffer());if($L(e))return VL(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var CE=Symbol();function WL(t){return t.extensions?Array.isArray(t.extensions[CE]):!1}function QL(t){return t.hasOwnProperty("graphQLErrors")}var qL=function(t){var e=oo(oo(oo([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(r){return At(r)&&r.message||"Error message not found."}).join(`
`)},gu=function(t){ji(e,t);function e(r){var n=r.graphQLErrors,i=r.protocolErrors,s=r.clientErrors,u=r.networkError,a=r.errorMessage,o=r.extraInfo,c=t.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=n||[],c.protocolErrors=i||[],c.clientErrors=s||[],c.networkError=u||null,c.message=a||qL(c),c.extraInfo=o,c.__proto__=e.prototype,c}return e}(Error),sC=Object.prototype.hasOwnProperty;function GL(t,e){var r,n,i,s,u;return pu(this,void 0,void 0,function(){var a,o,c,f,d,p,m,w,b,F,E,A,x,C,S,O,g,h,v,y,D,P,N;return mu(this,function(B){switch(B.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");a=new TextDecoder("utf-8"),o=(r=t.headers)===null||r===void 0?void 0:r.get("content-type"),c="boundary=",f=o!=null&&o.includes(c)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(c))+c.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",d=`\r
--`.concat(f),p="",m=zL(t),w=!0,B.label=1;case 1:return w?[4,m.next()]:[3,3];case 2:for(b=B.sent(),F=b.value,E=b.done,A=typeof F=="string"?F:a.decode(F),x=p.length-d.length+1,w=!E,p+=A,C=p.indexOf(d,x);C>-1;){if(S=void 0,P=[p.slice(0,C),p.slice(C+d.length)],S=P[0],p=P[1],O=S.indexOf(`\r
\r
`),g=KL(S.slice(0,O)),h=g["content-type"],h&&h.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(v=S.slice(O),v)try{y=lP(t,v),Object.keys(y).length>1||"data"in y||"incremental"in y||"errors"in y||"payload"in y?kL(y)?(D={},"payload"in y&&(D=Q({},y.payload)),"errors"in y&&(D=Q(Q({},D),{extensions:Q(Q({},"extensions"in D?D.extensions:null),(N={},N[CE]=y.errors,N))})),(n=e.next)===null||n===void 0||n.call(e,D)):(i=e.next)===null||i===void 0||i.call(e,y):Object.keys(y).length===1&&"hasNext"in y&&!y.hasNext&&((s=e.complete)===null||s===void 0||s.call(e))}catch(L){SE(L,e)}C=p.indexOf(d)}return[3,1];case 3:return(u=e.complete)===null||u===void 0||u.call(e),[2]}})})}function KL(t){var e={};return t.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var i=r.slice(0,n).trim().toLowerCase(),s=r.slice(n+1).trim();e[i]=s}}),e}function lP(t,e){if(t.status>=300){var r=function(){try{return JSON.parse(e)}catch{return e}};GA(t,r(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var n=i;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}function SE(t,e){var r,n;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((r=e.next)===null||r===void 0||r.call(e,t.result)),(n=e.error)===null||n===void 0||n.call(e,t))}function JL(t,e,r){YL(e)(t).then(function(n){var i,s;(i=r.next)===null||i===void 0||i.call(r,n),(s=r.complete)===null||s===void 0||s.call(r)}).catch(function(n){return SE(n,r)})}function YL(t){return function(e){return e.text().then(function(r){return lP(e,r)}).then(function(r){return e.status>=300&&GA(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!sC.call(r,"data")&&!sC.call(r,"errors")&&GA(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}var JA=function(t,e){var r;try{r=JSON.stringify(t)}catch(i){var n=__DEV__?new We("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new We(24);throw n.parseError=i,n}return r},ZL={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},XL={accept:"*/*","content-type":"application/json"},e7={method:"POST"},t7={http:ZL,headers:XL,options:e7},r7=function(t,e){return e(t)};function n7(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},s={};r.forEach(function(d){i=Q(Q(Q({},i),d.options),{headers:Q(Q({},i.headers),d.headers)}),d.credentials&&(i.credentials=d.credentials),s=Q(Q({},s),d.http)}),i.headers&&(i.headers=i7(i.headers,s.preserveHeaderCase));var u=t.operationName,a=t.extensions,o=t.variables,c=t.query,f={operationName:u,variables:o};return s.includeExtensions&&(f.extensions=a),s.includeQuery&&(f.query=e(c,T9)),{options:i,body:f}}function i7(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]=t[s]}),r}var n=Object.create(null);Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(n).forEach(function(s){i[n[s].originalName]=n[s].value}),i}var s7=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new We(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new We(23)},u7=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},a7=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};function o7(t,e){var r=[],n=function(d,p){r.push("".concat(d,"=").concat(encodeURIComponent(p)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=JA(e.variables,"Variables map")}catch(d){return{parseError:d}}n("variables",i)}if(e.extensions){var s=void 0;try{s=JA(e.extensions,"Extensions map")}catch(d){return{parseError:d}}n("extensions",s)}var u="",a=t,o=t.indexOf("#");o!==-1&&(u=t.substr(o),a=t.substr(0,o));var c=a.indexOf("?")===-1?"?":"&",f=a+c+r.join("&")+u;return{newURI:f}}var uC=zn(function(){return fetch}),l7=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,i=t.print,s=i===void 0?r7:i,u=t.includeExtensions,a=t.preserveHeaderCase,o=t.useGETForQueries,c=t.includeUnusedVariables,f=c===void 0?!1:c,d=aa(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&s7(n||uC);var p={http:{includeExtensions:u,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Yh(function(m){var w=a7(m,r),b=m.getContext(),F={};if(b.clientAwareness){var E=b.clientAwareness,A=E.name,x=E.version;A&&(F["apollographql-client-name"]=A),x&&(F["apollographql-client-version"]=x)}var C=Q(Q({},F),b.headers),S={http:b.http,options:b.fetchOptions,credentials:b.credentials,headers:C},O=n7(m,s,t7,p,S),g=O.options,h=O.body;if(h.variables&&!f){var v=new Set(Object.keys(h.variables));Hs(m.query,{Variable:function(V,re,Z){Z&&Z.kind!=="VariableDefinition"&&v.delete(V.name.value)}}),v.size&&(h.variables=Q({},h.variables),v.forEach(function(V){delete h.variables[V]}))}var y;if(!g.signal){var D=u7(),P=D.controller,N=D.signal;y=P,y&&(g.signal=N)}var B=function(V){return V.kind==="OperationDefinition"&&V.operation==="mutation"},L=function(V){return V.kind==="OperationDefinition"&&V.operation==="subscription"},H=L(Yy(m.query)),M=dE(["defer"],m.query);if(o&&!m.query.definitions.some(B)&&(g.method="GET"),M||H){g.headers=g.headers||{};var T="multipart/mixed;";H&&M&&__DEV__&&ee.warn("Multipart-subscriptions do not support @defer"),H?T+="boundary=graphql;subscriptionSpec=1.0,application/json":M&&(T+="deferSpec=20220824,application/json"),g.headers.accept=T}if(g.method==="GET"){var R=o7(w,h),j=R.newURI,I=R.parseError;if(I)return rC(I);w=j}else try{g.body=JA(h,"Payload")}catch(V){return rC(V)}return new ht(function(V){var re=n||zn(function(){return fetch})||uC;return re(w,g).then(function(Z){var ge;m.setContext({response:Z});var he=(ge=Z.headers)===null||ge===void 0?void 0:ge.get("content-type");return he!==null&&/^multipart\/mixed/i.test(he)?GL(Z,V):JL(Z,m,V)}).catch(function(Z){return SE(Z,V)}),function(){y&&y.abort()}})})},c7=function(t){ji(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,l7(r).request)||this;return n.options=r,n}return e}(Yh);const{toString:aC,hasOwnProperty:f7}=Object.prototype,oC=Function.prototype.toString,YA=new Map;function Pt(t,e){try{return ZA(t,e)}finally{YA.clear()}}function ZA(t,e){if(t===e)return!0;const r=aC.call(t),n=aC.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(cC(t,e))return!0;const i=lC(t),s=lC(e),u=i.length;if(u!==s.length)return!1;for(let a=0;a<u;++a)if(!f7.call(e,i[a]))return!1;for(let a=0;a<u;++a){const o=i[a];if(!ZA(t[o],e[o]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(cC(t,e))return!0;const i=t.entries(),s=r==="[object Map]";for(;;){const u=i.next();if(u.done)break;const[a,o]=u.value;if(!e.has(a)||s&&!ZA(o,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=oC.call(t);return i!==oC.call(e)?!1:!p7(i,h7)}}return!1}function lC(t){return Object.keys(t).filter(d7,t)}function d7(t){return this[t]!==void 0}const h7="{ [native code] }";function p7(t,e){const r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function cC(t,e){let r=YA.get(t);if(r){if(r.has(e))return!0}else YA.set(t,r=new Set);return r.add(e),!1}var m7=function(){return Object.create(null)},cP=Array.prototype,y7=cP.forEach,g7=cP.slice,v7=function(){function t(e,r){e===void 0&&(e=!0),r===void 0&&(r=m7),this.weakness=e,this.makeData=r}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return y7.call(e,function(n){return r=r.getChildTrie(n)}),r.data||(r.data=this.makeData(g7.call(e)))},t.prototype.getChildTrie=function(e){var r=this.weakness&&A7(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n},t}();function A7(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let ir=null;const fC={};let b7=1;const w7=()=>class{constructor(){this.id=["slot",b7++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=ir;e;e=e.parent)if(this.id in e.slots){const r=e.slots[this.id];if(r===fC)break;return e!==ir&&(ir.slots[this.id]=r),!0}return ir&&(ir.slots[this.id]=fC),!1}getValue(){if(this.hasValue())return ir.slots[this.id]}withValue(e,r,n,i){const s={__proto__:null,[this.id]:e},u=ir;ir={parent:u,slots:s};try{return r.apply(i,n)}finally{ir=u}}static bind(e){const r=ir;return function(){const n=ir;try{return ir=r,e.apply(this,arguments)}finally{ir=n}}}static noContext(e,r,n){if(ir){const i=ir;try{return ir=null,e.apply(n,r)}finally{ir=i}}else return e.apply(n,r)}};function dC(t){try{return t()}catch{}}const Ev="@wry/context:Slot",E7=dC(()=>globalThis)||dC(()=>global)||Object.create(null),hC=E7,fP=hC[Ev]||Array[Ev]||function(t){try{Object.defineProperty(hC,Ev,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(w7());function x7(){}var F7=function(){function t(e,r){e===void 0&&(e=1/0),r===void 0&&(r=x7),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getNode(e);return r&&r.value},t.prototype.getNode=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var n=r.older,i=r.newer;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r},t.prototype.set=function(e,r){var n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),Xy=new fP,xv,C7=Object.prototype.hasOwnProperty,DE=(xv=Array.from,xv===void 0?function(t){var e=[];return t.forEach(function(r){return e.push(r)}),e}:xv);function Bm(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var eh=[],S7=100;function Vc(t,e){if(!t)throw new Error(e||"assertion failure")}function D7(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function dP(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function k7(t){return t.slice(0)}var O7=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!la(this))return pC(this),this.value[0]},t.prototype.recompute=function(e){return Vc(!this.recomputing,"already recomputing"),pC(this),la(this)?_7(this,e):dP(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,hP(this),Bm(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),vP(this),kE(this,function(r,n){r.setDirty(),AP(r,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=eh.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(DE(this.deps).forEach(function(r){return r.delete(e)}),this.deps.clear(),eh.push(this.deps),this.deps=null)},t.count=0,t}();function pC(t){var e=Xy.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),la(t)?mP(e,t):yP(e,t),e}function _7(t,e){return vP(t),Xy.withValue(t,P7,[t,e]),T7(t,e)&&B7(t),dP(t.value)}function P7(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(r){t.value[1]=r}t.recomputing=!1}function la(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function B7(t){t.dirty=!1,!la(t)&&pP(t)}function hP(t){kE(t,mP)}function pP(t){kE(t,yP)}function kE(t,e){var r=t.parents.size;if(r)for(var n=DE(t.parents),i=0;i<r;++i)e(n[i],t)}function mP(t,e){Vc(t.childValues.has(e)),Vc(la(e));var r=!la(t);if(!t.dirtyChildren)t.dirtyChildren=eh.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&hP(t)}function yP(t,e){Vc(t.childValues.has(e)),Vc(!la(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,k7(e.value)):D7(r,e.value)||t.setDirty(),gP(t,e),!la(t)&&pP(t)}function gP(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(eh.length<S7&&eh.push(r),t.dirtyChildren=null))}function vP(t){t.childValues.size>0&&t.childValues.forEach(function(e,r){AP(t,r)}),t.forgetDeps(),Vc(t.dirtyChildren===null)}function AP(t,e){e.parents.delete(t),t.childValues.delete(e),gP(t,e)}function T7(t,e){if(typeof t.subscribe=="function")try{Bm(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var N7={setDirty:!0,dispose:!0,forget:!0};function bP(t){var e=new Map,r=t&&t.subscribe;function n(i){var s=Xy.getValue();if(s){var u=e.get(i);u||e.set(i,u=new Set),s.dependOn(u),typeof r=="function"&&(Bm(u),u.unsubscribe=r(i))}}return n.dirty=function(s,u){var a=e.get(s);if(a){var o=u&&C7.call(N7,u)?u:"setDirty";DE(a).forEach(function(c){return c[o]()}),e.delete(s),Bm(a)}},n}function wP(){var t=new v7(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}wP();var Fv=new Set;function Tm(t,e){e===void 0&&(e=Object.create(null));var r=new F7(e.max||Math.pow(2,16),function(c){return c.dispose()}),n=e.keyArgs,i=e.makeCacheKey||wP(),s=function(){var c=i.apply(null,n?n.apply(null,arguments):arguments);if(c===void 0)return t.apply(null,arguments);var f=r.get(c);f||(r.set(c,f=new O7(t)),f.subscribe=e.subscribe,f.forget=function(){return r.delete(c)});var d=f.recompute(Array.prototype.slice.call(arguments));return r.set(c,f),Fv.add(r),Xy.hasValue()||(Fv.forEach(function(p){return p.clean()}),Fv.clear()),d};Object.defineProperty(s,"size",{get:function(){return r.map.size},configurable:!1,enumerable:!1});function u(c){var f=r.get(c);f&&f.setDirty()}s.dirtyKey=u,s.dirty=function(){u(i.apply(null,arguments))};function a(c){var f=r.get(c);if(f)return f.peek()}s.peekKey=a,s.peek=function(){return a(i.apply(null,arguments))};function o(c){return r.delete(c)}return s.forgetKey=o,s.forget=function(){return o(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(s)}var j7=function(){function t(){this.getFragmentDoc=Tm(U9)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(Q(Q({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(Q(Q({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=aa(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,s=e.fragmentName,u=aa(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(u,{query:this.getFragmentDoc(i,s),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),s=r(i);return s==null?i:(n.writeQuery(Q(Q({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),s=r(i);return s==null?i:(n.writeFragment(Q(Q({},e),{data:s})),s)}})},t}(),EP=function(t){ji(e,t);function e(r,n,i,s){var u,a=t.call(this,r)||this;if(a.message=r,a.path=n,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var o=a.path.length-1;o>=0;--o)a.missing=(u={},u[a.path[o]]=a.missing,u)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error);const I7=()=>Object.create(null),{forEach:R7,slice:L7}=Array.prototype,{hasOwnProperty:M7}=Object.prototype;class rf{constructor(e=!0,r=I7){this.weakness=e,this.makeData=r}lookup(...e){return this.lookupArray(e)}lookupArray(e){let r=this;return R7.call(e,n=>r=r.getChildTrie(n)),M7.call(r,"data")?r.data:r.data=this.makeData(L7.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){const s=this.weakness&&mC(e[n])?r.weak:r.strong;r=s&&s.get(e[n])}return r&&r.data}getChildTrie(e){const r=this.weakness&&mC(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=r.get(e);return n||r.set(e,n=new rf(this.weakness,this.makeData)),n}}function mC(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Xt=Object.prototype.hasOwnProperty;function Of(t){return t==null}function xP(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=Of(n)?Of(i)?void 0:{_id:i}:{id:n}),Of(n)&&!Of(i)&&(n=i),!Of(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var FP={dataIdFromObject:xP,addTypename:!0,resultCaching:!0,canonizeResults:!1};function $7(t){return Jh(FP,t)}function CP(t){var e=t.canonizeResults;return e===void 0?FP.canonizeResults:e}function U7(t,e){return Je(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var SP=/^[_a-z][_0-9a-z]*/i;function ca(t){var e=t.match(SP);return e?e[0]:t}function XA(t,e,r){return At(e)?Bt(e)?e.every(function(n){return XA(t,n,r)}):t.selections.every(function(n){if(wo(n)&&Gy(n,r)){var i=bo(n);return Xt.call(e,i)&&(!n.selectionSet||XA(n.selectionSet,e[i],r))}return!0}):!1}function vl(t){return At(t)&&!Je(t)&&!Bt(t)}function V7(){return new oa}function DP(t,e){var r=hE(yE(t));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&e&&(i=e.lookup(n)),i||null}}}var L0=Object.create(null),Cv=function(){return L0},yC=Object.create(null),th=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return Xd(Je(i)?n.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return Je(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return Il(i);if(Je(i))return i;var u=n.policies.identify(i)[0];if(u){var a=Il(u);return s&&n.merge(u,i),a}}}return t.prototype.toObject=function(){return Q({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),Xt.call(this.data,e)){var n=this.data[e];if(n&&Xt.call(n,r))return n[r]}if(r==="__typename"&&Xt.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof cu)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),Xt.call(this.data,e))return this.data[e];if(this instanceof cu)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;Je(e)&&(e=e.__ref),Je(r)&&(r=r.__ref);var s=typeof e=="string"?this.lookup(i=e):e,u=typeof r=="string"?this.lookup(i=r):r;if(u){__DEV__?ee(typeof i=="string","store.merge expects a string ID"):ee(typeof i=="string",1);var a=new oa(z7).merge(s,u);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var o=Object.create(null);s||(o.__exists=1),Object.keys(u).forEach(function(c){if(!s||s[c]!==a[c]){o[c]=1;var f=ca(c);f!==c&&!n.policies.hasKeyArgs(a.__typename,f)&&(o[f]=1),a[c]===void 0&&!(n instanceof cu)&&delete a[c]}}),o.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete o.__typename,Object.keys(o).forEach(function(c){return n.group.dirty(i,c)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var s=Object.create(null),u=!1,a=!0,o={DELETE:L0,INVALIDATE:yC,isReference:Je,toReference:this.toReference,canRead:this.canRead,readField:function(c,f){return n.policies.readField(typeof c=="string"?{fieldName:c,from:f||Il(e)}:c,{store:n})}};if(Object.keys(i).forEach(function(c){var f=ca(c),d=i[c];if(d!==void 0){var p=typeof r=="function"?r:r[c]||r[f];if(p){var m=p===Cv?L0:p(Xd(d),Q(Q({},o),{fieldName:f,storeFieldName:c,storage:n.getStorage(e,c)}));m===yC?n.group.dirty(e,c):(m===L0&&(m=void 0),m!==d&&(s[c]=m,u=!0,d=m))}d!==void 0&&(a=!1)}}),u)return this.merge(e,s),a&&(this instanceof cu?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,s=this.lookup(e);if(s){var u=this.getFieldValue(s,"__typename"),a=r&&n?this.policies.getStoreFieldName({typename:u,fieldName:r,args:n}):r;return this.modify(e,a?(i={},i[a]=Cv,i):Cv)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(Xt.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof cu&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){Xt.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(s){e&&Xt.call(e,s)||r.delete(s)}),e){var n=e.__META,i=aa(e,["__META"]);Object.keys(i).forEach(function(s){r.merge(s,i[s])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof cu?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(u){Xt.call(n,u)&&(Object.keys(e.findChildRefIds(u)).forEach(r.add,r),delete n[u])});var i=Object.keys(n);if(i.length){for(var s=this;s instanceof cu;)s=s.parent;i.forEach(function(u){return s.delete(u)})}return i},t.prototype.findChildRefIds=function(e){if(!Xt.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(s){Je(s)&&(r[s.__ref]=!0),At(s)&&Object.keys(s).forEach(function(u){var a=s[u];At(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),kP=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?bP():null,this.keyMaker=new rf(Aa)},t.prototype.depend=function(e,r){if(this.d){this.d(Sv(e,r));var n=ca(r);n!==r&&this.d(Sv(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(Sv(e,r),r==="__exists"?"forget":"setDirty")},t}();function Sv(t,e){return e+"#"+t}function gC(t,e){gd(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){ji(n,r);function n(i){var s=i.policies,u=i.resultCaching,a=u===void 0?!0:u,o=i.seed,c=r.call(this,s,new kP(a))||this;return c.stump=new H7(c),c.storageTrie=new rf(Aa),o&&c.replace(o),c}return n.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(th||(th={}));var cu=function(t){ji(e,t);function e(r,n,i,s){var u=t.call(this,n.policies,s)||this;return u.id=r,u.parent=n,u.replay=i,u.group=s,i(u),u}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var u=n.data[s],a=i.lookup(s);a?u?u!==a&&Object.keys(u).forEach(function(o){Pt(u[o],a[o])||n.group.dirty(s,o)}):(n.group.dirty(s,"__exists"),Object.keys(a).forEach(function(o){n.group.dirty(s,o)})):n.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return Q(Q({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return Xt.call(this.data,r)?Q(Q({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(th),H7=function(t){ji(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new kP(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(cu);function z7(t,e,r){var n=t[r],i=e[r];return Pt(n,i)?n:i}function gd(t){return!!(t instanceof th&&t.group.caching)}function W7(t){return At(t)?Bt(t)?t.slice(0):Q({__proto__:Object.getPrototypeOf(t)},t):t}var eb=function(){function t(){this.known=new(EL?WeakSet:Set),this.pool=new rf(Aa),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return At(e)&&this.known.has(e)},t.prototype.pass=function(e){if(At(e)){var r=W7(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(At(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),u=this.pool.lookupArray(s);return u.array||(this.known.add(u.array=s),__DEV__&&Object.freeze(s)),u.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),o=[a],c=this.sortedKeys(e);o.push(c.json);var f=o.length;c.sorted.forEach(function(m){o.push(r.admit(e[m]))});var u=this.pool.lookupArray(o);if(!u.object){var d=u.object=Object.create(a);this.known.add(d),c.sorted.forEach(function(m,w){d[m]=o[f+w]}),__DEV__&&Object.freeze(d)}return u.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t}(),lo=Object.assign(function(t){if(At(t)){tb===void 0&&vC();var e=tb.admit(t),r=rb.get(e);return r===void 0&&rb.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:vC}),tb,rb;function vC(){tb=new eb,rb=new(Aa?WeakMap:Map)}function AC(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Q7=function(){function t(e){var r=this;this.knownResults=new(Aa?WeakMap:Map),this.config=Jh(e,{addTypename:e.addTypename!==!1,canonizeResults:CP(e)}),this.canon=e.canon||new eb,this.executeSelectionSet=Tm(function(n){var i,s=n.context.canonizeResults,u=AC(n);u[3]=!s;var a=(i=r.executeSelectionSet).peek.apply(i,u);return a?s?Q(Q({},a),{result:r.canon.admit(a.result)}):a:(gC(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:AC,makeCacheKey:function(n,i,s,u){if(gd(s.store))return s.store.makeCacheKey(n,Je(i)?i.__ref:i,s.varString,u)}}),this.executeSubSelectedArray=Tm(function(n){return gC(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,s=n.array,u=n.context;if(gd(u.store))return u.store.makeCacheKey(i,s,u.varString)}})}return t.prototype.resetCanon=function(){this.canon=new eb},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,u=e.variables,a=e.returnPartialData,o=a===void 0?!0:a,c=e.canonizeResults,f=c===void 0?this.config.canonizeResults:c,d=this.config.cache.policies;u=Q(Q({},gE(eP(n))),u);var p=Il(s),m=this.executeSelectionSet({selectionSet:Yy(n).selectionSet,objectOrReference:p,enclosingRef:p,context:Q({store:r,query:n,policies:d,variables:u,varString:lo(u),canonizeResults:f},DP(n,this.config.fragments))}),w;if(m.missing&&(w=[new EP(q7(m.missing),m.missing,n,u)],!o))throw w[0];return{result:m.result,complete:!w,missing:w}},t.prototype.isFresh=function(e,r,n,i){if(gd(i.store)&&this.knownResults.get(e)===n){var s=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,u=e.context;if(Je(i)&&!u.policies.rootTypenamesById[i.__ref]&&!u.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=u.variables,o=u.policies,c=u.store,f=c.getFieldValue(i,"__typename"),d=[],p,m=new oa;this.config.addTypename&&typeof f=="string"&&!o.rootIdsByTypename[f]&&d.push({__typename:f});function w(x,C){var S;return x.missing&&(p=m.merge(p,(S={},S[C]=x.missing,S))),x.result}var b=new Set(n.selections);b.forEach(function(x){var C,S;if(Gy(x,a))if(wo(x)){var O=o.readField({fieldName:x.name.value,field:x,variables:u.variables,from:i},u),g=bo(x);O===void 0?vE.added(x)||(p=m.merge(p,(C={},C[g]="Can't find field '".concat(x.name.value,"' on ").concat(Je(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),C))):Bt(O)?O=w(r.executeSubSelectedArray({field:x,array:O,enclosingRef:s,context:u}),g):x.selectionSet?O!=null&&(O=w(r.executeSelectionSet({selectionSet:x.selectionSet,objectOrReference:O,enclosingRef:Je(O)?O:s,context:u}),g)):u.canonizeResults&&(O=r.canon.pass(O)),O!==void 0&&d.push((S={},S[g]=O,S))}else{var h=pE(x,u.lookupFragment);if(!h&&x.kind===fe.FRAGMENT_SPREAD)throw __DEV__?new We("No fragment named ".concat(x.name.value)):new We(5);h&&o.fragmentMatches(h,f)&&h.selectionSet.selections.forEach(b.add,b)}});var F=AE(d),E={result:F,missing:p},A=u.canonizeResults?this.canon.admit(E):Xd(E);return A.result&&this.knownResults.set(A.result,n),A},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,s=e.enclosingRef,u=e.context,a,o=new oa;function c(f,d){var p;return f.missing&&(a=o.merge(a,(p={},p[d]=f.missing,p))),f.result}return n.selectionSet&&(i=i.filter(u.store.canRead)),i=i.map(function(f,d){return f===null?null:Bt(f)?c(r.executeSubSelectedArray({field:n,array:f,enclosingRef:s,context:u}),d):n.selectionSet?c(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:f,enclosingRef:Je(f)?f:s,context:u}),d):(__DEV__&&G7(u.store,n,f),f)}),{result:u.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function q7(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function G7(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){At(i)&&(__DEV__?ee(!Je(i),"Missing selection set for object of type ".concat(U7(t,i)," returned for query field ").concat(e.name.value)):ee(!Je(i),6),Object.values(i).forEach(n.add,n))})}}var OE=new fP,bC=new WeakMap;function vd(t){var e=bC.get(t);return e||bC.set(t,e={vars:new Set,dep:bP()}),e}function wC(t){vd(t).vars.forEach(function(e){return e.forgetCache(t)})}function K7(t){vd(t).vars.forEach(function(e){return e.attachCache(t)})}function J7(t){var e=new Set,r=new Set,n=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(o){vd(o).dep.dirty(n),Y7(o)});var u=Array.from(r);r.clear(),u.forEach(function(o){return o(t)})}}else{var a=OE.getValue();a&&(i(a),vd(a).dep(n))}return t};n.onNextChange=function(s){return r.add(s),function(){r.delete(s)}};var i=n.attachCache=function(s){return e.add(s),vd(s).vars.add(n),n};return n.forgetCache=function(s){return e.delete(s)},n}function Y7(t){t.broadcastWatches&&t.broadcastWatches()}var EC=Object.create(null);function _E(t){var e=JSON.stringify(t);return EC[e]||(EC[e]=Object.create(null))}function xC(t){var e=_E(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(u,a){return n.readField(a,u)},s=n.keyObject=PE(t,function(u){var a=Ll(n.storeObject,u,i);return a===void 0&&r!==n.storeObject&&Xt.call(r,u[0])&&(a=Ll(r,u,_P)),__DEV__?ee(a!==void 0,"Missing field '".concat(u.join("."),"' while extracting keyFields from ").concat(JSON.stringify(r))):ee(a!==void 0,2),a});return"".concat(n.typename,":").concat(JSON.stringify(s))})}function FC(t){var e=_E(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,s=n.variables,u=n.fieldName,a=PE(t,function(c){var f=c[0],d=f.charAt(0);if(d==="@"){if(i&&Zn(i.directives)){var p=f.slice(1),m=i.directives.find(function(E){return E.name.value===p}),w=m&&Ky(m,s);return w&&Ll(w,c.slice(1))}return}if(d==="$"){var b=f.slice(1);if(s&&Xt.call(s,b)){var F=c.slice(0);return F[0]=b,Ll(s,F)}return}if(r)return Ll(r,c)}),o=JSON.stringify(a);return(r||o!=="{}")&&(u+=":"+o),u})}function PE(t,e){var r=new oa;return OP(t).reduce(function(n,i){var s,u=e(i);if(u!==void 0){for(var a=i.length-1;a>=0;--a)u=(s={},s[i[a]]=u,s);n=r.merge(n,u)}return n},Object.create(null))}function OP(t){var e=_E(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,s){Bt(i)?(OP(i).forEach(function(u){return r.push(n.concat(u))}),n.length=0):(n.push(i),Bt(t[s+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function _P(t,e){return t[e]}function Ll(t,e,r){return r=r||_P,PP(e.reduce(function n(i,s){return Bt(i)?i.map(function(u){return n(u,s)}):i&&r(i,s)},t))}function PP(t){return At(t)?Bt(t)?t.map(PP):PE(Object.keys(t).sort(),function(e){return Ll(t,e)}):t}mE.setStringify(lo);function nb(t){return t.args!==void 0?t.args:t.field?Ky(t.field,t.variables):null}var Z7=function(){},CC=function(t,e){return e.fieldName},SC=function(t,e,r){var n=r.mergeObjects;return n(t,e)},DC=function(t,e){return e},X7=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Q({dataIdFromObject:xP},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,s=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var u=r&&r.storeObject||e,a=Q(Q({},r),{typename:s,storeObject:u,readField:r&&r.readField||function(){var p=BE(arguments,u);return i.readField(p,{store:i.cache.data,variables:p.variables})}}),o,c=s&&this.getTypePolicy(s),f=c&&c.keyFn||this.config.dataIdFromObject;f;){var d=f(Q(Q({},e),u),a);if(Bt(d))f=xC(d);else{o=d;break}}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],s=i.queryType,u=i.mutationType,a=i.subscriptionType,o=aa(i,["queryType","mutationType","subscriptionType"]);s&&r.setRootTypename("Query",n),u&&r.setRootTypename("Mutation",n),a&&r.setRootTypename("Subscription",n),Xt.call(r.toBeAdded,n)?r.toBeAdded[n].push(o):r.toBeAdded[n]=[o]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),s=r.keyFields,u=r.fields;function a(o,c){o.merge=typeof c=="function"?c:c===!0?SC:c===!1?DC:o.merge}a(i,r.merge),i.keyFn=s===!1?Z7:Bt(s)?xC(s):typeof s=="function"?s:i.keyFn,u&&Object.keys(u).forEach(function(o){var c=n.getFieldPolicy(e,o,!0),f=u[o];if(typeof f=="function")c.read=f;else{var d=f.keyArgs,p=f.read,m=f.merge;c.keyFn=d===!1?CC:Bt(d)?FC(d):typeof d=="function"?d:c.keyFn,typeof p=="function"&&(c.read=p),a(c,m)}c.read&&c.merge&&(c.keyFn=c.keyFn||CC)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(__DEV__?ee(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):ee(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var s=i.match(SP);(!s||s[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!Xt.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(u){var a=r.getTypePolicy(u),o=a.fields,c=aa(a,["fields"]);Object.assign(n,c),Object.assign(n.fields,o)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(u){r.updateTypePolicy(e,u)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var s=this;if(!e.typeCondition)return!0;if(!r)return!1;var u=e.typeCondition.name.value;if(r===u)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(u))for(var a=this.getSupertypeSet(r,!0),o=[a],c=function(w){var b=s.getSupertypeSet(w,!1);b&&b.size&&o.indexOf(b)<0&&o.push(b)},f=!!(n&&this.fuzzySubtypes.size),d=!1,p=0;p<o.length;++p){var m=o[p];if(m.has(u))return a.has(u)||(d&&__DEV__&&ee.warn("Inferring subtype ".concat(r," of supertype ").concat(u)),a.add(u)),!0;m.forEach(c),f&&p===o.length-1&&XA(e.selectionSet,n,i)&&(f=!1,d=!0,this.fuzzySubtypes.forEach(function(w,b){var F=r.match(w);F&&F[0]===r&&c(b)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),s,u=i&&i.keyFn;if(u&&r)for(var a={typename:r,fieldName:n,field:e.field||null,variables:e.variables},o=nb(e);u;){var c=u(o,a);if(Bt(c))u=FC(c);else{s=c||n;break}}return s===void 0&&(s=e.field?Z9(e.field,e.variables):mE(n,nb(e))),s===!1?n:n===ca(s)?s:n+":"+s},t.prototype.readField=function(e,r){var n=e.from;if(n){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var s=r.store.getFieldValue(n,"__typename");s&&(e.typename=s)}var u=this.getStoreFieldName(e),a=ca(u),o=r.store.getFieldValue(n,u),c=this.getFieldPolicy(e.typename,a,!1),f=c&&c.read;if(f){var d=kC(this,n,e,r,r.store.getStorage(Je(n)?n.__ref:n,u));return OE.withValue(this.cache,f,[o,d])}return o}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),s=i&&i.merge;return!s&&n&&(i=this.getTypePolicy(n),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,r,n,i,s){var u=n.field,a=n.typename,o=n.merge;return o===SC?BP(i.store)(e,r):o===DC?r:(i.overwrite&&(e=void 0),o(e,r,kC(this,void 0,{typename:a,fieldName:u.name.value,field:u,variables:i.variables},i,s||Object.create(null))))},t}();function kC(t,e,r,n,i){var s=t.getStoreFieldName(r),u=ca(s),a=r.variables||n.variables,o=n.store,c=o.toReference,f=o.canRead;return{args:nb(r),field:r.field||null,fieldName:u,storeFieldName:s,variables:a,isReference:Je,toReference:c,storage:i,cache:t.cache,canRead:f,readField:function(){return t.readField(BE(arguments,e,a),n)},mergeObjects:BP(n.store)}}function BE(t,e,r){var n=t[0],i=t[1],s=t.length,u;return typeof n=="string"?u={fieldName:n,from:s>1?i:e}:(u=Q({},n),Xt.call(u,"from")||(u.from=e)),__DEV__&&u.from===void 0&&__DEV__&&ee.warn("Undefined 'from' passed to readField with arguments ".concat(OL(Array.from(t)))),u.variables===void 0&&(u.variables=r),u}function BP(t){return function(r,n){if(Bt(r)||Bt(n))throw __DEV__?new We("Cannot automatically merge arrays"):new We(4);if(At(r)&&At(n)){var i=t.getFieldValue(r,"__typename"),s=t.getFieldValue(n,"__typename"),u=i&&s&&i!==s;if(u)return n;if(Je(r)&&vl(n))return t.merge(r.__ref,n),r;if(vl(r)&&Je(n))return t.merge(r,n.__ref),n;if(vl(r)&&vl(n))return Q(Q({},r),n)}return n}}function Dv(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:Q(Q({},t),{clientOnly:e,deferred:r})),i}var e5=function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,s=r.result,u=r.dataId,a=r.variables,o=r.overwrite,c=Kh(i),f=V7();a=Q(Q({},gE(c)),a);var d=Q(Q({store:e,written:Object.create(null),merge:function(m,w){return f.merge(m,w)},variables:a,varString:lo(a)},DP(i,this.fragments)),{overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:s||Object.create(null),dataId:u,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:d});if(!Je(p))throw __DEV__?new We("Could not identify object ".concat(JSON.stringify(s))):new We(7);return d.incomingById.forEach(function(m,w){var b=m.storeObject,F=m.mergeTree,E=m.fieldNodeSet,A=Il(w);if(F&&F.map.size){var x=n.applyMerges(F,A,b,d);if(Je(x))return;b=x}if(__DEV__&&!d.overwrite){var C=Object.create(null);E.forEach(function(g){g.selectionSet&&(C[g.name.value]=!0)});var S=function(g){return C[ca(g)]===!0},O=function(g){var h=F&&F.map.get(g);return!!(h&&h.info&&h.info.merge)};Object.keys(b).forEach(function(g){S(g)&&!O(g)&&t5(A,b,g,d.store)})}e.merge(w,b)}),e.retain(p.__ref),p},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,s=e.selectionSet,u=e.context,a=e.mergeTree,o=this.cache.policies,c=Object.create(null),f=n&&o.rootTypenamesById[n]||UA(i,s,u.fragmentMap)||n&&u.store.get(n,"__typename");typeof f=="string"&&(c.__typename=f);var d=function(){var x=BE(arguments,c,u.variables);if(Je(x.from)){var C=u.incomingById.get(x.from.__ref);if(C){var S=o.readField(Q(Q({},x),{from:C.storeObject}),u);if(S!==void 0)return S}}return o.readField(x,u)},p=new Set;this.flattenFields(s,i,u,f).forEach(function(x,C){var S,O=bo(C),g=i[O];if(p.add(C),g!==void 0){var h=o.getStoreFieldName({typename:f,fieldName:C.name.value,field:C,variables:x.variables}),v=OC(a,h),y=r.processFieldValue(g,C,C.selectionSet?Dv(x,!1,!1):x,v),D=void 0;C.selectionSet&&(Je(y)||vl(y))&&(D=d("__typename",y));var P=o.getMergeFunction(f,C.name.value,D);P?v.info={field:C,typename:f,merge:P}:_C(a,h),c=x.merge(c,(S={},S[h]=y,S))}else __DEV__&&!x.clientOnly&&!x.deferred&&!vE.added(C)&&!o.getReadFunction(f,C.name.value)&&__DEV__&&ee.error("Missing field '".concat(bo(C),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var m=o.identify(i,{typename:f,selectionSet:s,fragmentMap:u.fragmentMap,storeObject:c,readField:d}),w=m[0],b=m[1];n=n||w,b&&(c=u.merge(c,b))}catch(x){if(!n)throw x}if(typeof n=="string"){var F=Il(n),E=u.written[n]||(u.written[n]=[]);if(E.indexOf(s)>=0||(E.push(s),this.reader&&this.reader.isFresh(i,F,s,u)))return F;var A=u.incomingById.get(n);return A?(A.storeObject=u.merge(A.storeObject,c),A.mergeTree=ib(A.mergeTree,a),p.forEach(function(x){return A.fieldNodeSet.add(x)})):u.incomingById.set(n,{storeObject:c,mergeTree:Nm(a)?void 0:a,fieldNodeSet:p}),F}return c},t.prototype.processFieldValue=function(e,r,n,i){var s=this;return!r.selectionSet||e===null?__DEV__?uP(e):e:Bt(e)?e.map(function(u,a){var o=s.processFieldValue(u,r,n,OC(i,a));return _C(i,a),o}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=UA(r,e,n.fragmentMap));var s=new Map,u=this.cache.policies,a=new rf(!1);return function o(c,f){var d=a.lookup(c,f.clientOnly,f.deferred);d.visited||(d.visited=!0,c.selections.forEach(function(p){if(Gy(p,n.variables)){var m=f.clientOnly,w=f.deferred;if(!(m&&w)&&Zn(p.directives)&&p.directives.forEach(function(E){var A=E.name.value;if(A==="client"&&(m=!0),A==="defer"){var x=Ky(E,n.variables);(!x||x.if!==!1)&&(w=!0)}}),wo(p)){var b=s.get(p);b&&(m=m&&b.clientOnly,w=w&&b.deferred),s.set(p,Dv(n,m,w))}else{var F=pE(p,n.lookupFragment);if(!F&&p.kind===fe.FRAGMENT_SPREAD)throw __DEV__?new We("No fragment named ".concat(p.name.value)):new We(8);F&&u.fragmentMatches(F,i,r,n.variables)&&o(F.selectionSet,Dv(n,m,w))}}}))}(e,n),s},t.prototype.applyMerges=function(e,r,n,i,s){var u,a=this;if(e.map.size&&!Je(n)){var o=!Bt(n)&&(Je(r)||vl(r))?r:void 0,c=n;o&&!s&&(s=[Je(o)?o.__ref:o]);var f,d=function(p,m){return Bt(p)?typeof m=="number"?p[m]:void 0:i.store.getFieldValue(p,String(m))};e.map.forEach(function(p,m){var w=d(o,m),b=d(c,m);if(b!==void 0){s&&s.push(m);var F=a.applyMerges(p,w,b,i,s);F!==b&&(f=f||new Map,f.set(m,F)),s&&ee(s.pop()===m)}}),f&&(n=Bt(c)?c.slice(0):Q({},c),f.forEach(function(p,m){n[m]=p}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,s&&(u=i.store).getStorage.apply(u,s)):n},t}(),TP=[];function OC(t,e){var r=t.map;return r.has(e)||r.set(e,TP.pop()||{map:new Map}),r.get(e)}function ib(t,e){if(t===e||!e||Nm(e))return t;if(!t||Nm(t))return e;var r=t.info&&e.info?Q(Q({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,s={info:r,map:i};if(n){var u=new Set(e.map.keys());t.map.forEach(function(a,o){s.map.set(o,ib(a,e.map.get(o))),u.delete(o)}),u.forEach(function(a){s.map.set(a,ib(e.map.get(a),t.map.get(a)))})}return s}function Nm(t){return!t||!(t.info||t.map.size)}function _C(t,e){var r=t.map,n=r.get(e);n&&Nm(n)&&(TP.push(n),r.delete(e))}var PC=new Set;function t5(t,e,r,n){var i=function(d){var p=n.getFieldValue(d,r);return typeof p=="object"&&p},s=i(t);if(s){var u=i(e);if(u&&!Je(s)&&!Pt(s,u)&&!Object.keys(s).every(function(d){return n.getFieldValue(u,d)!==void 0})){var a=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),o=ca(r),c="".concat(a,".").concat(o);if(!PC.has(c)){PC.add(c);var f=[];!Bt(s)&&!Bt(u)&&[s,u].forEach(function(d){var p=n.getFieldValue(d,"__typename");typeof p=="string"&&!f.includes(p)&&f.push(p)}),__DEV__&&ee.warn("Cache data may be lost when replacing the ".concat(o," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(u).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var r5=function(t){ji(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=J7,n.txCount=0,n.config=$7(r),n.addTypename=!!n.config.addTypename,n.policies=new X7({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new th.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new e5(this,this.storeReader=new Q7({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:CP(this.config),canon:r?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=Tm(function(u,a){return n.broadcastWatch(u,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(u){var a=u.optimistic?n.optimisticData:n.data;if(gd(a)){var o=u.optimistic,c=u.id,f=u.variables;return a.makeCacheKey(u.query,u.callback,lo({optimistic:o,id:c,variables:f}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(u){return u.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(Q(Q({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof EP)return null;throw s}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(Xt.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(Q(Q({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||K7(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&wC(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){lo.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(Je(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){__DEV__&&ee.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(Xt.call(r,"id"))return!1;r=Q(Q({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),lo.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),wC(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,s=r.optimistic,u=s===void 0?!0:s,a=r.removeOptimistic,o=r.onWatchUpdated,c,f=function(p){var m=n,w=m.data,b=m.optimisticData;++n.txCount,p&&(n.data=n.optimisticData=p);try{return c=i(n)}finally{--n.txCount,n.data=w,n.optimisticData=b}},d=new Set;return o&&!this.txCount&&this.broadcastWatches(Q(Q({},r),{onWatchUpdated:function(p){return d.add(p),!1}})),typeof u=="string"?this.optimisticData=this.optimisticData.addLayer(u,f):u===!1?f(this.data):f(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),o&&d.size?(this.broadcastWatches(Q(Q({},r),{onWatchUpdated:function(p,m){var w=o.call(this,p,m);return w!==!1&&d.delete(p),w}})),d.size&&d.forEach(function(p){return n.maybeBroadcastWatch.dirty(p)})):this.broadcastWatches(r),c},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){if(this.addTypename){var n=this.typenameDocumentCache.get(r);return n||(n=vE(r),this.typenameDocumentCache.set(r,n),this.typenameDocumentCache.set(n,n)),n}return r},e.prototype.transformForLink=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,s=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(s.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,s,i)===!1)||(!i||!Pt(i.result,s.result))&&r.callback(r.lastDiff=s,i)},e}(j7),Ve;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(Ve||(Ve={}));function rh(t){return t?t<7:!1}var n5=Object.assign,i5=Object.hasOwnProperty,sb=function(t){ji(e,t);function e(r){var n=r.queryManager,i=r.queryInfo,s=r.options,u=t.call(this,function(F){try{var E=F._subscription._observer;E&&!E.error&&(E.error=s5)}catch{}var A=!u.observers.size;u.observers.add(F);var x=u.last;return x&&x.error?F.error&&F.error(x.error):x&&x.result&&F.next&&F.next(x.result),A&&u.reobserve().catch(function(){}),function(){u.observers.delete(F)&&!u.observers.size&&u.tearDownQuery()}})||this;u.observers=new Set,u.subscriptions=new Set,u.queryInfo=i,u.queryManager=n,u.isTornDown=!1;var a=n.defaultOptions.watchQuery,o=a===void 0?{}:a,c=o.fetchPolicy,f=c===void 0?"cache-first":c,d=s.fetchPolicy,p=d===void 0?f:d,m=s.initialFetchPolicy,w=m===void 0?p==="standby"?f:p:m;u.options=Q(Q({},s),{initialFetchPolicy:w,fetchPolicy:p}),u.queryId=i.queryId||n.generateQueryId();var b=Kh(u.query);return u.queryName=b&&b.name&&b.name.value,u}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,i){var s={next:function(a){n(a),r.observers.delete(s),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){u.unsubscribe()},0)},error:i},u=r.subscribe(s)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||Ve.ready,s=Q(Q({},n),{loading:rh(i),networkStatus:i}),u=this.options.fetchPolicy,a=u===void 0?"cache-first":u;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var o=this.queryInfo.getDiff();(o.complete||this.options.returnPartialData)&&(s.data=o.result),Pt(s.data,{})&&(s.data=void 0),o.complete?(delete s.partial,o.complete&&s.networkStatus===Ve.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=Ve.ready,s.loading=!1)):s.partial=!0,__DEV__&&!o.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&jP(o.missing)}return r&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(r,n){return!this.last||!Pt(this.last.result,r)||n&&!Pt(this.last.variables,n)},e.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||Pt(i.variables,this.variables)))return i[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&r&&i5.call(r,"variables")){var u=eP(this.query),a=u.variableDefinitions;(!a||!a.some(function(o){return o.variable.name.value==="variables"}))&&__DEV__&&ee.warn("Called refetch(".concat(JSON.stringify(r),") for query ").concat(((n=u.name)===null||n===void 0?void 0:n.value)||JSON.stringify(u),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return r&&!Pt(this.options.variables,r)&&(i.variables=this.options.variables=Q(Q({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,Ve.refetch)},e.prototype.fetchMore=function(r){var n=this,i=Q(Q({},r.query?r:Q(Q(Q(Q({},this.options),{query:this.query}),r),{variables:Q(Q({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),u=this.queryInfo,a=u.networkStatus;u.networkStatus=Ve.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var o=new Set;return this.queryManager.fetchQuery(s,i,Ve.fetchMore).then(function(c){return n.queryManager.removeQuery(s),u.networkStatus===Ve.fetchMore&&(u.networkStatus=a),n.queryManager.cache.batch({update:function(f){var d=r.updateQuery;d?f.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(p){return d(p,{fetchMoreResult:c.data,variables:i.variables})}):f.writeQuery({query:i.query,variables:i.variables,data:c.data})},onWatchUpdated:function(f){o.add(f.query)}}),c}).finally(function(){o.has(n.query)||NP(n)})},e.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(s){var u=r.updateQuery;u&&n.updateQuery(function(a,o){var c=o.variables;return u(a,{subscriptionData:s,variables:c})})},error:function(s){if(r.onError){r.onError(s);return}__DEV__&&ee.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.setVariables=function(r){return Pt(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},Ve.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=r(i,{variables:this.variables});s&&(n.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,s=i===void 0?"cache-first":i,u=n.initialFetchPolicy,a=u===void 0?s:u;s==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(s,{reason:r,options:n,observable:this,initialFetchPolicy:a}):r==="variables-changed"?n.fetchPolicy=a:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,r,n)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,s=n.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?ee(s,"Attempted to start a polling query without a polling interval."):ee(s,13);var u=i||(this.pollingInfo={});u.interval=s;var a=function(){r.pollingInfo&&(rh(r.queryInfo.networkStatus)?o():r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Ve.poll).then(o,o))},o=function(){var c=r.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};o()}}},e.prototype.updateLastResult=function(r,n){return n===void 0&&(n=this.variables),this.last=Q(Q({},this.last),{result:this.queryManager.assumeImmutableResults?r:uP(r),variables:n}),Zn(r.errors)||delete this.last.error,this.last},e.prototype.reobserveAsConcast=function(r,n){var i=this;this.isTornDown=!1;var s=n===Ve.refetch||n===Ve.fetchMore||n===Ve.poll,u=this.options.variables,a=this.options.fetchPolicy,o=Jh(this.options,r||{}),c=s?o:n5(this.options,o);s||(this.updatePolling(),r&&r.variables&&!Pt(r.variables,u)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),n===void 0&&(n=Ve.setVariables)));var f=c.variables&&Q({},c.variables),d=this.fetch(c,n),p=d.concast,m=d.fromLink,w={next:function(b){i.reportResult(b,f)},error:function(b){i.reportError(b,f)}};return!s&&m&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=p,this.observer=w),p.addObserver(w),p},e.prototype.reobserve=function(r,n){return this.reobserveAsConcast(r,n).promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var i=this.getLastError();(i||this.isDifferentFromLastResult(r,n))&&((i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),yd(this.observers,"next",r))},e.prototype.reportError=function(r,n){var i=Q(Q({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:Ve.error,loading:!1});this.updateLastResult(i,n),yd(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(ht);aP(sb);function NP(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,typeof n=="function"?n.apply(this,arguments):r}}):t.reobserve()}function s5(t){__DEV__&&ee.error("Unhandled error",t.message,t.stack)}function jP(t){__DEV__&&t&&__DEV__&&ee.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var IP=function(){function t(e){var r=e.cache,n=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=KF(r.resolvers,n)}):this.resolvers=KF(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,i=e.context,s=e.variables,u=e.onlyRunForcedResolvers,a=u===void 0?!1:u;return pu(this,void 0,void 0,function(){return mu(this,function(o){return r?[2,this.resolveDocument(r,n.data,i,s,this.fragmentMatcher,a).then(function(c){return Q(Q({},n),{data:c.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return dE(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return oL(e)},t.prototype.prepareContext=function(e){var r=this.cache;return Q(Q({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),pu(this,void 0,void 0,function(){return mu(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(s){return Q(Q({},r),s.exportedVariables)})]:[2,Q({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return Hs(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return fE}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:aL(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,i,s,u){return n===void 0&&(n={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),u===void 0&&(u=!1),pu(this,void 0,void 0,function(){var a,o,c,f,d,p,m,w,b,F,E;return mu(this,function(A){return a=Yy(e),o=yE(e),c=hE(o),f=this.collectSelectionsToResolve(a,c),d=a.operation,p=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",m=this,w=m.cache,b=m.client,F={fragmentMap:c,context:Q(Q({},n),{cache:w,client:b}),variables:i,fragmentMatcher:s,defaultOperationType:p,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:u},E=!1,[2,this.resolveSelectionSet(a.selectionSet,E,r,F).then(function(x){return{result:x,exportedVariables:F.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n,i){return pu(this,void 0,void 0,function(){var s,u,a,o,c,f=this;return mu(this,function(d){return s=i.fragmentMap,u=i.context,a=i.variables,o=[n],c=function(p){return pu(f,void 0,void 0,function(){var m,w;return mu(this,function(b){return!r&&!i.selectionsToResolve.has(p)?[2]:Gy(p,a)?wo(p)?[2,this.resolveField(p,r,n,i).then(function(F){var E;typeof F<"u"&&o.push((E={},E[bo(p)]=F,E))})]:(tL(p)?m=p:(m=s[p.name.value],__DEV__?ee(m,"No fragment named ".concat(p.name.value)):ee(m,11)),m&&m.typeCondition&&(w=m.typeCondition.name.value,i.fragmentMatcher(n,w,u))?[2,this.resolveSelectionSet(m.selectionSet,r,n,i).then(function(F){o.push(F)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(c)).then(function(){return AE(o)})]})})},t.prototype.resolveField=function(e,r,n,i){return pu(this,void 0,void 0,function(){var s,u,a,o,c,f,d,p,m,w=this;return mu(this,function(b){return n?(s=i.variables,u=e.name.value,a=bo(e),o=u!==a,c=n[a]||n[u],f=Promise.resolve(c),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=n.__typename||i.defaultOperationType,p=this.resolvers&&this.resolvers[d],p&&(m=p[o?u:a],m&&(f=Promise.resolve(OE.withValue(this.cache,m,[n,Ky(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,f.then(function(F){var E,A;if(F===void 0&&(F=c),e.directives&&e.directives.forEach(function(C){C.name.value==="export"&&C.arguments&&C.arguments.forEach(function(S){S.name.value==="as"&&S.value.kind==="StringValue"&&(i.exportedVariables[S.value.value]=F)})}),!e.selectionSet||F==null)return F;var x=(A=(E=e.directives)===null||E===void 0?void 0:E.some(function(C){return C.name.value==="client"}))!==null&&A!==void 0?A:!1;if(Array.isArray(F))return w.resolveSubSelectedArray(e,r||x,F,i);if(e.selectionSet)return w.resolveSelectionSet(e.selectionSet,r||x,F,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,r,n,i){var s=this;return Promise.all(n.map(function(u){if(u===null)return null;if(Array.isArray(u))return s.resolveSubSelectedArray(e,r,u,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,r,u,i)}))},t.prototype.collectSelectionsToResolve=function(e,r){var n=function(u){return!Array.isArray(u)},i=this.selectionsToResolveCache;function s(u){if(!i.has(u)){var a=new Set;i.set(u,a),Hs(u,{Directive:function(o,c,f,d,p){o.name.value==="client"&&p.forEach(function(m){n(m)&&QF(m)&&a.add(m)})},FragmentSpread:function(o,c,f,d,p){var m=r[o.name.value];__DEV__?ee(m,"No fragment named ".concat(o.name.value)):ee(m,12);var w=s(m);w.size>0&&(p.forEach(function(b){n(b)&&QF(b)&&a.add(b)}),a.add(o),w.forEach(function(b){a.add(b)}))}})}return i.get(u)}return s(e)},t}(),Al=new(Aa?WeakMap:Map);function kv(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return Al.set(t,(Al.get(t)+1)%1e15),r.apply(this,arguments)})}function BC(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Ov=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Al.has(n)||(Al.set(n,0),kv(n,"evict"),kv(n,"modify"),kv(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||Ve.loading;return this.variables&&this.networkStatus!==Ve.loading&&!Pt(this.variables,e.variables)&&(r=Ve.setVariables),Pt(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){BC(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var r=this.getDiffOptions(e);if(this.lastDiff&&Pt(r,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(r);return this.updateLastDiff(i,r),i},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Pt(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():NP(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;BC(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(rh(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(r){return r.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=Q(Q({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return r.setDiff(s)}});(!this.lastWatch||!Pt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===Al.get(this.cache)&&Pt(r,n.variables)&&Pt(e.data,n.result.data))},t.prototype.markResult=function(e,r,n,i){var s=this,u=new oa,a=Zn(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Zn(e.incremental)){var o=oP(this.getDiff().result,e);e.data=o}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=u.merge(c.result,e.data)}this.graphQLErrors=a,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):i!==0&&(ub(e,n.errorPolicy)?this.cache.performTransaction(function(f){if(s.shouldWrite(e,n.variables))f.writeQuery({query:r,data:e.data,variables:n.variables,overwrite:i===1}),s.lastWrite={result:e,variables:n.variables,dmCount:Al.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var d=s.getDiffOptions(n.variables),p=f.diff(d);s.stopped||s.updateWatch(n.variables),s.updateLastDiff(p,d),p.complete&&(e.data=p.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ve.ready},t.prototype.markError=function(e){return this.networkStatus=Ve.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function ub(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!I0(t);return!n&&r&&t.data&&(n=!0),n}var u5=Object.prototype.hasOwnProperty,a5=function(){function t(e){var r=e.cache,n=e.link,i=e.defaultOptions,s=e.queryDeduplication,u=s===void 0?!1:s,a=e.onBroadcast,o=e.ssrMode,c=o===void 0?!1:o,f=e.clientAwareness,d=f===void 0?{}:f,p=e.localState,m=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Aa?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=r,this.link=n,this.defaultOptions=i||Object.create(null),this.queryDeduplication=u,this.clientAwareness=d,this.localState=p||new IP({cache:r}),this.ssrMode=c,this.assumeImmutableResults=!!m,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new We("QueryManager stopped while query was in flight"):new We(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,i=e.mutation,s=e.variables,u=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,c=o===void 0?[]:o,f=e.awaitRefetchQueries,d=f===void 0?!1:f,p=e.update,m=e.onQueryUpdated,w=e.fetchPolicy,b=w===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":w,F=e.errorPolicy,E=F===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":F,A=e.keepRootFields,x=e.context;return pu(this,void 0,void 0,function(){var C,S,O,g,h,v;return mu(this,function(y){switch(y.label){case 0:return __DEV__?ee(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):ee(i,15),__DEV__?ee(b==="network-only"||b==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):ee(b==="network-only"||b==="no-cache",16),C=this.generateMutationId(),S=this.transform(i),O=S.document,g=S.hasClientExports,i=this.cache.transformForLink(O),s=this.getVariables(i,s),g?[4,this.localState.addExportedVariables(i,s,x)]:[3,2];case 1:s=y.sent(),y.label=2;case 2:return h=this.mutationStore&&(this.mutationStore[C]={mutation:i,variables:s,loading:!0,error:null}),u&&this.markMutationOptimistic(u,{mutationId:C,document:i,variables:s,fetchPolicy:b,errorPolicy:E,context:x,updateQueries:a,update:p,keepRootFields:A}),this.broadcastQueries(),v=this,[2,new Promise(function(D,P){return wv(v.getObservableFromLink(i,Q(Q({},x),{optimisticResponse:u}),s,!1),function(N){if(I0(N)&&E==="none")throw new gu({graphQLErrors:QA(N)});h&&(h.loading=!1,h.error=null);var B=Q({},N);return typeof c=="function"&&(c=c(B)),E==="ignore"&&I0(B)&&delete B.errors,v.markMutationResult({mutationId:C,result:B,document:i,variables:s,fetchPolicy:b,errorPolicy:E,context:x,update:p,updateQueries:a,awaitRefetchQueries:d,refetchQueries:c,removeOptimistic:u?C:void 0,onQueryUpdated:m,keepRootFields:A})}).subscribe({next:function(N){v.broadcastQueries(),(!("hasNext"in N)||N.hasNext===!1)&&D(N)},error:function(N){h&&(h.loading=!1,h.error=N),u&&v.cache.removeOptimistic(C),v.broadcastQueries(),P(N instanceof gu?N:new gu({networkError:N}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var i=e.result,s=[],u=e.fetchPolicy==="no-cache";if(!u&&ub(i,e.errorPolicy)){if(Rl(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Rl(i)&&Zn(i.incremental)){var a=r.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),o=void 0;a.result&&(o=oP(a.result,i)),typeof o<"u"&&(i.data=o,s.push({result:o,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach(function(d,p){var m=d.observableQuery,w=m&&m.queryName;if(!(!w||!u5.call(c,w))){var b=c[w],F=n.queries.get(p),E=F.document,A=F.variables,x=r.diff({query:E,variables:A,returnPartialData:!0,optimistic:!1}),C=x.result,S=x.complete;if(S&&C){var O=b(C,{mutationResult:i,queryName:E&&VA(E)||void 0,queryVariables:A});O&&s.push({result:O,dataId:"ROOT_QUERY",query:E,variables:A})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var f=[];if(this.refetchQueries({updateCache:function(d){u||s.forEach(function(b){return d.write(b)});var p=e.update,m=!DL(i)||Rl(i)&&!i.hasNext;if(p){if(!u){var w=d.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});w.complete&&(i=Q(Q({},i),{data:w.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}m&&p(d,i,{context:e.context,variables:e.variables})}!u&&!e.keepRootFields&&m&&d.modify({id:"ROOT_MUTATION",fields:function(b,F){var E=F.fieldName,A=F.DELETE;return E==="__typename"?b:A}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(d){return f.push(d)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(f).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,r){var n=this,i=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{n.markMutationResult(Q(Q({},r),{result:{data:i}}),s)}catch(u){__DEV__&&ee.error(u)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchQueryObservable(e,r,n).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var n=this.cache.transformDocument(e),i=uL(n),s=this.localState.clientQuery(n),u=i&&this.localState.serverQuery(i),a={document:n,hasClientExports:L9(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:s,serverQuery:u,defaultVars:gE(Kh(n)),asQuery:Q(Q({},n),{definitions:n.definitions.map(function(c){return c.kind==="OperationDefinition"&&c.operation!=="query"?Q(Q({},c),{operation:"query"}):c})})},o=function(c){c&&!r.has(c)&&r.set(c,a)};o(e),o(n),o(s),o(u)}return r.get(e)},t.prototype.getVariables=function(e,r){return Q(Q({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e){e=Q(Q({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new Ov(this),n=new sb({queryManager:this,queryInfo:r,options:e});return this.queries.set(n.queryId,r),r.init({document:n.query,observableQuery:n,variables:n.variables}),n},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),__DEV__?ee(e.query,"query option is required. You must specify your GraphQL document in the query option."):ee(e.query,17),__DEV__?ee(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):ee(e.query.kind==="Document",18),__DEV__?ee(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):ee(!e.returnPartialData,19),__DEV__?ee(!e.pollInterval,"pollInterval option only supported on watchQuery."):ee(!e.pollInterval,20),this.fetchQuery(r,e).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new We("Store reset while query was in flight (not completed in link chain)"):new We(21)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=Ve.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(u){typeof u=="string"?i.set(u,!1):V9(u)?i.set(r.transform(u).document,!1):At(u)&&u.query&&s.add(u)}),this.queries.forEach(function(u,a){var o=u.observableQuery,c=u.document;if(o){if(e==="all"){n.set(a,o);return}var f=o.queryName,d=o.options.fetchPolicy;if(d==="standby"||e==="active"&&!o.hasObservers())return;(e==="active"||f&&i.has(f)||c&&i.has(c))&&(n.set(a,o),f&&i.set(f,!0),c&&i.set(c,!0))}}),s.size&&s.forEach(function(u){var a=qA("legacyOneTimeQuery"),o=r.getQuery(a).init({document:u.query,variables:u.variables}),c=new sb({queryManager:r,queryInfo:o,options:Q(Q({},u),{fetchPolicy:"network-only"})});ee(c.queryId===a),o.setObservableQuery(c),n.set(a,c)}),__DEV__&&i.size&&i.forEach(function(u,a){u||__DEV__&&ee.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var u=i.options.fetchPolicy;i.resetLastResults(),(e||u!=="standby"&&u!=="cache-only")&&n.push(i.refetch()),r.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,i=e.fetchPolicy,s=e.errorPolicy,u=e.variables,a=e.context,o=a===void 0?{}:a;n=this.transform(n).document,u=this.getVariables(n,u);var c=function(d){return r.getObservableFromLink(n,o,d).map(function(p){i!=="no-cache"&&(ub(p,s)&&r.cache.write({query:n,result:p.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),r.broadcastQueries());var m=I0(p),w=WL(p);if(m||w){var b={};throw m&&(b.graphQLErrors=p.errors),w&&(b.protocolErrors=p.extensions[CE]),new gu(b)}return p})};if(this.transform(n).hasClientExports){var f=this.localState.addExportedVariables(n,u,o).then(c);return new ht(function(d){var p=null;return f.then(function(m){return p=m.subscribe(d)},d.error),function(){return p&&p.unsubscribe()}})}return c(u)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,i){var s=this,u;i===void 0&&(i=(u=r==null?void 0:r.queryDeduplication)!==null&&u!==void 0?u:this.queryDeduplication);var a,o=this.transform(e).serverQuery;if(o){var c=this,f=c.inFlightLinkObservables,d=c.link,p={query:o,variables:n,operationName:VA(o)||void 0,context:this.prepareContext(Q(Q({},r),{forceFetch:!i}))};if(r=p.context,i){var m=f.get(o)||new Map;f.set(o,m);var w=lo(n);if(a=m.get(w),!a){var b=new tl([KA(d,p)]);m.set(w,a=b),b.beforeNext(function(){m.delete(w)&&m.size<1&&f.delete(o)})}}else a=new tl([KA(d,p)])}else a=new tl([ht.of({data:{}})]),r=this.prepareContext(r);var F=this.transform(e).clientQuery;return F&&(a=wv(a,function(E){return s.localState.runResolvers({document:F,remoteResult:E,context:r,variables:n})})),a},t.prototype.getResultsFromLink=function(e,r,n){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return wv(this.getObservableFromLink(s,n.context,n.variables),function(u){var a=QA(u),o=a.length>0;if(i>=e.lastRequestId){if(o&&n.errorPolicy==="none")throw e.markError(new gu({graphQLErrors:a}));e.markResult(u,s,n,r),e.markReady()}var c={data:u.data,loading:!1,networkStatus:Ve.ready};return o&&n.errorPolicy!=="ignore"&&(c.errors=a,c.networkStatus=Ve.error),c},function(u){var a=QL(u)?u:new gu({networkError:u});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,r,n){return this.fetchConcastWithInfo(e,r,n).concast},t.prototype.fetchConcastWithInfo=function(e,r,n){var i=this;n===void 0&&(n=Ve.loading);var s=this.transform(r.query).document,u=this.getVariables(s,r.variables),a=this.getQuery(e),o=this.defaultOptions.watchQuery,c=r.fetchPolicy,f=c===void 0?o&&o.fetchPolicy||"cache-first":c,d=r.errorPolicy,p=d===void 0?o&&o.errorPolicy||"none":d,m=r.returnPartialData,w=m===void 0?!1:m,b=r.notifyOnNetworkStatusChange,F=b===void 0?!1:b,E=r.context,A=E===void 0?{}:E,x=Object.assign({},r,{query:s,variables:u,fetchPolicy:f,errorPolicy:p,returnPartialData:w,notifyOnNetworkStatusChange:F,context:A}),C=function(v){x.variables=v;var y=i.fetchQueryByPolicy(a,x,n);return x.fetchPolicy!=="standby"&&y.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",r),y},S=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(v){S(),setTimeout(function(){return O.cancel(v)})});var O,g;if(this.transform(x.query).hasClientExports)O=new tl(this.localState.addExportedVariables(x.query,x.variables,x.context).then(C).then(function(v){return v.sources})),g=!0;else{var h=C(x.variables);g=h.fromLink,O=new tl(h.sources)}return O.promise.then(S,S),{concast:O,fromLink:g}},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,i=e.include,s=e.optimistic,u=s===void 0?!1:s,a=e.removeOptimistic,o=a===void 0?u?qA("refetchQueries"):void 0:a,c=e.onQueryUpdated,f=new Map;i&&this.getObservableQueries(i).forEach(function(p,m){f.set(m,{oq:p,lastDiff:r.getQuery(m).getDiff()})});var d=new Map;return n&&this.cache.batch({update:n,optimistic:u&&o||!1,removeOptimistic:o,onWatchUpdated:function(p,m,w){var b=p.watcher instanceof Ov&&p.watcher.observableQuery;if(b){if(c){f.delete(b.queryId);var F=c(b,m,w);return F===!0&&(F=b.refetch()),F!==!1&&d.set(b,F),F}c!==null&&f.set(b.queryId,{oq:b,lastDiff:w,diff:m})}}}),f.size&&f.forEach(function(p,m){var w=p.oq,b=p.lastDiff,F=p.diff,E;if(c){if(!F){var A=w.queryInfo;A.reset(),F=A.getDiff()}E=c(w,F,b)}(!c||E===!0)&&(E=w.refetch()),E!==!1&&d.set(w,E),m.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(m)}),o&&this.cache.removeOptimistic(o),d},t.prototype.fetchQueryByPolicy=function(e,r,n){var i=this,s=r.query,u=r.variables,a=r.fetchPolicy,o=r.refetchWritePolicy,c=r.errorPolicy,f=r.returnPartialData,d=r.context,p=r.notifyOnNetworkStatusChange,m=e.networkStatus;e.init({document:this.transform(s).document,variables:u,networkStatus:n});var w=function(){return e.getDiff(u)},b=function(C,S){S===void 0&&(S=e.networkStatus||Ve.loading);var O=C.result;__DEV__&&!f&&!Pt(O,{})&&jP(C.missing);var g=function(h){return ht.of(Q({data:h,loading:rh(S),networkStatus:S},C.complete?null:{partial:!0}))};return O&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:O},context:d,variables:u,onlyRunForcedResolvers:!0}).then(function(h){return g(h.data||void 0)}):c==="none"&&S===Ve.refetch&&Array.isArray(C.missing)?g(void 0):g(O)},F=a==="no-cache"?0:n===Ve.refetch&&o!=="merge"?1:2,E=function(){return i.getResultsFromLink(e,F,{variables:u,context:d,fetchPolicy:a,errorPolicy:c})},A=p&&typeof m=="number"&&m!==n&&rh(n);switch(a){default:case"cache-first":{var x=w();return x.complete?{fromLink:!1,sources:[b(x,e.markReady())]}:f||A?{fromLink:!0,sources:[b(x),E()]}:{fromLink:!0,sources:[E()]}}case"cache-and-network":{var x=w();return x.complete||f||A?{fromLink:!0,sources:[b(x),E()]}:{fromLink:!0,sources:[E()]}}case"cache-only":return{fromLink:!1,sources:[b(w(),e.markReady())]};case"network-only":return A?{fromLink:!0,sources:[b(w()),E()]}:{fromLink:!0,sources:[E()]};case"no-cache":return A?{fromLink:!0,sources:[b(e.getDiff()),E()]}:{fromLink:!0,sources:[E()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ov(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return Q(Q({},r),{clientAwareness:this.clientAwareness})},t}(),TC=!1,o5=function(){function t(e){var r=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,s=e.headers,u=e.cache,a=e.ssrMode,o=a===void 0?!1:a,c=e.ssrForceFetchDelay,f=c===void 0?0:c,d=e.connectToDevTools,p=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:d,m=e.queryDeduplication,w=m===void 0?!0:m,b=e.defaultOptions,F=e.assumeImmutableResults,E=F===void 0?!1:F,A=e.resolvers,x=e.typeDefs,C=e.fragmentMatcher,S=e.name,O=e.version,g=e.link;if(g||(g=n?new c7({uri:n,credentials:i,headers:s}):Yh.empty()),!u)throw __DEV__?new We(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new We(9);if(this.link=g,this.cache=u,this.disableNetworkFetches=o||f>0,this.queryDeduplication=w,this.defaultOptions=b||Object.create(null),this.typeDefs=x,f&&setTimeout(function(){return r.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!TC&&p&&__DEV__&&(TC=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var h=window.navigator,v=h&&h.userAgent,y=void 0;typeof v=="string"&&(v.indexOf("Chrome/")>-1?y="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":v.indexOf("Firefox/")>-1&&(y="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),y&&__DEV__&&ee.log("Download the Apollo DevTools for a better development experience: "+y)}this.version=NL,this.localState=new IP({cache:u,client:this,resolvers:A,fragmentMatcher:C}),this.queryManager=new a5({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:w,ssrMode:o,clientAwareness:{name:S,version:O},localState:this.localState,assumeImmutableResults:E,onBroadcast:p?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=R0(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Q(Q({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=R0(this.defaultOptions.query,e)),__DEV__?ee(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):ee(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Q(Q({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=R0(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return KA(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],i=[];r.forEach(function(u,a){n.push(a),i.push(u)});var s=Promise.all(i);return s.queries=n,s.results=i,s.catch(function(u){__DEV__&&ee.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(u))}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),M0=new Map,ab=new Map,RP=!0,jm=!1;function LP(t){return t.replace(/[\s,]+/g," ").trim()}function l5(t){return LP(t.source.body.substring(t.start,t.end))}function c5(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,s=l5(n.loc),u=ab.get(i);u&&!u.has(s)?RP&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):u||ab.set(i,u=new Set),u.add(s),e.has(s)||(e.add(s),r.push(n))}else r.push(n)}),Q(Q({},t),{definitions:r})}function f5(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var s=n[i];s&&typeof s=="object"&&e.add(s)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function d5(t){var e=LP(t);if(!M0.has(e)){var r=S9(t,{experimentalFragmentVariables:jm,allowLegacyFragmentVariables:jm});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");M0.set(e,f5(c5(r)))}return M0.get(e)}function Ee(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=t[s+1]}),d5(n)}function h5(){M0.clear(),ab.clear()}function p5(){RP=!1}function m5(){jm=!0}function y5(){jm=!1}var _f={gql:Ee,resetCaches:h5,disableFragmentWarnings:p5,enableExperimentalFragmentVariables:m5,disableExperimentalFragmentVariables:y5};(function(t){t.gql=_f.gql,t.resetCaches=_f.resetCaches,t.disableFragmentWarnings=_f.disableFragmentWarnings,t.enableExperimentalFragmentVariables=_f.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=_f.disableExperimentalFragmentVariables})(Ee||(Ee={}));Ee.default=Ee;var NC=FE?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function TE(){var t=k.createContext[NC];return t||(Object.defineProperty(k.createContext,NC,{value:t=k.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var g5=function(t){var e=t.client,r=t.children,n=TE();return k.createElement(n.Consumer,null,function(i){return i===void 0&&(i={}),e&&i.client!==e&&(i=Object.assign({},i,{client:e})),__DEV__?ee(i.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):ee(i.client,29),k.createElement(n.Provider,{value:i},r)})};function v5(t){var e=k.useContext(TE()),r=t||e.client;return __DEV__?ee(!!r,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):ee(!!r,32),r}var jC=!1,A5="useSyncExternalStore",b5=xO[A5],w5=b5||function(t,e,r){var n=e();__DEV__&&!jC&&n!==e()&&(jC=!0,__DEV__&&ee.error("The result of getSnapshot should be cached to avoid an infinite loop"));var i=k.useState({inst:{value:n,getSnapshot:e}}),s=i[0].inst,u=i[1];return CL?k.useLayoutEffect(function(){Object.assign(s,{value:n,getSnapshot:e}),_v(s)&&u({inst:s})},[t,n,e]):Object.assign(s,{value:n,getSnapshot:e}),k.useEffect(function(){return _v(s)&&u({inst:s}),t(function(){_v(s)&&u({inst:s})})},[t]),n};function _v(t){var e=t.value,r=t.getSnapshot;try{return e!==r()}catch{return!0}}var Is;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Is||(Is={}));var IC=new Map;function RC(t){var e;switch(t){case Is.Query:e="Query";break;case Is.Mutation:e="Mutation";break;case Is.Subscription:e="Subscription";break}return e}function E5(t){var e=IC.get(t);if(e)return e;var r,n,i;__DEV__?ee(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):ee(!!t&&!!t.kind,33);for(var s=[],u=[],a=[],o=[],c=0,f=t.definitions;c<f.length;c++){var d=f[c];if(d.kind==="FragmentDefinition"){s.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":u.push(d);break;case"mutation":a.push(d);break;case"subscription":o.push(d);break}}__DEV__?ee(!s.length||u.length||a.length||o.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):ee(!s.length||u.length||a.length||o.length,34),__DEV__?ee(u.length+a.length+o.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(u.length," queries, ").concat(o.length," ")+"subscriptions and ".concat(a.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):ee(u.length+a.length+o.length<=1,35),n=u.length?Is.Query:Is.Mutation,!u.length&&!a.length&&(n=Is.Subscription);var p=u.length?u:a.length?a:o;__DEV__?ee(p.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(p.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):ee(p.length===1,36);var m=p[0];r=m.variableDefinitions||[],m.name&&m.name.kind==="Name"?i=m.name.value:i="data";var w={name:i,type:n,variables:r};return IC.set(t,w),w}function x5(t,e){var r=E5(t),n=RC(e),i=RC(r.type);__DEV__?ee(r.type===e,"Running a ".concat(n," requires a graphql ")+"".concat(n,", but a ").concat(i," was used instead.")):ee(r.type===e,37)}var F5=Object.prototype.hasOwnProperty;function hr(t,e){return e===void 0&&(e=Object.create(null)),C5(v5(e.client),t).useQuery(e)}function C5(t,e){var r=k.useRef();(!r.current||t!==r.current.client||e!==r.current.query)&&(r.current=new S5(t,e,r.current));var n=r.current,i=k.useState(0);i[0];var s=i[1];return n.forceUpdate=function(){s(function(u){return u+1})},n}var S5=function(){function t(e,r,n){this.client=e,this.query=r,this.ssrDisabledResult=Xd({loading:!0,data:void 0,error:void 0,networkStatus:Ve.loading}),this.skipStandbyResult=Xd({loading:!1,data:void 0,error:void 0,networkStatus:Ve.ready}),this.toQueryResultCache=new(Aa?WeakMap:Map),x5(r,Is.Query);var i=n&&n.result,s=i&&i.data;s&&(this.previousData=s)}return t.prototype.forceUpdate=function(){__DEV__&&ee.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.executeQuery=function(e){var r=this,n;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var i=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(s){var u;i.subscribe({next:function(a){u=a},error:function(){s(r.toQueryResult(r.observable.getCurrentResult()))},complete:function(){s(r.toQueryResult(u))}})})},t.prototype.useQuery=function(e){var r=this;this.renderPromises=k.useContext(TE()).renderPromises,this.useOptions(e);var n=this.useObservableQuery(),i=w5(k.useCallback(function(){if(r.renderPromises)return function(){};var s=function(){var o=r.result,c=n.getCurrentResult();o&&o.loading===c.loading&&o.networkStatus===c.networkStatus&&Pt(o.data,c.data)||r.setResult(c)},u=function(o){var c=n.last;a.unsubscribe();try{n.resetLastResults(),a=n.subscribe(s,u)}finally{n.last=c}if(!F5.call(o,"graphQLErrors"))throw o;var f=r.result;(!f||f&&f.loading||!Pt(o,f.error))&&r.setResult({data:f&&f.data,error:o,loading:!1,networkStatus:Ve.error})},a=n.subscribe(s,u);return function(){return setTimeout(function(){return a.unsubscribe()})}},[n,this.renderPromises,this.client.disableNetworkFetches]),function(){return r.getCurrentResult()},function(){return r.getCurrentResult()});return this.unsafeHandlePartialRefetch(i),this.toQueryResult(i)},t.prototype.useOptions=function(e){var r,n=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;Pt(n,i)||(this.watchQueryOptions=n,i&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],r=this.client.defaultOptions.watchQuery;return r&&e.push(r),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Jh(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(R0)},t.prototype.createWatchQueryOptions=function(e){var r;e===void 0&&(e={});var n=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=aa(e,["skip","ssr","onCompleted","onError","defaultOptions"]),s=Object.assign(i,{query:this.query});if(this.renderPromises&&(s.fetchPolicy==="network-only"||s.fetchPolicy==="cache-and-network")&&(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),n){var u=s.fetchPolicy,a=u===void 0?this.getDefaultFetchPolicy():u,o=s.initialFetchPolicy,c=o===void 0?a:o;Object.assign(s,{initialFetchPolicy:c,fetchPolicy:"standby"})}else s.fetchPolicy||(s.fetchPolicy=((r=this.observable)===null||r===void 0?void 0:r.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return s},t.prototype.getDefaultFetchPolicy=function(){var e,r;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((r=this.client.defaultOptions.watchQuery)===null||r===void 0?void 0:r.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=k.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var r=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&r&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var r=this.result;r&&r.data&&(this.previousData=r.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var r=this;if(!e.loading){var n=this.toApolloError(e);Promise.resolve().then(function(){n?r.onError(n):e.data&&r.onCompleted(e.data)}).catch(function(i){__DEV__&&ee.warn(i)})}},t.prototype.toApolloError=function(e){return Zn(e.errors)?new gu({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var r=this.toQueryResultCache.get(e);if(r)return r;var n=e.data;e.partial;var i=aa(e,["data","partial"]);return this.toQueryResultCache.set(e,r=Q(Q(Q({data:n},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!r.error&&Zn(e.errors)&&(r.error=new gu({graphQLErrors:e.errors})),r},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:Ve.refetch}),this.observable.refetch())},t}();const D5=Ee`
  query BlockByDate($timestampMin: String!, $timestampMax: String!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: asc,
            where: {timestamp_gte: $timestampMin, timestamp_lte: $timestampMax}) {
        timestamp
        number
    }
}
`,k5=Ee`
  query BlockByNumber($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: desc,
            where: {number_lte: $number}) {
        timestamp
        number
    }
}
`,O5=Ee`
  query BlockNext($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: asc,
            where: {number_gt: $number}) {
        timestamp
        number
    }
}
`,_5=Ee`
  query BlockPrevious($number: BigInt!) {
    blocks(first: 1, orderBy: timestamp, orderDirection: desc,
            where: {number_lt: $number}) {
        timestamp
        number
    }
}
`,P5=Ee`
  query BlockRange {
    last: blocks(first: 1, orderBy: timestamp, orderDirection: desc) {
        timestamp
        number
    }
    first: blocks(first: 1, orderBy: timestamp, orderDirection: asc) {
        timestamp
        number
    }
  }
`,Zh=Ee`
  fragment User on User{
    id
    b58id
    address
  }
`,Ii=Ee`
  ${Zh}

  fragment Post on Post{
    id
    n
    from {
      ...User
    }
    thread {
      board {
        id
        name
        isNsfw
      }
      id
      n
      op {
        from {
          ...User
        }
      }
    }
    board {
      id
      name
      isNsfw
    }
    name
    comment
    image {
      id
      name
      ipfsHash
      score
      isSpoiler
      isNsfw
    }
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    bans {
      ban {
        reason
        expiresAt
      }
    }
    score
    sage
  }
`,sn=Ee`
  ${Ii}
  ${Zh}

  fragment Thread on Thread{
    id
    n
    isPinned
    isLocked
    from {
      ...User
    }
    op {
      ...Post
    }
    board {
      id
      name
      isNsfw
    }
    subject
    replyCount
    imageCount
    score
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    lastBumpedAt
    lastBumpedAtBlock {
      timestamp
      number
    }
    lastReplies: replies(first: 3, orderBy: n, orderDirection: desc) {
      ...Post
    }
  }
`,B5=Ee`
  ${sn}
  ${Ii}
  
  query BoardArchive($board: String!, $block: Int!, $orderDirection: String!, $limit: Int!, $skip: Int!, $cutoff: Int!) {
    threads(where: {lastBumpedAt_lt: $cutoff, board: $board, isPinned: false}, orderBy: "lastBumpedAt", orderDirection: $orderDirection, first: $limit, skip: $skip, block: {number: $block}) {
      ...Thread
    }
  }
`,T5=Ee`
  ${sn}
  ${Ii}
  
  query BoardCatalog($board: String!, $block: Int!, $orderBy: String!, $orderDirection: String!, $limit: Int!, $skip: Int!, $cutoff: Int!) {
    pinned: threads(where: {board: $board, isPinned: true}, orderBy: lastBumpedAt, orderDirection: $orderDirection, block: {number: $block}) {
      ...Thread
    }
    threads(where: {lastBumpedAt_gt: $cutoff, board: $board, isPinned: false}, orderBy: $orderBy, orderDirection: $orderDirection, first: $limit, skip: $skip, block: {number: $block}) {
      ...Thread
    }
  }
`,Gs=Ee`
  ${Zh}

  fragment Board on Board{
    id
    title
    threadCount
    postCount
    name
    isLocked
    isNsfw
    createdAt
    createdAtBlock {
      timestamp
      number
    }
    lastBumpedAtBlock {
      timestamp
      number
    }
    jannies {
      user {
        ...User
      }
    }
  }
`,MP=Ee`
  ${Gs}
  
  query BoardGet($board: String!, $block: Int!) {
    boardRef(id: $board, block: {number: $block}) {
      board {
        ...Board
      }
    }
    board(id: $board, block: {number: $block}) {
      ...Board
    }
  }
`;Ee`
  fragment MostPopularByBlockBoard on Board {
    id
    title
    postCount
    name
    isLocked
    isNsfw
  }

  query Boards($block: Int!) {
    boards(orderBy: postCount, orderDirection: desc, first: 10, block: {number: $block}) {
      ...MostPopularByBlockBoard
    }
  }
`;const N5=Ee`
  fragment MostPopularBoard on Board {
    id
    title
    postCount
    name
    isLocked
    isNsfw
  }

  query Boards {
    boards(orderBy: postCount, orderDirection: desc, first: 10) {
      ...MostPopularBoard
    }
  }
`,j5=Ee`
  ${Gs}

  query BoardsSearch($searchName: String!, $searchTitle: String!, $block: Int) {
    searchByTitle: boardSearch(text: $searchTitle, block: {number: $block}) {
      ...Board
    }
    searchByName: boards(where: {name: $searchName}, block: {number: $block}) {
      ...Board
    }
  }
`,I5=Ee`
  ${Gs}

  query BoardsSearch($searchName: String!, $searchTitle: String!) {
    searchByTitle: boardSearch(text: $searchTitle) {
      ...Board
    }
    searchByName: boards(where: {name: $searchName}) {
      ...Board
    }
  }
`,R5=Ee`
  ${Gs}
  
  query Boards($block: Int, $limit: Int) {
    mostPopular: boards(orderBy: postCount, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
    lastBumped: boards(orderBy: lastBumpedAt, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
    lastCreated: boards(orderBy: createdAt, orderDirection: desc, where: {score_gt: "900000000"}, block: {number: $block}, first: $limit) {
      ...Board
    }
  }
`,L5=Ee`
  ${Gs}
  
  query Boards($limit: Int) {
    mostPopular: boards(orderBy: postCount, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
    lastBumped: boards(orderBy: lastBumpedAt, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
    lastCreated: boards(orderBy: createdAt, orderDirection: desc, where: {score_gt: "900000000"}, first: $limit) {
      ...Board
    }
  }
`,M5=Ee`
  query ChanStatus($id: String!) {
    chanStatus(id: $id) {
      isLocked
    }
  }
`,$5=Ee`
  fragment Client on Client {
    id
    ipfsHash
    version
    publishedAtBlock {
      timestamp
      number
    }
  }
`;Ee`
  ${$5}

  query IPFSClients {
    dev: clients(first: 1, orderBy: publishedAt, orderDirection: desc, where: {channel: ""}) {
      ...Client
    }
    stable: clients(first: 1, orderBy: publishedAt, orderDirection: desc, where: {channel: "stable"}) {
      ...Client
    }
  }  
`;const U5=Ee`
  ${Ii}

  query PostsGetLast($block: Int!, $limit: Int = 10, $board: String = "", $skip: Int = 0) {
    posts(orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip, where: {sage: false, board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Post
    }
  }
`,V5=Ee`
  ${Ii}

  query PostsGetLast($limit: Int = 10, $board: String = "", $skip: Int = 0) {
    posts(orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip, where: {sage: false, board_starts_with: $board, board_ends_with: $board}) {
      ...Post
    }
  }
`,H5=Ee`
  ${Ii}
  
  query PostSearch($search: String!, $limit: Int = 10, $board: String = "", $skip: Int = 0, $block: Int!) {
    postSearch(text: $search, orderBy: createdAt, orderDirection: desc, block: {number: $block}, first: $limit, skip: $skip) {
      ...Post
    }
  }
`,z5=Ee`
  ${Ii}
  
  query PostSearch($search: String!, $limit: Int = 10, $board: String = "", $skip: Int = 0) {
    postSearch(text: $search, orderBy: createdAt, orderDirection: desc, first: $limit, skip: $skip) {
      ...Post
    }
  }
`,W5=Ee`
  ${Gs}
  ${sn}
  ${Ii}

  query SearchById($id: String!, $block: Int!) {
    boardRef(id: $id, block: {number: $block}) {
      board {
        ...Board
      }
    }
    threadRef(id: $id, block: {number: $block}) {
      thread {
        ...Thread
      }
    }
    postRef(id: $id, block: {number: $block}) {
      post {
        ...Post
      }
    }
    board(id: $id, block: {number: $block}) {
      ...Board
    }
    thread(id: $id, block: {number: $block}) {
      ...Thread
    }
    post(id: $id, block: {number: $block}) {
      ...Post
    }
    user(id: $id, block: {number: $block}) {
      id
    }
  }
`,Q5=Ee`
  ${Gs}
  ${sn}
  ${Ii}

  query SearchById($id: String!) {
    boardRef(id: $id) {
      board {
        ...Board
      }
    }
    threadRef(id: $id) {
      thread {
        ...Thread
      }
    }
    postRef(id: $id) {
      post {
        ...Post
      }
    }
    board(id: $id) {
      ...Board
    }
    thread(id: $id) {
      ...Thread
    }
    post(id: $id) {
      ...Post
    }
    user(id: $id) {
      id
    }
  }
`,$P=Ee`
  ${Zh}

  fragment SearchBoard on Board {
    id
    name
  }

  fragment SearchThread on Thread {
    id
    n
    board {
      ...SearchBoard
    }
    op {
      from {
        ...User
      }
    }
  }

  fragment SearchPost on Post {
    id
    n
    from {
      id
    }
    board {
      ...SearchBoard
    }
    thread {
      ...SearchThread
    }
  }

  fragment SearchPostRef on PostRef {
    id
    post {
      ...SearchPost
    }
  }
`,q5=Ee`
  ${$P}
  query SearchByRef($id: String!, $post_n: BigInt!, $post_ref: String!) {
    threads(where: { board: $id, n: $post_n }) {
      ...SearchThread
    }
    posts(where: { from: $id, n: $post_n }) {
      ...SearchPost
    }
    postRef(id: $post_ref) {
      ...SearchPostRef
    }
  }
`,G5=Ee`
  ${$P}
  query SearchByRef(
    $id: String!
    $post_n: BigInt!
    $post_ref: String!
    $block: Int!
  ) {
    threads(where: { board: $id, n: $post_n }, block: { number: $block }) {
      ...Thread
    }
    posts(where: { from: $id, n: $post_n }, block: { number: $block }) {
      ...Post
    }
    postRef(id: $post_ref, block: { number: $block }) {
      ...PostRef
    }
  }
`,LC={query_ref:q5,query_ref_by_block:G5},K5=Ee`
  ${Gs}
  ${sn}
  ${Ii}
  
  query Thread($board: String!, $n: String!) {
    board(id: $board) {
      ...Board
    }
    posts(first: 1, where: {board: $board, n: $n}) {
      ...Post
    }
    threads(first: 1, where: {board: $board, n: $n}) {
      ...Thread
      replies(orderBy: n) {
        ...Post
      }
    }
  }
`,J5=Ee`
  ${Gs}
  ${sn}
  ${Ii}
  
  query Thread($board: String!, $n: String!, $block: Int!) {
    board(id: $board) {
      ...Board
    }
    posts(first: 1, where: {board: $board, n: $n}, block: {number: $block}) {
      ...Post
    }
    threads(first: 1, where: {board: $board, n: $n}, block: {number: $block}) {
      ...Thread
      replies(orderBy: n) {
        ...Post
      }
    }
  }
`;Ee`
  ${sn}

  query FavoriteThreads($ids: [String!]!, $block: Int!) {
    threads(orderBy: lastBumpedAt, orderDirection: desc, where: {id_in: $ids}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`;const Y5=Ee`
  ${sn}

  query FavoriteThreads($ids: [String!]!) {
    threads(orderBy: lastBumpedAt, orderDirection: desc, where: {id_in: $ids}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`;Ee`
  ${sn}

  query ThreadsListLatestBlock($block: Int!, $board: String!) {
    threads(orderBy: createdAt, orderDirection: desc, first: 10, where: {board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
    }
  }
`;Ee`
  ${sn}

  query ThreadsListLatest($board: String!) {
    threads(orderBy: createdAt, orderDirection: desc, first: 10, where: {board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
    }
  }
`;Ee`
  ${sn}

  query ThreadsListMostPopular($cutoff: Int!, $board: String!, $block: Int!) {
    threads(orderBy: replyCount, orderDirection: desc, first: 10, where: {lastBumpedAt_gt: $cutoff, board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
    }
  }
`;Ee`
  ${sn}

  query ThreadsListMostPopular($cutoff: Int!, $board: String!) {
    threads(orderBy: replyCount, orderDirection: desc, first: 10, where: {lastBumpedAt_gt: $cutoff, board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
    }
  }
`;const Z5=Ee`
  ${sn}
  
  query ThreadsTabs($cutoff: Int!, $block: Int!, $board: String = "", $limit: Int = 10) {
    mostPopular: threads(orderBy: replyCount, orderDirection: desc, first: $limit, where: {lastBumpedAt_gt: $cutoff, score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastBumped: threads(orderBy: lastBumpedAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastCreated: threads(orderBy: createdAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}, block: {number: $block}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`,X5=Ee`
  ${sn}
  
  query ThreadsTabs($cutoff: Int!, $board: String = "", $limit: Int = 10) {
    mostPopular: threads(orderBy: replyCount, orderDirection: desc, first: $limit, where: {lastBumpedAt_gt: $cutoff, score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastBumped: threads(orderBy: lastBumpedAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
    lastCreated: threads(orderBy: createdAt, orderDirection: desc, first: $limit, where: {score_gt: "900000000", board_starts_with: $board, board_ends_with: $board}) {
      ...Thread
      replies(first: 3, orderBy: n, orderDirection: desc) {
        ...Post
      }
    }
  }
`,eM=Ee`
  ${Zh}
  query User($address: String!) {
    admin(id: $address) {
      id
    }
    user(id: $address) {
      ...User
      jannies {
        board {
          id
        }
      }
    }
  }
`,fa=t=>{const{accounts:e}=Fn(),r=t??(e.length>0?e[0]:""),n=hr(eM,{variables:{address:r},skip:!r}),{loading:i,data:s}=n,u=k.useCallback(()=>{var c;return i||(c=s==null?void 0:s.admin)==null?void 0:c.id},[i,s]),a=k.useCallback(o=>{var f,d;return i?void 0:u()||((d=(f=s==null?void 0:s.user)==null?void 0:f.jannies)==null?void 0:d.filter(({board:p})=>(p==null?void 0:p.id)===o).length)},[u,i,s]);return{...n,isJannyOf:a,isAdmin:u}},UP=k.createContext([!1,()=>({})]),eg=()=>k.useContext(UP),tg=k.createContext(["blueboard",()=>({})]);class jo extends Error{}class tM extends jo{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class rM extends jo{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class nM extends jo{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Xf extends jo{}class VP extends jo{constructor(e){super(`Invalid unit ${e}`)}}class Wn extends jo{}class nu extends jo{constructor(){super("Zone is an abstract class")}}const ie="numeric",ki="short",vn="long",Im={year:ie,month:ie,day:ie},HP={year:ie,month:ki,day:ie},iM={year:ie,month:ki,day:ie,weekday:ki},zP={year:ie,month:vn,day:ie},WP={year:ie,month:vn,day:ie,weekday:vn},QP={hour:ie,minute:ie},qP={hour:ie,minute:ie,second:ie},GP={hour:ie,minute:ie,second:ie,timeZoneName:ki},KP={hour:ie,minute:ie,second:ie,timeZoneName:vn},JP={hour:ie,minute:ie,hourCycle:"h23"},YP={hour:ie,minute:ie,second:ie,hourCycle:"h23"},ZP={hour:ie,minute:ie,second:ie,hourCycle:"h23",timeZoneName:ki},XP={hour:ie,minute:ie,second:ie,hourCycle:"h23",timeZoneName:vn},eB={year:ie,month:ie,day:ie,hour:ie,minute:ie},tB={year:ie,month:ie,day:ie,hour:ie,minute:ie,second:ie},rB={year:ie,month:ki,day:ie,hour:ie,minute:ie},nB={year:ie,month:ki,day:ie,hour:ie,minute:ie,second:ie},sM={year:ie,month:ki,day:ie,weekday:ki,hour:ie,minute:ie},iB={year:ie,month:vn,day:ie,hour:ie,minute:ie,timeZoneName:ki},sB={year:ie,month:vn,day:ie,hour:ie,minute:ie,second:ie,timeZoneName:ki},uB={year:ie,month:vn,day:ie,weekday:vn,hour:ie,minute:ie,timeZoneName:vn},aB={year:ie,month:vn,day:ie,weekday:vn,hour:ie,minute:ie,second:ie,timeZoneName:vn};class Xh{get type(){throw new nu}get name(){throw new nu}get ianaName(){return this.name}get isUniversal(){throw new nu}offsetName(e,r){throw new nu}formatOffset(e,r){throw new nu}offset(e){throw new nu}equals(e){throw new nu}get isValid(){throw new nu}}let Pv=null;class rg extends Xh{static get instance(){return Pv===null&&(Pv=new rg),Pv}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return lB(e,r,n)}formatOffset(e,r){return bd(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let $0={};function uM(t){return $0[t]||($0[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),$0[t]}const aM={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function oM(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,u,a,o,c,f]=n;return[u,i,s,a,o,c,f]}function lM(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:s,value:u}=r[i],a=aM[s];s==="era"?n[a]=u:Be(a)||(n[a]=parseInt(u,10))}return n}let Kp={};class zs extends Xh{static create(e){return Kp[e]||(Kp[e]=new zs(e)),Kp[e]}static resetCache(){Kp={},$0={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=zs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return lB(e,r,n,this.name)}formatOffset(e,r){return bd(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=uM(this.name);let[i,s,u,a,o,c,f]=n.formatToParts?lM(n,r):oM(n,r);a==="BC"&&(i=-Math.abs(i)+1);const p=IE({year:i,month:s,day:u,hour:o===24?0:o,minute:c,second:f,millisecond:0});let m=+r;const w=m%1e3;return m-=w>=0?w:1e3+w,(p-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let MC={};function cM(t,e={}){const r=JSON.stringify([t,e]);let n=MC[r];return n||(n=new Intl.ListFormat(t,e),MC[r]=n),n}let ob={};function lb(t,e={}){const r=JSON.stringify([t,e]);let n=ob[r];return n||(n=new Intl.DateTimeFormat(t,e),ob[r]=n),n}let cb={};function fM(t,e={}){const r=JSON.stringify([t,e]);let n=cb[r];return n||(n=new Intl.NumberFormat(t,e),cb[r]=n),n}let fb={};function dM(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let s=fb[i];return s||(s=new Intl.RelativeTimeFormat(t,e),fb[i]=s),s}let ed=null;function hM(){return ed||(ed=new Intl.DateTimeFormat().resolvedOptions().locale,ed)}function pM(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=lb(t).resolvedOptions(),i=t}catch{const o=t.substring(0,r);n=lb(o).resolvedOptions(),i=o}const{numberingSystem:s,calendar:u}=n;return[i,s,u]}}function mM(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function yM(t){const e=[];for(let r=1;r<=12;r++){const n=ce.utc(2016,r,1);e.push(t(n))}return e}function gM(t){const e=[];for(let r=1;r<=7;r++){const n=ce.utc(2016,11,13+r);e.push(t(n))}return e}function Jp(t,e,r,n,i){const s=t.listingMode(r);return s==="error"?null:s==="en"?n(e):i(e)}function vM(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class AM{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...u}=n;if(!r||Object.keys(u).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=fM(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):jE(e,3);return Mt(r,this.padTo)}}}class bM{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const u=-1*(e.offset/60),a=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;e.offset!==0&&zs.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=lb(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class wM{constructor(e,r,n){this.opts={style:"long",...n},!r&&oB()&&(this.rtf=dM(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):LM(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}class pt{static fromOpts(e){return pt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,i=!1){const s=e||Lt.defaultLocale,u=s||(i?"en-US":hM()),a=r||Lt.defaultNumberingSystem,o=n||Lt.defaultOutputCalendar;return new pt(u,a,o,s)}static resetCache(){ed=null,ob={},cb={},fb={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return pt.create(e,r,n)}constructor(e,r,n,i){const[s,u,a]=pM(e);this.locale=s,this.numberingSystem=r||u||null,this.outputCalendar=n||a||null,this.intl=mM(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=vM(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:pt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1,n=!0){return Jp(this,e,n,dB,()=>{const i=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=yM(u=>this.extract(u,i,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1,n=!0){return Jp(this,e,n,mB,()=>{const i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=gM(u=>this.extract(u,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return Jp(this,void 0,e,()=>yB,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ce.utc(2016,11,13,9),ce.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return Jp(this,e,r,gB,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ce.utc(-40,1,1),ce.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),s=i.formatToParts(),u=s.find(a=>a.type.toLowerCase()===n);return u?u.value:null}numberFormatter(e={}){return new AM(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new bM(e,this.intl,r)}relFormatter(e={}){return new wM(this.intl,this.isEnglish(),e)}listFormatter(e={}){return cM(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Bv=null;class jr extends Xh{static get utcInstance(){return Bv===null&&(Bv=new jr(0)),Bv}static instance(e){return e===0?jr.utcInstance:new jr(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new jr(ig(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${bd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${bd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return bd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class EM extends Xh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Fu(t,e){if(Be(t)||t===null)return e;if(t instanceof Xh)return t;if(xM(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?rg.instance:r==="utc"||r==="gmt"?jr.utcInstance:jr.parseSpecifier(r)||zs.create(t)}else return co(t)?jr.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new EM(t)}let $C=()=>Date.now(),UC="system",VC=null,HC=null,zC=null,WC=60,QC;class Lt{static get now(){return $C}static set now(e){$C=e}static set defaultZone(e){UC=e}static get defaultZone(){return Fu(UC,rg.instance)}static get defaultLocale(){return VC}static set defaultLocale(e){VC=e}static get defaultNumberingSystem(){return HC}static set defaultNumberingSystem(e){HC=e}static get defaultOutputCalendar(){return zC}static set defaultOutputCalendar(e){zC=e}static get twoDigitCutoffYear(){return WC}static set twoDigitCutoffYear(e){WC=e%100}static get throwOnInvalid(){return QC}static set throwOnInvalid(e){QC=e}static resetCaches(){pt.resetCache(),zs.resetCache()}}function Be(t){return typeof t>"u"}function co(t){return typeof t=="number"}function ng(t){return typeof t=="number"&&t%1===0}function xM(t){return typeof t=="string"}function FM(t){return Object.prototype.toString.call(t)==="[object Date]"}function oB(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function CM(t){return Array.isArray(t)?t:[t]}function qC(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const s=[e(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function SM(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Hc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bs(t,e,r){return ng(t)&&t>=e&&t<=r}function DM(t,e){return t-e*Math.floor(t/e)}function Mt(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function vu(t){if(!(Be(t)||t===null||t===""))return parseInt(t,10)}function Sa(t){if(!(Be(t)||t===null||t===""))return parseFloat(t)}function NE(t){if(!(Be(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function jE(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function ep(t){return t%4===0&&(t%100!==0||t%400===0)}function Ad(t){return ep(t)?366:365}function Rm(t,e){const r=DM(e-1,12)+1,n=t+(e-r)/12;return r===2?ep(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function IE(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Lm(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function db(t){return t>99?t:t>Lt.twoDigitCutoffYear?1900+t:2e3+t}function lB(t,e,r,n=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const u={timeZoneName:e,...s},a=new Intl.DateTimeFormat(r,u).formatToParts(i).find(o=>o.type.toLowerCase()==="timezonename");return a?a.value:null}function ig(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function cB(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Wn(`Invalid unit value ${t}`);return e}function Mm(t,e){const r={};for(const n in t)if(Hc(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=cB(i)}return r}function bd(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Mt(r,2)}:${Mt(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Mt(r,2)}${Mt(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function sg(t){return SM(t,["hour","minute","second","millisecond"])}const kM=["January","February","March","April","May","June","July","August","September","October","November","December"],fB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],OM=["J","F","M","A","M","J","J","A","S","O","N","D"];function dB(t){switch(t){case"narrow":return[...OM];case"short":return[...fB];case"long":return[...kM];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hB=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pB=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_M=["M","T","W","T","F","S","S"];function mB(t){switch(t){case"narrow":return[..._M];case"short":return[...pB];case"long":return[...hB];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const yB=["AM","PM"],PM=["Before Christ","Anno Domini"],BM=["BC","AD"],TM=["B","A"];function gB(t){switch(t){case"narrow":return[...TM];case"short":return[...BM];case"long":return[...PM];default:return null}}function NM(t){return yB[t.hour<12?0:1]}function jM(t,e){return mB(e)[t.weekday-1]}function IM(t,e){return dB(e)[t.month-1]}function RM(t,e){return gB(e)[t.year<0?0:1]}function LM(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${i[t][0]}`;case-1:return d?"yesterday":`last ${i[t][0]}`;case 0:return d?"today":`this ${i[t][0]}`}}const u=Object.is(e,-0)||e<0,a=Math.abs(e),o=a===1,c=i[t],f=n?o?c[1]:c[2]||c[1]:o?i[t][0]:t;return u?`${a} ${f} ago`:`in ${a} ${f}`}function GC(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const MM={D:Im,DD:HP,DDD:zP,DDDD:WP,t:QP,tt:qP,ttt:GP,tttt:KP,T:JP,TT:YP,TTT:ZP,TTTT:XP,f:eB,ff:rB,fff:iB,ffff:uB,F:tB,FF:nB,FFF:sB,FFFF:aB};class Fr{static create(e,r={}){return new Fr(e,r)}static parseFormat(e){let r=null,n="",i=!1;const s=[];for(let u=0;u<e.length;u++){const a=e.charAt(u);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return MM[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).formatToParts()}formatInterval(e,r={}){return this.loc.dtFormatter(e.start,{...this.opts,...r}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return Mt(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(m,w)=>this.loc.extract(e,m,w),u=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",a=()=>n?NM(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(m,w)=>n?IM(e,m):s(w?{month:m}:{month:m,day:"numeric"},"month"),c=(m,w)=>n?jM(e,m):s(w?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),f=m=>{const w=Fr.macroTokenToFormatOpts(m);return w?this.formatWithSystemDefault(e,w):m},d=m=>n?RM(e,m):s({era:m},"era"),p=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(m)}};return GC(Fr.parseFormat(r),p)}formatDurationFromString(e,r){const n=o=>{switch(o[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=o=>c=>{const f=n(c);return f?this.num(o.get(f),c.length):c},s=Fr.parseFormat(r),u=s.reduce((o,{literal:c,val:f})=>c?o:o.concat(f),[]),a=e.shiftTo(...u.map(n).filter(o=>o));return GC(s,i(a))}}class xi{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const vB=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function nf(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function sf(...t){return e=>t.reduce(([r,n,i],s)=>{const[u,a,o]=s(e,i);return[{...r,...u},a||n,o]},[{},null,1]).slice(0,2)}function uf(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function AB(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=vu(e[r+i]);return[n,null,r+i]}}const bB=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,$M=`(?:${bB.source}?(?:\\[(${vB.source})\\])?)?`,RE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wB=RegExp(`${RE.source}${$M}`),LE=RegExp(`(?:T${wB.source})?`),UM=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,VM=/(\d{4})-?W(\d\d)(?:-?(\d))?/,HM=/(\d{4})-?(\d{3})/,zM=AB("weekYear","weekNumber","weekDay"),WM=AB("year","ordinal"),QM=/(\d{4})-(\d\d)-(\d\d)/,EB=RegExp(`${RE.source} ?(?:${bB.source}|(${vB.source}))?`),qM=RegExp(`(?: ${EB.source})?`);function Ml(t,e,r){const n=t[e];return Be(n)?r:vu(n)}function GM(t,e){return[{year:Ml(t,e),month:Ml(t,e+1,1),day:Ml(t,e+2,1)},null,e+3]}function af(t,e){return[{hours:Ml(t,e,0),minutes:Ml(t,e+1,0),seconds:Ml(t,e+2,0),milliseconds:NE(t[e+3])},null,e+4]}function tp(t,e){const r=!t[e]&&!t[e+1],n=ig(t[e+1],t[e+2]),i=r?null:jr.instance(n);return[{},i,e+3]}function rp(t,e){const r=t[e]?zs.create(t[e]):null;return[{},r,e+1]}const KM=RegExp(`^T?${RE.source}$`),JM=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function YM(t){const[e,r,n,i,s,u,a,o,c]=t,f=e[0]==="-",d=o&&o[0]==="-",p=(m,w=!1)=>m!==void 0&&(w||m&&f)?-m:m;return[{years:p(Sa(r)),months:p(Sa(n)),weeks:p(Sa(i)),days:p(Sa(s)),hours:p(Sa(u)),minutes:p(Sa(a)),seconds:p(Sa(o),o==="-0"),milliseconds:p(NE(c),d)}]}const ZM={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ME(t,e,r,n,i,s,u){const a={year:e.length===2?db(vu(e)):vu(e),month:fB.indexOf(r)+1,day:vu(n),hour:vu(i),minute:vu(s)};return u&&(a.second=vu(u)),t&&(a.weekday=t.length>3?hB.indexOf(t)+1:pB.indexOf(t)+1),a}const XM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function e$(t){const[,e,r,n,i,s,u,a,o,c,f,d]=t,p=ME(e,i,n,r,s,u,a);let m;return o?m=ZM[o]:c?m=0:m=ig(f,d),[p,new jr(m)]}function t$(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const r$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,n$=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,i$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function KC(t){const[,e,r,n,i,s,u,a]=t;return[ME(e,i,n,r,s,u,a),jr.utcInstance]}function s$(t){const[,e,r,n,i,s,u,a]=t;return[ME(e,a,r,n,i,s,u),jr.utcInstance]}const u$=nf(UM,LE),a$=nf(VM,LE),o$=nf(HM,LE),l$=nf(wB),xB=sf(GM,af,tp,rp),c$=sf(zM,af,tp,rp),f$=sf(WM,af,tp,rp),d$=sf(af,tp,rp);function h$(t){return uf(t,[u$,xB],[a$,c$],[o$,f$],[l$,d$])}function p$(t){return uf(t$(t),[XM,e$])}function m$(t){return uf(t,[r$,KC],[n$,KC],[i$,s$])}function y$(t){return uf(t,[JM,YM])}const g$=sf(af);function v$(t){return uf(t,[KM,g$])}const A$=nf(QM,qM),b$=nf(EB),w$=sf(af,tp,rp);function E$(t){return uf(t,[A$,xB],[b$,w$])}const x$="Invalid Duration",FB={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},F$={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...FB},On=146097/400,zo=146097/4800,C$={years:{quarters:4,months:12,weeks:On/7,days:On,hours:On*24,minutes:On*24*60,seconds:On*24*60*60,milliseconds:On*24*60*60*1e3},quarters:{months:3,weeks:On/28,days:On/4,hours:On*24/4,minutes:On*24*60/4,seconds:On*24*60*60/4,milliseconds:On*24*60*60*1e3/4},months:{weeks:zo/7,days:zo,hours:zo*24,minutes:zo*24*60,seconds:zo*24*60*60,milliseconds:zo*24*60*60*1e3},...FB},_a=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],S$=_a.slice(0).reverse();function iu(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ne(n)}function D$(t){return t<0?Math.floor(t):Math.ceil(t)}function CB(t,e,r,n,i){const s=t[i][r],u=e[r]/s,a=Math.sign(u)===Math.sign(n[i]),o=!a&&n[i]!==0&&Math.abs(u)<=1?D$(u):Math.trunc(u);n[i]+=o,e[r]-=o*s}function k$(t,e){S$.reduce((r,n)=>Be(e[n])?r:(r&&CB(t,e,r,e,n),n),null)}function O$(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class Ne{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?C$:F$;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||pt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return Ne.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Wn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Ne({values:Mm(e,Ne.normalizeUnit),loc:pt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(co(e))return Ne.fromMillis(e);if(Ne.isDuration(e))return e;if(typeof e=="object")return Ne.fromObject(e);throw new Wn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=y$(e);return n?Ne.fromObject(n,r):Ne.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=v$(e);return n?Ne.fromObject(n,r):Ne.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Wn("need to specify a reason the Duration is invalid");const n=e instanceof xi?e:new xi(e,r);if(Lt.throwOnInvalid)throw new nM(n);return new Ne({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new VP(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Fr.create(this.loc,n).formatDurationFromString(this,e):x$}toHuman(e={}){const r=_a.map(n=>{const i=this.values[n];return Be(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=jE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let s=n.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Ne.fromDurationLike(e),n={};for(const i of _a)(Hc(r.values,i)||Hc(this.values,i))&&(n[i]=r.get(i)+this.get(i));return iu(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=Ne.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=cB(e(this.values[n],n));return iu(this,{values:r},!0)}get(e){return this[Ne.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...Mm(e,Ne.normalizeUnit)};return iu(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const u={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return iu(this,u)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return k$(this.matrix,e),iu(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=O$(this.normalize().shiftToAll().toObject());return iu(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(u=>Ne.normalizeUnit(u));const r={},n={},i=this.toObject();let s;for(const u of _a)if(e.indexOf(u)>=0){s=u;let a=0;for(const c in n)a+=this.matrix[c][u]*n[c],n[c]=0;co(i[u])&&(a+=i[u]);const o=Math.trunc(a);r[u]=o,n[u]=(a*1e3-o*1e3)/1e3;for(const c in i)_a.indexOf(c)>_a.indexOf(u)&&CB(this.matrix,i,c,r,u)}else co(i[u])&&(n[u]=i[u]);for(const u in n)n[u]!==0&&(r[s]+=u===s?n[u]:n[u]/this.matrix[s][u]);return iu(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return iu(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of _a)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Wo="Invalid Interval";function _$(t,e){return!t||!t.isValid?kt.invalid("missing or invalid start"):!e||!e.isValid?kt.invalid("missing or invalid end"):e<t?kt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class kt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Wn("need to specify a reason the Interval is invalid");const n=e instanceof xi?e:new xi(e,r);if(Lt.throwOnInvalid)throw new rM(n);return new kt({invalid:n})}static fromDateTimes(e,r){const n=Tf(e),i=Tf(r),s=_$(n,i);return s??new kt({start:n,end:i})}static after(e,r){const n=Ne.fromDurationLike(r),i=Tf(e);return kt.fromDateTimes(i,i.plus(n))}static before(e,r){const n=Ne.fromDurationLike(r),i=Tf(e);return kt.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let s,u;try{s=ce.fromISO(n,r),u=s.isValid}catch{u=!1}let a,o;try{a=ce.fromISO(i,r),o=a.isValid}catch{o=!1}if(u&&o)return kt.fromDateTimes(s,a);if(u){const c=Ne.fromISO(i,r);if(c.isValid)return kt.after(s,c)}else if(o){const c=Ne.fromISO(n,r);if(c.isValid)return kt.before(a,c)}}return kt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?kt.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Tf).filter(u=>this.contains(u)).sort(),n=[];let{s:i}=this,s=0;for(;i<this.e;){const u=r[s]||this.e,a=+u>+this.e?this.e:u;n.push(kt.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(e){const r=Ne.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const u=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(o=>o*i));s=+a>+this.e?this.e:a,u.push(kt.fromDateTimes(n,s)),n=s,i+=1}return u}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:kt.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return kt.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],u)=>s?s.overlaps(u)||s.abutsStart(u)?[i,s.union(u)]:[i.concat([s]),u]:[i,u],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],s=e.map(o=>[{time:o.s,type:"s"},{time:o.e,type:"e"}]),u=Array.prototype.concat(...s),a=u.sort((o,c)=>o.time-c.time);for(const o of a)n+=o.type==="s"?1:-1,n===1?r=o.time:(r&&+r!=+o.time&&i.push(kt.fromDateTimes(r,o.time)),r=null);return kt.merge(i)}difference(...e){return kt.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Wo}toLocaleString(e=Im,r={}){return this.isValid?Fr.create(this.s.loc.clone(r),e).formatInterval(this):Wo}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Wo}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Wo}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Wo}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Wo}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Ne.invalid(this.invalidReason)}mapEndpoints(e){return kt.fromDateTimes(e(this.s),e(this.e))}}class Yp{static hasDST(e=Lt.defaultZone){const r=ce.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return zs.isValidZone(e)}static normalizeZone(e){return Fu(e,Lt.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||pt.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||pt.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||pt.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||pt.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return pt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return pt.create(r,null,"gregory").eras(e)}static features(){return{relative:oB()}}}function JC(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Ne.fromMillis(n).as("days"))}function P$(t,e,r){const n=[["years",(o,c)=>c.year-o.year],["quarters",(o,c)=>c.quarter-o.quarter+(c.year-o.year)*4],["months",(o,c)=>c.month-o.month+(c.year-o.year)*12],["weeks",(o,c)=>{const f=JC(o,c);return(f-f%7)/7}],["days",JC]],i={},s=t;let u,a;for(const[o,c]of n)r.indexOf(o)>=0&&(u=o,i[o]=c(t,e),a=s.plus(i),a>e?(i[o]--,t=s.plus(i)):t=a);return[t,i,a,u]}function B$(t,e,r,n){let[i,s,u,a]=P$(t,e,r);const o=e-i,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(u<e&&(u=i.plus({[a]:1})),u!==i&&(s[a]=(s[a]||0)+o/(u-i)));const f=Ne.fromObject(s,n);return c.length>0?Ne.fromMillis(o,n).shiftTo(...c).plus(f):f}const $E={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},YC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},T$=$E.hanidec.replace(/[\[|\]]/g,"").split("");function N$(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search($E.hanidec)!==-1)e+=T$.indexOf(t[r]);else for(const i in YC){const[s,u]=YC[i];n>=s&&n<=u&&(e+=n-s)}}return parseInt(e,10)}else return e}function ai({numberingSystem:t},e=""){return new RegExp(`${$E[t||"latn"]}${e}`)}const j$="missing Intl.DateTimeFormat.formatToParts support";function He(t,e=r=>r){return{regex:t,deser:([r])=>e(N$(r))}}const I$=String.fromCharCode(160),SB=`[ ${I$}]`,DB=new RegExp(SB,"g");function R$(t){return t.replace(/\./g,"\\.?").replace(DB,SB)}function ZC(t){return t.replace(/\./g,"").replace(DB," ").toLowerCase()}function oi(t,e){return t===null?null:{regex:RegExp(t.map(R$).join("|")),deser:([r])=>t.findIndex(n=>ZC(r)===ZC(n))+e}}function XC(t,e){return{regex:t,deser:([,r,n])=>ig(r,n),groups:e}}function Zp(t){return{regex:t,deser:([e])=>e}}function L$(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function M$(t,e){const r=ai(e),n=ai(e,"{2}"),i=ai(e,"{3}"),s=ai(e,"{4}"),u=ai(e,"{6}"),a=ai(e,"{1,2}"),o=ai(e,"{1,3}"),c=ai(e,"{1,6}"),f=ai(e,"{1,9}"),d=ai(e,"{2,4}"),p=ai(e,"{4,6}"),m=F=>({regex:RegExp(L$(F.val)),deser:([E])=>E,literal:!0}),b=(F=>{if(t.literal)return m(F);switch(F.val){case"G":return oi(e.eras("short",!1),0);case"GG":return oi(e.eras("long",!1),0);case"y":return He(c);case"yy":return He(d,db);case"yyyy":return He(s);case"yyyyy":return He(p);case"yyyyyy":return He(u);case"M":return He(a);case"MM":return He(n);case"MMM":return oi(e.months("short",!0,!1),1);case"MMMM":return oi(e.months("long",!0,!1),1);case"L":return He(a);case"LL":return He(n);case"LLL":return oi(e.months("short",!1,!1),1);case"LLLL":return oi(e.months("long",!1,!1),1);case"d":return He(a);case"dd":return He(n);case"o":return He(o);case"ooo":return He(i);case"HH":return He(n);case"H":return He(a);case"hh":return He(n);case"h":return He(a);case"mm":return He(n);case"m":return He(a);case"q":return He(a);case"qq":return He(n);case"s":return He(a);case"ss":return He(n);case"S":return He(o);case"SSS":return He(i);case"u":return Zp(f);case"uu":return Zp(a);case"uuu":return He(r);case"a":return oi(e.meridiems(),0);case"kkkk":return He(s);case"kk":return He(d,db);case"W":return He(a);case"WW":return He(n);case"E":case"c":return He(r);case"EEE":return oi(e.weekdays("short",!1,!1),1);case"EEEE":return oi(e.weekdays("long",!1,!1),1);case"ccc":return oi(e.weekdays("short",!0,!1),1);case"cccc":return oi(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return XC(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return XC(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Zp(/[a-z_+-/]{1,256}?/i);case" ":return Zp(/[^\S\n\r]/);default:return m(F)}})(t)||{invalidReason:j$};return b.token=t,b}const $$={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function U$(t,e){const{type:r,value:n}=t;if(r==="literal"){const u=/^\s+$/.test(n);return{literal:!u,val:u?" ":n}}const i=e[r];let s=$$[r];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function V$(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function H$(t,e,r){const n=t.match(e);if(n){const i={};let s=1;for(const u in r)if(Hc(r,u)){const a=r[u],o=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+o))),s+=o}return[n,i]}else return[n,{}]}function z$(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Be(t.z)||(r=zs.create(t.z)),Be(t.Z)||(r||(r=new jr(t.Z)),n=t.Z),Be(t.q)||(t.M=(t.q-1)*3+1),Be(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Be(t.u)||(t.S=NE(t.u)),[Object.keys(t).reduce((s,u)=>{const a=e(u);return a&&(s[a]=t[u]),s},{}),r,n]}let Tv=null;function W$(){return Tv||(Tv=ce.fromMillis(1555555555555)),Tv}function Q$(t,e){if(t.literal)return t;const r=Fr.macroTokenToFormatOpts(t.val),n=_B(r,e);return n==null||n.includes(void 0)?t:n}function kB(t,e){return Array.prototype.concat(...t.map(r=>Q$(r,e)))}function OB(t,e,r){const n=kB(Fr.parseFormat(r),t),i=n.map(u=>M$(u,t)),s=i.find(u=>u.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{const[u,a]=V$(i),o=RegExp(u,"i"),[c,f]=H$(e,o,a),[d,p,m]=f?z$(f):[null,null,void 0];if(Hc(f,"a")&&Hc(f,"H"))throw new Xf("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:o,rawMatches:c,matches:f,result:d,zone:p,specificOffset:m}}}function q$(t,e,r){const{result:n,zone:i,specificOffset:s,invalidReason:u}=OB(t,e,r);return[n,i,s,u]}function _B(t,e){return t?Fr.create(e,t).formatDateTimeParts(W$()).map(i=>U$(i,t)):null}const PB=[0,31,59,90,120,151,181,212,243,273,304,334],BB=[0,31,60,91,121,152,182,213,244,274,305,335];function qn(t,e){return new xi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function TB(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function NB(t,e,r){return r+(ep(t)?BB:PB)[e-1]}function jB(t,e){const r=ep(t)?BB:PB,n=r.findIndex(s=>s<e),i=e-r[n];return{month:n+1,day:i}}function hb(t){const{year:e,month:r,day:n}=t,i=NB(e,r,n),s=TB(e,r,n);let u=Math.floor((i-s+10)/7),a;return u<1?(a=e-1,u=Lm(a)):u>Lm(e)?(a=e+1,u=1):a=e,{weekYear:a,weekNumber:u,weekday:s,...sg(t)}}function eS(t){const{weekYear:e,weekNumber:r,weekday:n}=t,i=TB(e,1,4),s=Ad(e);let u=r*7+n-i-3,a;u<1?(a=e-1,u+=Ad(a)):u>s?(a=e+1,u-=Ad(e)):a=e;const{month:o,day:c}=jB(a,u);return{year:a,month:o,day:c,...sg(t)}}function Nv(t){const{year:e,month:r,day:n}=t,i=NB(e,r,n);return{year:e,ordinal:i,...sg(t)}}function tS(t){const{year:e,ordinal:r}=t,{month:n,day:i}=jB(e,r);return{year:e,month:n,day:i,...sg(t)}}function G$(t){const e=ng(t.weekYear),r=Bs(t.weekNumber,1,Lm(t.weekYear)),n=Bs(t.weekday,1,7);return e?r?n?!1:qn("weekday",t.weekday):qn("week",t.week):qn("weekYear",t.weekYear)}function K$(t){const e=ng(t.year),r=Bs(t.ordinal,1,Ad(t.year));return e?r?!1:qn("ordinal",t.ordinal):qn("year",t.year)}function IB(t){const e=ng(t.year),r=Bs(t.month,1,12),n=Bs(t.day,1,Rm(t.year,t.month));return e?r?n?!1:qn("day",t.day):qn("month",t.month):qn("year",t.year)}function RB(t){const{hour:e,minute:r,second:n,millisecond:i}=t,s=Bs(e,0,23)||e===24&&r===0&&n===0&&i===0,u=Bs(r,0,59),a=Bs(n,0,59),o=Bs(i,0,999);return s?u?a?o?!1:qn("millisecond",i):qn("second",n):qn("minute",r):qn("hour",e)}const jv="Invalid DateTime",rS=864e13;function Xp(t){return new xi("unsupported zone",`the zone "${t.name}" is not supported`)}function Iv(t){return t.weekData===null&&(t.weekData=hb(t.c)),t.weekData}function Pf(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ce({...r,...e,old:r})}function LB(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function nS(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function U0(t,e,r){return LB(IE(t),e,r)}function iS(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:i,day:Math.min(t.c.day,Rm(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},u=Ne.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=IE(s);let[o,c]=LB(a,r,t.zone);return u!==0&&(o+=u,c=t.zone.offset(o)),{ts:o,o:c}}function Bf(t,e,r,n,i,s){const{setZone:u,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const o=e||a,c=ce.fromObject(t,{...r,zone:o,specificOffset:s});return u?c:c.setZone(a)}else return ce.invalid(new xi("unparsable",`the input "${i}" can't be parsed as ${n}`))}function e0(t,e,r=!0){return t.isValid?Fr.create(pt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Rv(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=Mt(t.c.year,r?6:4),e?(n+="-",n+=Mt(t.c.month),n+="-",n+=Mt(t.c.day)):(n+=Mt(t.c.month),n+=Mt(t.c.day)),n}function sS(t,e,r,n,i,s){let u=Mt(t.c.hour);return e?(u+=":",u+=Mt(t.c.minute),(t.c.second!==0||!r)&&(u+=":")):u+=Mt(t.c.minute),(t.c.second!==0||!r)&&(u+=Mt(t.c.second),(t.c.millisecond!==0||!n)&&(u+=".",u+=Mt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?u+="Z":t.o<0?(u+="-",u+=Mt(Math.trunc(-t.o/60)),u+=":",u+=Mt(Math.trunc(-t.o%60))):(u+="+",u+=Mt(Math.trunc(t.o/60)),u+=":",u+=Mt(Math.trunc(t.o%60)))),s&&(u+="["+t.zone.ianaName+"]"),u}const MB={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},J$={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Y$={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$B=["year","month","day","hour","minute","second","millisecond"],Z$=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],X$=["year","ordinal","hour","minute","second","millisecond"];function uS(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new VP(t);return e}function aS(t,e){const r=Fu(e.zone,Lt.defaultZone),n=pt.fromObject(e),i=Lt.now();let s,u;if(Be(t.year))s=i;else{for(const c of $B)Be(t[c])&&(t[c]=MB[c]);const a=IB(t)||RB(t);if(a)return ce.invalid(a);const o=r.offset(i);[s,u]=U0(t,o,r)}return new ce({ts:s,zone:r,loc:n,o:u})}function oS(t,e,r){const n=Be(r.round)?!0:r.round,i=(u,a)=>(u=jE(u,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(u,a)),s=u=>r.calendary?e.hasSame(t,u)?0:e.startOf(u).diff(t.startOf(u),u).get(u):e.diff(t,u).get(u);if(r.unit)return i(s(r.unit),r.unit);for(const u of r.units){const a=s(u);if(Math.abs(a)>=1)return i(a,u)}return i(t>e?-0:0,r.units[r.units.length-1])}function lS(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class ce{constructor(e){const r=e.zone||Lt.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new xi("invalid input"):null)||(r.isValid?null:Xp(r));this.ts=Be(e.ts)?Lt.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,s]=[e.old.c,e.old.o];else{const a=r.offset(this.ts);i=nS(this.ts,a),n=Number.isNaN(i.year)?new xi("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=e.loc||pt.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ce({})}static local(){const[e,r]=lS(arguments),[n,i,s,u,a,o,c]=r;return aS({year:n,month:i,day:s,hour:u,minute:a,second:o,millisecond:c},e)}static utc(){const[e,r]=lS(arguments),[n,i,s,u,a,o,c]=r;return e.zone=jr.utcInstance,aS({year:n,month:i,day:s,hour:u,minute:a,second:o,millisecond:c},e)}static fromJSDate(e,r={}){const n=FM(e)?e.valueOf():NaN;if(Number.isNaN(n))return ce.invalid("invalid input");const i=Fu(r.zone,Lt.defaultZone);return i.isValid?new ce({ts:n,zone:i,loc:pt.fromObject(r)}):ce.invalid(Xp(i))}static fromMillis(e,r={}){if(co(e))return e<-rS||e>rS?ce.invalid("Timestamp out of range"):new ce({ts:e,zone:Fu(r.zone,Lt.defaultZone),loc:pt.fromObject(r)});throw new Wn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(co(e))return new ce({ts:e*1e3,zone:Fu(r.zone,Lt.defaultZone),loc:pt.fromObject(r)});throw new Wn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Fu(r.zone,Lt.defaultZone);if(!n.isValid)return ce.invalid(Xp(n));const i=Lt.now(),s=Be(r.specificOffset)?n.offset(i):r.specificOffset,u=Mm(e,uS),a=!Be(u.ordinal),o=!Be(u.year),c=!Be(u.month)||!Be(u.day),f=o||c,d=u.weekYear||u.weekNumber,p=pt.fromObject(r);if((f||a)&&d)throw new Xf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new Xf("Can't mix ordinal dates with month/day");const m=d||u.weekday&&!f;let w,b,F=nS(i,s);m?(w=Z$,b=J$,F=hb(F)):a?(w=X$,b=Y$,F=Nv(F)):(w=$B,b=MB);let E=!1;for(const h of w){const v=u[h];Be(v)?E?u[h]=b[h]:u[h]=F[h]:E=!0}const A=m?G$(u):a?K$(u):IB(u),x=A||RB(u);if(x)return ce.invalid(x);const C=m?eS(u):a?tS(u):u,[S,O]=U0(C,s,n),g=new ce({ts:S,zone:n,o:O,loc:p});return u.weekday&&f&&e.weekday!==g.weekday?ce.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${g.toISO()}`):g}static fromISO(e,r={}){const[n,i]=h$(e);return Bf(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=p$(e);return Bf(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=m$(e);return Bf(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Be(e)||Be(r))throw new Wn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,u=pt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,o,c,f]=q$(u,e,r);return f?ce.invalid(f):Bf(a,o,n,`format ${r}`,e,c)}static fromString(e,r,n={}){return ce.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=E$(e);return Bf(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Wn("need to specify a reason the DateTime is invalid");const n=e instanceof xi?e:new xi(e,r);if(Lt.throwOnInvalid)throw new tM(n);return new ce({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=_B(e,pt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return kB(Fr.parseFormat(e),pt.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Iv(this).weekYear:NaN}get weekNumber(){return this.isValid?Iv(this).weekNumber:NaN}get weekday(){return this.isValid?Iv(this).weekday:NaN}get ordinal(){return this.isValid?Nv(this.c).ordinal:NaN}get monthShort(){return this.isValid?Yp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Yp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Yp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Yp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return ep(this.year)}get daysInMonth(){return Rm(this.year,this.month)}get daysInYear(){return this.isValid?Ad(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lm(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=Fr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(jr.instance(e),r)}toLocal(){return this.setZone(Lt.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Fu(e,Lt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const s=e.offset(this.ts),u=this.toObject();[i]=U0(u,s,e)}return Pf(this,{ts:i,zone:e})}else return ce.invalid(Xp(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Pf(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=Mm(e,uS),n=!Be(r.weekYear)||!Be(r.weekNumber)||!Be(r.weekday),i=!Be(r.ordinal),s=!Be(r.year),u=!Be(r.month)||!Be(r.day),a=s||u,o=r.weekYear||r.weekNumber;if((a||i)&&o)throw new Xf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&i)throw new Xf("Can't mix ordinal dates with month/day");let c;n?c=eS({...hb(this.c),...r}):Be(r.ordinal)?(c={...this.toObject(),...r},Be(r.day)&&(c.day=Math.min(Rm(c.year,c.month),c.day))):c=tS({...Nv(this.c),...r});const[f,d]=U0(c,this.o,this.zone);return Pf(this,{ts:f,o:d})}plus(e){if(!this.isValid)return this;const r=Ne.fromDurationLike(e);return Pf(this,iS(this,r))}minus(e){if(!this.isValid)return this;const r=Ne.fromDurationLike(e).negate();return Pf(this,iS(this,r))}startOf(e){if(!this.isValid)return this;const r={},n=Ne.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Fr.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):jv}toLocaleString(e=Im,r={}){return this.isValid?Fr.create(this.loc.clone(r),e).formatDateTime(this):jv}toLocaleParts(e={}){return this.isValid?Fr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const u=e==="extended";let a=Rv(this,u);return a+="T",a+=sS(this,u,r,n,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?Rv(this,e==="extended"):null}toISOWeekDate(){return e0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:u="extended"}={}){return this.isValid?(i?"T":"")+sS(this,u==="extended",r,e,n,s):null}toRFC2822(){return e0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return e0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Rv(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),e0(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():jv}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Ne.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=CM(r).map(Ne.normalizeUnit),u=e.valueOf()>this.valueOf(),a=u?this:e,o=u?e:this,c=B$(a,o,s,i);return u?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(ce.now(),e,r)}until(e){return this.isValid?kt.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||ce.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),oS(r,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?oS(e.base||ce.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ce.isDateTime))throw new Wn("min requires all arguments be DateTimes");return qC(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(ce.isDateTime))throw new Wn("max requires all arguments be DateTimes");return qC(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,u=pt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return OB(u,e,r)}static fromStringExplain(e,r,n={}){return ce.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return Im}static get DATE_MED(){return HP}static get DATE_MED_WITH_WEEKDAY(){return iM}static get DATE_FULL(){return zP}static get DATE_HUGE(){return WP}static get TIME_SIMPLE(){return QP}static get TIME_WITH_SECONDS(){return qP}static get TIME_WITH_SHORT_OFFSET(){return GP}static get TIME_WITH_LONG_OFFSET(){return KP}static get TIME_24_SIMPLE(){return JP}static get TIME_24_WITH_SECONDS(){return YP}static get TIME_24_WITH_SHORT_OFFSET(){return ZP}static get TIME_24_WITH_LONG_OFFSET(){return XP}static get DATETIME_SHORT(){return eB}static get DATETIME_SHORT_WITH_SECONDS(){return tB}static get DATETIME_MED(){return rB}static get DATETIME_MED_WITH_SECONDS(){return nB}static get DATETIME_MED_WITH_WEEKDAY(){return sM}static get DATETIME_FULL(){return iB}static get DATETIME_FULL_WITH_SECONDS(){return sB}static get DATETIME_HUGE(){return uB}static get DATETIME_HUGE_WITH_SECONDS(){return aB}}function Tf(t){if(ce.isDateTime(t))return t;if(t&&t.valueOf&&co(t.valueOf()))return ce.fromJSDate(t);if(t&&typeof t=="object")return ce.fromObject(t);throw new Wn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const $l={contract:{address:"0x5a139ee9f56c4F24240aF366807490C171922b0E".toLowerCase()},subgraph:{endpoint:"https://api.thegraph.com/subgraphs/name/dchan-network/dchan-alpha-0"},ipfs:{endpoint:"https://ipfs.4dchan.org/ipfs/"},content_view:{page_size:25,board_default_view_mode:"catalog",board_sort_threads_by:"lastBumpedAt",board_sort_direction:"desc"},content_filter:{score_threshold:1,show_below_threshold:!1},autorefresh:{enabled:!0,seconds:10}},UB=new o5({uri:$l.subgraph.endpoint,cache:new r5}),VB="%[a-f0-9]{2}",cS=new RegExp("("+VB+")|([^%]+?)","gi"),fS=new RegExp("("+VB+")+","gi");function pb(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],pb(r),pb(n))}function eU(t){try{return decodeURIComponent(t)}catch{let e=t.match(cS)||[];for(let r=1;r<e.length;r++)t=pb(e,r).join(""),e=t.match(cS)||[];return t}}function tU(t){const e={"%FE%FF":"","%FF%FE":""};let r=fS.exec(t);for(;r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{const i=eU(r[0]);i!==r[0]&&(e[r[0]]=i)}r=fS.exec(t)}e["%C2"]="";const n=Object.keys(e);for(const i of n)t=t.replace(new RegExp(i,"g"),e[i]);return t}function rU(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return tU(t)}}function HB(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const r=t.indexOf(e);return r===-1?[]:[t.slice(0,r),t.slice(r+e.length)]}function nU(t,e){const r={};if(Array.isArray(e))for(const n of e){const i=Object.getOwnPropertyDescriptor(t,n);i!=null&&i.enumerable&&Object.defineProperty(r,n,i)}else for(const n of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,n);if(i.enumerable){const s=t[n];e(n,s,t)&&Object.defineProperty(r,n,i)}}return r}const iU=t=>t==null,sU=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),mb=Symbol("encodeFragmentIdentifier");function uU(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[It(e,t),"[",i,"]"].join("")]:[...r,[It(e,t),"[",It(i,t),"]=",It(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[It(e,t),"[]"].join("")]:[...r,[It(e,t),"[]=",It(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[It(e,t),":list="].join("")]:[...r,[It(e,t),":list=",It(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[It(r,t),e,It(i,t)].join("")]:[[n,It(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,It(e,t)]:[...r,[It(e,t),"=",It(n,t)].join("")]}}function aU(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"comma":case"separator":return(r,n,i)=>{const s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),u=typeof n=="string"&&!s&&ps(n,t).includes(t.arrayFormatSeparator);n=u?ps(n,t):n;const a=s||u?n.split(t.arrayFormatSeparator).map(o=>ps(o,t)):n===null?n:ps(n,t);i[r]=a};case"bracket-separator":return(r,n,i)=>{const s=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!s){i[r]=n&&ps(n,t);return}const u=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>ps(a,t));if(i[r]===void 0){i[r]=u;return}i[r]=[...i[r],...u]};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[...[i[r]].flat(),n]}}}function zB(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function It(t,e){return e.encode?e.strict?sU(t):encodeURIComponent(t):t}function ps(t,e){return e.decode?rU(t):t}function WB(t){return Array.isArray(t)?t.sort():typeof t=="object"?WB(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function QB(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function oU(t){let e="";const r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function dS(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function UE(t){t=QB(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function VE(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},zB(e.arrayFormatSeparator);const r=aU(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(const i of t.split("&")){if(i==="")continue;const s=e.decode?i.replace(/\+/g," "):i;let[u,a]=HB(s,"=");u===void 0&&(u=s),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:ps(a,e),r(ps(u,e),a,n)}for(const[i,s]of Object.entries(n))if(typeof s=="object"&&s!==null)for(const[u,a]of Object.entries(s))s[u]=dS(a,e);else n[i]=dS(s,e);return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{const u=n[s];return u&&typeof u=="object"&&!Array.isArray(u)?i[s]=WB(u):i[s]=u,i},Object.create(null))}function qB(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},zB(e.arrayFormatSeparator);const r=u=>e.skipNull&&iU(t[u])||e.skipEmptyString&&t[u]==="",n=uU(e),i={};for(const[u,a]of Object.entries(t))r(u)||(i[u]=a);const s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(u=>{const a=t[u];return a===void 0?"":a===null?It(u,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?It(u,e)+"[]":a.reduce(n(u),[]).join("&"):It(u,e)+"="+It(a,e)}).filter(u=>u.length>0).join("&")}function GB(t,e){var i;e={decode:!0,...e};let[r,n]=HB(t,"#");return r===void 0&&(r=t),{url:((i=r==null?void 0:r.split("?"))==null?void 0:i[0])??"",query:VE(UE(t),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:ps(n,e)}:{}}}function KB(t,e){e={encode:!0,strict:!0,[mb]:!0,...e};const r=QB(t.url).split("?")[0]||"",n=UE(t.url),i={...VE(n,{sort:!1}),...t.query};let s=qB(i,e);s&&(s=`?${s}`);let u=oU(t.url);if(t.fragmentIdentifier){const a=new URL(r);a.hash=t.fragmentIdentifier,u=e[mb]?a.hash:`#${t.fragmentIdentifier}`}return`${r}${s}${u}`}function JB(t,e,r){r={parseFragmentIdentifier:!0,[mb]:!1,...r};const{url:n,query:i,fragmentIdentifier:s}=GB(t,r);return KB({url:n,query:nU(i,e),fragmentIdentifier:s},r)}function lU(t,e,r){const n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return JB(t,n,r)}const of=Object.freeze(Object.defineProperty({__proto__:null,exclude:lU,extract:UE,parse:VE,parseUrl:GB,pick:JB,stringify:qB,stringifyUrl:KB},Symbol.toStringTag,{value:"Module"})),YB=k.createContext({firstBlock:void 0,lastBlock:void 0,currentBlock:void 0,nextBlock:void 0,travelToBlock:()=>({}),travelToDateTime:()=>({}),travelToBlockNumber:()=>({}),travelToPreviousBlock:()=>({}),travelToNextBlock:()=>({}),travelToPresent:()=>({}),travelToBeginning:()=>({}),isTimeTraveling:!1,timeTraveledToBlockNumber:0,timeTraveledToDateTime:ce.now(),isPlayback:!1,setIsPlayback:()=>({}),nextBlockPlaybackAt:void 0,currentBlockNumber:void 0});function cU(t,e){return t.query({query:D5,variables:{timestampMin:`${e==null?void 0:e.toSeconds().toFixed(0)}`,timestampMax:`${(((e==null?void 0:e.toSeconds())||0)+1e6).toFixed(0)}`}})}function fU(t,e){return t.query({query:k5,variables:{number:e.toString()}})}function dU(t,e){return t.query({query:_5,variables:{number:e}})}function hS(t,e){return t.query({query:O5,variables:{number:e}})}const hU=()=>{var e,r;const t=hr(P5,{pollInterval:1e4});return{firstBlock:(e=t.data)==null?void 0:e.first[0],lastBlock:(r=t.data)==null?void 0:r.last[0]}},pU=({children:t})=>{const e=UB,{firstBlock:r,lastBlock:n}=hU(),[i,s]=k.useState(),[u,a]=k.useState(),[o,c]=k.useState(),[f,d]=k.useState(),[p,m]=k.useState(!1),[w,b]=k.useState(!1),[F,E]=k.useState(),A=Vr(),x=Ni();k.useEffect(()=>{i?(c(Number(i==null?void 0:i.number)),d(ce.fromSeconds(Number(i==null?void 0:i.timestamp))),m(!0)):(c(void 0),d(void 0),m(!1))},[i,n,c,d,m]);const C=k.useCallback(L=>{var M,T;const H=(T=(M=L.data)==null?void 0:M.blocks)==null?void 0:T[0];H&&s(H)},[s]),S=k.useCallback(()=>{r&&s(r)},[r,s]),O=k.useCallback(()=>{s(void 0)},[s]),g=k.useCallback(L=>{cU(e,L).then(C)},[C,e]),h=k.useCallback(L=>{s(L),g(ce.fromSeconds(parseInt(L.timestamp)))},[s,g]),v=k.useCallback(L=>{L?fU(e,L).then(C):O()},[C,O,e]),y=k.useCallback(()=>{const L=i||n;L&&dU(e,L.number).then(C)},[C,i,n,e]),D=k.useCallback(()=>{i!=null&&i.number&&hS(e,i.number).then(C)},[C,i,e]);k.useEffect(()=>{const{pathname:L}=x;let{search:H}=x;const M=L+H;i?H=H.match(/[?&]block=/)?H.replace(/([?&]block=)(\d)+/,`$1${i.number}`):H.includes("?")?`${H}&block=${i.number}`:`?block=${i.number}`:H=H.replace(/[?&]block=(\d)+/,"");const T=L+H;T!==M&&A(T,{replace:!0})},[A,i,x]),k.useEffect(()=>{const L=of.parse(x.search),H=parseInt(`${L.block}`)||void 0;H&&v(H)},[x,v]),k.useEffect(()=>{w&&i&&hS(e,i.number).then(L=>{var M,T;const H=(T=(M=L.data)==null?void 0:M.blocks)==null?void 0:T[0];a(H)})},[w,i,e]),k.useEffect(()=>{let L;if(w&&p&&i&&u){const H=Math.min(10,Number(u.timestamp)-Number(i.timestamp))*1e3;E(new Date().getTime()+H),H&&(L=setTimeout(D,H))}return()=>{L&&clearTimeout(L)}},[p,w,i,u,D]);const[P,N]=k.useState();k.useEffect(()=>{N(Number((i==null?void 0:i.number)||(n==null?void 0:n.number)))},[i,n]);const B={firstBlock:r,lastBlock:n,currentBlock:i,nextBlock:u,travelToBlock:h,travelToDateTime:g,travelToBlockNumber:v,travelToPreviousBlock:y,travelToNextBlock:D,travelToPresent:O,travelToBeginning:S,isTimeTraveling:p,timeTraveledToBlockNumber:o,timeTraveledToDateTime:f,isPlayback:w,setIsPlayback:b,nextBlockPlaybackAt:F,currentBlockNumber:P};return l.jsx(YB.Provider,{value:B,children:t})},mU="6.6.0";function yU(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Br(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function we(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&yU(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function bl(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(bl).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return bl(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${bl(r)}: ${bl(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function is(t,e){return t&&t.code===e}function HE(t){return is(t,"CALL_EXCEPTION")}function Zt(t,e,r){{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${bl(r)}`);for(const s in r){const u=r[s];i.push(s+"="+bl(u))}}i.push(`code=${e}`),i.push(`version=${mU}`),i.length&&(t+=" ("+i.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return we(n,{code:e}),r&&Object.assign(n,r),n}function Y(t,e,r,n){if(!t)throw Zt(e,r,n)}function z(t,e,r,n){Y(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function ZB(t,e,r){r==null&&(r=""),r&&(r=": "+r),Y(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Y(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const gU=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const r=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(r!==n)throw new Error("broken")}t.push(e)}catch{}return t},[]);function vU(t){Y(gU.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function np(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),Y(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function XB(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}z(!1,"invalid BytesLike value",e||"value",t)}function Te(t,e){return XB(t,e,!1)}function Zr(t,e){return XB(t,e,!0)}function Ft(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function AU(t){return Ft(t,!0)||t instanceof Uint8Array}const pS="0123456789abcdef";function ye(t){const e=Te(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=pS[(i&240)>>4]+pS[i&15]}return r}function zt(t){return"0x"+t.map(e=>ye(e).substring(2)).join("")}function Ul(t){return Ft(t,!0)?(t.length-2)/2:Te(t).length}function Ot(t,e,r){const n=Te(t);return r!=null&&r>n.length&&Y(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ye(n.slice(e??0,r??n.length))}function bU(t,e,r){const n=Te(t);Y(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),ye(i)}function Eo(t,e){return bU(t,e,!0)}const ug=BigInt(0),wi=BigInt(1),wl=9007199254740991;function $m(t,e){const r=ag(t,"value"),n=BigInt(De(e,"width"));if(Y(r>>n===ug,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-wi){const i=(wi<<n)-wi;return-((~r&i)+wi)}return r}function eT(t,e){let r=Ae(t,"value");const n=BigInt(De(e,"width")),i=wi<<n-wi;if(r<ug){r=-r,Y(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(wi<<n)-wi;return(~r&s)+wi}else Y(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function La(t,e){const r=ag(t,"value"),n=BigInt(De(e,"bits"));return r&(wi<<n)-wi}function Ae(t,e){switch(typeof t){case"bigint":return t;case"number":return z(Number.isInteger(t),"underflow",e||"value",t),z(t>=-wl&&t<=wl,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){z(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}z(!1,"invalid BigNumberish value",e||"value",t)}function ag(t,e){const r=Ae(t,e);return Y(r>=ug,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const mS="0123456789abcdef";function og(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=mS[r>>4],e+=mS[r&15];return BigInt(e)}return Ae(t)}function De(t,e){switch(typeof t){case"bigint":return z(t>=-wl&&t<=wl,"overflow",e||"value",t),Number(t);case"number":return z(Number.isInteger(t),"underflow",e||"value",t),z(t>=-wl&&t<=wl,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return De(BigInt(t),e)}catch(r){z(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}z(!1,"invalid numeric value",e||"value",t)}function wU(t){return De(og(t))}function da(t,e){let n=ag(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=De(e,"width");for(Y(i*2>=n.length,`value exceeds width (${i} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function pn(t){const e=ag(t,"value");if(e===ug)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function El(t){let e=ye(AU(t)?t:pn(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const EU="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const yS=BigInt(58);function xU(t){let e=og(Te(t)),r="";for(;e;)r=EU[Number(e%yS)]+r,e/=yS;return r}function FU(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Te(e)}function CU(t){const e=Te(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var Kl;class tT{constructor(e,r,n){W(this,"filter");W(this,"emitter");q(this,Kl,void 0);$(this,Kl,r),we(this,{emitter:e,filter:n})}async removeListener(){_(this,Kl)!=null&&await this.emitter.off(this.filter,_(this,Kl))}}Kl=new WeakMap;function SU(t,e,r,n,i){z(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function rT(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let u=e+1;u<r.length&&r[u]>>6===2;u++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function DU(t,e,r,n,i){return t==="OVERLONG"?(z(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),rT(t,e,r))}const kU=Object.freeze({error:SU,ignore:rT,replace:DU});function OU(t,e){e==null&&(e=kU.error);const r=Te(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(!(s>>7)){n.push(s);continue}let u=null,a=null;if((s&224)===192)u=1,a=127;else if((s&240)===224)u=2,a=2047;else if((s&248)===240)u=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+u>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let o=s&(1<<8-u-1)-1;for(let c=0;c<u;c++){let f=r[i];if((f&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),o=null;break}o=o<<6|f&63,i++}if(o!==null){if(o>1114111){i+=e("OUT_OF_RANGE",i-1-u,r,n,o);continue}if(o>=55296&&o<=57343){i+=e("UTF16_SURROGATE",i-1-u,r,n,o);continue}if(o<=a){i+=e("OVERLONG",i-1-u,r,n,o);continue}n.push(o)}}return n}function Rs(t,e){e!=null&&(vU(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);z(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const u=65536+((i&1023)<<10)+(s&1023);r.push(u>>18|240),r.push(u>>12&63|128),r.push(u>>6&63|128),r.push(u&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function _U(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function zE(t,e){return _U(OU(t,e))}async function PU(t,e){const r=t.url.split(":")[0].toLowerCase();Y(r==="http"||r==="https",`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Y(r==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(e){const c=new AbortController;n=c.signal,e.addListener(()=>{c.abort()})}const i={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:n},s=await fetch(t.url,i),u={};s.headers.forEach((c,f)=>{u[f.toLowerCase()]=c});const a=await s.arrayBuffer(),o=a==null?null:new Uint8Array(a);return{statusCode:s.status,statusMessage:s.statusText,headers:u,body:o}}const BU=12,TU=250;let gS=PU;const NU=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),jU=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Lv=!1;async function nT(t,e){try{const r=t.match(NU);if(!r)throw new Error("invalid data");return new ta(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?FU(r[3]):RU(r[3]))}catch{return new ta(599,"BAD REQUEST (invalid data: URI)",{},null,new xo(t))}}function iT(t){async function e(r,n){try{const i=r.match(jU);if(!i)throw new Error("invalid link");return new xo(`${t}${i[2]}`)}catch{return new ta(599,"BAD REQUEST (invalid IPFS URI)",{},null,new xo(r))}}return e}const t0={data:nT,ipfs:iT("https://gateway.ipfs.io/ipfs/")},sT=new WeakMap;var Ua,Su;class IU{constructor(e){q(this,Ua,void 0);q(this,Su,void 0);$(this,Ua,[]),$(this,Su,!1),sT.set(e,()=>{if(!_(this,Su)){$(this,Su,!0);for(const r of _(this,Ua))setTimeout(()=>{r()},0);$(this,Ua,[])}})}addListener(e){Y(!_(this,Su),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),_(this,Ua).push(e)}get cancelled(){return _(this,Su)}checkSignal(){Y(!this.cancelled,"cancelled","CANCELLED",{})}}Ua=new WeakMap,Su=new WeakMap;function r0(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Jl,Yl,di,ys,Zl,Xl,Yt,on,gs,Va,Ha,za,Wi,vs,Wa,td;const vy=class{constructor(e){q(this,Wa);q(this,Jl,void 0);q(this,Yl,void 0);q(this,di,void 0);q(this,ys,void 0);q(this,Zl,void 0);q(this,Xl,void 0);q(this,Yt,void 0);q(this,on,void 0);q(this,gs,void 0);q(this,Va,void 0);q(this,Ha,void 0);q(this,za,void 0);q(this,Wi,void 0);q(this,vs,void 0);$(this,Xl,String(e)),$(this,Jl,!1),$(this,Yl,!0),$(this,di,{}),$(this,ys,""),$(this,Zl,3e5),$(this,vs,{slotInterval:TU,maxAttempts:BU})}get url(){return _(this,Xl)}set url(e){$(this,Xl,String(e))}get body(){return _(this,Yt)==null?null:new Uint8Array(_(this,Yt))}set body(e){if(e==null)$(this,Yt,void 0),$(this,on,void 0);else if(typeof e=="string")$(this,Yt,Rs(e)),$(this,on,"text/plain");else if(e instanceof Uint8Array)$(this,Yt,e),$(this,on,"application/octet-stream");else if(typeof e=="object")$(this,Yt,Rs(JSON.stringify(e))),$(this,on,"application/json");else throw new Error("invalid body")}hasBody(){return _(this,Yt)!=null}get method(){return _(this,ys)?_(this,ys):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),$(this,ys,String(e).toUpperCase())}get headers(){const e=Object.assign({},_(this,di));return _(this,gs)&&(e.authorization=`Basic ${CU(Rs(_(this,gs)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&_(this,on)&&(e["content-type"]=_(this,on)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){_(this,di)[String(e).toLowerCase()]=String(r)}clearHeaders(){$(this,di,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return _(this,gs)||null}setCredentials(e,r){z(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),$(this,gs,`${e}:${r}`)}get allowGzip(){return _(this,Yl)}set allowGzip(e){$(this,Yl,!!e)}get allowInsecureAuthentication(){return!!_(this,Jl)}set allowInsecureAuthentication(e){$(this,Jl,!!e)}get timeout(){return _(this,Zl)}set timeout(e){z(e>=0,"timeout must be non-zero","timeout",e),$(this,Zl,e)}get preflightFunc(){return _(this,Va)||null}set preflightFunc(e){$(this,Va,e)}get processFunc(){return _(this,Ha)||null}set processFunc(e){$(this,Ha,e)}get retryFunc(){return _(this,za)||null}set retryFunc(e){$(this,za,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${_(this,Yt)?ye(_(this,Yt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(_(this,vs).slotInterval=e.slotInterval),e.maxAttempts!=null&&(_(this,vs).maxAttempts=e.maxAttempts)}send(){return Y(_(this,Wi)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),$(this,Wi,new IU(this)),te(this,Wa,td).call(this,0,vS()+this.timeout,0,this,new ta(0,"",{},null,this))}cancel(){Y(_(this,Wi)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=sT.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Y(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new vy(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,$(i,di,Object.assign({},_(this,di))),_(this,Yt)&&$(i,Yt,new Uint8Array(_(this,Yt))),$(i,on,_(this,on)),i}clone(){const e=new vy(this.url);return $(e,ys,_(this,ys)),_(this,Yt)&&$(e,Yt,_(this,Yt)),$(e,on,_(this,on)),$(e,di,Object.assign({},_(this,di))),$(e,gs,_(this,gs)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),$(e,Va,_(this,Va)),$(e,Ha,_(this,Ha)),$(e,za,_(this,za)),e}static lockConfig(){Lv=!0}static getGateway(e){return t0[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Lv)throw new Error("gateways locked");t0[e]=r}static registerGetUrl(e){if(Lv)throw new Error("gateways locked");gS=e}static createDataGateway(){return nT}static createIpfsGatewayFunc(e){return iT(e)}};let xo=vy;Jl=new WeakMap,Yl=new WeakMap,di=new WeakMap,ys=new WeakMap,Zl=new WeakMap,Xl=new WeakMap,Yt=new WeakMap,on=new WeakMap,gs=new WeakMap,Va=new WeakMap,Ha=new WeakMap,za=new WeakMap,Wi=new WeakMap,vs=new WeakMap,Wa=new WeakSet,td=async function(e,r,n,i,s){var f,d,p;if(e>=_(this,vs).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Y(vS()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await LU(n);let u=this.clone();const a=(u.url.split(":")[0]||"").toLowerCase();if(a in t0){const m=await t0[a](u.url,r0(_(i,Wi)));if(m instanceof ta){let w=m;if(this.processFunc){r0(_(i,Wi));try{w=await this.processFunc(u,w)}catch(b){(b.throttle==null||typeof b.stall!="number")&&w.makeServerError("error in post-processing function",b).assertOk()}}return w}u=m}this.preflightFunc&&(u=await this.preflightFunc(u));const o=await gS(u,r0(_(i,Wi)));let c=new ta(o.statusCode,o.statusMessage,o.headers,o.body,i);if(c.statusCode===301||c.statusCode===302){try{const m=c.headers.location||"";return te(f=u.redirect(m),Wa,td).call(f,e+1,r,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(u,c,e))){const m=c.headers["retry-after"];let w=_(this,vs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(w=parseInt(m)),te(d=u.clone(),Wa,td).call(d,e+1,r,w,i,c)}if(this.processFunc){r0(_(i,Wi));try{c=await this.processFunc(u,c)}catch(m){(m.throttle==null||typeof m.stall!="number")&&c.makeServerError("error in post-processing function",m).assertOk();let w=_(this,vs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(w=m.stall),te(p=u.clone(),Wa,td).call(p,e+1,r,w,i,c)}}return c};var Fh,Ch,Sh,hi,ec,Qa;const y2=class{constructor(e,r,n,i,s){q(this,Fh,void 0);q(this,Ch,void 0);q(this,Sh,void 0);q(this,hi,void 0);q(this,ec,void 0);q(this,Qa,void 0);$(this,Fh,e),$(this,Ch,r),$(this,Sh,Object.keys(n).reduce((u,a)=>(u[a.toLowerCase()]=String(n[a]),u),{})),$(this,hi,i==null?null:new Uint8Array(i)),$(this,ec,s||null),$(this,Qa,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${_(this,hi)?ye(_(this,hi)):"null"}>`}get statusCode(){return _(this,Fh)}get statusMessage(){return _(this,Ch)}get headers(){return Object.assign({},_(this,Sh))}get body(){return _(this,hi)==null?null:new Uint8Array(_(this,hi))}get bodyText(){try{return _(this,hi)==null?"":zE(_(this,hi))}catch{Y(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Y(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new y2(599,n,this.headers,this.body,_(this,ec)||void 0);return $(i,Qa,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:z(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw we(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return _(this,hi)!=null}get request(){return _(this,ec)}ok(){return _(this,Qa).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=_(this,Qa);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),Y(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r})}};let ta=y2;Fh=new WeakMap,Ch=new WeakMap,Sh=new WeakMap,hi=new WeakMap,ec=new WeakMap,Qa=new WeakMap;function vS(){return new Date().getTime()}function RU(t){return Rs(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function LU(t){return new Promise(e=>setTimeout(e,t))}const MU=BigInt(-1),li=BigInt(0),xl=BigInt(1),$U=BigInt(5),Qo={};let Vl="0000";for(;Vl.length<80;)Vl+=Vl;function Da(t){let e=Vl;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Nf(t,e,r){const n=BigInt(e.width);if(e.signed){const i=xl<<n-xl;Y(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>li?t=$m(La(t,n),n):t=-$m(La(-t,n),n)}else{const i=xl<<n;Y(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-xl}return t}function Mv(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);z(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,u=(a,o,c)=>s[a]==null?c:(z(typeof s[a]===o,"invalid fixed format ("+a+" not "+o+")","format."+a,s[a]),s[a]);e=u("signed","boolean",e),r=u("width","number",r),n=u("decimals","number",n)}z(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),z(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function UU(t,e){let r="";t<li&&(r="-",t*=MU);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Vl+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var pi,Ze,_r,As,Pa,mi,ls,Dh,yb,kh,gb,Oh,vb,_h,Ab;const bu=class{constructor(e,r,n){q(this,As);q(this,mi);q(this,Dh);q(this,kh);q(this,Oh);q(this,_h);W(this,"format");q(this,pi,void 0);q(this,Ze,void 0);q(this,_r,void 0);W(this,"_value");np(e,Qo,"FixedNumber"),$(this,Ze,r),$(this,pi,n);const i=UU(r,n.decimals);we(this,{format:n.name,_value:i}),$(this,_r,Da(n.decimals))}get signed(){return _(this,pi).signed}get width(){return _(this,pi).width}get decimals(){return _(this,pi).decimals}get value(){return _(this,Ze)}addUnsafe(e){return te(this,Dh,yb).call(this,e)}add(e){return te(this,Dh,yb).call(this,e,"add")}subUnsafe(e){return te(this,kh,gb).call(this,e)}sub(e){return te(this,kh,gb).call(this,e,"sub")}mulUnsafe(e){return te(this,Oh,vb).call(this,e)}mul(e){return te(this,Oh,vb).call(this,e,"mul")}mulSignal(e){te(this,As,Pa).call(this,e);const r=_(this,Ze)*_(e,Ze);return Y(r%_(this,_r)===li,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),te(this,mi,ls).call(this,r/_(this,_r),"mulSignal")}divUnsafe(e){return te(this,_h,Ab).call(this,e)}div(e){return te(this,_h,Ab).call(this,e,"div")}divSignal(e){Y(_(e,Ze)!==li,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),te(this,As,Pa).call(this,e);const r=_(this,Ze)*_(this,_r);return Y(r%_(e,Ze)===li,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),te(this,mi,ls).call(this,r/_(e,Ze),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=Da(i):i<0&&(r*=Da(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=_(this,Ze);return _(this,Ze)<li&&(e-=_(this,_r)-xl),e=_(this,Ze)/_(this,_r)*_(this,_r),te(this,mi,ls).call(this,e,"floor")}ceiling(){let e=_(this,Ze);return _(this,Ze)>li&&(e+=_(this,_r)-xl),e=_(this,Ze)/_(this,_r)*_(this,_r),te(this,mi,ls).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=$U*Da(r-1);let i=this.value+n;const s=Da(r);return i=i/s*s,Nf(i,_(this,pi),"round"),new bu(Qo,i,_(this,pi))}isZero(){return _(this,Ze)===li}isNegative(){return _(this,Ze)<li}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return bu.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:De(r),s=Mv(n);let u=Ae(e,"value");const a=i-s.decimals;if(a>0){const o=Da(a);Y(u%o===li,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),u/=o}else a<0&&(u*=Da(-a));return Nf(u,s,"fromValue"),new bu(Qo,u,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);z(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=Mv(r);let s=n[2]||"0",u=n[3]||"";for(;u.length<i.decimals;)u+=Vl;Y(u.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),u=u.substring(0,i.decimals);const a=BigInt(n[1]+s+u);return Nf(a,i,"fromString"),new bu(Qo,a,i)}static fromBytes(e,r){let n=og(Te(e,"value"));const i=Mv(r);return i.signed&&(n=$m(n,i.width)),Nf(n,i,"fromBytes"),new bu(Qo,n,i)}};let Um=bu;pi=new WeakMap,Ze=new WeakMap,_r=new WeakMap,As=new WeakSet,Pa=function(e){z(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},mi=new WeakSet,ls=function(e,r){return e=Nf(e,_(this,pi),r),new bu(Qo,e,_(this,pi))},Dh=new WeakSet,yb=function(e,r){return te(this,As,Pa).call(this,e),te(this,mi,ls).call(this,_(this,Ze)+_(e,Ze),r)},kh=new WeakSet,gb=function(e,r){return te(this,As,Pa).call(this,e),te(this,mi,ls).call(this,_(this,Ze)-_(e,Ze),r)},Oh=new WeakSet,vb=function(e,r){return te(this,As,Pa).call(this,e),te(this,mi,ls).call(this,_(this,Ze)*_(e,Ze)/_(this,_r),r)},_h=new WeakSet,Ab=function(e,r){return Y(_(e,Ze)!==li,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),te(this,As,Pa).call(this,e),te(this,mi,ls).call(this,_(this,Ze)*_(this,_r)/_(e,Ze),r)};function VU(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function AS(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function bS(t,e,r,n){const i=[];for(;r<e+1+n;){const s=uT(t,r);i.push(s.result),r+=s.consumed,Y(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function uT(t,e){Y(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{Y(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=AS(t,e+1,n);return r(e+1+n+i),bS(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),bS(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=AS(t,e+1,n);r(e+1+n+i);const s=ye(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=ye(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:VU(t[e])}}function WE(t){const e=Te(t,"data"),r=uT(e,0);return z(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function wS(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function aT(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(aT(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=wS(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(Te(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=wS(e.length);return r.unshift(183+r.length),r.concat(e)}const ES="0123456789abcdef";function nh(t){let e="0x";for(const r of aT(t))e+=ES[r>>4],e+=ES[r&15];return e}const oT=["wei","kwei","mwei","gwei","szabo","finney","ether"];function bb(t,e){let r=18;if(typeof e=="string"){const n=oT.indexOf(e);z(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=De(e,"unit"));return Um.fromValue(t,r,{decimals:r}).toString()}function HU(t,e){z(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=oT.indexOf(e);z(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=De(e,"unit"));return Um.fromString(t,{decimals:r}).value}function zU(t){return HU(t,18)}const Ir=32,wb=new Uint8Array(Ir),WU=["then"],n0={};function jf(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}var Du;const _d=class extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),u=!0;n!==n0&&(i=r,s=[],u=!1);super(i.length);q(this,Du,void 0);i.forEach((o,c)=>{this[c]=o});const a=s.reduce((o,c)=>(typeof c=="string"&&o.set(c,(o.get(c)||0)+1),o),new Map);if($(this,Du,Object.freeze(i.map((o,c)=>{const f=s[c];return f!=null&&a.get(f)===1?f:null}))),!!u)return Object.freeze(this),new Proxy(this,{get:(o,c,f)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const p=De(c,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=o[p];return m instanceof Error&&jf(`index ${p}`,m),m}if(WU.indexOf(c)>=0)return Reflect.get(o,c,f);const d=o[c];if(d instanceof Function)return function(...p){return d.apply(this===f?o:this,p)};if(!(c in o))return o.getValue.apply(this===f?o:this,[c])}return Reflect.get(o,c,f)}})}toArray(){const r=[];return this.forEach((n,i)=>{n instanceof Error&&jf(`index ${i}`,n),r.push(n)}),r}toObject(){return _(this,Du).reduce((r,n,i)=>(Y(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in r||(r[n]=this.getValue(n)),r),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=[],s=[];for(let u=r;u<n;u++)i.push(this[u]),s.push(_(this,Du)[u]);return new _d(n0,i,s)}filter(r,n){const i=[],s=[];for(let u=0;u<this.length;u++){const a=this[u];a instanceof Error&&jf(`index ${u}`,a),r.call(n,a,u,this)&&(i.push(a),s.push(_(this,Du)[u]))}return new _d(n0,i,s)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const u=this[s];u instanceof Error&&jf(`index ${s}`,u),i.push(r.call(n,u,s,this))}return i}getValue(r){const n=_(this,Du).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&jf(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new _d(n0,r,n)}};let Vm=_d;Du=new WeakMap;function xS(t){let e=pn(t);return Y(e.length<=Ir,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ir,offset:e.length}),e.length!==Ir&&(e=Zr(zt([wb.slice(e.length%Ir),e]))),e}class Ks{constructor(e,r,n,i){W(this,"name");W(this,"type");W(this,"localName");W(this,"dynamic");we(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){z(!1,e,this.localName,r)}}var bs,qa,tc,V0;class Eb{constructor(){q(this,tc);q(this,bs,void 0);q(this,qa,void 0);$(this,bs,[]),$(this,qa,0)}get data(){return zt(_(this,bs))}get length(){return _(this,qa)}appendWriter(e){return te(this,tc,V0).call(this,Zr(e.data))}writeBytes(e){let r=Zr(e);const n=r.length%Ir;return n&&(r=Zr(zt([r,wb.slice(n)]))),te(this,tc,V0).call(this,r)}writeValue(e){return te(this,tc,V0).call(this,xS(e))}writeUpdatableValue(){const e=_(this,bs).length;return _(this,bs).push(wb),$(this,qa,_(this,qa)+Ir),r=>{_(this,bs)[e]=xS(r)}}}bs=new WeakMap,qa=new WeakMap,tc=new WeakSet,V0=function(e){return _(this,bs).push(e),$(this,qa,_(this,qa)+e.length),e.length};var ln,In,Ay,lT;const g2=class{constructor(e,r){q(this,Ay);W(this,"allowLoose");q(this,ln,void 0);q(this,In,void 0);we(this,{allowLoose:!!r}),$(this,ln,Zr(e)),$(this,In,0)}get data(){return ye(_(this,ln))}get dataLength(){return _(this,ln).length}get consumed(){return _(this,In)}get bytes(){return new Uint8Array(_(this,ln))}subReader(e){return new g2(_(this,ln).slice(_(this,In)+e),this.allowLoose)}readBytes(e,r){let n=te(this,Ay,lT).call(this,0,e,!!r);return $(this,In,_(this,In)+n.length),n.slice(0,e)}readValue(){return og(this.readBytes(Ir))}readIndex(){return wU(this.readBytes(Ir))}};let xb=g2;ln=new WeakMap,In=new WeakMap,Ay=new WeakSet,lT=function(e,r,n){let i=Math.ceil(r/Ir)*Ir;return _(this,In)+i>_(this,ln).length&&(this.allowLoose&&n&&_(this,In)+r<=_(this,ln).length?i=r:Y(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Zr(_(this,ln)),length:_(this,ln).length,offset:_(this,In)+i})),_(this,ln).slice(_(this,In),_(this,In)+i)};function Fb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function QU(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function cT(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function qU(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fb(t.outputLen),Fb(t.blockLen)}function GU(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KU(t,e){cT(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const dn={number:Fb,bool:QU,bytes:cT,hash:qU,exists:GU,output:KU};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JU=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),$v=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ui=(t,e)=>t<<32-e|t>>>e,YU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!YU)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ZU(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ip(t){if(typeof t=="string"&&(t=ZU(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let Hm=class{clone(){return this._cloneInto()}};function sp(t){const e=n=>t().update(ip(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function XU(t){const e=(n,i)=>t(i).update(ip(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}class fT extends Hm{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,dn.hash(e);const n=ip(r);if(this.iHash=e.create(),!(this.iHash instanceof Hm))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=e.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(e){return dn.exists(this),this.iHash.update(e),this}digestInto(e){dn.exists(this),dn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:u,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=u,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dT=(t,e,r)=>new fT(t,e).update(r).digest();dT.create=(t,e)=>new fT(t,e);function eV(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),a=Number(r&s),o=n?4:0,c=n?0:4;t.setUint32(e+o,u,n),t.setUint32(e+c,a,n)}class hT extends Hm{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$v(this.buffer)}update(e){dn.exists(this);const{view:r,buffer:n,blockLen:i}=this;e=ip(e);const s=e.length;for(let u=0;u<s;){const a=Math.min(i-this.pos,s-u);if(a===i){const o=$v(e);for(;i<=s-u;u+=i)this.process(o,u);continue}n.set(e.subarray(u,u+a),this.pos),this.pos+=a,u+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dn.exists(this),dn.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let o=u;o<i;o++)r[o]=0;eV(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=$v(e);this.get().forEach((o,c)=>a.setUint32(4*c,o,s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}}const tV=(t,e,r)=>t&e^~t&r,rV=(t,e,r)=>t&e^t&r^e&r,nV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),su=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uu=new Uint32Array(64);class iV extends hT{constructor(){super(64,32,8,!1),this.A=su[0]|0,this.B=su[1]|0,this.C=su[2]|0,this.D=su[3]|0,this.E=su[4]|0,this.F=su[5]|0,this.G=su[6]|0,this.H=su[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:u,G:a,H:o}=this;return[e,r,n,i,s,u,a,o]}set(e,r,n,i,s,u,a,o){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=a|0,this.H=o|0}process(e,r){for(let d=0;d<16;d++,r+=4)uu[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const p=uu[d-15],m=uu[d-2],w=Ui(p,7)^Ui(p,18)^p>>>3,b=Ui(m,17)^Ui(m,19)^m>>>10;uu[d]=b+uu[d-7]+w+uu[d-16]|0}let{A:n,B:i,C:s,D:u,E:a,F:o,G:c,H:f}=this;for(let d=0;d<64;d++){const p=Ui(a,6)^Ui(a,11)^Ui(a,25),m=f+p+tV(a,o,c)+nV[d]+uu[d]|0,b=(Ui(n,2)^Ui(n,13)^Ui(n,22))+rV(n,i,s)|0;f=c,c=o,o=a,a=u+m|0,u=s,s=i,i=n,n=m+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(n,i,s,u,a,o,c,f)}roundClean(){uu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sV=sp(()=>new iV),i0=BigInt(2**32-1),Cb=BigInt(32);function pT(t,e=!1){return e?{h:Number(t&i0),l:Number(t>>Cb&i0)}:{h:Number(t>>Cb&i0)|0,l:Number(t&i0)|0}}function uV(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:u}=pT(t[i],e);[r[i],n[i]]=[s,u]}return[r,n]}const aV=(t,e)=>BigInt(t>>>0)<<Cb|BigInt(e>>>0),oV=(t,e,r)=>t>>>r,lV=(t,e,r)=>t<<32-r|e>>>r,cV=(t,e,r)=>t>>>r|e<<32-r,fV=(t,e,r)=>t<<32-r|e>>>r,dV=(t,e,r)=>t<<64-r|e>>>r-32,hV=(t,e,r)=>t>>>r-32|e<<64-r,pV=(t,e)=>e,mV=(t,e)=>t,yV=(t,e,r)=>t<<r|e>>>32-r,gV=(t,e,r)=>e<<r|t>>>32-r,vV=(t,e,r)=>e<<r-32|t>>>64-r,AV=(t,e,r)=>t<<r-32|e>>>64-r;function bV(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const wV=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),EV=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,xV=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),FV=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,CV=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),SV=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,xe={fromBig:pT,split:uV,toBig:aV,shrSH:oV,shrSL:lV,rotrSH:cV,rotrSL:fV,rotrBH:dV,rotrBL:hV,rotr32H:pV,rotr32L:mV,rotlSH:yV,rotlSL:gV,rotlBH:vV,rotlBL:AV,add:bV,add3L:wV,add3H:EV,add4L:xV,add4H:FV,add5H:SV,add5L:CV},[DV,kV]=xe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),au=new Uint32Array(80),ou=new Uint32Array(80);class QE extends hT{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:u,Dh:a,Dl:o,Eh:c,El:f,Fh:d,Fl:p,Gh:m,Gl:w,Hh:b,Hl:F}=this;return[e,r,n,i,s,u,a,o,c,f,d,p,m,w,b,F]}set(e,r,n,i,s,u,a,o,c,f,d,p,m,w,b,F){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=u|0,this.Dh=a|0,this.Dl=o|0,this.Eh=c|0,this.El=f|0,this.Fh=d|0,this.Fl=p|0,this.Gh=m|0,this.Gl=w|0,this.Hh=b|0,this.Hl=F|0}process(e,r){for(let x=0;x<16;x++,r+=4)au[x]=e.getUint32(r),ou[x]=e.getUint32(r+=4);for(let x=16;x<80;x++){const C=au[x-15]|0,S=ou[x-15]|0,O=xe.rotrSH(C,S,1)^xe.rotrSH(C,S,8)^xe.shrSH(C,S,7),g=xe.rotrSL(C,S,1)^xe.rotrSL(C,S,8)^xe.shrSL(C,S,7),h=au[x-2]|0,v=ou[x-2]|0,y=xe.rotrSH(h,v,19)^xe.rotrBH(h,v,61)^xe.shrSH(h,v,6),D=xe.rotrSL(h,v,19)^xe.rotrBL(h,v,61)^xe.shrSL(h,v,6),P=xe.add4L(g,D,ou[x-7],ou[x-16]),N=xe.add4H(P,O,y,au[x-7],au[x-16]);au[x]=N|0,ou[x]=P|0}let{Ah:n,Al:i,Bh:s,Bl:u,Ch:a,Cl:o,Dh:c,Dl:f,Eh:d,El:p,Fh:m,Fl:w,Gh:b,Gl:F,Hh:E,Hl:A}=this;for(let x=0;x<80;x++){const C=xe.rotrSH(d,p,14)^xe.rotrSH(d,p,18)^xe.rotrBH(d,p,41),S=xe.rotrSL(d,p,14)^xe.rotrSL(d,p,18)^xe.rotrBL(d,p,41),O=d&m^~d&b,g=p&w^~p&F,h=xe.add5L(A,S,g,kV[x],ou[x]),v=xe.add5H(h,E,C,O,DV[x],au[x]),y=h|0,D=xe.rotrSH(n,i,28)^xe.rotrBH(n,i,34)^xe.rotrBH(n,i,39),P=xe.rotrSL(n,i,28)^xe.rotrBL(n,i,34)^xe.rotrBL(n,i,39),N=n&s^n&a^s&a,B=i&u^i&o^u&o;E=b|0,A=F|0,b=m|0,F=w|0,m=d|0,w=p|0,{h:d,l:p}=xe.add(c|0,f|0,v|0,y|0),c=a|0,f=o|0,a=s|0,o=u|0,s=n|0,u=i|0;const L=xe.add3L(y,P,B);n=xe.add3H(L,v,D,N),i=L|0}({h:n,l:i}=xe.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:u}=xe.add(this.Bh|0,this.Bl|0,s|0,u|0),{h:a,l:o}=xe.add(this.Ch|0,this.Cl|0,a|0,o|0),{h:c,l:f}=xe.add(this.Dh|0,this.Dl|0,c|0,f|0),{h:d,l:p}=xe.add(this.Eh|0,this.El|0,d|0,p|0),{h:m,l:w}=xe.add(this.Fh|0,this.Fl|0,m|0,w|0),{h:b,l:F}=xe.add(this.Gh|0,this.Gl|0,b|0,F|0),{h:E,l:A}=xe.add(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,i,s,u,a,o,c,f,d,p,m,w,b,F,E,A)}roundClean(){au.fill(0),ou.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class OV extends QE{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class _V extends QE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const PV=sp(()=>new QE);sp(()=>new OV);sp(()=>new _V);function BV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const FS=BV();FS.crypto||FS.msCrypto;function TV(t,e){const r={sha256:sV,sha512:PV}[t];return z(r!=null,"invalid hmac algorithm","algorithm",t),dT.create(r,e)}let mT=!1;const yT=function(t,e,r){return TV(t,e).update(r).digest()};let gT=yT;function up(t,e,r){const n=Te(e,"key"),i=Te(r,"data");return ye(gT(t,n,i))}up._=yT;up.lock=function(){mT=!0};up.register=function(t){if(mT)throw new Error("computeHmac is locked");gT=t};Object.freeze(up);const[vT,AT,bT]=[[],[],[]],NV=BigInt(0),If=BigInt(1),jV=BigInt(2),IV=BigInt(7),RV=BigInt(256),LV=BigInt(113);for(let t=0,e=If,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],vT.push(2*(5*n+r)),AT.push((t+1)*(t+2)/2%64);let i=NV;for(let s=0;s<7;s++)e=(e<<If^(e>>IV)*LV)%RV,e&jV&&(i^=If<<(If<<BigInt(s))-If);bT.push(i)}const[MV,$V]=xe.split(bT,!0),CS=(t,e,r)=>r>32?xe.rotlBH(t,e,r):xe.rotlSH(t,e,r),SS=(t,e,r)=>r>32?xe.rotlBL(t,e,r):xe.rotlSL(t,e,r);function UV(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let u=0;u<10;u++)r[u]=t[u]^t[u+10]^t[u+20]^t[u+30]^t[u+40];for(let u=0;u<10;u+=2){const a=(u+8)%10,o=(u+2)%10,c=r[o],f=r[o+1],d=CS(c,f,1)^r[a],p=SS(c,f,1)^r[a+1];for(let m=0;m<50;m+=10)t[u+m]^=d,t[u+m+1]^=p}let i=t[2],s=t[3];for(let u=0;u<24;u++){const a=AT[u],o=CS(i,s,a),c=SS(i,s,a),f=vT[u];i=t[f],s=t[f+1],t[f]=o,t[f+1]=c}for(let u=0;u<50;u+=10){for(let a=0;a<10;a++)r[a]=t[u+a];for(let a=0;a<10;a++)t[u+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=MV[n],t[1]^=$V[n]}r.fill(0)}class lg extends Hm{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=JU(this.state)}keccak(){UV(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){dn.exists(this);const{blockLen:r,state:n}=this;e=ip(e);const i=e.length;for(let s=0;s<i;){const u=Math.min(r-this.pos,i-s);for(let a=0;a<u;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){dn.exists(this,!1),dn.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+u),i),this.posOut+=u,i+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:u}=this;return e||(e=new lg(r,n,i,u,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=u,e.destroyed=this.destroyed,e}}const ba=(t,e,r)=>sp(()=>new lg(e,t,r));ba(6,144,224/8);ba(6,136,256/8);ba(6,104,384/8);ba(6,72,512/8);ba(1,144,224/8);const VV=ba(1,136,256/8);ba(1,104,384/8);ba(1,72,512/8);const wT=(t,e,r)=>XU((n={})=>new lg(e,t,n.dkLen===void 0?r:n.dkLen,!0));wT(31,168,128/8);wT(31,136,256/8);let ET=!1;const xT=function(t){return VV(t)};let FT=xT;function xt(t){const e=Te(t,"data");return ye(FT(e))}xt._=xT;xt.lock=function(){ET=!0};xt.register=function(t){if(ET)throw new TypeError("keccak256 is locked");FT=t};Object.freeze(xt);const HV={},zV=Object.freeze(Object.defineProperty({__proto__:null,default:HV},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const je=BigInt(0),gt=BigInt(1),Hu=BigInt(2),wd=BigInt(3),DS=BigInt(8),Nt=Object.freeze({a:je,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:gt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),kS=(t,e)=>(t+e/Hu)/e,s0={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Nt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-gt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,u=BigInt("0x100000000000000000000000000000000"),a=kS(s*t,e),o=kS(-n*t,e);let c=ae(t-a*r-o*i,e),f=ae(-a*n-o*s,e);const d=c>u,p=f>u;if(d&&(c=e-c),p&&(f=e-f),c>u||f>u)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:p,k2:f}}},Fi=32,zc=32,WV=32,zm=Fi+1,Wm=2*Fi+1;function OS(t){const{a:e,b:r}=Nt,n=ae(t*t),i=ae(n*t);return ae(i+e*t+r)}const u0=Nt.a===je;class CT extends Error{constructor(e){super(e)}}function _S(t){if(!(t instanceof ze))throw new TypeError("JacobianPoint expected")}class ze{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Ke))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Ke.ZERO)?ze.ZERO:new ze(e.x,e.y,gt)}static toAffineBatch(e){const r=JV(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return ze.toAffineBatch(e).map(ze.fromAffine)}equals(e){_S(e);const{x:r,y:n,z:i}=this,{x:s,y:u,z:a}=e,o=ae(i*i),c=ae(a*a),f=ae(r*c),d=ae(s*o),p=ae(ae(n*a)*c),m=ae(ae(u*i)*o);return f===d&&p===m}negate(){return new ze(this.x,ae(-this.y),this.z)}double(){const{x:e,y:r,z:n}=this,i=ae(e*e),s=ae(r*r),u=ae(s*s),a=e+s,o=ae(Hu*(ae(a*a)-i-u)),c=ae(wd*i),f=ae(c*c),d=ae(f-Hu*o),p=ae(c*(o-d)-DS*u),m=ae(Hu*r*n);return new ze(d,p,m)}add(e){_S(e);const{x:r,y:n,z:i}=this,{x:s,y:u,z:a}=e;if(s===je||u===je)return this;if(r===je||n===je)return e;const o=ae(i*i),c=ae(a*a),f=ae(r*c),d=ae(s*o),p=ae(ae(n*a)*c),m=ae(ae(u*i)*o),w=ae(d-f),b=ae(m-p);if(w===je)return b===je?this.double():ze.ZERO;const F=ae(w*w),E=ae(w*F),A=ae(f*F),x=ae(b*b-E-Hu*A),C=ae(b*(A-x)-p*E),S=ae(i*a*w);return new ze(x,C,S)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const r=ze.ZERO;if(typeof e=="bigint"&&e===je)return r;let n=TS(e);if(n===gt)return this;if(!u0){let d=r,p=this;for(;n>je;)n&gt&&(d=d.add(p)),p=p.double(),n>>=gt;return d}let{k1neg:i,k1:s,k2neg:u,k2:a}=s0.splitScalar(n),o=r,c=r,f=this;for(;s>je||a>je;)s&gt&&(o=o.add(f)),a&gt&&(c=c.add(f)),f=f.double(),s>>=gt,a>>=gt;return i&&(o=o.negate()),u&&(c=c.negate()),c=new ze(ae(c.x*s0.beta),c.y,c.z),o.add(c)}precomputeWindow(e){const r=u0?128/e+1:256/e+1,n=[];let i=this,s=i;for(let u=0;u<r;u++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(ze.BASE)&&(r=Ke.BASE);const n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Sb.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=ze.normalizeZ(i),Sb.set(r,i)));let s=ze.ZERO,u=ze.BASE;const a=1+(u0?128/n:256/n),o=2**(n-1),c=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let p=0;p<a;p++){const m=p*o;let w=Number(e&c);e>>=d,w>o&&(w-=f,e+=gt);const b=m,F=m+Math.abs(w)-1,E=p%2!==0,A=w<0;w===0?u=u.add(a0(E,i[b])):s=s.add(a0(A,i[F]))}return{p:s,f:u}}multiply(e,r){let n=TS(e),i,s;if(u0){const{k1neg:u,k1:a,k2neg:o,k2:c}=s0.splitScalar(n);let{p:f,f:d}=this.wNAF(a,r),{p,f:m}=this.wNAF(c,r);f=a0(u,f),p=a0(o,p),p=new ze(ae(p.x*s0.beta),p.y,p.z),i=f.add(p),s=d.add(m)}else{const{p:u,f:a}=this.wNAF(n,r);i=u,s=a}return ze.normalizeZ([i,s])[0]}toAffine(e){const{x:r,y:n,z:i}=this,s=this.equals(ze.ZERO);e==null&&(e=s?DS:ap(i));const u=e,a=ae(u*u),o=ae(a*u),c=ae(r*a),f=ae(n*o),d=ae(i*u);if(s)return Ke.ZERO;if(d!==gt)throw new Error("invZ was invalid");return new Ke(c,f)}}ze.BASE=new ze(Nt.Gx,Nt.Gy,gt);ze.ZERO=new ze(je,gt,je);function a0(t,e){const r=e.negate();return t?r:e}const Sb=new WeakMap;class Ke{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Sb.delete(this)}hasEvenY(){return this.y%Hu===je}static fromCompressedHex(e){const r=e.length===32,n=ra(r?e:e.subarray(1));if(!Uv(n))throw new Error("Point is not on curve");const i=OS(n);let s=KV(i);const u=(s&gt)===gt;r?u&&(s=ae(-s)):(e[0]&1)===1!==u&&(s=ae(-s));const a=new Ke(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){const r=ra(e.subarray(1,Fi+1)),n=ra(e.subarray(Fi+1,Fi*2+1)),i=new Ke(r,n);return i.assertValidity(),i}static fromHex(e){const r=ih(e),n=r.length,i=r[0];if(n===Fi)return this.fromCompressedHex(r);if(n===zm&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Wm&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${zm} compressed bytes or ${Wm} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Ke.BASE.multiply(uh(e))}static fromSignature(e,r,n){const{r:i,s}=tH(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const u=ST(ih(e)),{n:a}=Nt,o=n===2||n===3?i+a:i,c=ap(o,a),f=ae(-u*c,a),d=ae(s*c,a),p=n&1?"03":"02",m=Ke.fromHex(p+zl(o)),w=Ke.BASE.multiplyAndAddUnsafe(m,f,d);if(!w)throw new Error("Cannot recover signature: point at infinify");return w.assertValidity(),w}toRawBytes(e=!1){return fo(this.toHex(e))}toHex(e=!1){const r=zl(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${zl(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:r,y:n}=this;if(!Uv(r)||!Uv(n))throw new Error(e);const i=ae(n*n),s=OS(r);if(ae(i-s)!==je)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ke(this.x,ae(-this.y))}double(){return ze.fromAffine(this).double().toAffine()}add(e){return ze.fromAffine(this).add(ze.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ze.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){const i=ze.fromAffine(this),s=r===je||r===gt||this!==Ke.BASE?i.multiplyUnsafe(r):i.multiply(r),u=ze.fromAffine(e).multiplyUnsafe(n),a=s.add(u);return a.equals(ze.ZERO)?void 0:a.toAffine()}}Ke.BASE=new Ke(Nt.Gx,Nt.Gy);Ke.ZERO=new Ke(je,je);function PS(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function BS(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Wc(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ra(r),left:t.subarray(e+2)}}function QV(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Wc(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=BS(t.subarray(2)),{data:n,left:i}=BS(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Wc(i)}`);return{r:e,s:n}}let Hl=class H0{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){const r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);const i=r?Wc(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new H0(Qm(i.slice(0,64)),Qm(i.slice(64,128)))}static fromDER(e){const r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:i}=QV(r?e:fo(e));return new H0(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:r}=this;if(!sh(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!sh(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Nt.n>>gt;return this.s>e}normalizeS(){return this.hasHighS()?new H0(this.r,ae(-this.s,Nt.n)):this}toDERRawBytes(){return fo(this.toDERHex())}toDERHex(){const e=PS(Rf(this.s)),r=PS(Rf(this.r)),n=e.length/2,i=r.length/2,s=Rf(n),u=Rf(i);return`30${Rf(i+n+4)}02${u}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return fo(this.toCompactHex())}toCompactHex(){return zl(this.r)+zl(this.s)}};function Cu(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const qV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wc(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=qV[t[r]];return e}const GV=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function zl(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(je<=t&&t<GV))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Db(t){const e=fo(zl(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Rf(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Qm(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function fo(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function ra(t){return Qm(Wc(t))}function ih(t){return t instanceof Uint8Array?Uint8Array.from(t):fo(t)}function TS(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&sh(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ae(t,e=Nt.P){const r=t%e;return r>=je?r:e+r}function _n(t,e){const{P:r}=Nt;let n=t;for(;e-- >je;)n*=n,n%=r;return n}function KV(t){const{P:e}=Nt,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),u=BigInt(44),a=BigInt(88),o=t*t*t%e,c=o*o*t%e,f=_n(c,wd)*c%e,d=_n(f,wd)*c%e,p=_n(d,Hu)*o%e,m=_n(p,n)*p%e,w=_n(m,i)*m%e,b=_n(w,u)*w%e,F=_n(b,a)*b%e,E=_n(F,u)*w%e,A=_n(E,wd)*c%e,x=_n(A,s)*m%e,C=_n(x,r)*o%e,S=_n(C,Hu);if(S*S%e!==t)throw new Error("Cannot find square root");return S}function ap(t,e=Nt.P){if(t===je||e<=je)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ae(t,e),n=e,i=je,s=gt;for(;r!==je;){const a=n/r,o=n%r,c=i-s*a;n=r,r=o,i=s,s=c}if(n!==gt)throw new Error("invert: does not exist");return ae(i,e)}function JV(t,e=Nt.P){const r=new Array(t.length),n=t.reduce((s,u,a)=>u===je?s:(r[a]=s,ae(s*u,e)),gt),i=ap(n,e);return t.reduceRight((s,u,a)=>u===je?s:(r[a]=ae(s*r[a],e),ae(s*u,e)),i),r}function YV(t){const e=t.length*8-zc*8,r=ra(t);return e>0?r>>BigInt(e):r}function ST(t,e=!1){const r=YV(t);if(e)return r;const{n}=Nt;return r>=n?r-n:r}let Wl,Ed;class ZV{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return zu.hmacSha256(this.k,...e)}hmacSync(...e){return Ed(this.k,...e)}checkSync(){if(typeof Ed!="function")throw new CT("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();r.push(n),e+=this.v.length}return Cu(...r)}generateSync(){this.checkSync(),this.incr();let e=0;const r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();r.push(n),e+=this.v.length}return Cu(...r)}}function sh(t){return je<t&&t<Nt.n}function Uv(t){return je<t&&t<Nt.P}function XV(t,e,r,n=!0){const{n:i}=Nt,s=ST(t,!0);if(!sh(s))return;const u=ap(s,i),a=Ke.BASE.multiply(s),o=ae(a.x,i);if(o===je)return;const c=ae(u*ae(e+r*o,i),i);if(c===je)return;let f=new Hl(o,c),d=(a.x===f.r?0:2)|Number(a.y&gt);return n&&f.hasHighS()&&(f=f.normalizeS(),d^=1),{sig:f,recovery:d}}function uh(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*zc)throw new Error("Expected 32 bytes of private key");e=Qm(t)}else if(t instanceof Uint8Array){if(t.length!==zc)throw new Error("Expected 32 bytes of private key");e=ra(t)}else throw new TypeError("Expected valid private key");if(!sh(e))throw new Error("Expected private key: 0 < key < n");return e}function eH(t){return t instanceof Ke?(t.assertValidity(),t):Ke.fromHex(t)}function tH(t){if(t instanceof Hl)return t.assertValidity(),t;try{return Hl.fromDER(t)}catch{return Hl.fromCompact(t)}}function rH(t,e=!1){return Ke.fromPrivateKey(t).toRawBytes(e)}function nH(t,e,r,n=!1){return Ke.fromSignature(t,e,r).toRawBytes(n)}function NS(t){const e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===zm||n===Wm:r?n===zm*2||n===Wm*2:t instanceof Ke}function iH(t,e,r=!1){if(NS(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!NS(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=eH(e);return n.assertValidity(),n.multiply(uh(t)).toRawBytes(r)}function DT(t){const e=t.length>Fi?t.slice(0,Fi):t;return ra(e)}function sH(t){const e=DT(t),r=ae(e,Nt.n);return kT(r<je?e:r)}function kT(t){return Db(t)}function uH(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);const n=ih(t),i=uh(e),s=[kT(i),sH(n)];if(r!=null){r===!0&&(r=zu.randomBytes(Fi));const o=ih(r);if(o.length!==Fi)throw new Error(`sign: Expected ${Fi} bytes of extra data`);s.push(o)}const u=Cu(...s),a=DT(n);return{seed:u,m:a,d:i}}function aH(t,e){const{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),u=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[u,n]:u}function oH(t,e,r={}){const{seed:n,m:i,d:s}=uH(t,e,r.extraEntropy),u=new ZV(WV,zc);u.reseedSync(n);let a;for(;!(a=XV(u.generateSync(),i,s,r.canonical));)u.reseedSync();return aH(a,r)}Ke.BASE._setWindowSize(8);const an={node:zV,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},o0={},zu={bytesToHex:Wc,hexToBytes:fo,concatBytes:Cu,mod:ae,invert:ap,isValidPrivateKey(t){try{return uh(t),!0}catch{return!1}},_bigintTo32Bytes:Db,_normalizePrivateKey:uh,hashToPrivateKey:t=>{t=ih(t);const e=zc+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const r=ae(ra(t),Nt.n-gt)+gt;return Db(r)},randomBytes:(t=32)=>{if(an.web)return an.web.getRandomValues(new Uint8Array(t));if(an.node){const{randomBytes:e}=an.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>zu.hashToPrivateKey(zu.randomBytes(zc+8)),precompute(t=8,e=Ke.BASE){const r=e===Ke.BASE?e:new Ke(e.x,e.y);return r._setWindowSize(t),r.multiply(wd),r},sha256:async(...t)=>{if(an.web){const e=await an.web.subtle.digest("SHA-256",Cu(...t));return new Uint8Array(e)}else if(an.node){const{createHash:e}=an.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(an.web){const r=await an.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Cu(...e),i=await an.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(an.node){const{createHmac:r}=an.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=o0[t];if(r===void 0){const n=await zu.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Cu(n,n),o0[t]=r}return zu.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Wl!="function")throw new CT("sha256Sync is undefined, you need to set it");let r=o0[t];if(r===void 0){const n=Wl(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Cu(n,n),o0[t]=r}return Wl(r,...e)},_JacobianPoint:ze};Object.defineProperties(zu,{sha256Sync:{configurable:!1,get(){return Wl},set(t){Wl||(Wl=t)}},hmacSha256Sync:{configurable:!1,get(){return Ed},set(t){Ed||(Ed=t)}}});const kb="0x0000000000000000000000000000000000000000",jS="0x0000000000000000000000000000000000000000000000000000000000000000",IS=BigInt(0),RS=BigInt(1),LS=BigInt(2),MS=BigInt(27),$S=BigInt(28),l0=BigInt(35),qo={};function US(t){return Eo(pn(t),32)}var rc,nc,ic,Ga;const ci=class{constructor(e,r,n,i){q(this,rc,void 0);q(this,nc,void 0);q(this,ic,void 0);q(this,Ga,void 0);np(e,qo,"Signature"),$(this,rc,r),$(this,nc,n),$(this,ic,i),$(this,Ga,null)}get r(){return _(this,rc)}set r(e){z(Ul(e)===32,"invalid r","value",e),$(this,rc,ye(e))}get s(){return _(this,nc)}set s(e){z(Ul(e)===32,"invalid s","value",e);const r=ye(e);z(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),$(this,nc,r)}get v(){return _(this,ic)}set v(e){const r=De(e,"value");z(r===27||r===28,"invalid v","v",e),$(this,ic,r)}get networkV(){return _(this,Ga)}get legacyChainId(){const e=this.networkV;return e==null?null:ci.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Te(this.s);return this.yParity&&(e[0]|=128),ye(e)}get compactSerialized(){return zt([this.r,this.yParityAndS])}get serialized(){return zt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ci(qo,this.r,this.s,this.v);return this.networkV&&$(e,Ga,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Ae(e,"v");return r==MS||r==$S?IS:(z(r>=l0,"invalid EIP-155 v","v",e),(r-l0)/LS)}static getChainIdV(e,r){return Ae(e)*LS+BigInt(35+r-27)}static getNormalizedV(e){const r=Ae(e);return r===IS||r===MS?27:r===RS||r===$S?28:(z(r>=l0,"invalid v","v",e),r&RS?27:28)}static from(e){function r(c,f){z(c,f,"signature",e)}if(e==null)return new ci(qo,jS,jS,27);if(typeof e=="string"){const c=Te(e,"signature");if(c.length===64){const f=ye(c.slice(0,32)),d=c.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new ci(qo,f,ye(d),p)}if(c.length===65){const f=ye(c.slice(0,32)),d=c.slice(32,64);r((d[0]&128)===0,"non-canonical s");const p=ci.getNormalizedV(c[64]);return new ci(qo,f,ye(d),p)}r(!1,"invalid raw signature length")}if(e instanceof ci)return e.clone();const n=e.r;r(n!=null,"missing r");const i=US(n),s=function(c,f){if(c!=null)return US(c);if(f!=null){r(Ft(f,32),"invalid yParityAndS");const d=Te(f);return d[0]&=127,ye(d)}r(!1,"missing s")}(e.s,e.yParityAndS);r((Te(s)[0]&128)==0,"non-canonical s");const{networkV:u,v:a}=function(c,f,d){if(c!=null){const p=Ae(c);return{networkV:p>=l0?p:void 0,v:ci.getNormalizedV(p)}}if(f!=null)return r(Ft(f,32),"invalid yParityAndS"),{v:Te(f)[0]&128?28:27};if(d!=null){switch(d){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new ci(qo,i,s,a);return u&&$(o,Ga,u),r(!("yParity"in e&&e.yParity!==o.yParity),"yParity mismatch"),r(!("yParityAndS"in e&&e.yParityAndS!==o.yParityAndS),"yParityAndS mismatch"),o}};let Oi=ci;rc=new WeakMap,nc=new WeakMap,ic=new WeakMap,Ga=new WeakMap;zu.hmacSha256Sync=function(t,...e){return Te(up("sha256",t,zt(e)))};var ws;const Na=class{constructor(e){q(this,ws,void 0);z(Ul(e)===32,"invalid private key","privateKey","[REDACTED]"),$(this,ws,ye(e))}get privateKey(){return _(this,ws)}get publicKey(){return Na.computePublicKey(_(this,ws))}get compressedPublicKey(){return Na.computePublicKey(_(this,ws),!0)}sign(e){z(Ul(e)===32,"invalid digest length","digest",e);const[r,n]=oH(Zr(e),Zr(_(this,ws)),{recovered:!0,canonical:!0}),i=Hl.fromHex(r);return Oi.from({r:da("0x"+i.r.toString(16),32),s:da("0x"+i.s.toString(16),32),v:n?28:27})}computeSharedSecret(e){const r=Na.computePublicKey(e);return ye(iH(Zr(_(this,ws)),Te(r)))}static computePublicKey(e,r){let n=Te(e,"key");if(n.length===32){const s=rH(n,!!r);return ye(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=Ke.fromHex(n);return ye(i.toRawBytes(r))}static recoverPublicKey(e,r){z(Ul(e)===32,"invalid digest length","digest",e);const n=Oi.from(r),i=Hl.fromCompact(Zr(zt([n.r,n.s]))).toDERRawBytes(),s=nH(Zr(e),i,n.yParity);return z(s!=null,"invalid signautre for digest","signature",r),ye(s)}static addPoints(e,r,n){const i=Ke.fromHex(Na.computePublicKey(e).substring(2)),s=Ke.fromHex(Na.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};let ah=Na;ws=new WeakMap;const lH=BigInt(0),cH=BigInt(36);function VS(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Te(xt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const qE={};for(let t=0;t<10;t++)qE[String(t)]=String(t);for(let t=0;t<26;t++)qE[String.fromCharCode(65+t)]=String(10+t);const HS=15;function fH(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>qE[n]).join("");for(;e.length>=HS;){let n=e.substring(0,HS);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const dH=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function hH(t){t=t.toLowerCase();let e=lH;for(let r=0;r<t.length;r++)e=e*cH+dH[t[r]];return e}function Qe(t){if(z(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=VS(t);return z(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){z(t.substring(2,4)===fH(t),"bad icap checksum","address",t);let e=hH(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return VS("0x"+e)}z(!1,"invalid address","address",t)}function pH(t){const e=Qe(t.from);let n=Ae(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Qe(Ot(xt(nh([e,n])),12))}function OT(t){return t&&typeof t.getAddress=="function"}async function Vv(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Y(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),z(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Qe(r)}function mn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Qe(t):(Y(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Vv(t,e.resolveName(t)));if(OT(t))return Vv(t,t.getAddress());if(t&&typeof t.then=="function")return Vv(t,t);z(!1,"unsupported addressable value","target",t)}const fs={};function ue(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Sr(fs,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Ue(t,e){return new Sr(fs,`bytes${e||""}`,t,{size:e})}const zS=Symbol.for("_ethers_typed");var Ka;const ds=class{constructor(e,r,n,i){W(this,"type");W(this,"value");q(this,Ka,void 0);W(this,"_typedSymbol");i==null&&(i=null),np(fs,e,"Typed"),we(this,{_typedSymbol:zS,type:r,value:n}),$(this,Ka,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return _(this,Ka)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return _(this,Ka)===!0?-1:_(this,Ka)===!1?this.value.length:null}static from(e,r){return new ds(fs,e,r)}static uint8(e){return ue(e,8)}static uint16(e){return ue(e,16)}static uint24(e){return ue(e,24)}static uint32(e){return ue(e,32)}static uint40(e){return ue(e,40)}static uint48(e){return ue(e,48)}static uint56(e){return ue(e,56)}static uint64(e){return ue(e,64)}static uint72(e){return ue(e,72)}static uint80(e){return ue(e,80)}static uint88(e){return ue(e,88)}static uint96(e){return ue(e,96)}static uint104(e){return ue(e,104)}static uint112(e){return ue(e,112)}static uint120(e){return ue(e,120)}static uint128(e){return ue(e,128)}static uint136(e){return ue(e,136)}static uint144(e){return ue(e,144)}static uint152(e){return ue(e,152)}static uint160(e){return ue(e,160)}static uint168(e){return ue(e,168)}static uint176(e){return ue(e,176)}static uint184(e){return ue(e,184)}static uint192(e){return ue(e,192)}static uint200(e){return ue(e,200)}static uint208(e){return ue(e,208)}static uint216(e){return ue(e,216)}static uint224(e){return ue(e,224)}static uint232(e){return ue(e,232)}static uint240(e){return ue(e,240)}static uint248(e){return ue(e,248)}static uint256(e){return ue(e,256)}static uint(e){return ue(e,256)}static int8(e){return ue(e,-8)}static int16(e){return ue(e,-16)}static int24(e){return ue(e,-24)}static int32(e){return ue(e,-32)}static int40(e){return ue(e,-40)}static int48(e){return ue(e,-48)}static int56(e){return ue(e,-56)}static int64(e){return ue(e,-64)}static int72(e){return ue(e,-72)}static int80(e){return ue(e,-80)}static int88(e){return ue(e,-88)}static int96(e){return ue(e,-96)}static int104(e){return ue(e,-104)}static int112(e){return ue(e,-112)}static int120(e){return ue(e,-120)}static int128(e){return ue(e,-128)}static int136(e){return ue(e,-136)}static int144(e){return ue(e,-144)}static int152(e){return ue(e,-152)}static int160(e){return ue(e,-160)}static int168(e){return ue(e,-168)}static int176(e){return ue(e,-176)}static int184(e){return ue(e,-184)}static int192(e){return ue(e,-192)}static int200(e){return ue(e,-200)}static int208(e){return ue(e,-208)}static int216(e){return ue(e,-216)}static int224(e){return ue(e,-224)}static int232(e){return ue(e,-232)}static int240(e){return ue(e,-240)}static int248(e){return ue(e,-248)}static int256(e){return ue(e,-256)}static int(e){return ue(e,-256)}static bytes1(e){return Ue(e,1)}static bytes2(e){return Ue(e,2)}static bytes3(e){return Ue(e,3)}static bytes4(e){return Ue(e,4)}static bytes5(e){return Ue(e,5)}static bytes6(e){return Ue(e,6)}static bytes7(e){return Ue(e,7)}static bytes8(e){return Ue(e,8)}static bytes9(e){return Ue(e,9)}static bytes10(e){return Ue(e,10)}static bytes11(e){return Ue(e,11)}static bytes12(e){return Ue(e,12)}static bytes13(e){return Ue(e,13)}static bytes14(e){return Ue(e,14)}static bytes15(e){return Ue(e,15)}static bytes16(e){return Ue(e,16)}static bytes17(e){return Ue(e,17)}static bytes18(e){return Ue(e,18)}static bytes19(e){return Ue(e,19)}static bytes20(e){return Ue(e,20)}static bytes21(e){return Ue(e,21)}static bytes22(e){return Ue(e,22)}static bytes23(e){return Ue(e,23)}static bytes24(e){return Ue(e,24)}static bytes25(e){return Ue(e,25)}static bytes26(e){return Ue(e,26)}static bytes27(e){return Ue(e,27)}static bytes28(e){return Ue(e,28)}static bytes29(e){return Ue(e,29)}static bytes30(e){return Ue(e,30)}static bytes31(e){return Ue(e,31)}static bytes32(e){return Ue(e,32)}static address(e){return new ds(fs,"address",e)}static bool(e){return new ds(fs,"bool",!!e)}static bytes(e){return new ds(fs,"bytes",e)}static string(e){return new ds(fs,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new ds(fs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===zS}static dereference(e,r){if(ds.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};let Sr=ds;Ka=new WeakMap;class mH extends Ks{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Sr.dereference(r,"string");try{n=Qe(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Qe(da(e.readValue(),20))}}class yH extends Ks{constructor(r){super(r.name,r.type,"_",r.dynamic);W(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function _T(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let o={};n=e.map(c=>{const f=c.localName;return Y(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:r}),Y(!o[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:r}),o[f]=!0,r[f]})}else z(!1,"invalid tuple value","tuple",r);z(e.length===n.length,"types/value length mismatch","tuple",r);let i=new Eb,s=new Eb,u=[];e.forEach((o,c)=>{let f=n[c];if(o.dynamic){let d=s.length;o.encode(s,f);let p=i.writeUpdatableValue();u.push(m=>{p(m+d)})}else o.encode(i,f)}),u.forEach(o=>{o(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function PT(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let u=null;if(s.dynamic){let a=t.readIndex(),o=i.subReader(a);try{u=s.decode(o)}catch(c){if(is(c,"BUFFER_OVERRUN"))throw c;u=c,u.baseType=s.name,u.name=s.localName,u.type=s.type}}else try{u=s.decode(t)}catch(a){if(is(a,"BUFFER_OVERRUN"))throw a;u=a,u.baseType=s.name,u.name=s.localName,u.type=s.type}if(u==null)throw new Error("investigate");r.push(u),n.push(s.localName||null)}),Vm.fromItems(r,n)}class gH extends Ks{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",u=n===-1||r.dynamic;super("array",s,i,u);W(this,"coder");W(this,"length");we(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=Sr.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),ZB(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let a=0;a<i.length;a++)u.push(this.coder);return _T(r,u,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Y(n*Ir<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Ir,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new yH(this.coder));return PT(r,i)}}class vH extends Ks{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Sr.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class BT extends Ks{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Zr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class AH extends BT{constructor(e){super("bytes",e)}decode(e){return ye(super.decode(e))}}class bH extends Ks{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);W(this,"size");we(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=Zr(Sr.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return ye(r.readBytes(this.size))}}const wH=new Uint8Array([]);class EH extends Ks{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(wH)}decode(e){return e.readBytes(0),null}}const xH=BigInt(0),FH=BigInt(1),CH=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class SH extends Ks{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);W(this,"size");W(this,"signed");we(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=Ae(Sr.dereference(n,this.type)),s=La(CH,Ir*8);if(this.signed){let u=La(s,this.size*8-1);(i>u||i<-(u+FH))&&this._throwError("value out-of-bounds",n),i=eT(i,8*Ir)}else(i<xH||i>La(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=La(r.readValue(),this.size*8);return this.signed&&(n=$m(n,this.size*8)),n}}class DH extends BT{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Rs(Sr.dereference(r,"string")))}decode(e){return zE(super.decode(e))}}class c0 extends Ks{constructor(r,n){let i=!1;const s=[];r.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const u="tuple("+s.join(",")+")";super("tuple",u,n,i);W(this,"coders");we(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const u=s.localName;return u&&(i[u]||(i[u]=0),i[u]++),i},{});return this.coders.forEach((i,s)=>{let u=i.localName;!u||n[u]!==1||(u==="length"&&(u="_length"),r[u]==null&&(r[u]=r[s]))}),Object.freeze(r)}encode(r,n){const i=Sr.dereference(n,"tuple");return _T(r,this.coders,i)}decode(r){return PT(r,this.coders)}}function Fo(t){return xt(Rs(t))}function kH(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let S=1;S<n;S++)s.push(i+=r());let u=r(),a=e;e+=u;let o=0,c=0;function f(){return o==0&&(c=c<<8|t[e++],o=8),c>>--o&1}const d=31,p=2**d,m=p>>>1,w=m>>1,b=p-1;let F=0;for(let S=0;S<d;S++)F=F<<1|f();let E=[],A=0,x=p;for(;;){let S=Math.floor(((F-A+1)*i-1)/x),O=0,g=n;for(;g-O>1;){let y=O+g>>>1;S<s[y]?g=y:O=y}if(O==0)break;E.push(O);let h=A+Math.floor(x*s[O]/i),v=A+Math.floor(x*s[O+1]/i)-1;for(;!((h^v)&m);)F=F<<1&b|f(),h=h<<1&b,v=v<<1&b|1;for(;h&~v&w;)F=F&m|F<<1&b>>>1|f(),h=h<<1^m,v=(v^m)<<1|m|1;A=h,x=1+v-h}let C=n-4;return E.map(S=>{switch(S-C){case 3:return C+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return C+256+(t[a++]<<8|t[a++]);case 1:return C+t[a++];default:return S-1}})}function OH(t){let e=0;return()=>t[e++]}function TT(t){return OH(kH(_H(t)))}function _H(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,u=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],u+=6,u>=8&&(n[s++]=a>>(u-=8));return n}function PH(t){return t&1?~t>>1:t>>1}function BH(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=PH(e());return r}function ha(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function NT(t){return oh(()=>{let e=ha(t);if(e.length)return e})}function jT(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(TH(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(NH(r,t))}return e.flat()}function oh(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function IT(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)BH(t,r).forEach((s,u)=>n[u].push(s));return n}function TH(t,e){let r=1+e(),n=e(),i=oh(e);return IT(i.length,1+t,e).flatMap((u,a)=>{let[o,...c]=u;return Array(i[a]).fill().map((f,d)=>{let p=d*n;return[o+d*r,c.map(m=>m+p)]})})}function NH(t,e){let r=1+e();return IT(r,1+t,e).map(i=>[i[0],i.slice(1)])}var bn=TT("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE");const WS=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),QS=4;function jH(t){return t.toString(16).toUpperCase().padStart(2,"0")}function RT(t){return`{${jH(t)}}`}function IH(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function lh(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}var GE=TT("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function rd(t){return t>>24&255}function LT(t){return t&16777215}const RH=new Map(NT(GE).flatMap((t,e)=>t.map(r=>[r,e+1<<24]))),LH=new Set(ha(GE)),MT=new Map,Ob=new Map;for(let[t,e]of jT(GE)){if(!LH.has(t)&&e.length==2){let[r,n]=e,i=Ob.get(r);i||(i=new Map,Ob.set(r,i)),i.set(n,t)}MT.set(t,e.reverse())}const ch=44032,qm=4352,Gm=4449,Km=4519,$T=19,UT=21,Qc=28,Jm=UT*Qc,MH=$T*Jm,$H=ch+MH,UH=qm+$T,VH=Gm+UT,HH=Km+Qc;function VT(t){return t>=ch&&t<$H}function zH(t,e){if(t>=qm&&t<UH&&e>=Gm&&e<VH)return ch+(t-qm)*Jm+(e-Gm)*Qc;if(VT(t)&&e>Km&&e<HH&&(t-ch)%Qc==0)return t+(e-Km);{let r=Ob.get(t);return r&&(r=r.get(e),r)?r:-1}}function HT(t){let e=[],r=[],n=!1;function i(s){let u=RH.get(s);u&&(n=!0,s|=u),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(VT(s)){let u=s-ch,a=u/Jm|0,o=u%Jm/Qc|0,c=u%Qc;i(qm+a),i(Gm+o),c>0&&i(Km+c)}else{let u=MT.get(s);u?r.push(...u):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=rd(e[0]);for(let u=1;u<e.length;u++){let a=rd(e[u]);if(a==0||s<=a){s=a;continue}let o=u-1;for(;;){let c=e[o+1];if(e[o+1]=e[o],e[o]=c,!o||(s=rd(e[--o]),s<=a))break}s=rd(e[u])}}return e}function WH(t){let e=[],r=[],n=-1,i=0;for(let s of t){let u=rd(s),a=LT(s);if(n==-1)u==0?n=a:e.push(a);else if(i>0&&i>=u)u==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=u;else{let o=zH(n,a);o>=0?n=o:i==0&&u==0?(e.push(n),n=a):(r.push(a),i=u)}}return n>=0&&e.push(n,...r),e}function zT(t){return HT(t).map(LT)}function QH(t){return WH(HT(t))}const _b=65039,WT=".",QT=1,qS=45;function lf(){return new Set(ha(bn))}const qH=new Map(jT(bn)),GH=lf(),Ym=lf(),GS=new Set(ha(bn).map(function(t){return this[t]},[...Ym])),KH=lf();lf();const JH=NT(bn);function KS(){return new Set([ha(bn).map(t=>JH[t]),ha(bn)].flat(2))}const YH=bn(),fh=oh(t=>{let e=oh(bn).map(r=>r+96);if(e.length){let r=t>=YH;e[0]-=32,e=lh(e),r&&(e=`Restricted[${e}]`);let n=KS(),i=KS(),s=[...n,...i].sort((a,o)=>a-o),u=!bn();return{N:e,P:n,M:u,R:r,V:new Set(s)}}}),JS=lf(),dh=new Map;[...JS,...lf()].sort((t,e)=>t-e).map((t,e,r)=>{let n=bn(),i=r[e]=n?r[e-n]:{V:[],M:new Map};i.V.push(t),JS.has(t)||dh.set(t,i)});for(let{V:t,M:e}of new Set(dh.values())){let r=[];for(let i of t){let s=fh.filter(a=>a.V.has(i)),u=r.find(({G:a})=>s.some(o=>a.has(o)));u||(u={G:new Set,V:[]},r.push(u)),u.V.push(i),s.forEach(a=>u.G.add(a))}let n=r.flatMap(({G:i})=>[...i]);for(let{G:i,V:s}of r){let u=new Set(n.filter(a=>!i.has(a)));for(let a of s)e.set(a,u)}}let hh=new Set,qT=new Set;for(let t of fh)for(let e of t.V)(hh.has(e)?qT:hh).add(e);for(let t of hh)!dh.has(t)&&!qT.has(t)&&dh.set(t,QT);const ZH=new Set([...hh,...zT(hh)]),XH=ha(bn),ez=GT([]);function GT(t){let e=oh(()=>{let a=ha(bn).map(o=>XH[o]);if(a.length)return GT(a)}).sort((a,o)=>o.Q.size-a.Q.size),r=bn(),n=r%3;r=r/3|0;let i=r&1;r>>=1;let s=r&1,u=r&2;return{B:e,V:n,F:i,S:s,C:u,Q:new Set(t)}}let tz=class extends Array{get is_emoji(){return!0}};function cg(t,e=RT){let r=[];iz(t[0])&&r.push("");let n=0,i=t.length;for(let s=0;s<i;s++){let u=t[s];KT(u)&&(r.push(lh(t.slice(n,s))),r.push(e(u)),n=s+1)}return r.push(lh(t.slice(n,i))),r.join("")}function KE(t){return(KT(t)?"":`${JE(cg([t]))} `)+RT(t)}function JE(t){return`"${t}"`}function rz(t){if(t.length>=4&&t[2]==qS&&t[3]==qS)throw new Error("invalid label extension")}function YS(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function nz(t){let e=t[0],r=WS.get(e);if(r)throw xd(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let u=WS.get(e);if(u){if(i==s)throw xd(`${r} + ${u}`);i=s+1,r=u}}if(i==n)throw xd(`trailing ${r}`)}function iz(t){return Ym.has(t)}function KT(t){return KH.has(t)}function sz(t){return lz(uz(t))}function uz(t,e){let r=0;return t.split(WT).map(n=>{let i=IH(n),s={input:i,offset:r};r+=i.length+1;let u;try{let a=s.tokens=fz(i,QH),o=a.length,c;if(o){let f=a[0],d=o>1||f.is_emoji;if(!d&&f.every(p=>p<128))u=f,YS(u),rz(u),c="ASCII";else if(d&&(s.emoji=!0,f=a.flatMap(p=>p.is_emoji?[]:p)),u=a.flatMap(p=>!e&&p.is_emoji?dz(p):p),YS(u),!f.length)c="Emoji";else{if(Ym.has(u[0]))throw xd("leading combining mark");for(let w=1;w<o;w++){let b=a[w];if(!b.is_emoji&&Ym.has(b[0]))throw xd(`emoji + combining mark: "${lh(a[w-1])} + ${cg([b[0]])}"`)}nz(u);let p=[...new Set(f)],[m]=oz(p);cz(m,f),az(m,p),c=m.N}}else throw new Error("empty label");s.type=c}catch(a){s.error=a}return s.output=u,s})}function az(t,e){let r,n=[];for(let i of e){let s=dh.get(i);if(s===QT)return;if(s){let u=s.M.get(i);if(r=r?r.filter(a=>u.has(a)):[...u],!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>i.V.has(s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function oz(t){let e=fh;for(let r of t){let n=e.filter(i=>i.V.has(r));if(!n.length)throw e===fh?JT(r):YT(e[0],r);if(e=n,n.length==1)break}return e}function lz(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${JE(cg(e))}: ${i}`)}return lh(n)}).join(WT)}function JT(t){return new Error(`disallowed character: ${KE(t)}`)}function YT(t,e){let r=KE(e),n=fh.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function xd(t){return new Error(`illegal placement: ${t}`)}function cz(t,e){let{V:r,M:n}=t;for(let i of e)if(!r.has(i))throw YT(t,i);if(n){let i=zT(e);for(let s=1,u=i.length;s<u;s++)if(GS.has(i[s])){let a=s+1;for(let o;a<u&&GS.has(o=i[a]);a++)for(let c=s;c<a;c++)if(i[c]==o)throw new Error(`non-spacing marks: repeated ${KE(o)}`);if(a-s>QS)throw new Error(`non-spacing marks: too many ${JE(cg(i.slice(s-1,a)))} (${a-s}/${QS})`);s=a}}}function fz(t,e){let r=[],n=[];for(t=t.slice().reverse();t.length;){let i=hz(t);if(i)n.length&&(r.push(e(n)),n=[]),r.push(i);else{let s=t.pop();if(ZH.has(s))n.push(s);else{let u=qH.get(s);if(u)n.push(...u);else if(!GH.has(s))throw JT(s)}}}return n.length&&r.push(e(n)),r}function dz(t){return t.filter(e=>e!=_b)}function hz(t,e){let r=ez,n,i,s=[],u=t.length;for(e&&(e.length=0);u;){let a=t[--u];if(r=r.B.find(o=>o.Q.has(a)),!r)break;if(r.S)i=a;else if(r.C&&a===i)break;s.push(a),r.F&&(s.push(_b),u>0&&t[u-1]==_b&&u--),r.V&&(n=pz(s,r),e&&e.push(...t.slice(u).reverse()),t.length=u)}return n}function pz(t,e){let r=tz.from(t);return e.V==2&&r.splice(1,1),r}const ZT=new Uint8Array(32);ZT.fill(0);function ZS(t){return z(t.length!==0,"invalid ENS name; empty component","comp",t),t}function XT(t){const e=Rs(mz(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(ZS(e.slice(n,i))),n=i+1);return z(n<e.length,"invalid ENS name; empty component","name",t),r.push(ZS(e.slice(n))),r}function mz(t){try{return sz(t)}catch(e){z(!1,`invalid ENS name (${e.message})`,"name",t)}}function Pb(t){z(typeof t=="string","invalid ENS name; not a string","name",t);let e=ZT;const r=XT(t);for(;r.length;)e=xt(zt([e,xt(r.pop())]));return ye(e)}function yz(t){return ye(zt(XT(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}function Hv(t,e){return{address:Qe(t),storageKeys:e.map((r,n)=>(z(Ft(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Io(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(z(r.length===2,"invalid slot set",`value[${n}]`,r),Hv(r[0],r[1])):(z(r!=null&&typeof r=="object","invalid address-slot set","value",t),Hv(r.address,r.storageKeys)));z(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Hv(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function gz(t){let e;return typeof t=="string"?e=ah.computePublicKey(t,!1):e=t.publicKey,Qe(xt("0x"+e.substring(4)).substring(26))}function vz(t,e){return gz(ah.recoverPublicKey(t,e))}const Jr=BigInt(0),Az=BigInt(2),bz=BigInt(27),wz=BigInt(28),Ez=BigInt(35),xz=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function YE(t){return t==="0x"?null:Qe(t)}function eN(t,e){try{return Io(t)}catch(r){z(!1,r.message,e,t)}}function fg(t,e){return t==="0x"?0:De(t,e)}function Nr(t,e){if(t==="0x")return Jr;const r=Ae(t,e);return z(r<=xz,"value exceeds uint size",e,r),r}function or(t,e){const r=Ae(t,"value"),n=pn(r);return z(n.length<=32,"value too large",`tx.${e}`,r),n}function tN(t){return Io(t).map(e=>[e.address,e.storageKeys])}function Fz(t){const e=WE(t);z(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:fg(e[0],"nonce"),gasPrice:Nr(e[1],"gasPrice"),gasLimit:Nr(e[2],"gasLimit"),to:YE(e[3]),value:Nr(e[4],"value"),data:ye(e[5]),chainId:Jr};if(e.length===6)return r;const n=Nr(e[6],"v"),i=Nr(e[7],"r"),s=Nr(e[8],"s");if(i===Jr&&s===Jr)r.chainId=n;else{let u=(n-Ez)/Az;u<Jr&&(u=Jr),r.chainId=u,z(u!==Jr||n===bz||n===wz,"non-canonical legacy v","v",e[6]),r.signature=Oi.from({r:Eo(e[7],32),s:Eo(e[8],32),v:n}),r.hash=xt(t)}return r}function XS(t,e){const r=[or(t.nonce||0,"nonce"),or(t.gasPrice||0,"gasPrice"),or(t.gasLimit||0,"gasLimit"),t.to!=null?Qe(t.to):"0x",or(t.value||0,"value"),t.data||"0x"];let n=Jr;if(t.chainId!=Jr)n=Ae(t.chainId,"tx.chainId"),z(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==Jr&&(r.push(pn(n)),r.push("0x"),r.push("0x")),nh(r);let i=BigInt(27+e.yParity);return n!==Jr?i=Oi.getChainIdV(n,e.v):BigInt(e.v)!==i&&z(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(pn(i)),r.push(pn(e.r)),r.push(pn(e.s)),nh(r)}function rN(t,e){let r;try{if(r=fg(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{z(!1,"invalid yParity","yParity",e[0])}const n=Eo(e[1],32),i=Eo(e[2],32),s=Oi.from({r:n,s:i,yParity:r});t.signature=s}function Cz(t){const e=WE(Te(t).slice(1));z(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ye(t));const r=Nr(e[2],"maxPriorityFeePerGas"),n=Nr(e[3],"maxFeePerGas"),i={type:2,chainId:Nr(e[0],"chainId"),nonce:fg(e[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Nr(e[4],"gasLimit"),to:YE(e[5]),value:Nr(e[6],"value"),data:ye(e[7]),accessList:eN(e[8],"accessList")};return e.length===9||(i.hash=xt(t),rN(i,e.slice(9))),i}function eD(t,e){const r=[or(t.chainId||0,"chainId"),or(t.nonce||0,"nonce"),or(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),or(t.maxFeePerGas||0,"maxFeePerGas"),or(t.gasLimit||0,"gasLimit"),t.to!=null?Qe(t.to):"0x",or(t.value||0,"value"),t.data||"0x",tN(t.accessList||[])];return e&&(r.push(or(e.yParity,"yParity")),r.push(pn(e.r)),r.push(pn(e.s))),zt(["0x02",nh(r)])}function Sz(t){const e=WE(Te(t).slice(1));z(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ye(t));const r={type:1,chainId:Nr(e[0],"chainId"),nonce:fg(e[1],"nonce"),gasPrice:Nr(e[2],"gasPrice"),gasLimit:Nr(e[3],"gasLimit"),to:YE(e[4]),value:Nr(e[5],"value"),data:ye(e[6]),accessList:eN(e[7],"accessList")};return e.length===8||(r.hash=xt(t),rN(r,e.slice(8))),r}function tD(t,e){const r=[or(t.chainId||0,"chainId"),or(t.nonce||0,"nonce"),or(t.gasPrice||0,"gasPrice"),or(t.gasLimit||0,"gasLimit"),t.to!=null?Qe(t.to):"0x",or(t.value||0,"value"),t.data||"0x",tN(t.accessList||[])];return e&&(r.push(or(e.yParity,"recoveryParam")),r.push(pn(e.r)),r.push(pn(e.s))),zt(["0x01",nh(r)])}var Es,sc,uc,ac,oc,lc,cc,fc,dc,hc,pc,mc;const wu=class{constructor(){q(this,Es,void 0);q(this,sc,void 0);q(this,uc,void 0);q(this,ac,void 0);q(this,oc,void 0);q(this,lc,void 0);q(this,cc,void 0);q(this,fc,void 0);q(this,dc,void 0);q(this,hc,void 0);q(this,pc,void 0);q(this,mc,void 0);$(this,Es,null),$(this,sc,null),$(this,ac,0),$(this,oc,BigInt(0)),$(this,lc,null),$(this,cc,null),$(this,fc,null),$(this,uc,"0x"),$(this,dc,BigInt(0)),$(this,hc,BigInt(0)),$(this,pc,null),$(this,mc,null)}get type(){return _(this,Es)}set type(e){switch(e){case null:$(this,Es,null);break;case 0:case"legacy":$(this,Es,0);break;case 1:case"berlin":case"eip-2930":$(this,Es,1);break;case 2:case"london":case"eip-1559":$(this,Es,2);break;default:z(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return _(this,sc)}set to(e){$(this,sc,e==null?null:Qe(e))}get nonce(){return _(this,ac)}set nonce(e){$(this,ac,De(e,"value"))}get gasLimit(){return _(this,oc)}set gasLimit(e){$(this,oc,Ae(e))}get gasPrice(){const e=_(this,lc);return e==null&&(this.type===0||this.type===1)?Jr:e}set gasPrice(e){$(this,lc,e==null?null:Ae(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=_(this,cc);return e??(this.type===2?Jr:null)}set maxPriorityFeePerGas(e){$(this,cc,e==null?null:Ae(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=_(this,fc);return e??(this.type===2?Jr:null)}set maxFeePerGas(e){$(this,fc,e==null?null:Ae(e,"maxFeePerGas"))}get data(){return _(this,uc)}set data(e){$(this,uc,ye(e))}get value(){return _(this,dc)}set value(e){$(this,dc,Ae(e,"value"))}get chainId(){return _(this,hc)}set chainId(e){$(this,hc,Ae(e))}get signature(){return _(this,pc)||null}set signature(e){$(this,pc,e==null?null:Oi.from(e))}get accessList(){const e=_(this,mc)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){$(this,mc,e==null?null:Io(e))}get hash(){return this.signature==null?null:xt(this.serialized)}get unsignedHash(){return xt(this.unsignedSerialized)}get from(){return this.signature==null?null:vz(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ah.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(Y(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return XS(this,this.signature);case 1:return tD(this,this.signature);case 2:return eD(this,this.signature)}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return XS(this);case 1:return tD(this);case 2:return eD(this)}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Y(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Y(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Y(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return wu.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new wu;if(typeof e=="string"){const n=Te(e);if(n[0]>=127)return wu.from(Fz(n));switch(n[0]){case 1:return wu.from(Sz(n));case 2:return wu.from(Cz(n))}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new wu;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Oi.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.hash!=null&&(z(r.isSigned(),"unsigned transaction cannot define hash","tx",e),z(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(z(r.isSigned(),"unsigned transaction cannot define from","tx",e),z(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};let Zm=wu;Es=new WeakMap,sc=new WeakMap,uc=new WeakMap,ac=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,fc=new WeakMap,dc=new WeakMap,hc=new WeakMap,pc=new WeakMap,mc=new WeakMap;const nN=new Uint8Array(32);nN.fill(0);const Dz=BigInt(-1),iN=BigInt(0),sN=BigInt(1),kz=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Oz(t){const e=Te(t),r=e.length%32;return r?zt([e,nN.slice(r)]):ye(e)}const _z=da(sN,32),Pz=da(iN,32),rD={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zv=["name","version","chainId","verifyingContract","salt"];function nD(t){return function(e){return z(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Bz={name:nD("name"),version:nD("version"),chainId:function(t){const e=Ae(t,"domain.chainId");return z(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):El(e)},verifyingContract:function(t){try{return Qe(t).toLowerCase()}catch{}z(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Te(t,"domain.salt");return z(e.length===32,'invalid domain value "salt"',"domain.salt",t),ye(e)}};function Wv(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");z(n%8===0&&n!==0&&n<=256&&(e[2]==null||e[2]===String(n)),"invalid numeric width","type",t);const i=La(kz,r?n-1:n),s=r?(i+sN)*Dz:iN;return function(u){const a=Ae(u,"value");return z(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),da(r?eT(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return z(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=Te(n);return z(i.length===r,`invalid length for ${t}`,"value",n),Oz(n)}}}switch(t){case"address":return function(e){return Eo(Qe(e),32)};case"bool":return function(e){return e?_z:Pz};case"bytes":return function(e){return xt(e)};case"string":return function(e){return Fo(e)}}return null}function iD(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var Ph,xs,yc,by,uN;const Nn=class{constructor(e){q(this,by);W(this,"primaryType");q(this,Ph,void 0);q(this,xs,void 0);q(this,yc,void 0);$(this,Ph,JSON.stringify(e)),$(this,xs,new Map),$(this,yc,new Map);const r=new Map,n=new Map,i=new Map;Object.keys(e).forEach(a=>{r.set(a,new Set),n.set(a,[]),i.set(a,new Set)});for(const a in e){const o=new Set;for(const c of e[a]){z(!o.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),o.add(c.name);const f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;z(f!==a,`circular type reference to ${JSON.stringify(f)}`,"types",e),!Wv(f)&&(z(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(a),r.get(a).add(f))}}const s=Array.from(n.keys()).filter(a=>n.get(a).length===0);z(s.length!==0,"missing primary type","types",e),z(s.length===1,`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),we(this,{primaryType:s[0]});function u(a,o){z(!o.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),o.add(a);for(const c of r.get(a))if(n.has(c)){u(c,o);for(const f of o)i.get(f).add(c)}o.delete(a)}u(this.primaryType,new Set);for(const[a,o]of i){const c=Array.from(o);c.sort(),_(this,xs).set(a,iD(a,e[a])+c.map(f=>iD(f,e[f])).join(""))}}get types(){return JSON.parse(_(this,Ph))}getEncoder(e){let r=_(this,yc).get(e);return r||(r=te(this,by,uN).call(this,e),_(this,yc).set(e,r)),r}encodeType(e){const r=_(this,xs).get(e);return z(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return xt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Wv(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return z(!i[3]||parseInt(i[3])===r.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",r),r.map(u=>this._visit(i[1],u,n));const s=this.types[e];if(s)return s.reduce((u,{name:a,type:o})=>(u[a]=this._visit(o,r[a],n),u),{});z(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Nn(e)}static getPrimaryType(e){return Nn.from(e).primaryType}static hashStruct(e,r,n){return Nn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=rD[n];z(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>zv.indexOf(n.name)-zv.indexOf(i.name)),Nn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return zt(["0x1901",Nn.hashDomain(e),Nn.from(r).hash(n)])}static hash(e,r,n){return xt(Nn.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Ft(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const u=Nn.from(r);u.visit(n,(a,o)=>(a==="address"&&!Ft(o,20)&&(s[o]="0x"),o));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=u.visit(n,(a,o)=>a==="address"&&s[o]?s[o]:o),{domain:e,value:n}}static getPayload(e,r,n){Nn.hashDomain(e);const i={},s=[];zv.forEach(o=>{const c=e[o];c!=null&&(i[o]=Bz[o](c),s.push({name:o,type:rD[o]}))});const u=Nn.from(r),a=Object.assign({},r);return z(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=s,u.encode(n),{types:a,domain:i,primaryType:u.primaryType,message:u.visit(n,(o,c)=>{if(o.match(/^bytes(\d*)/))return ye(Te(c));if(o.match(/^u?int/))return Ae(c).toString();switch(o){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return z(typeof c=="string","invalid string","value",c),c}z(!1,"unsupported type","type",o)})}}};let Xm=Nn;Ph=new WeakMap,xs=new WeakMap,yc=new WeakMap,by=new WeakSet,uN=function(e){{const i=Wv(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i);return u=>{z(!r[3]||parseInt(r[3])===u.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",u);let a=u.map(s);return _(this,xs).has(i)&&(a=a.map(xt)),xt(zt(a))}}const n=this.types[e];if(n){const i=Fo(_(this,xs).get(e));return s=>{const u=n.map(({name:a,type:o})=>{const c=this.getEncoder(o)(s[a]);return _(this,xs).has(o)?xt(c):c});return u.unshift(i),zt(u)}}z(!1,`unknown type: ${e}`,"type",e)};function Rr(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const aN="constant external internal payable private public pure view",Tz=Rr(aN.split(" ")),oN="constructor error event fallback function receive struct",lN=Rr(oN.split(" ")),cN="calldata memory storage payable indexed",Nz=Rr(cN.split(" ")),jz="tuple returns",Iz=[oN,cN,jz,aN].join(" "),Rz=Rr(Iz.split(" ")),Lz={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Mz=new RegExp("^(\\s*)"),$z=new RegExp("^([0-9]+)"),Uz=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),fN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),dN=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var ur,yi,Bh,Bb;const wy=class{constructor(e){q(this,Bh);q(this,ur,void 0);q(this,yi,void 0);$(this,ur,0),$(this,yi,e.slice())}get offset(){return _(this,ur)}get length(){return _(this,yi).length-_(this,ur)}clone(){return new wy(_(this,yi))}reset(){$(this,ur,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=te(this,Bh,Bb).call(this,_(this,ur)+1,e.match+1);return $(this,ur,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;_(this,ur)<e.match-1;){const n=this.peek().linkNext;r.push(te(this,Bh,Bb).call(this,_(this,ur)+1,n)),$(this,ur,n)}return $(this,ur,e.match+1),r}peek(){if(_(this,ur)>=_(this,yi).length)throw new Error("out-of-bounds");return _(this,yi)[_(this,ur)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return yf(this,ur)._++,e}toString(){const e=[];for(let r=_(this,ur);r<_(this,yi).length;r++){const n=_(this,yi)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};let _i=wy;ur=new WeakMap,yi=new WeakMap,Bh=new WeakSet,Bb=function(e=0,r=0){return new wy(_(this,yi).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};function wa(t){const e=[],r=u=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${u}`)};let n=[],i=[],s=0;for(;s<t.length;){let u=t.substring(s),a=u.match(Mz);a&&(s+=a[1].length,u=t.substring(s));const o={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(o);let c=Lz[u[0]]||"";if(c){if(o.type=c,o.text=u[0],s++,c==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),o.match=n.pop(),e[o.match].match=e.length-1,o.depth--,o.linkBack=i.pop(),e[o.linkBack].linkNext=e.length-1;else if(c==="COMMA")o.linkBack=i.pop(),e[o.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")o.type="BRACKET";else if(c==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;f=d+f,e[e.length-1].value=De(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=u.match(Uz),a){if(o.text=a[1],s+=o.text.length,Rz.has(o.text)){o.type="KEYWORD";continue}if(o.text.match(dN)){o.type="TYPE";continue}o.type="ID";continue}if(a=u.match($z),a){o.text=a[1],o.type="NUMBER",s+=o.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(u[0])} at position ${s}`)}return new _i(e.map(u=>Object.freeze(u)))}function sD(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function dg(t,e){if(e.peekKeyword(lN)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Ws(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function hN(t){let e=Ws(t,Tz);return sD(e,Rr("constant payable nonpayable".split(" "))),sD(e,Rr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ls(t,e){return t.popParams().map(r=>fr.from(r,e))}function pN(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ae(t.pop().text);throw new Error("invalid gas")}return null}function Co(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const Vz=new RegExp(/^(.*)\[([0-9]*)\]$/);function uD(t){const e=t.match(dN);if(z(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);z(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);z(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Et={},nn=Symbol.for("_ethers_internal"),aD="_ParamTypeInternal",oD="_ErrorInternal",lD="_EventInternal",cD="_ConstructorInternal",fD="_FallbackInternal",dD="_FunctionInternal",hD="_StructInternal";var gc,z0;const jn=class{constructor(e,r,n,i,s,u,a,o){q(this,gc);W(this,"name");W(this,"type");W(this,"baseType");W(this,"indexed");W(this,"components");W(this,"arrayLength");W(this,"arrayChildren");if(np(e,Et,"ParamType"),Object.defineProperty(this,nn,{value:aD}),u&&(u=Object.freeze(u.slice())),i==="array"){if(a==null||o==null)throw new Error("")}else if(a!=null||o!=null)throw new Error("");if(i==="tuple"){if(u==null)throw new Error("")}else if(u!=null)throw new Error("");we(this,{name:r,type:n,baseType:i,indexed:s,components:u,arrayLength:a,arrayChildren:o})}format(e){if(e==null&&(e="sighash"),e==="json"){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(e!=="sighash"&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")"):r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return te(this,gc,z0).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(jn.isParamType(e))return e;if(typeof e=="string")return jn.from(wa(e),r);if(e instanceof _i){let a="",o="",c=null;Ws(e,Rr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(o="tuple",c=e.popParams().map(b=>jn.from(b)),a=`tuple(${c.map(b=>b.format()).join(",")})`):(a=uD(e.popType("TYPE")),o=a);let f=null,d=null;for(;e.length&&e.peekType("BRACKET");){const b=e.pop();f=new jn(Et,"",a,o,null,c,d,f),d=b.value,a+=b.text,o="array",c=null}let p=null;if(Ws(e,Nz).has("indexed")){if(!r)throw new Error("");p=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new jn(Et,w,a,o,p,c,d,f)}const n=e.name;z(!n||typeof n=="string"&&n.match(fN),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(z(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,u=s.match(Vz);if(u){const a=parseInt(u[2]||"-1"),o=jn.from({type:u[1],components:e.components});return new jn(Et,n||"",s,"array",i,null,a,o)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>jn.from(c)):null;return new jn(Et,n||"",s,"tuple",i,a,null,null)}return s=uD(e.type),new jn(Et,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[nn]===aD}};let fr=jn;gc=new WeakSet,z0=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const u=this.arrayChildren,a=r.slice();a.forEach((o,c)=>{var f;te(f=u,gc,z0).call(f,e,o,n,d=>{a[c]=d})}),i(a);return}if(this.isTuple()){const u=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=u.map(o=>{if(!o.name)throw new Error("cannot use object value with unnamed components");if(!(o.name in r))throw new Error(`missing value for component ${o.name}`);return r[o.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((o,c)=>{var f;te(f=u[c],gc,z0).call(f,e,o,n,d=>{a[c]=d})}),i(a);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};class So{constructor(e,r,n){W(this,"type");W(this,"inputs");np(e,Et,"Fragment"),n=Object.freeze(n.slice()),we(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{So.from(JSON.parse(e))}catch{}return So.from(wa(e))}if(e instanceof _i)switch(e.peekKeyword(lN)){case"constructor":return Ts.from(e);case"error":return Yr.from(e);case"event":return Xi.from(e);case"fallback":case"receive":return ms.from(e);case"function":return es.from(e);case"struct":return ho.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ts.from(e);case"error":return Yr.from(e);case"event":return Xi.from(e);case"fallback":case"receive":return ms.from(e);case"function":return es.from(e);case"struct":return ho.from(e)}Y(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}z(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ts.isFragment(e)}static isError(e){return Yr.isFragment(e)}static isEvent(e){return Xi.isFragment(e)}static isFunction(e){return es.isFragment(e)}static isStruct(e){return ho.isFragment(e)}}class hg extends So{constructor(r,n,i,s){super(r,n,s);W(this,"name");z(typeof i=="string"&&i.match(fN),"invalid identifier","name",i),s=Object.freeze(s.slice()),we(this,{name:i})}}function ph(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Yr extends hg{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,nn,{value:oD})}get selector(){return Fo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+ph(e,this.inputs)),r.join(" ")}static from(e){if(Yr.isFragment(e))return e;if(typeof e=="string")return Yr.from(wa(e));if(e instanceof _i){const r=dg("error",e),n=Ls(e);return Co(e),new Yr(Et,r,n)}return new Yr(Et,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[nn]===oD}}class Xi extends hg{constructor(r,n,i,s){super(r,"event",n,i);W(this,"anonymous");Object.defineProperty(this,nn,{value:lD}),we(this,{anonymous:s})}get topicHash(){return Fo(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+ph(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>fr.from(s)),new Xi(Et,r,n,!1).topicHash}static from(r){if(Xi.isFragment(r))return r;if(typeof r=="string")return Xi.from(wa(r));if(r instanceof _i){const n=dg("event",r),i=Ls(r,!0),s=!!Ws(r,Rr(["anonymous"])).has("anonymous");return Co(r),new Xi(Et,n,i,s)}return new Xi(Et,r.name,r.inputs?r.inputs.map(n=>fr.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[nn]===lD}}class Ts extends So{constructor(r,n,i,s,u){super(r,n,i);W(this,"payable");W(this,"gas");Object.defineProperty(this,nn,{value:cD}),we(this,{payable:s,gas:u})}format(r){if(Y(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${ph(r,this.inputs)}`];return n.push(this.payable?"payable":"nonpayable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Ts.isFragment(r))return r;if(typeof r=="string")return Ts.from(wa(r));if(r instanceof _i){Ws(r,Rr(["constructor"]));const n=Ls(r),i=!!Ws(r,Rr(["payable"])).has("payable"),s=pN(r);return Co(r),new Ts(Et,"constructor",n,i,s)}return new Ts(Et,"constructor",r.inputs?r.inputs.map(fr.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[nn]===cD}}class ms extends So{constructor(r,n,i){super(r,"fallback",n);W(this,"payable");Object.defineProperty(this,nn,{value:fD}),we(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(ms.isFragment(r))return r;if(typeof r=="string")return ms.from(wa(r));if(r instanceof _i){const n=r.toString(),i=r.peekKeyword(Rr(["fallback","receive"]));if(z(i,"type must be fallback or receive","obj",n),r.popKeyword(Rr(["fallback","receive"]))==="receive"){const o=Ls(r);return z(o.length===0,"receive cannot have arguments","obj.inputs",o),Ws(r,Rr(["payable"])),Co(r),new ms(Et,[],!0)}let u=Ls(r);u.length?z(u.length===1&&u[0].type==="bytes","invalid fallback inputs","obj.inputs",u.map(o=>o.format("minimal")).join(", ")):u=[fr.from("bytes")];const a=hN(r);if(z(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Ws(r,Rr(["returns"])).has("returns")){const o=Ls(r);z(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(c=>c.format("minimal")).join(", "))}return Co(r),new ms(Et,u,a==="payable")}if(r.type==="receive")return new ms(Et,[],!0);if(r.type==="fallback"){const n=[fr.from("bytes")],i=r.stateMutability==="payable";return new ms(Et,n,i)}z(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[nn]===fD}}class es extends hg{constructor(r,n,i,s,u,a){super(r,"function",n,s);W(this,"constant");W(this,"outputs");W(this,"stateMutability");W(this,"payable");W(this,"gas");Object.defineProperty(this,nn,{value:dD}),u=Object.freeze(u.slice()),we(this,{constant:i==="view"||i==="pure",gas:a,outputs:u,payable:i==="payable",stateMutability:i})}get selector(){return Fo(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+ph(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(ph(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>fr.from(s)),new es(Et,r,"view",n,[],null).selector}static from(r){if(es.isFragment(r))return r;if(typeof r=="string")return es.from(wa(r));if(r instanceof _i){const i=dg("function",r),s=Ls(r),u=hN(r);let a=[];Ws(r,Rr(["returns"])).has("returns")&&(a=Ls(r));const o=pN(r);return Co(r),new es(Et,i,u,s,a,o)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new es(Et,r.name,n,r.inputs?r.inputs.map(fr.from):[],r.outputs?r.outputs.map(fr.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[nn]===dD}}class ho extends hg{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,nn,{value:hD})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")return ho.from(wa(e));if(e instanceof _i){const r=dg("struct",e),n=Ls(e);return Co(e),new ho(Et,r,n)}return new ho(Et,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[nn]===hD}}const Ri=new Map;Ri.set(0,"GENERIC_PANIC");Ri.set(1,"ASSERT_FALSE");Ri.set(17,"OVERFLOW");Ri.set(18,"DIVIDE_BY_ZERO");Ri.set(33,"ENUM_RANGE_ERROR");Ri.set(34,"BAD_STORAGE_DATA");Ri.set(49,"STACK_UNDERFLOW");Ri.set(50,"ARRAY_RANGE_ERROR");Ri.set(65,"OUT_OF_MEMORY");Ri.set(81,"UNINITIALIZED_FUNCTION_CALL");const Hz=new RegExp(/^bytes([0-9]*)$/),zz=new RegExp(/^(u?int)([0-9]*)$/);let Qv=null;function Wz(t,e,r,n){let i="missing revert data",s=null;const u=null;let a=null;if(r){i="execution reverted";const c=Te(r);if(r=ye(r),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ye(c.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ye(c.slice(0,4))==="0x4e487b71")try{const f=Number(n.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${Ri.get(f)||"UNKNOWN"}(${f})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const o={to:e.to?Qe(e.to):null,data:e.data||"0x"};return e.from&&(o.from=Qe(e.from)),Zt(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:o,invocation:u,revert:a})}var ku,rl;const Ey=class{constructor(){q(this,ku)}getDefaultValue(e){const r=e.map(i=>te(this,ku,rl).call(this,fr.from(i)));return new c0(r,"_").defaultValue()}encode(e,r){ZB(r.length,e.length,"types/values length mismatch");const n=e.map(u=>te(this,ku,rl).call(this,fr.from(u))),i=new c0(n,"_"),s=new Eb;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(u=>te(this,ku,rl).call(this,fr.from(u)));return new c0(i,"_").decode(new xb(r,n))}static defaultAbiCoder(){return Qv==null&&(Qv=new Ey),Qv}static getBuiltinCallException(e,r,n){return Wz(e,r,n,Ey.defaultAbiCoder())}};let mh=Ey;ku=new WeakSet,rl=function(e){if(e.isArray())return new gH(te(this,ku,rl).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new c0(e.components.map(n=>te(this,ku,rl).call(this,n)),e.name);switch(e.baseType){case"address":return new mH(e.name);case"bool":return new vH(e.name);case"string":return new DH(e.name);case"bytes":return new AH(e.name);case"":return new EH(e.name)}let r=e.type.match(zz);if(r){let n=parseInt(r[2]||"256");return z(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new SH(n/8,r[1]==="int",e.name)}if(r=e.type.match(Hz),r){let n=parseInt(r[1]);return z(n!==0&&n<=32,"invalid bytes length","param",e),new bH(n,e.name)}z(!1,"invalid type","type",e.type)};class Qz{constructor(e,r,n){W(this,"fragment");W(this,"name");W(this,"signature");W(this,"topic");W(this,"args");const i=e.name,s=e.format();we(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class qz{constructor(e,r,n,i){W(this,"fragment");W(this,"name");W(this,"args");W(this,"signature");W(this,"selector");W(this,"value");const s=e.name,u=e.format();we(this,{fragment:e,name:s,args:n,signature:u,selector:r,value:i})}}class Gz{constructor(e,r,n){W(this,"fragment");W(this,"name");W(this,"args");W(this,"signature");W(this,"selector");const i=e.name,s=e.format();we(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class pD{constructor(e){W(this,"hash");W(this,"_isIndexed");we(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const mD={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},yD={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&mD[t.toString()]&&(e=mD[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Qi,qi,Gi,Ar,vc,W0,Ac,Q0;const kl=class{constructor(e){q(this,vc);q(this,Ac);W(this,"fragments");W(this,"deploy");W(this,"fallback");W(this,"receive");q(this,Qi,void 0);q(this,qi,void 0);q(this,Gi,void 0);q(this,Ar,void 0);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,$(this,Gi,new Map),$(this,Qi,new Map),$(this,qi,new Map);const n=[];for(const u of r)try{n.push(So.from(u))}catch(a){console.log("EE",a)}we(this,{fragments:Object.freeze(n)});let i=null,s=!1;$(this,Ar,this.getAbiCoder()),this.fragments.forEach((u,a)=>{let o;switch(u.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}we(this,{deploy:u});return;case"fallback":u.inputs.length===0?s=!0:(z(!i||u.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,u),i=u,s=i.payable);return;case"function":o=_(this,Gi);break;case"event":o=_(this,qi);break;case"error":o=_(this,Qi);break;default:return}const c=u.format();o.has(c)||o.set(c,u)}),this.deploy||we(this,{deploy:Ts.from("constructor()")}),we(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return mh.defaultAbiCoder()}getFunctionName(e){const r=te(this,vc,W0).call(this,e,null,!1);return z(r,"no matching function","key",e),r.name}hasFunction(e){return!!te(this,vc,W0).call(this,e,null,!1)}getFunction(e,r){return te(this,vc,W0).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(_(this,Gi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(_(this,Gi).get(i),n)}}getEventName(e){const r=te(this,Ac,Q0).call(this,e,null,!1);return z(r,"no matching event","key",e),r.name}hasEvent(e){return!!te(this,Ac,Q0).call(this,e,null,!1)}getEvent(e,r){return te(this,Ac,Q0).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(_(this,qi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(_(this,qi).get(i),n)}}getError(e,r){if(Ft(e)){const i=e.toLowerCase();if(yD[i])return Yr.from(yD[i].signature);for(const s of _(this,Qi).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,u]of _(this,Qi))s.split("(")[0]===e&&i.push(u);if(i.length===0)return e==="Error"?Yr.from("error Error(string)"):e==="Panic"?Yr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(u=>JSON.stringify(u.format())).join(", ");z(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Yr.from(e).format(),e==="Error(string)")return Yr.from("error Error(string)");if(e==="Panic(uint256)")return Yr.from("error Panic(uint256)");const n=_(this,Qi).get(e);return n||null}forEachError(e){const r=Array.from(_(this,Qi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(_(this,Qi).get(i),n)}}_decodeParams(e,r){return _(this,Ar).decode(e,r)}_encodeParams(e,r){return _(this,Ar).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);z(n,"unknown error","fragment",e),e=n}return z(Ot(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Ot(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);z(n,"unknown error","fragment",e),e=n}return zt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);z(n,"unknown function","fragment",e),e=n}return z(Ot(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Ot(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);z(n,"unknown function","fragment",e),e=n}return zt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);z(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=Zr(r);if(i.length%32===0)try{return _(this,Ar).decode(e.outputs,i)}catch{n="could not decode result data"}Y(!1,n,"BAD_DATA",{value:ye(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Te(e,"data"),i=mh.getBuiltinCallException("call",r,n),s="execution reverted (unknown custom error)";if(i.message.startsWith(s)){const a=ye(n.slice(0,4)),o=this.getError(a);if(o)try{const c=_(this,Ar).decode(o.inputs,n.slice(4));i.revert={name:o.name,signature:o.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const u=this.parseTransaction(r);return u&&(i.invocation={method:u.name,signature:u.signature,args:u.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);z(n,"unknown function","fragment",e),e=n}return ye(_(this,Ar).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);z(s,"unknown event","eventFragment",e),e=s}Y(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,u)=>s.type==="string"?Fo(u):s.type==="bytes"?xt(ye(u)):(s.type==="bool"&&typeof u=="boolean"&&(u=u?"0x01":"0x00"),s.type.match(/^u?int/)&&(u=da(u)),s.type==="address"&&_(this,Ar).encode(["address"],[u]),Eo(ye(u),32));for(r.forEach((s,u)=>{const a=e.inputs[u];if(!a.indexed){z(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?z(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(o=>i(a,o))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const u=this.getEvent(e);z(u,"unknown event","eventFragment",e),e=u}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),z(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((u,a)=>{const o=r[a];if(u.indexed)if(u.type==="string")n.push(Fo(o));else if(u.type==="bytes")n.push(xt(o));else{if(u.baseType==="tuple"||u.baseType==="array")throw new Error("not implemented");n.push(_(this,Ar).encode([u.type],[o]))}else i.push(u),s.push(o)}),{data:_(this,Ar).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const m=this.getEvent(e);z(m,"unknown event","eventFragment",e),e=m}if(n!=null&&!e.anonymous){const m=e.topicHash;z(Ft(n[0],32)&&n[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],u=[];e.inputs.forEach((m,w)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(fr.from({type:"bytes32",name:m.name})),u.push(!0)):(i.push(m),u.push(!1)):(s.push(m),u.push(!1))});const a=n!=null?_(this,Ar).decode(i,zt(n)):null,o=_(this,Ar).decode(s,r,!0),c=[],f=[];let d=0,p=0;return e.inputs.forEach((m,w)=>{let b=null;if(m.indexed)if(a==null)b=new pD(null);else if(u[w])b=new pD(a[p++]);else try{b=a[p++]}catch(F){b=F}else try{b=o[d++]}catch(F){b=F}c.push(b),f.push(m.name||null)}),Vm.fromItems(c,f)}parseTransaction(e){const r=Te(e.data,"tx.data"),n=Ae(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ye(r.slice(0,4)));if(!i)return null;const s=_(this,Ar).decode(i.inputs,r.slice(4));return new qz(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Qz(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=ye(e),n=this.getError(Ot(r,0,4));if(!n)return null;const i=_(this,Ar).decode(n.inputs,Ot(r,4));return new Gz(n,n.selector,i)}static from(e){return e instanceof kl?e:typeof e=="string"?new kl(JSON.parse(e)):typeof e.format=="function"?new kl(e.format("json")):new kl(e)}};let Tb=kl;Qi=new WeakMap,qi=new WeakMap,Gi=new WeakMap,Ar=new WeakMap,vc=new WeakSet,W0=function(e,r,n){if(Ft(e)){const s=e.toLowerCase();for(const u of _(this,Gi).values())if(s===u.selector)return u;return null}if(e.indexOf("(")===-1){const s=[];for(const[u,a]of _(this,Gi))u.split("(")[0]===e&&s.push(a);if(r){const u=r.length>0?r[r.length-1]:null;let a=r.length,o=!0;Sr.isTyped(u)&&u.type==="overrides"&&(o=!1,a--);for(let c=s.length-1;c>=0;c--){const f=s[c].inputs.length;f!==a&&(!o||f!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const f=s[c].inputs;for(let d=0;d<r.length;d++)if(Sr.isTyped(r[d])){if(d>=f.length){if(r[d].type==="overrides")continue;s.splice(c,1);break}if(r[d].type!==f[d].baseType){s.splice(c,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const u=r[r.length-1];(u==null||Array.isArray(u)||typeof u!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const u=s.map(a=>JSON.stringify(a.format())).join(", ");z(!1,`ambiguous function description (i.e. matches ${u})`,"key",e)}return s[0]}const i=_(this,Gi).get(es.from(e).format());return i||null},Ac=new WeakSet,Q0=function(e,r,n){if(Ft(e)){const s=e.toLowerCase();for(const u of _(this,qi).values())if(s===u.topicHash)return u;return null}if(e.indexOf("(")===-1){const s=[];for(const[u,a]of _(this,qi))u.split("(")[0]===e&&s.push(a);if(r){for(let u=s.length-1;u>=0;u--)s[u].inputs.length<r.length&&s.splice(u,1);for(let u=s.length-1;u>=0;u--){const a=s[u].inputs;for(let o=0;o<r.length;o++)if(Sr.isTyped(r[o])&&r[o].type!==a[o].baseType){s.splice(u,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const u=s.map(a=>JSON.stringify(a.format())).join(", ");z(!1,`ambiguous event description (i.e. matches ${u})`,"key",e)}return s[0]}const i=_(this,qi).get(Xi.from(e).format());return i||null};const mN=BigInt(0);function Fd(t){return t??null}function xr(t){return t==null?null:t.toString()}class Kz{constructor(e,r,n){W(this,"gasPrice");W(this,"maxFeePerGas");W(this,"maxPriorityFeePerGas");we(this,{gasPrice:Fd(e),maxFeePerGas:Fd(r),maxPriorityFeePerGas:Fd(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:xr(e),maxFeePerGas:xr(r),maxPriorityFeePerGas:xr(n)}}}function ey(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ye(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ae(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=De(t[i],`request.${i}`));return t.accessList&&(e.accessList=Io(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipReadEnabled=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var Fs;class Jz{constructor(e,r){W(this,"provider");W(this,"number");W(this,"hash");W(this,"timestamp");W(this,"parentHash");W(this,"nonce");W(this,"difficulty");W(this,"gasLimit");W(this,"gasUsed");W(this,"miner");W(this,"extraData");W(this,"baseFeePerGas");q(this,Fs,void 0);$(this,Fs,e.transactions.map(n=>typeof n!="string"?new yh(n,r):n)),we(this,{provider:r,hash:Fd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:Fd(e.baseFeePerGas)})}get transactions(){return _(this,Fs).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=_(this,Fs).slice();return e.length===0?[]:(Y(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:u,miner:a,nonce:o,number:c,parentHash:f,timestamp:d,transactions:p}=this;return{_type:"Block",baseFeePerGas:xr(e),difficulty:xr(r),extraData:n,gasLimit:xr(i),gasUsed:xr(s),hash:u,miner:a,nonce:o,number:c,parentHash:f,timestamp:d,transactions:p}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return _(this,Fs).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=_(this,Fs)[e];else{const n=e.toLowerCase();for(const i of _(this,Fs))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash===n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;z(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Yz(this)}}Fs=new WeakMap;class pg{constructor(e,r){W(this,"provider");W(this,"transactionHash");W(this,"blockHash");W(this,"blockNumber");W(this,"removed");W(this,"address");W(this,"data");W(this,"topics");W(this,"index");W(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());we(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:u,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:u,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Y(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Y(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Y(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Zz(this)}}var Th;class yN{constructor(e,r){W(this,"provider");W(this,"to");W(this,"from");W(this,"contractAddress");W(this,"hash");W(this,"index");W(this,"blockHash");W(this,"blockNumber");W(this,"logsBloom");W(this,"gasUsed");W(this,"cumulativeGasUsed");W(this,"gasPrice");W(this,"type");W(this,"status");W(this,"root");q(this,Th,void 0);$(this,Th,Object.freeze(e.logs.map(i=>new pg(i,r))));let n=mN;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),we(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:n,type:e.type,status:e.status,root:e.root})}get logs(){return _(this,Th)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:u,blockNumber:a,logsBloom:o,logs:c,status:f,root:d}=this;return{_type:"TransactionReceipt",blockHash:u,blockNumber:a,contractAddress:n,cumulativeGasUsed:xr(this.cumulativeGasUsed),from:r,gasPrice:xr(this.gasPrice),gasUsed:xr(this.gasUsed),hash:i,index:s,logs:c,logsBloom:o,root:d,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return vN(this)}reorderedEvent(e){return Y(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),gN(this,e)}}Th=new WeakMap;var Ou;const v2=class{constructor(e,r){W(this,"provider");W(this,"blockNumber");W(this,"blockHash");W(this,"index");W(this,"hash");W(this,"type");W(this,"to");W(this,"from");W(this,"nonce");W(this,"gasLimit");W(this,"gasPrice");W(this,"maxPriorityFeePerGas");W(this,"maxFeePerGas");W(this,"data");W(this,"value");W(this,"chainId");W(this,"signature");W(this,"accessList");q(this,Ou,void 0);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,$(this,Ou,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:u,from:a,nonce:o,data:c,signature:f,accessList:d}=this;return{_type:"TransactionReceipt",accessList:d,blockNumber:e,blockHash:r,chainId:xr(this.chainId),data:c,from:a,gasLimit:xr(this.gasLimit),gasPrice:xr(this.gasPrice),hash:i,maxFeePerGas:xr(this.maxFeePerGas),maxPriorityFeePerGas:xr(this.maxPriorityFeePerGas),nonce:o,signature:f,to:u,index:n,type:s,value:xr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Br({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=_(this,Ou),u=-1,a=s===-1;const o=async()=>{if(a)return null;const{blockNumber:d,nonce:p}=await Br({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=d;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(u===-1&&(u=s-3,u<_(this,Ou)&&(u=_(this,Ou)));u<=d;){if(a)return null;const w=await this.provider.getBlock(u,!0);if(w==null)return;for(const b of w)if(b===this.hash)return;for(let b=0;b<w.length;b++){const F=await w.getTransaction(b);if(F.from===this.from&&F.nonce===this.nonce){if(a)return null;const E=await this.provider.getTransactionReceipt(F.hash);if(E==null||d-E.blockNumber+1<n)return;let A="replaced";F.data===this.data&&F.to===this.to&&F.value===this.value?A="repriced":F.data==="0x"&&F.from===F.to&&F.value===mN&&(A="cancelled"),Y(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:F.replaceableTransaction(s),hash:F.hash,receipt:E})}}u++}},c=await this.provider.getTransactionReceipt(this.hash);if(c){if(await c.confirmations()>=n)return c}else if(await o(),n===0)return null;return await new Promise((d,p)=>{const m=[],w=()=>{m.forEach(F=>F())};if(m.push(()=>{a=!0}),i>0){const F=setTimeout(()=>{w(),p(Zt("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(F)})}const b=async F=>{await F.confirmations()>=n&&(w(),d(F))};if(m.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),s>=0){const F=async()=>{try{await o()}catch(E){if(is(E,"TRANSACTION_REPLACED")){w(),p(E);return}}a||this.provider.once("block",F)};m.push(()=>{this.provider.off("block",F)}),this.provider.once("block",F)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),vN(this)}reorderedEvent(e){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Y(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gN(this,e)}replaceableTransaction(e){z(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new v2(this,this.provider);return $(r,Ou,e),r}};let yh=v2;Ou=new WeakMap;function Yz(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function gN(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function vN(t){return{orphan:"drop-transaction",tx:t}}function Zz(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class ZE extends pg{constructor(r,n,i){super(r,r.provider);W(this,"interface");W(this,"fragment");W(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);we(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}var bc;class Xz extends yN{constructor(r,n,i){super(i,n);q(this,bc,void 0);$(this,bc,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?_(this,bc).getEvent(r.topics[0]):null;return n?new ZE(r,_(this,bc),n):r})}}bc=new WeakMap;var Nh;class XE extends yh{constructor(r,n,i){super(i,n);q(this,Nh,void 0);$(this,Nh,r)}async wait(r){const n=await super.wait();return n==null?null:new Xz(_(this,Nh),this.provider,n)}}Nh=new WeakMap;class AN extends tT{constructor(r,n,i,s){super(r,n,i);W(this,"log");we(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class eW extends AN{constructor(e,r,n,i,s){super(e,r,n,new ZE(s,e.interface,i));const u=e.interface.decodeEventLog(i,this.log.data,this.log.topics);we(this,{args:u,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const gD=BigInt(0);function bN(t){return t&&typeof t.call=="function"}function wN(t){return t&&typeof t.estimateGas=="function"}function ex(t){return t&&typeof t.resolveName=="function"}function EN(t){return t&&typeof t.sendTransaction=="function"}var jh;class tW{constructor(e,r,n){q(this,jh,void 0);W(this,"fragment");if(we(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=Do(e.runner,"resolveName"),s=ex(i)?i:null;$(this,jh,async function(){const u=await Promise.all(r.inputs.map((a,o)=>n[o]==null?null:a.walkAsync(n[o],(f,d)=>f==="address"?mn(d,s):d)));return e.interface.encodeFilterTopics(r,u)}())}getTopicFilter(){return _(this,jh)}}jh=new WeakMap;function Do(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Ma(t){return t==null?null:t.provider||null}async function xN(t,e){const r=ey(Sr.dereference(t,"overrides"));return z(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),z(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=await mn(r.from)),r}async function rW(t,e,r){const n=Do(t,"resolveName"),i=ex(n)?n:null;return await Promise.all(e.map((s,u)=>s.walkAsync(r[u],(a,o)=>(o=Sr.dereference(o,a),a==="address"?mn(o,i):o))))}function nW(t){const e=async function(u){const a=await xN(u,["data"]);a.to=await t.getAddress();const o=t.interface,c=Ae(a.value||gD,"overrides.value")===gD,f=(a.data||"0x")==="0x";o.fallback&&!o.fallback.payable&&o.receive&&!f&&!c&&z(!1,"cannot send data to receive or send value to non-payable fallback","overrides",u),z(o.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const d=o.receive||o.fallback&&o.fallback.payable;return z(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),z(o.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(u){const a=Do(t.runner,"call");Y(bN(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const o=await e(u);try{return await a.call(o)}catch(c){throw HE(c)&&c.data?t.interface.makeError(c.data,o):c}},n=async function(u){const a=t.runner;Y(EN(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await a.sendTransaction(await e(u)),c=Ma(t.runner);return new XE(t.interface,c,o)},i=async function(u){const a=Do(t.runner,"estimateGas");return Y(wN(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(u))},s=async u=>await n(u);return we(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function iW(t,e){const r=function(...c){const f=t.interface.getFunction(e,c);return Y(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),f},n=async function(...c){const f=r(...c);let d={};if(f.inputs.length+1===c.length&&(d=await xN(c.pop())),f.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await rW(t.runner,f.inputs,c);return Object.assign({},d,await Br({to:t.getAddress(),data:t.interface.encodeFunctionData(f,p)}))},i=async function(...c){const f=await a(...c);return f.length===1?f[0]:f},s=async function(...c){const f=t.runner;Y(EN(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await f.sendTransaction(await n(...c)),p=Ma(t.runner);return new XE(t.interface,p,d)},u=async function(...c){const f=Do(t.runner,"estimateGas");return Y(wN(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await n(...c))},a=async function(...c){const f=Do(t.runner,"call");Y(bN(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...c);let p="0x";try{p=await f.call(d)}catch(w){throw HE(w)&&w.data?t.interface.makeError(w.data,d):w}const m=r(...c);return t.interface.decodeFunctionResult(m,p)},o=async(...c)=>r(...c).constant?await i(...c):await s(...c);return we(o,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:u,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return Y(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),c}}),o}function sW(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return Y(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),s},n=function(...i){return new tW(t,r(...i),i)};return we(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Y(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),i}}),n}const ty=Symbol.for("_ethersInternal_contract"),FN=new WeakMap;function uW(t,e){FN.set(t[ty],e)}function Tn(t){return FN.get(t[ty])}function aW(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function tx(t,e){let r,n=null;if(Array.isArray(e)){const s=function(u){if(Ft(u,32))return u;const a=t.interface.getEvent(u);return z(a,"unknown fragment","name",u),a.topicHash};r=e.map(u=>u==null?null:Array.isArray(u)?u.map(s):s(u))}else e==="*"?r=[null]:typeof e=="string"?Ft(e,32)?r=[e]:(n=t.interface.getEvent(e),z(n,"unknown fragment","event",e),r=[n.topicHash]):aW(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):z(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const u=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return u.length===1?u[0]:(u.sort(),u)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function nd(t,e){const{subs:r}=Tn(t);return r.get((await tx(t,e)).tag)||null}async function vD(t,e,r){const n=Ma(t.runner);Y(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:u}=await tx(t,r),{addr:a,subs:o}=Tn(t);let c=o.get(s);if(!c){const d={address:a||t,topics:u},p=F=>{let E=i;if(E==null)try{E=t.interface.getEvent(F.topics[0])}catch{}if(E){const A=E,x=i?t.interface.decodeEventLog(i,F.data,F.topics):[];jb(t,r,x,C=>new eW(t,C,r,A,F))}else jb(t,r,[],A=>new AN(t,A,r,F))};let m=[];c={tag:s,listeners:[],start:()=>{m.length||m.push(n.on(d,p))},stop:async()=>{if(m.length==0)return;let F=m;m=[],await Promise.all(F),n.off(d,p)}},o.set(s,c)}return c}let Nb=Promise.resolve();async function oW(t,e,r,n){await Nb;const i=await nd(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:u,once:a})=>{const o=Array.from(r);n&&o.push(n(a?null:u));try{u.call(t,...o)}catch{}return!a}),s>0}async function jb(t,e,r,n){try{await Nb}catch{}const i=oW(t,e,r,n);return Nb=i,await i}const f0=["then"];var hae;const Pd=class{constructor(e,r,n,i){W(this,"target");W(this,"interface");W(this,"runner");W(this,"filters");W(this,hae);W(this,"fallback");z(typeof e=="string"||OT(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=Tb.from(r);we(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,ty,{value:{}});let u,a=null,o=null;if(i){const d=Ma(n);o=new XE(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(Ft(e))a=e,u=Promise.resolve(e);else{const d=Do(n,"resolveName");if(!ex(d))throw Zt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});u=d.resolveName(e).then(p=>{if(p==null)throw new Error("TODO");return Tn(this).addr=p,p})}else u=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Tn(this).addr=d,d});uW(this,{addrPromise:u,addr:a,deployTx:o,subs:c});const f=new Proxy({},{get:(d,p,m)=>{if(f0.indexOf(p)>=0)return Reflect.get(d,p,m);const w=String(p),b=this.getEvent(w);if(b)return b;throw new Error(`unknown contract event: ${w}`)},has:(d,p)=>f0.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return we(this,{filters:f}),we(this,{fallback:s.receive||s.fallback?nW(this):null}),new Proxy(this,{get:(d,p,m)=>{if(p in d||f0.indexOf(p)>=0)return Reflect.get(d,p,m);const w=String(p),b=d.getFunction(w);if(b)return b;throw new Error(`unknown contract method: ${w}`)},has:(d,p)=>p in d||f0.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(String(p))})}connect(e){return new Pd(this.target,this.interface,e)}attach(e){return new Pd(e,this.interface,this.runner)}async getAddress(){return await Tn(this).addrPromise}async getDeployedCode(){const e=Ma(this.runner);Y(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Ma(this.runner);return Y(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const u=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",u)}catch(a){s(a)}};u()})}deploymentTransaction(){return Tn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),iW(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),sW(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=Tn(this),u=i||await s,{fragment:a,topics:o}=await tx(this,e),c={address:u,topics:o,fromBlock:r,toBlock:n},f=Ma(this.runner);return Y(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(c)).map(d=>{let p=a;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}return p?new ZE(d,this.interface,p):new pg(d,f)})}async on(e,r){const n=await vD(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await vD(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await jb(this,e,r,null)}async listenerCount(e){if(e){const i=await nd(this,e);return i?i.listeners.length:0}const{subs:r}=Tn(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await nd(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=Tn(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await nd(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Tn(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await nd(this,e);if(!r)return this;r.stop(),Tn(this).subs.delete(r.tag)}else{const{subs:r}=Tn(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Pd{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let Ib=Pd;hae=ty;function lW(){return Ib}class Ql extends lW(){}function qv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):z(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class cW{constructor(e){W(this,"name");we(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const CN=new RegExp("^(ipfs)://(.*)$","i"),AD=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),CN,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var _u,Ja,Pu,nl,xy,SN;const Bd=class{constructor(e,r,n){q(this,Pu);W(this,"provider");W(this,"address");W(this,"name");q(this,_u,void 0);q(this,Ja,void 0);we(this,{provider:e,address:r,name:n}),$(this,_u,null),$(this,Ja,new Ql(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return _(this,_u)==null&&$(this,_u,(async()=>{try{return await _(this,Ja).supportsInterface("0x9061b923")}catch(e){if(is(e,"CALL_EXCEPTION"))return!1;throw $(this,_u,null),e}})()),await _(this,_u)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await te(this,Pu,nl).call(this,"addr(bytes32)");return s==null||s===kb?null:s}catch(s){if(is(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const u=await te(this,Pu,nl).call(this,"addr(bytes32,uint)",[s]);if(Ft(u,20))return Qe(u)}let r=null;for(const s of this.provider.plugins)if(s instanceof cW&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await te(this,Pu,nl).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;Y(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await te(this,Pu,nl).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await te(this,Pu,nl).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${xU("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Y(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<AD.length;n++){const i=r.match(AD[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const u=qv(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:u}),{linkage:e,url:u}}case"erc721":case"erc1155":{const u=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(i[2]||"").split("/");if(o.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=o[1],f=new Ql(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const b=await f.ownerOf(c);if(a!==b)return e.push({type:"!owner",value:b}),{url:null,linkage:e};e.push({type:"owner",value:b})}else if(s==="erc1155"){const b=await f.balanceOf(a,c);if(!b)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:b.toString()})}let d=await f[u](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),s==="erc1155"&&(d=d.replace("{id}",da(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=qv(d)),e.push({type:"metadata-url",value:d});let p={};const m=await new xo(d).send();m.assertOk();try{p=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const E=m.body;return E&&e.push({type:"!metadata",value:ye(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let w=p.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(CN)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=qv(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Y(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await te(i=Bd,xy,SN).call(i,e,n);if(s!=null){const u=new Bd(e,s,r);return n!==r&&!await u.supportsWildcard()?null:u}n=n.split(".").slice(1).join(".")}}};let Cd=Bd;_u=new WeakMap,Ja=new WeakMap,Pu=new WeakSet,nl=async function(e,r){r=(r||[]).slice();const n=_(this,Ja).interface;r.unshift(Pb(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),Y(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[yz(this.name),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({ccipReadEnable:!0});try{const s=await _(this,Ja)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!is(s,"CALL_EXCEPTION"))throw s}return null},xy=new WeakSet,SN=async function(e,r){const n=await Bd.getEnsAddress(e);try{const s=await new Ql(n,["function resolver(bytes32) view returns (address)"],e).resolver(Pb(r),{enableCcipRead:!0});return s===kb?null:s}catch(i){throw i}return null},q(Cd,xy);const bD=BigInt(0);function bt(t,e){return function(r){return r==null?e:t(r)}}function rx(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(r=>t(r))}}function op(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const u of e[i])if(u in r){s=u;break}}try{const u=t[i](r[s]);u!==void 0&&(n[i]=u)}catch(u){const a=u instanceof Error?u.message:"not-an-error";Y(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n}}function fW(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}z(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function qc(t){return z(Ft(t,!0),"invalid data","value",t),t}function Kn(t){return z(Ft(t,32),"invalid hash","value",t),t}const dW=op({address:Qe,blockHash:Kn,blockNumber:De,data:qc,index:De,removed:bt(fW,!1),topics:rx(Kn),transactionHash:Kn,transactionIndex:De},{index:["logIndex"]});function hW(t){return dW(t)}const pW=op({hash:bt(Kn),parentHash:Kn,number:De,timestamp:De,nonce:bt(qc),difficulty:Ae,gasLimit:Ae,gasUsed:Ae,miner:bt(Qe),extraData:qc,baseFeePerGas:bt(Ae)});function mW(t){const e=pW(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:DN(r)),e}const yW=op({transactionIndex:De,blockNumber:De,transactionHash:Kn,address:Qe,topics:rx(Kn),data:qc,index:De,blockHash:Kn},{index:["logIndex"]});function gW(t){return yW(t)}const vW=op({to:bt(Qe,null),from:bt(Qe,null),contractAddress:bt(Qe,null),index:De,root:bt(ye),gasUsed:Ae,logsBloom:bt(qc),blockHash:Kn,hash:Kn,logs:rx(gW),blockNumber:De,cumulativeGasUsed:Ae,effectiveGasPrice:bt(Ae),status:bt(De),type:bt(De,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function AW(t){return vW(t)}function DN(t){t.to&&Ae(t.to)===bD&&(t.to="0x0000000000000000000000000000000000000000");const e=op({hash:Kn,type:r=>r==="0x"||r==null?0:De(r),accessList:bt(Io,null),blockHash:bt(Kn,null),blockNumber:bt(De,null),transactionIndex:bt(De,null),from:Qe,gasPrice:bt(Ae),maxPriorityFeePerGas:bt(Ae),maxFeePerGas:bt(Ae),gasLimit:Ae,to:bt(Qe,null),value:Ae,nonce:De,data:qc,creates:bt(Qe,null),chainId:bt(Ae,null)},{data:["input"],gasLimit:["gas"]})(t);if(e.to==null&&e.creates==null&&(e.creates=pH(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Oi.from(t.signature):e.signature=Oi.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ae(e.blockHash)===bD&&(e.blockHash=null),e}const bW="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class mg{constructor(e){W(this,"name");we(this,{name:e})}clone(){return new mg(this.name)}}class yg extends mg{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);W(this,"effectiveBlock");W(this,"txBase");W(this,"txCreate");W(this,"txDataZero");W(this,"txDataNonzero");W(this,"txAccessListStorageKey");W(this,"txAccessListAddress");const i={effectiveBlock:r};function s(u,a){let o=(n||{})[u];o==null&&(o=a),z(typeof o=="number",`invalud value for ${u}`,"costs",n),i[u]=o}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),we(this,i)}clone(){return new yg(this.effectiveBlock,this)}}class gg extends mg{constructor(r,n){super("org.ethers.plugins.network.Ens");W(this,"address");W(this,"targetNetwork");we(this,{address:r||bW,targetNetwork:n??1})}clone(){return new gg(this.address,this.targetNetwork)}}const Gv=new Map;var wc,Ec,Bu;const Ol=class{constructor(e,r){q(this,wc,void 0);q(this,Ec,void 0);q(this,Bu,void 0);$(this,wc,e),$(this,Ec,Ae(r)),$(this,Bu,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return _(this,wc)}set name(e){$(this,wc,e)}get chainId(){return _(this,Ec)}set chainId(e){$(this,Ec,Ae(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ae(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ae(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ae(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(_(this,Bu).values())}attachPlugin(e){if(_(this,Bu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return _(this,Bu).set(e.name,e.clone()),this}getPlugin(e){return _(this,Bu).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new Ol(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new yg;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=Io(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(wW(),e==null)return Ol.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=Gv.get(e);if(r)return r();if(typeof e=="bigint")return new Ol("unknown",e);z(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){z(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new Ol(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new gg(e.ensAddress,e.ensNetwork)),r}z(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=Gv.get(e);n&&z(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Gv.set(e,r)}};let Ns=Ol;wc=new WeakMap,Ec=new WeakMap,Bu=new WeakMap;let wD=!1;function wW(){if(wD)return;wD=!0;function t(e,r,n){const i=function(){const s=new Ns(e,r);return n.ensNetwork!=null&&s.attachPlugin(new gg(null,n.ensNetwork)),n.priorityFee,s.attachPlugin(new yg),s};Ns.register(e,i),Ns.register(r,i),n.altNames&&n.altNames.forEach(s=>{Ns.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{}),t("classic",61,{}),t("classicKotti",6,{}),t("xdai",100,{ensNetwork:1}),t("optimism",10,{ensNetwork:1,etherscan:{url:"https://api-optimistic.etherscan.io/"}}),t("optimism-goerli",420,{etherscan:{url:"https://api-goerli-optimistic.etherscan.io/"}}),t("arbitrum",42161,{ensNetwork:1,etherscan:{url:"https://api.arbiscan.io/"}}),t("arbitrum-goerli",421613,{etherscan:{url:"https://api-goerli.arbiscan.io/"}}),t("matic",137,{ensNetwork:1,etherscan:{url:"https://api.polygonscan.com/"}}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],etherscan:{url:"https://api-testnet.polygonscan.com/"}}),t("bnb",56,{ensNetwork:1,etherscan:{url:"http://api.bscscan.com"}}),t("bnbt",97,{etherscan:{url:"http://api-testnet.bscscan.com"}})}function Rb(t){return JSON.parse(JSON.stringify(t))}var Cs,Rn,Tu,Ki,xc,q0;class EW{constructor(e){q(this,xc);q(this,Cs,void 0);q(this,Rn,void 0);q(this,Tu,void 0);q(this,Ki,void 0);$(this,Cs,e),$(this,Rn,null),$(this,Tu,4e3),$(this,Ki,-2)}get pollingInterval(){return _(this,Tu)}set pollingInterval(e){$(this,Tu,e)}start(){_(this,Rn)||($(this,Rn,_(this,Cs)._setTimeout(te(this,xc,q0).bind(this),_(this,Tu))),te(this,xc,q0).call(this))}stop(){_(this,Rn)&&(_(this,Cs)._clearTimeout(_(this,Rn)),$(this,Rn,null))}pause(e){this.stop(),e&&$(this,Ki,-2)}resume(){this.start()}}Cs=new WeakMap,Rn=new WeakMap,Tu=new WeakMap,Ki=new WeakMap,xc=new WeakSet,q0=async function(){try{const e=await _(this,Cs).getBlockNumber();if(_(this,Ki)===-2){$(this,Ki,e);return}if(e!==_(this,Ki)){for(let r=_(this,Ki)+1;r<=e;r++){if(_(this,Rn)==null)return;await _(this,Cs).emit("block",r)}$(this,Ki,e)}}catch{}_(this,Rn)!=null&&$(this,Rn,_(this,Cs)._setTimeout(te(this,xc,q0).bind(this),_(this,Tu)))};var Ya,Za,Nu;class kN{constructor(e){q(this,Ya,void 0);q(this,Za,void 0);q(this,Nu,void 0);$(this,Ya,e),$(this,Nu,!1),$(this,Za,r=>{this._poll(r,_(this,Ya))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){_(this,Nu)||($(this,Nu,!0),_(this,Za).call(this,-2),_(this,Ya).on("block",_(this,Za)))}stop(){_(this,Nu)&&($(this,Nu,!1),_(this,Ya).off("block",_(this,Za)))}pause(e){this.stop()}resume(){this.start()}}Ya=new WeakMap,Za=new WeakMap,Nu=new WeakMap;var Fy;class xW extends kN{constructor(r,n){super(r);q(this,Fy,void 0);$(this,Fy,Rb(n))}async _poll(r,n){throw new Error("@TODO")}}Fy=new WeakMap;var Fc;class FW extends kN{constructor(r,n){super(r);q(this,Fc,void 0);$(this,Fc,n)}async _poll(r,n){const i=await n.getTransactionReceipt(_(this,Fc));i&&n.emit(_(this,Fc),i)}}Fc=new WeakMap;var Ss,Cc,Sc,ju,Ln,Cy,ON;class nx{constructor(e,r){q(this,Cy);q(this,Ss,void 0);q(this,Cc,void 0);q(this,Sc,void 0);q(this,ju,void 0);q(this,Ln,void 0);$(this,Ss,e),$(this,Cc,Rb(r)),$(this,Sc,te(this,Cy,ON).bind(this)),$(this,ju,!1),$(this,Ln,-2)}start(){_(this,ju)||($(this,ju,!0),_(this,Ln)===-2&&_(this,Ss).getBlockNumber().then(e=>{$(this,Ln,e)}),_(this,Ss).on("block",_(this,Sc)))}stop(){_(this,ju)&&($(this,ju,!1),_(this,Ss).off("block",_(this,Sc)))}pause(e){this.stop(),e&&$(this,Ln,-2)}resume(){this.start()}}Ss=new WeakMap,Cc=new WeakMap,Sc=new WeakMap,ju=new WeakMap,Ln=new WeakMap,Cy=new WeakSet,ON=async function(e){if(_(this,Ln)===-2)return;const r=Rb(_(this,Cc));r.fromBlock=_(this,Ln)+1,r.toBlock=e;const n=await _(this,Ss).getLogs(r);if(n.length===0){_(this,Ln)<e-60&&$(this,Ln,e-60);return}for(const i of n)_(this,Ss).emit(_(this,Cc),i),$(this,Ln,i.blockNumber)};const CW=BigInt(2),SW=10;function d0(t){return t&&typeof t.then=="function"}function G0(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,u)=>(s[u]=n[u],s),{})}return n})}class _N{constructor(e){W(this,"name");we(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function DW(t){return JSON.parse(JSON.stringify(t))}function Lb(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Kv(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"pending":case"debug":case"error":case"network":return{type:t,tag:t}}if(Ft(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:G0("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:G0("orphan",r),filter:DW(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?Lb(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],u=a=>{Ft(a)?i.push(a):s.push((async()=>{i.push(await mn(a,e))})())};Array.isArray(r.address)?r.address.forEach(u):u(r.address),s.length&&await Promise.all(s),n.address=Lb(i.map(a=>a.toLowerCase()))}return{filter:n,tag:G0("event",n),type:"event"}}z(!1,"unknown ProviderEvent","event",t)}function Jv(){return new Date().getTime()}const kW={cacheTimeout:250};var br,Iu,wr,Dc,cn,Xa,Ru,Ds,Ih,Mn,kc,Rh,qr,Bn,Lh,Mb,Mh,$b,eo,id,Sy,PN,to,sd,Oc,K0;class OW{constructor(e,r){q(this,qr);q(this,Lh);q(this,Mh);q(this,eo);q(this,Sy);q(this,to);q(this,Oc);q(this,br,void 0);q(this,Iu,void 0);q(this,wr,void 0);q(this,Dc,void 0);q(this,cn,void 0);q(this,Xa,void 0);q(this,Ru,void 0);q(this,Ds,void 0);q(this,Ih,void 0);q(this,Mn,void 0);q(this,kc,void 0);q(this,Rh,void 0);if($(this,Rh,Object.assign({},kW,r||{})),e==="any")$(this,Xa,!0),$(this,cn,null);else if(e){const n=Ns.from(e);$(this,Xa,!1),$(this,cn,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else $(this,Xa,!1),$(this,cn,null);$(this,Ds,-1),$(this,Ru,new Map),$(this,br,new Map),$(this,Iu,new Map),$(this,wr,null),$(this,Dc,!1),$(this,Ih,1),$(this,Mn,new Map),$(this,kc,!1)}get provider(){return this}get plugins(){return Array.from(_(this,Iu).values())}attachPlugin(e){if(_(this,Iu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return _(this,Iu).set(e.name,e.connect(this)),this}getPlugin(e){return _(this,Iu).get(e)||null}get disableCcipRead(){return _(this,kc)}set disableCcipRead(e){$(this,kc,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),u=[];for(let a=0;a<n.length;a++){const o=n[a],c=o.replace("{sender}",i).replace("{data}",s),f=new xo(c);o.indexOf("{data}")===-1&&(f.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:n});let d="unknown error";const p=await f.send();try{const m=p.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:m}),m.data;m.message&&(d=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:m})}catch{}Y(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:d}}),u.push(d)}Y(!1,`error encountered during CCIP fetch: ${u.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:u}})}_wrapBlock(e,r){return new Jz(mW(e),this)}_wrapLog(e,r){return new pg(hW(e),this)}_wrapTransactionReceipt(e,r){return new yN(AW(e),this)}_wrapTransactionResponse(e,r){return new yh(DN(e),this)}_detectNetwork(){Y(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Y(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=De(await te(this,qr,Bn).call(this,{method:"getBlockNumber"}),"%response");return _(this,Ds)>=0&&$(this,Ds,e),e}_getAddress(e){return mn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(Ft(e))return Ft(e,32)?e:El(e);if(typeof e=="bigint"&&(e=De(e,"blockTag")),typeof e=="number")return e>=0?El(e):_(this,Ds)>=0?El(_(this,Ds)+e):this.getBlockNumber().then(r=>El(r+e));z(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?Lb(o.map(c=>c.toLowerCase())):o.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(o,c,f)=>{let d;switch(o.length){case 0:break;case 1:d=o[0];break;default:o.sort(),d=o}if(n&&(c!=null||f!=null))throw new Error("invalid filter");const p={};return d&&(p.address=d),r.length&&(p.topics=r),c&&(p.fromBlock=c),f&&(p.toBlock=f),n&&(p.blockHash=n),p};let s=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)s.push(this._getAddress(o));else s.push(this._getAddress(e.address));let u;"fromBlock"in e&&(u=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(o=>typeof o!="string").length||u!=null&&typeof u!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),u,a]).then(o=>i(o[0],o[1],o[2])):i(s,u,a)}_getTransactionRequest(e){const r=ey(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=mn(r[i]);d0(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);d0(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(_(this,cn)==null){const i=this._detectNetwork().then(s=>(this.emit("network",s,null),s),s=>{throw _(this,cn)===i&&$(this,cn,null),s});return $(this,cn,i),(await i).clone()}const e=_(this,cn),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(_(this,Xa)?(this.emit("network",n,r),_(this,cn)===e&&$(this,cn,Promise.resolve(n))):Y(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const{block:e,gasPrice:r}=await Br({block:this.getBlock("latest"),gasPrice:(async()=>{try{const s=await te(this,qr,Bn).call(this,{method:"getGasPrice"});return Ae(s,"%response")}catch{}return null})()});let n=null,i=null;return e&&e.baseFeePerGas&&(i=BigInt("1000000000"),n=e.baseFeePerGas*CW+i),new Kz(r,n,i)}async estimateGas(e){let r=this._getTransactionRequest(e);return d0(r)&&(r=await r),Ae(await te(this,qr,Bn).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Br({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await te(this,Mh,$b).call(this,te(this,Lh,Mb).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ae(await te(this,eo,id).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return De(await te(this,eo,id).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return ye(await te(this,eo,id).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=Ae(r,"position");return ye(await te(this,eo,id).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await Br({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Zm.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await Br({network:this.getNetwork(),params:te(this,Sy,PN).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await Br({network:this.getNetwork(),params:te(this,qr,Bn).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Br({network:this.getNetwork(),params:te(this,qr,Bn).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await te(this,qr,Bn).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Br({network:this.getNetwork(),result:te(this,qr,Bn).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:ye(r)}async getLogs(e){let r=this._getFilter(e);d0(r)&&(r=await r);const{network:n,params:i}=await Br({network:this.getNetwork(),params:te(this,qr,Bn).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){Y(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Cd.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Qe(e);const r=Pb(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Cd.getEnsAddress(this),s=await new Ql(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===kb)return null;const a=await new Ql(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(is(n,"BAD_DATA")&&n.value==="0x"||is(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,u)=>{let a=null;const o=async c=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&c-f.blockNumber+1>=i){s(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",o)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",o),u(Zt("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){Y(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=_(this,Mn).get(e);r&&(r.timer&&clearTimeout(r.timer),_(this,Mn).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=yf(this,Ih)._++,i=()=>{_(this,Mn).delete(n),e()};if(this.paused)_(this,Mn).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);_(this,Mn).set(n,{timer:s,func:i,time:Jv()})}return n}_forEachSubscriber(e){for(const r of _(this,br).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new _N(e.type);case"block":return new EW(this);case"event":return new nx(this,e.filter);case"transaction":return new FW(this,e.hash);case"orphan":return new xW(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of _(this,br).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),_(this,wr)!=null&&r.pause(_(this,wr));break}}async on(e,r){const n=await te(this,Oc,K0).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,_(this,wr)!=null&&n.subscriber.pause(_(this,wr))),this}async once(e,r){const n=await te(this,Oc,K0).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,_(this,wr)!=null&&n.subscriber.pause(_(this,wr))),this}async emit(e,...r){const n=await te(this,to,sd).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:u})=>{const a=new tT(this,u?null:s,e);try{s.call(this,...r,a)}catch{}return!u}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),_(this,br).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await te(this,to,sd).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of _(this,br).values())r+=n.length;return r}async listeners(e){if(e){const n=await te(this,to,sd).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of _(this,br).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await te(this,to,sd).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),_(this,br).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await te(this,Oc,K0).call(this,e);n&&i.stop(),_(this,br).delete(r)}else for(const[r,{started:n,subscriber:i}]of _(this,br))n&&i.stop(),_(this,br).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return _(this,Dc)}destroy(){this.removeAllListeners();for(const e of _(this,Mn).keys())this._clearTimeout(e);$(this,Dc,!0)}get paused(){return _(this,wr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if($(this,Ds,-1),_(this,wr)!=null){if(_(this,wr)==!!e)return;Y(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),$(this,wr,!!e);for(const r of _(this,Mn).values())r.timer&&clearTimeout(r.timer),r.time=Jv()-r.time}resume(){if(_(this,wr)!=null){this._forEachSubscriber(e=>e.resume()),$(this,wr,null);for(const e of _(this,Mn).values()){let r=e.time;r<0&&(r=0),e.time=Jv(),setTimeout(e.func,r)}}}}br=new WeakMap,Iu=new WeakMap,wr=new WeakMap,Dc=new WeakMap,cn=new WeakMap,Xa=new WeakMap,Ru=new WeakMap,Ds=new WeakMap,Ih=new WeakMap,Mn=new WeakMap,kc=new WeakMap,Rh=new WeakMap,qr=new WeakSet,Bn=async function(e){const r=_(this,Rh).cacheTimeout;if(r<0)return await this._perform(e);const n=G0(e.method,e);let i=_(this,Ru).get(n);return i||(i=this._perform(e),_(this,Ru).set(n,i),setTimeout(()=>{_(this,Ru).get(n)===i&&_(this,Ru).delete(n)},r)),await i},Lh=new WeakSet,Mb=async function(e,r,n){Y(n<SW,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=ey(e);try{return ye(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&HE(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&Ot(s.data,0,4)==="0x556f1830"){const u=s.data,a=await mn(i.to,this);let o;try{o=NW(Ot(s.data,4))}catch(d){Y(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:u}})}Y(o.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:u,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const c=await this.ccipReadFetch(i,o.calldata,o.urls);Y(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:o.errorArgs}});const f={to:a,data:zt([o.selector,TW([c,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const d=await te(this,Lh,Mb).call(this,f,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:d}),d}}throw s}},Mh=new WeakSet,$b=async function(e){const{value:r}=await Br({network:this.getNetwork(),value:e});return r},eo=new WeakSet,id=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await te(this,Mh,$b).call(this,te(this,qr,Bn).call(this,Object.assign(e,{address:i,blockTag:s})))},Sy=new WeakSet,PN=async function(e,r){if(Ft(e,32))return await te(this,qr,Bn).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await te(this,qr,Bn).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},to=new WeakSet,sd=async function(e,r){let n=await Kv(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Kv({orphan:"drop-log",log:r[0]},this)),_(this,br).get(n.tag)||null},Oc=new WeakSet,K0=async function(e){const r=await Kv(e,this),n=r.tag;let i=_(this,br).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},_(this,br).set(n,i)),i};function _W(t,e){try{const r=Ub(t,e);if(r)return zE(r)}catch{}return null}function Ub(t,e){if(t==="0x")return null;try{const r=De(Ot(t,e,e+32)),n=De(Ot(t,r,r+32));return Ot(t,r+32,r+32+n)}catch{}return null}function ED(t){const e=pn(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function PW(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const BW=new Uint8Array([]);function TW(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(BW),r+=32;for(let n=0;n<t.length;n++){const i=Te(t[n]);e[n]=ED(r),e.push(ED(i.length)),e.push(PW(i)),r+=32+Math.ceil(i.length/32)*32}return zt(e)}const xD="0x0000000000000000000000000000000000000000000000000000000000000000";function NW(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Y(Ul(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Ot(t,0,32);Y(Ot(r,0,12)===Ot(xD,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ot(r,12);try{const n=[],i=De(Ot(t,32,64)),s=De(Ot(t,i,i+32)),u=Ot(t,i+32);for(let a=0;a<s;a++){const o=_W(u,a*32);if(o==null)throw new Error("abort");n.push(o)}e.urls=n}catch{Y(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Ub(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Y(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Y(Ot(t,100,128)===Ot(xD,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ot(t,96,100);try{const n=Ub(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Y(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Go(t,e){if(t.provider)return t.provider;Y(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function FD(t,e){let r=ey(e);if(r.to!=null&&(r.to=mn(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),mn(n,t)]).then(([i,s])=>(z(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await Br(r)}class jW{constructor(e){W(this,"provider");we(this,{provider:e||null})}async getNonce(e){return Go(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await FD(this,e)}async populateTransaction(e){const r=Go(this,"populateTransaction"),n=await FD(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const u=Ae(n.chainId);z(u===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?z(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&z(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const u=await r.getFeeData();Y(u.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=u.gasPrice)}else{const u=await r.getFeeData();if(n.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=u.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(Y(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=u.gasPrice),n.type=0):Y(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=u.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return await Br(n)}async estimateGas(e){return Go(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Go(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Go(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Go(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=Zm.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}}function IW(t){return JSON.parse(JSON.stringify(t))}var Gr,Ji,ro,Lu,no,_c,$h,Vb,Uh,Hb;class BN{constructor(e){q(this,$h);q(this,Uh);q(this,Gr,void 0);q(this,Ji,void 0);q(this,ro,void 0);q(this,Lu,void 0);q(this,no,void 0);q(this,_c,void 0);$(this,Gr,e),$(this,Ji,null),$(this,ro,te(this,$h,Vb).bind(this)),$(this,Lu,!1),$(this,no,null),$(this,_c,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){_(this,Lu)||($(this,Lu,!0),te(this,$h,Vb).call(this,-2))}stop(){_(this,Lu)&&($(this,Lu,!1),$(this,_c,!0),te(this,Uh,Hb).call(this),_(this,Gr).off("block",_(this,ro)))}pause(e){e&&te(this,Uh,Hb).call(this),_(this,Gr).off("block",_(this,ro))}resume(){this.start()}}Gr=new WeakMap,Ji=new WeakMap,ro=new WeakMap,Lu=new WeakMap,no=new WeakMap,_c=new WeakMap,$h=new WeakSet,Vb=async function(e){try{_(this,Ji)==null&&$(this,Ji,this._subscribe(_(this,Gr)));let r=null;try{r=await _(this,Ji)}catch(s){if(!is(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){$(this,Ji,null),_(this,Gr)._recoverSubscriber(this,this._recover(_(this,Gr)));return}const n=await _(this,Gr).getNetwork();if(_(this,no)||$(this,no,n),_(this,no).chainId!==n.chainId)throw new Error("chaid changed");if(_(this,_c))return;const i=await _(this,Gr).send("eth_getFilterChanges",[r]);await this._emitResults(_(this,Gr),i)}catch(r){console.log("@TODO",r)}_(this,Gr).once("block",_(this,ro))},Uh=new WeakSet,Hb=function(){const e=_(this,Ji);e&&($(this,Ji,null),e.then(r=>{_(this,Gr).send("eth_uninstallFilter",[r])}))};var io;class RW extends BN{constructor(r,n){super(r);q(this,io,void 0);$(this,io,IW(n))}_recover(r){return new nx(r,_(this,io))}async _subscribe(r){return await r.send("eth_newFilter",[_(this,io)])}async _emitResults(r,n){for(const i of n)r.emit(_(this,io),r._wrapLog(i,r._network))}}io=new WeakMap;class LW extends BN{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const MW="bigint,boolean,function,number,string,symbol".split(/,/g);function J0(t){if(t==null||MW.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(J0);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function $W(t){return new Promise(e=>{setTimeout(e,t)})}function Ko(t){return t&&t.toLowerCase()}function CD(t){return t&&typeof t.pollingInterval=="number"}const UW={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250};class Yv extends jW{constructor(r,n){super(r);W(this,"address");n=Qe(n),we(this,{address:n})}connect(r){Y(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=J0(r),i=[];if(n.from){const u=n.from;i.push((async()=>{const a=await mn(u,this.provider);z(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const u=n.to;i.push((async()=>{n.to=await mn(u,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,u)=>{const a=[1e3,100],o=async()=>{const c=await this.provider.getTransaction(i);if(c!=null){s(c.replaceableTransaction(n));return}this.provider._setTimeout(()=>{o()},a.pop()||4e3)};o()})}async signTransaction(r){const n=J0(r);if(n.from){const s=await mn(n.from,this.provider);z(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Rs(r):r;return await this.provider.send("personal_sign",[ye(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=J0(i),u=await Xm.resolveNames(r,n,s,async a=>{const o=await mn(a);return z(o!=null,"TypedData does not support null address","value",a),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Xm.getPayload(u.domain,n,u.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Rs(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ye(n)])}}var so,Pc,ks,Yi,gi,Os,Vh,zb;class VW extends OW{constructor(r,n){const i={};n&&n.cacheTimeout!=null&&(i.cacheTimeout=n.cacheTimeout);super(r,i);q(this,Vh);q(this,so,void 0);q(this,Pc,void 0);q(this,ks,void 0);q(this,Yi,void 0);q(this,gi,void 0);q(this,Os,void 0);$(this,Pc,1),$(this,so,Object.assign({},UW,n||{})),$(this,ks,[]),$(this,Yi,null),$(this,Os,null);{let u=null;const a=new Promise(o=>{u=o});$(this,gi,{promise:a,resolve:u})}const s=this._getOption("staticNetwork");s&&(z(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),$(this,Os,s))}_getOption(r){return _(this,so)[r]}get _network(){return Y(_(this,Os),"network is not available yet","NETWORK_ERROR"),_(this,Os)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&Ae(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)return r;if(this.ready)return Ns.from(Ae(await this.send("eth_chainId",[])));const n={id:yf(this,Pc)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0]}catch(s){throw this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Ns.from(Ae(i.result));throw this.getRpcError(n,i)}_start(){_(this,gi)==null||_(this,gi).resolve==null||(_(this,gi).resolve(),$(this,gi,null),(async()=>{for(;_(this,Os)==null&&!this.destroyed;)try{$(this,Os,await this._detectNetwork())}catch(r){console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Zt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await $W(1e3)}te(this,Vh,zb).call(this)})())}async _waitUntilReady(){if(_(this,gi)!=null)return await _(this,gi).promise}_getSubscriber(r){return r.type==="pending"?new LW(this):r.type==="event"?this._getOption("polling")?new nx(this,r.filter):new RW(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new _N("orphan"):super._getSubscriber(r)}get ready(){return _(this,gi)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=El(Ae(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=ye(r[i]))}),r.accessList&&(n.accessList=Io(r.accessList)),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ko(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ko(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ko(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ko(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Ko):r.filter.address=Ko(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Zt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const a=Wb(s),o=mh.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],a?a.data:null);return o.info={error:s,payload:r},o}const u=JSON.stringify(zW(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Zt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const a=r.params[0];if(u.match(/insufficient funds|base fee exceeds gas limit/i))return Zt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(u.match(/nonce/i)&&u.match(/too low/i))return Zt("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(u.match(/replacement transaction/i)&&u.match(/underpriced/i))return Zt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(u.match(/only replay-protected/i))return Zt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:a,info:{error:s}}})}return u.match(/the method .* does not exist/i)?Zt("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s}}):Zt("could not coalesce error","UNKNOWN_ERROR",{error:s})}send(r,n){if(this.destroyed)return Promise.reject(Zt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=yf(this,Pc)._++,s=new Promise((u,a)=>{_(this,ks).push({resolve:u,reject:a,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return te(this,Vh,zb).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new Yv(this,s[r])}const{accounts:i}=await Br({network:this.getNetwork(),accounts:n});r=Qe(r);for(const s of i)if(Qe(s)===r)return new Yv(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Yv(this,n))}destroy(){_(this,Yi)&&(clearTimeout(_(this,Yi)),$(this,Yi,null));for(const{payload:r,reject:n}of _(this,ks))n(Zt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));$(this,ks,[]),super.destroy()}}so=new WeakMap,Pc=new WeakMap,ks=new WeakMap,Yi=new WeakMap,gi=new WeakMap,Os=new WeakMap,Vh=new WeakSet,zb=function(){if(_(this,Yi))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");$(this,Yi,setTimeout(()=>{$(this,Yi,null);const n=_(this,ks);for($(this,ks,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==_(this,so).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(u=>u.payload)).length>_(this,so).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(u=>u.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const u=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:u});for(const{resolve:a,reject:o,payload:c}of i){if(this.destroyed){o(Zt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const f=u.filter(d=>d.id===c.id)[0];if(f==null){const d=Zt("missing response for request","BAD_DATA",{value:u,info:{payload:c}});this.emit("error",d),o(d);continue}if("error"in f){o(this.getRpcError(c,f));continue}a(f.result)}}catch(u){this.emit("debug",{action:"receiveRpcError",error:u});for(const{reject:a}of i)a(u)}})()}},r))};var Mu;class HW extends VW{constructor(r,n){super(r,n);q(this,Mu,void 0);$(this,Mu,4e3)}_getSubscriber(r){const n=super._getSubscriber(r);return CD(n)&&(n.pollingInterval=_(this,Mu)),n}get pollingInterval(){return _(this,Mu)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");$(this,Mu,r),this._forEachSubscriber(n=>{CD(n)&&(n.pollingInterval=_(this,Mu))})}}Mu=new WeakMap;function Wb(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")&&Ft(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=Wb(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Wb(JSON.parse(t))}catch{}return null}function Qb(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)Qb(t[r],e);if(typeof t=="string")try{return Qb(JSON.parse(t),e)}catch{}}}function zW(t){const e=[];return Qb(t,e),e}var Bc;class WW extends HW{constructor(r,n){super(n,{batchMaxCount:1});q(this,Bc,void 0);$(this,Bc,async(i,s)=>{const u={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const a=await r.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:a}),a}catch(a){const o=new Error(a.message);throw o.code=a.code,o.data=a.data,o.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:o}),o}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){z(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await _(this,Bc).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await _(this,Bc).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}}Bc=new WeakMap;const QW=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"string",name:"jsonMessage",type:"string"}],name:"Message",type:"event"},{inputs:[{internalType:"string",name:"jsonMessage",type:"string"}],name:"message",outputs:[],stateMutability:"nonpayable",type:"function"}],ry={chainId:`0x${137 .toString(16)}`,chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com","https://matic-mainnet-archive-rpc.bwarelabs.com"],iconUrls:["https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0/logo.png"],blockExplorerUrls:["https://polygonscan.com/"],nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18}},qW={[ry.chainId]:ry},GW={};({...qW,...GW});const KW=[-32603,4902];function ix(){if(window.ethereum)return window.ethereum;throw"No wallet detected. Use Metamask, Trust Wallet or Brave Browser."}async function JW(){try{await ix().request({method:"wallet_switchEthereumChain",params:[{chainId:ry.chainId}]})}catch(t){if(KW.includes(t.code))YW();else throw t}}async function YW(){await ix().request({method:"wallet_addEthereumChain",params:[ry]}),window.location.reload()}function ZW(t,e){return JSON.stringify({ns:"4dchan.org",v:0,op:t,data:e})}async function lr(t,e,r){console.log("web3.sendMessage",{operation:t,data:e,from:r});const i=await gh().getSigner(r);return new Ql($l.contract.address,QW,i).message(ZW(t,e))}async function XW(t,e,r){const i=await gh().getSigner(t),s=zU(r.toString());return i.sendTransaction({to:e,value:s})}function gh(){return new WW(ix())}async function eQ(){return gh().send("eth_requestAccounts",[])}function TN(t){return t?t==="137"||t===137:!1}const NN=k.createContext({provider:void 0,chainId:void 0,accounts:[],balance:void 0,gasPrice:void 0,network:void 0,connect:async()=>({}),disconnect:()=>({}),connected:!1}),tQ=({children:t})=>{const[e,r]=k.useState(),[n,i]=k.useState(),[s,u]=k.useState(),[a,o]=k.useState([]),[c,f]=k.useState(),[d,p]=k.useState(),[m,w]=k.useState(!1);k.useEffect(()=>{const A=async()=>{try{const C=gh(),S=await C.getNetwork(),O=await C.listAccounts().then(g=>g.map(h=>h.address.toLowerCase()));if(r(C),u(S.chainId.toString()),o(O),i(S),O[0]){const g=await C.getBalance(O[0]);f(Number(bb(g,"ether")))}}catch(C){console.error({updateProvider:C})}};let x;return m&&(x=setInterval(A,2500),A()),()=>x&&clearInterval(x)},[m]),k.useEffect(()=>{const A=async()=>{try{const C=await(e==null?void 0:e.getFeeData());p(Number((C==null?void 0:C.gasPrice)??void 0))}catch(C){console.error({updateGasPrice:C})}};let x;return e&&(x=setInterval(A,6e4),A()),()=>x&&clearInterval(x)},[e]);const b=k.useCallback(async()=>{try{const A=gh(),x=await eQ(),C=await A.getNetwork();return r(A),o(x),i(C),u(C.chainId.toString()),w(!0),{success:x.length>0}}catch(A){return{error:A}}},[]),F=k.useCallback(()=>{r(void 0),o([]),i(void 0),u(void 0),w(!1)},[]),E={provider:e,chainId:s,accounts:a,balance:c,gasPrice:d,connect:b,disconnect:F,network:n,connected:m};return l.jsx(NN.Provider,{value:E,children:t})},Fn=()=>k.useContext(NN);function Sd(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function rQ(){this.__data__=[],this.size=0}function lp(t,e){return t===e||t!==t&&e!==e}function vg(t,e){for(var r=t.length;r--;)if(lp(t[r][0],e))return r;return-1}var nQ=Array.prototype,iQ=nQ.splice;function sQ(t){var e=this.__data__,r=vg(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iQ.call(e,r,1),--this.size,!0}function uQ(t){var e=this.__data__,r=vg(e,t);return r<0?void 0:e[r][1]}function aQ(t){return vg(this.__data__,t)>-1}function oQ(t,e){var r=this.__data__,n=vg(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Js(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Js.prototype.clear=rQ;Js.prototype.delete=sQ;Js.prototype.get=uQ;Js.prototype.has=aQ;Js.prototype.set=oQ;function lQ(){this.__data__=new Js,this.size=0}function cQ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function fQ(t){return this.__data__.get(t)}function dQ(t){return this.__data__.has(t)}var hQ=typeof global=="object"&&global&&global.Object===Object&&global;const jN=hQ;var pQ=typeof self=="object"&&self&&self.Object===Object&&self,mQ=jN||pQ||Function("return this")();const ri=mQ;var yQ=ri.Symbol;const Xn=yQ;var IN=Object.prototype,gQ=IN.hasOwnProperty,vQ=IN.toString,Lf=Xn?Xn.toStringTag:void 0;function AQ(t){var e=gQ.call(t,Lf),r=t[Lf];try{t[Lf]=void 0;var n=!0}catch{}var i=vQ.call(t);return n&&(e?t[Lf]=r:delete t[Lf]),i}var bQ=Object.prototype,wQ=bQ.toString;function EQ(t){return wQ.call(t)}var xQ="[object Null]",FQ="[object Undefined]",SD=Xn?Xn.toStringTag:void 0;function Ys(t){return t==null?t===void 0?FQ:xQ:SD&&SD in Object(t)?AQ(t):EQ(t)}function Pi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var CQ="[object AsyncFunction]",SQ="[object Function]",DQ="[object GeneratorFunction]",kQ="[object Proxy]";function RN(t){if(!Pi(t))return!1;var e=Ys(t);return e==SQ||e==DQ||e==CQ||e==kQ}var OQ=ri["__core-js_shared__"];const Zv=OQ;var DD=function(){var t=/[^.]+$/.exec(Zv&&Zv.keys&&Zv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _Q(t){return!!DD&&DD in t}var PQ=Function.prototype,BQ=PQ.toString;function Ro(t){if(t!=null){try{return BQ.call(t)}catch{}try{return t+""}catch{}}return""}var TQ=/[\\^$.*+?()[\]{}|]/g,NQ=/^\[object .+?Constructor\]$/,jQ=Function.prototype,IQ=Object.prototype,RQ=jQ.toString,LQ=IQ.hasOwnProperty,MQ=RegExp("^"+RQ.call(LQ).replace(TQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Q(t){if(!Pi(t)||_Q(t))return!1;var e=RN(t)?MQ:NQ;return e.test(Ro(t))}function UQ(t,e){return t==null?void 0:t[e]}function Lo(t,e){var r=UQ(t,e);return $Q(r)?r:void 0}var VQ=Lo(ri,"Map");const vh=VQ;var HQ=Lo(Object,"create");const Ah=HQ;function zQ(){this.__data__=Ah?Ah(null):{},this.size=0}function WQ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var QQ="__lodash_hash_undefined__",qQ=Object.prototype,GQ=qQ.hasOwnProperty;function KQ(t){var e=this.__data__;if(Ah){var r=e[t];return r===QQ?void 0:r}return GQ.call(e,t)?e[t]:void 0}var JQ=Object.prototype,YQ=JQ.hasOwnProperty;function ZQ(t){var e=this.__data__;return Ah?e[t]!==void 0:YQ.call(e,t)}var XQ="__lodash_hash_undefined__";function eq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ah&&e===void 0?XQ:e,this}function ko(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ko.prototype.clear=zQ;ko.prototype.delete=WQ;ko.prototype.get=KQ;ko.prototype.has=ZQ;ko.prototype.set=eq;function tq(){this.size=0,this.__data__={hash:new ko,map:new(vh||Js),string:new ko}}function rq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ag(t,e){var r=t.__data__;return rq(e)?r[typeof e=="string"?"string":"hash"]:r.map}function nq(t){var e=Ag(this,t).delete(t);return this.size-=e?1:0,e}function iq(t){return Ag(this,t).get(t)}function sq(t){return Ag(this,t).has(t)}function uq(t,e){var r=Ag(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Zs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zs.prototype.clear=tq;Zs.prototype.delete=nq;Zs.prototype.get=iq;Zs.prototype.has=sq;Zs.prototype.set=uq;var aq=200;function oq(t,e){var r=this.__data__;if(r instanceof Js){var n=r.__data__;if(!vh||n.length<aq-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Zs(n)}return r.set(t,e),this.size=r.size,this}function ss(t){var e=this.__data__=new Js(t);this.size=e.size}ss.prototype.clear=lQ;ss.prototype.delete=cQ;ss.prototype.get=fQ;ss.prototype.has=dQ;ss.prototype.set=oq;function lq(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var cq=function(){try{var t=Lo(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ny=cq;function LN(t,e,r){e=="__proto__"&&ny?ny(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var fq=Object.prototype,dq=fq.hasOwnProperty;function MN(t,e,r){var n=t[e];(!(dq.call(t,e)&&lp(n,r))||r===void 0&&!(e in t))&&LN(t,e,r)}function cp(t,e,r,n){var i=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var a=e[s],o=n?n(r[a],t[a],a,r,t):void 0;o===void 0&&(o=t[a]),i?LN(r,a,o):MN(r,a,o)}return r}function hq(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Bi(t){return t!=null&&typeof t=="object"}var pq="[object Arguments]";function kD(t){return Bi(t)&&Ys(t)==pq}var $N=Object.prototype,mq=$N.hasOwnProperty,yq=$N.propertyIsEnumerable,gq=kD(function(){return arguments}())?kD:function(t){return Bi(t)&&mq.call(t,"callee")&&!yq.call(t,"callee")};const sx=gq;var vq=Array.isArray;const wn=vq;function Aq(){return!1}var UN=typeof yn=="object"&&yn&&!yn.nodeType&&yn,OD=UN&&typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,bq=OD&&OD.exports===UN,_D=bq?ri.Buffer:void 0,wq=_D?_D.isBuffer:void 0,Eq=wq||Aq;const iy=Eq;var xq=9007199254740991,Fq=/^(?:0|[1-9]\d*)$/;function ux(t,e){var r=typeof t;return e=e??xq,!!e&&(r=="number"||r!="symbol"&&Fq.test(t))&&t>-1&&t%1==0&&t<e}var Cq=9007199254740991;function ax(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Cq}var Sq="[object Arguments]",Dq="[object Array]",kq="[object Boolean]",Oq="[object Date]",_q="[object Error]",Pq="[object Function]",Bq="[object Map]",Tq="[object Number]",Nq="[object Object]",jq="[object RegExp]",Iq="[object Set]",Rq="[object String]",Lq="[object WeakMap]",Mq="[object ArrayBuffer]",$q="[object DataView]",Uq="[object Float32Array]",Vq="[object Float64Array]",Hq="[object Int8Array]",zq="[object Int16Array]",Wq="[object Int32Array]",Qq="[object Uint8Array]",qq="[object Uint8ClampedArray]",Gq="[object Uint16Array]",Kq="[object Uint32Array]",dt={};dt[Uq]=dt[Vq]=dt[Hq]=dt[zq]=dt[Wq]=dt[Qq]=dt[qq]=dt[Gq]=dt[Kq]=!0;dt[Sq]=dt[Dq]=dt[Mq]=dt[kq]=dt[$q]=dt[Oq]=dt[_q]=dt[Pq]=dt[Bq]=dt[Tq]=dt[Nq]=dt[jq]=dt[Iq]=dt[Rq]=dt[Lq]=!1;function Jq(t){return Bi(t)&&ax(t.length)&&!!dt[Ys(t)]}function fp(t){return function(e){return t(e)}}var VN=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Dd=VN&&typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,Yq=Dd&&Dd.exports===VN,Xv=Yq&&jN.process,Zq=function(){try{var t=Dd&&Dd.require&&Dd.require("util").types;return t||Xv&&Xv.binding&&Xv.binding("util")}catch{}}();const pa=Zq;var PD=pa&&pa.isTypedArray,Xq=PD?fp(PD):Jq;const HN=Xq;var eG=Object.prototype,tG=eG.hasOwnProperty;function zN(t,e){var r=wn(t),n=!r&&sx(t),i=!r&&!n&&iy(t),s=!r&&!n&&!i&&HN(t),u=r||n||i||s,a=u?hq(t.length,String):[],o=a.length;for(var c in t)(e||tG.call(t,c))&&!(u&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ux(c,o)))&&a.push(c);return a}var rG=Object.prototype;function ox(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rG;return t===r}function WN(t,e){return function(r){return t(e(r))}}var nG=WN(Object.keys,Object);const iG=nG;var sG=Object.prototype,uG=sG.hasOwnProperty;function aG(t){if(!ox(t))return iG(t);var e=[];for(var r in Object(t))uG.call(t,r)&&r!="constructor"&&e.push(r);return e}function dp(t){return t!=null&&ax(t.length)&&!RN(t)}function hp(t){return dp(t)?zN(t):aG(t)}function oG(t,e){return t&&cp(e,hp(e),t)}function lG(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var cG=Object.prototype,fG=cG.hasOwnProperty;function dG(t){if(!Pi(t))return lG(t);var e=ox(t),r=[];for(var n in t)n=="constructor"&&(e||!fG.call(t,n))||r.push(n);return r}function bg(t){return dp(t)?zN(t,!0):dG(t)}function hG(t,e){return t&&cp(e,bg(e),t)}var QN=typeof yn=="object"&&yn&&!yn.nodeType&&yn,BD=QN&&typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,pG=BD&&BD.exports===QN,TD=pG?ri.Buffer:void 0,ND=TD?TD.allocUnsafe:void 0;function mG(t,e){if(e)return t.slice();var r=t.length,n=ND?ND(r):new t.constructor(r);return t.copy(n),n}function yG(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function gG(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var u=t[r];e(u,r,t)&&(s[i++]=u)}return s}function qN(){return[]}var vG=Object.prototype,AG=vG.propertyIsEnumerable,jD=Object.getOwnPropertySymbols,bG=jD?function(t){return t==null?[]:(t=Object(t),gG(jD(t),function(e){return AG.call(t,e)}))}:qN;const lx=bG;function wG(t,e){return cp(t,lx(t),e)}function cx(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var EG=WN(Object.getPrototypeOf,Object);const fx=EG;var xG=Object.getOwnPropertySymbols,FG=xG?function(t){for(var e=[];t;)cx(e,lx(t)),t=fx(t);return e}:qN;const GN=FG;function CG(t,e){return cp(t,GN(t),e)}function KN(t,e,r){var n=e(t);return wn(t)?n:cx(n,r(t))}function qb(t){return KN(t,hp,lx)}function JN(t){return KN(t,bg,GN)}var SG=Lo(ri,"DataView");const Gb=SG;var DG=Lo(ri,"Promise");const Kb=DG;var kG=Lo(ri,"Set");const ql=kG;var OG=Lo(ri,"WeakMap");const Jb=OG;var ID="[object Map]",_G="[object Object]",RD="[object Promise]",LD="[object Set]",MD="[object WeakMap]",$D="[object DataView]",PG=Ro(Gb),BG=Ro(vh),TG=Ro(Kb),NG=Ro(ql),jG=Ro(Jb),Ba=Ys;(Gb&&Ba(new Gb(new ArrayBuffer(1)))!=$D||vh&&Ba(new vh)!=ID||Kb&&Ba(Kb.resolve())!=RD||ql&&Ba(new ql)!=LD||Jb&&Ba(new Jb)!=MD)&&(Ba=function(t){var e=Ys(t),r=e==_G?t.constructor:void 0,n=r?Ro(r):"";if(n)switch(n){case PG:return $D;case BG:return ID;case TG:return RD;case NG:return LD;case jG:return MD}return e});const bh=Ba;var IG=Object.prototype,RG=IG.hasOwnProperty;function LG(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&RG.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var MG=ri.Uint8Array;const sy=MG;function dx(t){var e=new t.constructor(t.byteLength);return new sy(e).set(new sy(t)),e}function $G(t,e){var r=e?dx(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var UG=/\w*$/;function VG(t){var e=new t.constructor(t.source,UG.exec(t));return e.lastIndex=t.lastIndex,e}var UD=Xn?Xn.prototype:void 0,VD=UD?UD.valueOf:void 0;function HG(t){return VD?Object(VD.call(t)):{}}function zG(t,e){var r=e?dx(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var WG="[object Boolean]",QG="[object Date]",qG="[object Map]",GG="[object Number]",KG="[object RegExp]",JG="[object Set]",YG="[object String]",ZG="[object Symbol]",XG="[object ArrayBuffer]",eK="[object DataView]",tK="[object Float32Array]",rK="[object Float64Array]",nK="[object Int8Array]",iK="[object Int16Array]",sK="[object Int32Array]",uK="[object Uint8Array]",aK="[object Uint8ClampedArray]",oK="[object Uint16Array]",lK="[object Uint32Array]";function cK(t,e,r){var n=t.constructor;switch(e){case XG:return dx(t);case WG:case QG:return new n(+t);case eK:return $G(t,r);case tK:case rK:case nK:case iK:case sK:case uK:case aK:case oK:case lK:return zG(t,r);case qG:return new n;case GG:case YG:return new n(t);case KG:return VG(t);case JG:return new n;case ZG:return HG(t)}}var HD=Object.create,fK=function(){function t(){}return function(e){if(!Pi(e))return{};if(HD)return HD(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const dK=fK;function hK(t){return typeof t.constructor=="function"&&!ox(t)?dK(fx(t)):{}}var pK="[object Map]";function mK(t){return Bi(t)&&bh(t)==pK}var zD=pa&&pa.isMap,yK=zD?fp(zD):mK;const gK=yK;var vK="[object Set]";function AK(t){return Bi(t)&&bh(t)==vK}var WD=pa&&pa.isSet,bK=WD?fp(WD):AK;const wK=bK;var EK=1,xK=2,FK=4,YN="[object Arguments]",CK="[object Array]",SK="[object Boolean]",DK="[object Date]",kK="[object Error]",ZN="[object Function]",OK="[object GeneratorFunction]",_K="[object Map]",PK="[object Number]",XN="[object Object]",BK="[object RegExp]",TK="[object Set]",NK="[object String]",jK="[object Symbol]",IK="[object WeakMap]",RK="[object ArrayBuffer]",LK="[object DataView]",MK="[object Float32Array]",$K="[object Float64Array]",UK="[object Int8Array]",VK="[object Int16Array]",HK="[object Int32Array]",zK="[object Uint8Array]",WK="[object Uint8ClampedArray]",QK="[object Uint16Array]",qK="[object Uint32Array]",at={};at[YN]=at[CK]=at[RK]=at[LK]=at[SK]=at[DK]=at[MK]=at[$K]=at[UK]=at[VK]=at[HK]=at[_K]=at[PK]=at[XN]=at[BK]=at[TK]=at[NK]=at[jK]=at[zK]=at[WK]=at[QK]=at[qK]=!0;at[kK]=at[ZN]=at[IK]=!1;function Y0(t,e,r,n,i,s){var u,a=e&EK,o=e&xK,c=e&FK;if(r&&(u=i?r(t,n,i,s):r(t)),u!==void 0)return u;if(!Pi(t))return t;var f=wn(t);if(f){if(u=LG(t),!a)return yG(t,u)}else{var d=bh(t),p=d==ZN||d==OK;if(iy(t))return mG(t,a);if(d==XN||d==YN||p&&!i){if(u=o||p?{}:hK(t),!a)return o?CG(t,hG(u,t)):wG(t,oG(u,t))}else{if(!at[d])return i?t:{};u=cK(t,d,a)}}s||(s=new ss);var m=s.get(t);if(m)return m;s.set(t,u),wK(t)?t.forEach(function(F){u.add(Y0(F,e,r,F,t,s))}):gK(t)&&t.forEach(function(F,E){u.set(E,Y0(F,e,r,E,t,s))});var w=c?o?JN:qb:o?bg:hp,b=f?void 0:w(t);return lq(b||t,function(F,E){b&&(E=F,F=t[E]),MN(u,E,Y0(F,e,r,E,t,s))}),u}var GK="[object Symbol]";function Gc(t){return typeof t=="symbol"||Bi(t)&&Ys(t)==GK}var KK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JK=/^\w*$/;function hx(t,e){if(wn(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Gc(t)?!0:JK.test(t)||!KK.test(t)||e!=null&&t in Object(e)}var YK="Expected a function";function px(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YK);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var u=t.apply(this,n);return r.cache=s.set(i,u)||s,u};return r.cache=new(px.Cache||Zs),r}px.Cache=Zs;var ZK=500;function XK(t){var e=px(t,function(n){return r.size===ZK&&r.clear(),n}),r=e.cache;return e}var eJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tJ=/\\(\\)?/g,rJ=XK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eJ,function(r,n,i,s){e.push(i?s.replace(tJ,"$1"):n||r)}),e});const nJ=rJ;var iJ=1/0,QD=Xn?Xn.prototype:void 0,qD=QD?QD.toString:void 0;function uy(t){if(typeof t=="string")return t;if(wn(t))return Sd(t,uy)+"";if(Gc(t))return qD?qD.call(t):"";var e=t+"";return e=="0"&&1/t==-iJ?"-0":e}function Oo(t){return t==null?"":uy(t)}function wg(t,e){return wn(t)?t:hx(t,e)?[t]:nJ(Oo(t))}function sJ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uJ=1/0;function pp(t){if(typeof t=="string"||Gc(t))return t;var e=t+"";return e=="0"&&1/t==-uJ?"-0":e}function Eg(t,e){e=wg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[pp(e[r++])];return r&&r==n?t:void 0}function e8(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}function aJ(t,e){return e.length<2?t:Eg(t,e8(e,0,-1))}function oJ(t,e){return e=wg(e,t),t=aJ(t,e),t==null||delete t[pp(sJ(e))]}var lJ="[object Object]",cJ=Function.prototype,fJ=Object.prototype,t8=cJ.toString,dJ=fJ.hasOwnProperty,hJ=t8.call(Object);function pJ(t){if(!Bi(t)||Ys(t)!=lJ)return!1;var e=fx(t);if(e===null)return!0;var r=dJ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&t8.call(r)==hJ}function mJ(t){return pJ(t)?void 0:t}var GD=Xn?Xn.isConcatSpreadable:void 0;function yJ(t){return wn(t)||sx(t)||!!(GD&&t&&t[GD])}function mx(t,e,r,n,i){var s=-1,u=t.length;for(r||(r=yJ),i||(i=[]);++s<u;){var a=t[s];e>0&&r(a)?e>1?mx(a,e-1,r,n,i):cx(i,a):n||(i[i.length]=a)}return i}function gJ(t){var e=t==null?0:t.length;return e?mx(t,1):[]}function vJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var KD=Math.max;function r8(t,e,r){return e=KD(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=KD(n.length-e,0),u=Array(s);++i<s;)u[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(u),vJ(t,this,a)}}function AJ(t){return function(){return t}}function xg(t){return t}var bJ=ny?function(t,e){return ny(t,"toString",{configurable:!0,enumerable:!1,value:AJ(e),writable:!0})}:xg;const wJ=bJ;var EJ=800,xJ=16,FJ=Date.now;function CJ(t){var e=0,r=0;return function(){var n=FJ(),i=xJ-(n-r);if(r=n,i>0){if(++e>=EJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SJ=CJ(wJ);const n8=SJ;function DJ(t){return n8(r8(t,void 0,gJ),t+"")}var kJ=1,OJ=2,_J=4,PJ=DJ(function(t,e){var r={};if(t==null)return r;var n=!1;e=Sd(e,function(s){return s=wg(s,t),n||(n=s.length>1),s}),cp(t,JN(t),r),n&&(r=Y0(r,kJ|OJ|_J,mJ));for(var i=e.length;i--;)oJ(r,e[i]);return r});const BJ=PJ,yx=U3({},()=>{const[t,e]=oE("4dchan.org.favorites",{defaultValue:{}}),r=k.useCallback(s=>{e(BJ(t||{},s.id))},[t,e]),n=k.useCallback(s=>{e({...t,[s.id]:!0})},[t,e]);return{isFavorite:k.useCallback(s=>t[s.id],[t]),removeFavorite:r,addFavorite:n,favorites:t}}),Li=()=>oE("4dchan.org.settings",{defaultValue:$l}),nt=()=>k.useContext(YB);function TJ(){return l.jsx(Ti,{title:l.jsx("div",{className:"",children:"Abuse (DMCA/CSAM)"}),collapsible:!1,children:l.jsxs("div",{className:"text-left p-4",children:[l.jsxs("div",{className:"p-2 text-xs",children:[l.jsx("strong",{children:"Disclaimer"}),l.jsx("br",{}),"This is a decentralized application: all media content is uploaded and retrieved via IPFS directly by the users.",l.jsx("br",{}),"It is important to understand that due to the nature of IPFS, it may not be possible to fully delete uploaded media.",l.jsx("br",{}),"When a file is uploaded to IPFS, it is distributed across the network and stored on multiple nodes, meaning that once a file has been added to IPFS, it can only be deleted by physically removing it from each node where it is stored, which is an impossibly complex and time-consuming process and not within the capabilities of this dapp's owners, nor anyone else's.",l.jsx("br",{}),"Therefore, users are advised to be cautious when uploading sensitive or personal information, or content which may be deemed illegal by any jurisdiction: use IPFS responsibly and always consider the potential long-term consequences of the media you are uploading.",l.jsx("br",{}),"By using IPFS, you understand and agree that you are solely responsible for the persistence and/or availability of the media uploaded to the network.",l.jsx("br",{})]}),l.jsx("hr",{}),l.jsxs("div",{className:"p-2",children:[l.jsx("br",{}),"The policy regarding the handling of copyright infringement claims (DMCA) and of child sexual abuse material (CSAM) on this dapp is the following.",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Copyright Infringement Claims"}),l.jsx("br",{}),"It is the users' responsibility to respect the intellectual property rights of others.",l.jsx("br",{}),"If you believe that your copyrighted work has been copied in a way that constitutes copyright infringement, please immediately report it via the built-in report feature and provide the following information to"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:dmca@4dchan.org",children:"dmca@4dchan.org"}),l.jsx("br",{}),l.jsxs("ul",{className:"list-disc p-4",children:[l.jsx("li",{children:"A physical or electronic signature of the copyright owner or a person authorized to act on their behalf;"}),l.jsx("li",{children:"Identification of the copyrighted work claimed to have been infringed;"}),l.jsx("li",{children:"Identification of the material that is claimed to be infringing or to be the subject of infringing activity;"}),l.jsx("li",{children:"Information reasonably sufficient to permit us to contact you, such as an address, telephone number, and, if available, an email address;"}),l.jsx("li",{children:"A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;"}),l.jsx("li",{children:"A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the copyright owner."})]}),l.jsx("br",{}),l.jsx("strong",{children:"Child Sexual Abuse Material (CSAM) Reporting"}),l.jsx("br",{}),"If you encounter any such content on this dapp, please immediately report it via the built-in report feature and to"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:csam@4dchan.org",children:"csam@4dchan.org"}),".",l.jsx("br",{}),"There is a zero-tolerance policy for the distribution of child sexual abuse material (CSAM) and immediate action will be taken.",l.jsx("br",{}),"All known information about the uploader or distributor of the material will be provided to law enforcement.",l.jsx("br",{})]}),l.jsx("hr",{}),l.jsxs("div",{className:"p-2",children:["If you have any questions or concerns about the DMCA/CSAM policy, please contact us at"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"mailto:abuse@4dchan.org",children:"abuse@4dchan.org"}),"."]})]})})}const NJ=({className:t=""})=>{const[,e]=eg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:r=>{r.stopPropagation(),r.preventDefault(),e("abuse")},children:"Abuse (DMCA/CSAM)"})})},jJ=()=>{const t=Ni(),e=k.useMemo(()=>{const r=t.hash,n=i=>i.slice(1);return r?document.getElementById(n(r)):null},[t]);return k.useEffect(()=>{e&&e.scrollIntoView({behavior:"smooth",inline:"nearest"})},[e]),null},Fg=({label:t,to:e,onClick:r})=>{const n=Ni().search;return l.jsxs("span",{children:["[",l.jsx(Pe,{className:"dchan-link",to:`${n}${e}`,onClick:r,children:t}),"]"]})},IJ=()=>{const t=Vr(),e=k.useCallback(()=>{t(-1)},[t]);return l.jsx("button",{className:"dchan-link m-4",onClick:e,children:"Go back"})};async function RJ(t,e){if(t){const r=t[0];if(r){e({progress:"Uploading image..."});try{const n=await fetch("https://ipfs.4dchan.org/ipfs/",{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:new Uint8Array(await r.arrayBuffer())});console.log("ipfs.upload",{ipfsResponse:n});const i=n.headers.get("ipfs-hash");if(i)return e({success:"File uploaded"}),{ipfs:{hash:i}};e({error:"File upload failed!"})}catch(n){console.error({ipfsUpload:n}),e({error:"File upload failed!"});return}}}}function i8(t){return[`https://ipfs.4dchan.org/ipfs/${t}`,`https://dweb.link/ipfs/${t}`,`https://ipfs.io/ipfs/${t}`,`ipfs://${t}`]}async function LJ(t,e,r){var m;const{board:n,thread:i,comment:s,name:u,subject:a,sage:o,nonce:c}=t;let f;if(((m=t.file)==null?void 0:m.length)>0)if(r({progress:"Uploading file..."}),f=await RJ(t.file,r),f)r({progress:"Uploaded"});else{r({error:"Upload failed"});return}const d={comment:s,name:u,nonce:c};if(f){const w=t.file[0].name;d.file={...f,name:w,is_nsfw:t.is_nsfw,is_spoiler:t.is_spoiler}}i?d.thread=i:d.subject=a,n&&(d.board=n),o&&(d.sage=!0),r({progress:"Waiting tx confirmation..."});const p=await lr("post:create",d,e);return r({success:"Sent ;)"}),p}async function MJ(t,e,r){try{r({progress:"Removing..."}),await lr("post:remove",{id:t},e[0]),r({success:"Removed"})}catch(n){r({error:n}),console.error({error:n})}}async function $J(t,e,r){try{r({progress:"Reporting..."}),await lr("post:report",{id:t},e[0]),r({success:"Reported"})}catch(n){r({error:n}),console.error({error:n})}}async function UJ(t,e,r){try{r({progress:"Creating..."});const n=await lr("board:create",t,e[0]);return r({success:"Created"}),n}catch(n){r({error:n}),console.error({error:n})}}async function VJ(t,e,r){try{r({progress:"Removing..."}),await lr("board:remove",{id:t},e[0]),r({success:"Removed"})}catch(n){r({error:n}),console.error({error:n})}}async function HJ(t,e,r){try{r({progress:"Locking..."}),await lr("board:lock",{id:t},e[0]),r({success:"Locked"})}catch(n){r({error:n}),console.error({error:n})}}async function zJ(t,e,r){try{r({progress:"Unlocking..."}),await lr("board:unlock",{id:t},e[0]),r({success:"Unlocked"})}catch(n){r({error:n}),console.error({error:n})}}async function WJ(t,e,r){try{r({progress:"Locking..."}),await lr("thread:lock",{id:t},e[0]),r({success:"Locked"})}catch(n){r({error:n}),console.error({error:n})}}async function QJ(t,e,r){try{r({progress:"Unlocking..."}),await lr("thread:unlock",{id:t},e[0]),r({success:"Unlocked"})}catch(n){r({error:n}),console.error({error:n})}}async function qJ(t,e,r){try{r({progress:"Pinning..."}),await lr("thread:pin",{id:t},e[0]),r({success:"Pinned"})}catch(n){r({error:n}),console.error({error:n})}}async function GJ(t,e,r){try{r({progress:"Unpinning..."}),await lr("thread:unpin",{id:t},e[0]),r({success:"Unpinned"})}catch(n){r({error:n}),console.error({error:n})}}async function KJ(t,e,r){try{r({progress:"Banning..."});const n=window.prompt("How many seconds?"),i=parseInt(n||"");if(isNaN(i)){r({error:`Not a number: ${n}`});return}const s=window.prompt("Reason?"),u=ce.fromSeconds(ce.now().toSeconds()+i);window.confirm(`Banning until ${u.toISO()}`)?(await lr("post:ban",{id:t,seconds:i,reason:s},e[0]),r({success:"Banned"})):r("Canceled")}catch(n){r({error:n}),console.error({error:n})}}const JJ=({title:t,board:e,thread:r})=>{const{timeTraveledToBlockNumber:n}=nt(),{accounts:i}=Fn(),{isJannyOf:s}=fa(),u=e?s(e.id):!1,[a,o]=k.useState();return l.jsxs("header",{id:"board-header",children:[l.jsx(Ex,{board:e||void 0,thread:r}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute ",children:l.jsx(wx,{})}),l.jsx("div",{className:"text-4xl text-contrast font-weight-800 font-family-tahoma relative flex center h-20 z-20 pointer-events-none",children:l.jsxs("div",{className:"dchan-bg-primary-fade-x px-2 h-20 center flex rounded-lg pointer-events-auto",children:[l.jsx("span",{children:e!=null&&e.isLocked?l.jsx("span",{title:"Board locked. You cannot reply anymore.",children:l.jsx(pe,{emoji:""})}):l.jsx("span",{})})," ",l.jsx("span",{className:`mt-2 font-semibold ${e!=null&&e.name||t?"":"invisible"}`,children:e===null?l.jsx("div",{children:t||"/?/ - ?????"}):l.jsxs(Pe,{to:e?`/${e.name}/${e.id}${n?`?block=${n}`:""}`:"#",children:["/",(e==null?void 0:e.name)||"?","/ - ",(e==null?void 0:e.title)||"..."]})}),e&&u?l.jsxs("span",{children:[l.jsx("span",{children:l.jsxs(bp,{children:[l.jsx("div",{children:e.isLocked?l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>zJ(e==null?void 0:e.id,i,o),children:[l.jsx(pe,{emoji:""})," Unlock"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>HJ(e.id,i,o),children:[l.jsx(pe,{emoji:""})," Lock"]})]})}),l.jsx("div",{children:l.jsxs("button",{onClick:()=>VJ(e.id,i,o),children:[l.jsx(pe,{emoji:""})," Remove"]})})]})}),l.jsx(Mg,{className:"p-4",status:a})]}):""]})})]}),l.jsx("hr",{})]})},YJ=({board:t,highlight:e})=>{const{timeTraveledToBlockNumber:r}=nt(),{id:n,title:i,postCount:s,name:u,isLocked:a,isNsfw:o}=t,c=`/${u}/${n}${r?`?block=${r}`:""}`,{publish:f}=ef(),d=Vr(),[p,m]=k.useState(!1),w=k.useCallback(()=>{m(!0)},[m]),b=k.useCallback(()=>{m(!1)},[m]),F=k.useCallback(()=>{f("BOARD_ITEM_SELECT",t)},[t,f]),E=k.useCallback(()=>{d(c)},[d,c]);return l.jsxs("tr",{className:`relative ${p?"bg-secondary":(e==null?void 0:e.id)===t.id?"bg-tertiary":""}`,title:"Click to view threads on homepage",onMouseOver:w,onMouseOut:b,onClick:F,onDoubleClick:E,children:[l.jsx("td",{children:l.jsx(Ap,{id:n})}),l.jsx("td",{className:"px-2 whitespace-nowrap",children:l.jsx("span",{children:l.jsxs(Pe,{className:"dchan-link mx-4",to:c,children:["/",u,"/"]})})}),l.jsx("td",{className:"px-2 whitespace-nowrap hidden sm:block max-w-10rem truncate",colSpan:3,children:l.jsx("span",{children:l.jsx(Pe,{className:"dchan-link",to:c,children:i})})}),l.jsx("td",{className:"px-2 whitespace-nowrap text-right",children:l.jsxs("span",{children:[s," posts"]})}),l.jsxs("td",{className:"left-full top-0 px-1 whitespace-nowrap center block",children:[a?l.jsx("span",{title:"Board locked. You cannot post.",children:l.jsx(pe,{emoji:""})}):"",o?l.jsx("span",{title:"NSFW Board",children:l.jsx(pe,{emoji:""})}):""]})]},n)},Z0=({className:t="",loading:e=!1,boards:r,highlight:n})=>l.jsx("div",{className:`${t} flex center`,children:l.jsx("table",{className:"flex-grow",children:l.jsx("tbody",{children:e?l.jsx(Cn,{}):r?r.length>0?r.map(i=>l.jsx(YJ,{board:i,highlight:n},"board-"+i.id)):"No boards":""})})});function mp(t){const e=t.indexOf("0x")===0?2:0;return`${t.substring(e,e+3)}-${t.substring(t.length-3)}`}function ZJ(t){return`#${mp(t).replace("-","")}`}function JD(t,e,r){return t*(1-r)+e*r}var yp=t=>t.type==="checkbox",Fl=t=>t instanceof Date,Tr=t=>t==null;const s8=t=>typeof t=="object";var Gt=t=>!Tr(t)&&!Array.isArray(t)&&s8(t)&&!Fl(t),XJ=t=>Gt(t)&&t.target?yp(t.target)?t.target.checked:t.target.value:t,eY=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tY=(t,e)=>t.has(eY(e)),rY=t=>{const e=t.constructor&&t.constructor.prototype;return Gt(e)&&e.hasOwnProperty("isPrototypeOf")},gx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fu(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gx&&(t instanceof Blob||t instanceof FileList))&&(r||Gt(t)))if(e=r?[]:{},!r&&!rY(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=fu(t[n]));else return t;return e}var gp=t=>Array.isArray(t)?t.filter(Boolean):[],$t=t=>t===void 0,me=(t,e,r)=>{if(!e||!Gt(t))return r;const n=gp(e.split(/[,[\].]+?/)).reduce((i,s)=>Tr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n};const YD={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Cr.createContext(null);var nY=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const u=s;return e._proxyFormState[u]!==Ei.all&&(e._proxyFormState[u]=!n||Ei.all),r&&(r[u]=!0),t[u]}});return i},$n=t=>Gt(t)&&!Object.keys(t).length,iY=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return $n(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(u=>e[u]===(!n||Ei.all))},e1=t=>Array.isArray(t)?t:[t];function sY(t){const e=Cr.useRef(t);e.current=t,Cr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var ts=t=>typeof t=="string",uY=(t,e,r,n,i)=>ts(t)?(n&&e.watch.add(t),me(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),me(r,s))):(n&&(e.watchAll=!0),r),vx=t=>/^\w*$/.test(t),u8=t=>gp(t.replace(/["|']|\]/g,"").split(/\.|\[/));function yt(t,e,r){let n=-1;const i=vx(e)?[e]:u8(e),s=i.length,u=s-1;for(;++n<s;){const a=i[n];let o=r;if(n!==u){const c=t[a];o=Gt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}t[a]=o,t=t[a]}return t}var aY=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{};const Yb=(t,e,r)=>{for(const n of r||Object.keys(t)){const i=me(t,n);if(i){const{_f:s,...u}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Gt(u)&&Yb(u,e)}}};var ZD=t=>({isOnSubmit:!t||t===Ei.onSubmit,isOnBlur:t===Ei.onBlur,isOnChange:t===Ei.onChange,isOnAll:t===Ei.all,isOnTouch:t===Ei.onTouched}),XD=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length)))),oY=(t,e,r)=>{const n=gp(me(t,r));return yt(n,"root",e[r]),yt(t,r,n),t},Gl=t=>typeof t=="boolean",Ax=t=>t.type==="file",Wu=t=>typeof t=="function",ay=t=>{if(!gx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},X0=t=>ts(t),bx=t=>t.type==="radio",oy=t=>t instanceof RegExp;const ek={value:!1,isValid:!1},tk={value:!0,isValid:!0};var a8=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?tk:{value:t[0].value,isValid:!0}:tk:ek}return ek};const rk={isValid:!1,value:null};var o8=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,rk):rk;function nk(t,e,r="validate"){if(X0(t)||Array.isArray(t)&&t.every(X0)||Gl(t)&&!t)return{type:r,message:X0(t)?t:"",ref:e}}var Jo=t=>Gt(t)&&!oy(t)?t:{value:t,message:""},ik=async(t,e,r,n,i)=>{const{ref:s,refs:u,required:a,maxLength:o,minLength:c,min:f,max:d,pattern:p,validate:m,name:w,valueAsNumber:b,mount:F,disabled:E}=t._f,A=me(e,w);if(!F||E)return{};const x=u?u[0]:s,C=P=>{n&&x.reportValidity&&(x.setCustomValidity(Gl(P)?"":P||""),x.reportValidity())},S={},O=bx(s),g=yp(s),h=O||g,v=(b||Ax(s))&&$t(s.value)&&$t(A)||ay(s)&&s.value===""||A===""||Array.isArray(A)&&!A.length,y=aY.bind(null,w,r,S),D=(P,N,B,L=os.maxLength,H=os.minLength)=>{const M=P?N:B;S[w]={type:P?L:H,message:M,ref:s,...y(P?L:H,M)}};if(i?!Array.isArray(A)||!A.length:a&&(!h&&(v||Tr(A))||Gl(A)&&!A||g&&!a8(u).isValid||O&&!o8(u).isValid)){const{value:P,message:N}=X0(a)?{value:!!a,message:a}:Jo(a);if(P&&(S[w]={type:os.required,message:N,ref:x,...y(os.required,N)},!r))return C(N),S}if(!v&&(!Tr(f)||!Tr(d))){let P,N;const B=Jo(d),L=Jo(f);if(!Tr(A)&&!isNaN(A)){const H=s.valueAsNumber||A&&+A;Tr(B.value)||(P=H>B.value),Tr(L.value)||(N=H<L.value)}else{const H=s.valueAsDate||new Date(A),M=j=>new Date(new Date().toDateString()+" "+j),T=s.type=="time",R=s.type=="week";ts(B.value)&&A&&(P=T?M(A)>M(B.value):R?A>B.value:H>new Date(B.value)),ts(L.value)&&A&&(N=T?M(A)<M(L.value):R?A<L.value:H<new Date(L.value))}if((P||N)&&(D(!!P,B.message,L.message,os.max,os.min),!r))return C(S[w].message),S}if((o||c)&&!v&&(ts(A)||i&&Array.isArray(A))){const P=Jo(o),N=Jo(c),B=!Tr(P.value)&&A.length>+P.value,L=!Tr(N.value)&&A.length<+N.value;if((B||L)&&(D(B,P.message,N.message),!r))return C(S[w].message),S}if(p&&!v&&ts(A)){const{value:P,message:N}=Jo(p);if(oy(P)&&!A.match(P)&&(S[w]={type:os.pattern,message:N,ref:s,...y(os.pattern,N)},!r))return C(N),S}if(m){if(Wu(m)){const P=await m(A,e),N=nk(P,x);if(N&&(S[w]={...N,...y(os.validate,N.message)},!r))return C(N.message),S}else if(Gt(m)){let P={};for(const N in m){if(!$n(P)&&!r)break;const B=nk(await m[N](A,e),x,N);B&&(P={...B,...y(N,B.message)},C(B.message),r&&(S[w]=P))}if(!$n(P)&&(S[w]={ref:x,...P},!r))return S}}return C(!0),S};function lY(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function cY(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function sr(t,e){const r=Array.isArray(e)?e:vx(e)?[e]:u8(e),n=r.length===1?t:lY(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Gt(n)&&$n(n)||Array.isArray(n)&&cY(n))&&sr(t,r.slice(0,-1)),t}function t1(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var ly=t=>Tr(t)||!s8(t);function $a(t,e){if(ly(t)||ly(e))return t===e;if(Fl(t)&&Fl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const u=e[i];if(Fl(s)&&Fl(u)||Gt(s)&&Gt(u)||Array.isArray(s)&&Array.isArray(u)?!$a(s,u):s!==u)return!1}}return!0}var l8=t=>t.type==="select-multiple",fY=t=>bx(t)||yp(t),r1=t=>ay(t)&&t.isConnected,c8=t=>{for(const e in t)if(Wu(t[e]))return!0;return!1};function cy(t,e={}){const r=Array.isArray(t);if(Gt(t)||r)for(const n in t)Array.isArray(t[n])||Gt(t[n])&&!c8(t[n])?(e[n]=Array.isArray(t[n])?[]:{},cy(t[n],e[n])):Tr(t[n])||(e[n]=!0);return e}function f8(t,e,r){const n=Array.isArray(t);if(Gt(t)||n)for(const i in t)Array.isArray(t[i])||Gt(t[i])&&!c8(t[i])?$t(e)||ly(r[i])?r[i]=Array.isArray(t[i])?cy(t[i],[]):{...cy(t[i])}:f8(t[i],Tr(e)?{}:e[i],r[i]):r[i]=!$a(t[i],e[i]);return r}var n1=(t,e)=>f8(t,e,cy(e)),d8=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&ts(t)?new Date(t):n?n(t):t;function i1(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Ax(e)?e.files:bx(e)?o8(t.refs).value:l8(e)?[...e.selectedOptions].map(({value:r})=>r):yp(e)?a8(t.refs).value:d8($t(e.value)?t.ref.value:e.value,t)}var dY=(t,e,r,n)=>{const i={};for(const s of t){const u=me(e,s);u&&yt(i,s,u._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Mf=t=>$t(t)?t:oy(t)?t.source:Gt(t)?oy(t.value)?t.value.source:t.value:t,hY=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function sk(t,e,r){const n=me(t,r);if(n||vx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),u=me(e,s),a=me(t,s);if(u&&!Array.isArray(u)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var pY=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,mY=(t,e)=>!gp(me(t,e)).length&&sr(t,e);const yY={mode:Ei.onSubmit,reValidateMode:Ei.onChange,shouldFocusError:!0};function gY(t={},e){let r={...yY,...t},n={submitCount:0,isDirty:!1,isLoading:Wu(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Gt(r.defaultValues)||Gt(r.values)?fu(r.defaultValues||r.values)||{}:{},u=r.shouldUnregister?{}:fu(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,f=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:t1(),array:t1(),state:t1()},m=t.resetOptions&&t.resetOptions.keepDirtyValues,w=ZD(r.mode),b=ZD(r.reValidateMode),F=r.criteriaMode===Ei.all,E=U=>G=>{clearTimeout(f),f=setTimeout(U,G)},A=async U=>{if(d.isValid||U){const G=r.resolver?$n((await v()).errors):await D(i,!0);G!==n.isValid&&p.state.next({isValid:G})}},x=U=>d.isValidating&&p.state.next({isValidating:U}),C=(U,G=[],K,le,se=!0,ne=!0)=>{if(le&&K){if(a.action=!0,ne&&Array.isArray(me(i,U))){const ve=K(me(i,U),le.argA,le.argB);se&&yt(i,U,ve)}if(ne&&Array.isArray(me(n.errors,U))){const ve=K(me(n.errors,U),le.argA,le.argB);se&&yt(n.errors,U,ve),mY(n.errors,U)}if(d.touchedFields&&ne&&Array.isArray(me(n.touchedFields,U))){const ve=K(me(n.touchedFields,U),le.argA,le.argB);se&&yt(n.touchedFields,U,ve)}d.dirtyFields&&(n.dirtyFields=n1(s,u)),p.state.next({name:U,isDirty:N(U,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(u,U,G)},S=(U,G)=>{yt(n.errors,U,G),p.state.next({errors:n.errors})},O=(U,G,K,le)=>{const se=me(i,U);if(se){const ne=me(u,U,$t(K)?me(s,U):K);$t(ne)||le&&le.defaultChecked||G?yt(u,U,G?ne:i1(se._f)):H(U,ne),a.mount&&A()}},g=(U,G,K,le,se)=>{let ne=!1,ve=!1;const tt={name:U};if(!K||le){d.isDirty&&(ve=n.isDirty,n.isDirty=tt.isDirty=N(),ne=ve!==tt.isDirty);const st=$a(me(s,U),G);ve=me(n.dirtyFields,U),st?sr(n.dirtyFields,U):yt(n.dirtyFields,U,!0),tt.dirtyFields=n.dirtyFields,ne=ne||d.dirtyFields&&ve!==!st}if(K){const st=me(n.touchedFields,U);st||(yt(n.touchedFields,U,K),tt.touchedFields=n.touchedFields,ne=ne||d.touchedFields&&st!==K)}return ne&&se&&p.state.next(tt),ne?tt:{}},h=(U,G,K,le)=>{const se=me(n.errors,U),ne=d.isValid&&Gl(G)&&n.isValid!==G;if(t.delayError&&K?(c=E(()=>S(U,K)),c(t.delayError)):(clearTimeout(f),c=null,K?yt(n.errors,U,K):sr(n.errors,U)),(K?!$a(se,K):se)||!$n(le)||ne){const ve={...le,...ne&&Gl(G)?{isValid:G}:{},errors:n.errors,name:U};n={...n,...ve},p.state.next(ve)}x(!1)},v=async U=>r.resolver(u,r.context,dY(U||o.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),y=async U=>{const{errors:G}=await v();if(U)for(const K of U){const le=me(G,K);le?yt(n.errors,K,le):sr(n.errors,K)}else n.errors=G;return G},D=async(U,G,K={valid:!0})=>{for(const le in U){const se=U[le];if(se){const{_f:ne,...ve}=se;if(ne){const tt=o.array.has(ne.name),st=await ik(se,u,F,r.shouldUseNativeValidation&&!G,tt);if(st[ne.name]&&(K.valid=!1,G))break;!G&&(me(st,ne.name)?tt?oY(n.errors,st,ne.name):yt(n.errors,ne.name,st[ne.name]):sr(n.errors,ne.name))}ve&&await D(ve,G,K)}}return K.valid},P=()=>{for(const U of o.unMount){const G=me(i,U);G&&(G._f.refs?G._f.refs.every(K=>!r1(K)):!r1(G._f.ref))&&he(U)}o.unMount=new Set},N=(U,G)=>(U&&G&&yt(u,U,G),!$a(I(),s)),B=(U,G,K)=>uY(U,o,{...a.mount?u:$t(G)?s:ts(U)?{[U]:G}:G},K,G),L=U=>gp(me(a.mount?u:s,U,t.shouldUnregister?me(s,U,[]):[])),H=(U,G,K={})=>{const le=me(i,U);let se=G;if(le){const ne=le._f;ne&&(!ne.disabled&&yt(u,U,d8(G,ne)),se=ay(ne.ref)&&Tr(G)?"":G,l8(ne.ref)?[...ne.ref.options].forEach(ve=>ve.selected=se.includes(ve.value)):ne.refs?yp(ne.ref)?ne.refs.length>1?ne.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(se)?!!se.find(tt=>tt===ve.value):se===ve.value)):ne.refs[0]&&(ne.refs[0].checked=!!se):ne.refs.forEach(ve=>ve.checked=ve.value===se):Ax(ne.ref)?ne.ref.value="":(ne.ref.value=se,ne.ref.type||p.values.next({name:U,values:{...u}})))}(K.shouldDirty||K.shouldTouch)&&g(U,se,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&j(U)},M=(U,G,K)=>{for(const le in G){const se=G[le],ne=`${U}.${le}`,ve=me(i,ne);(o.array.has(U)||!ly(se)||ve&&!ve._f)&&!Fl(se)?M(ne,se,K):H(ne,se,K)}},T=(U,G,K={})=>{const le=me(i,U),se=o.array.has(U),ne=fu(G);yt(u,U,ne),se?(p.array.next({name:U,values:{...u}}),(d.isDirty||d.dirtyFields)&&K.shouldDirty&&p.state.next({name:U,dirtyFields:n1(s,u),isDirty:N(U,ne)})):le&&!le._f&&!Tr(ne)?M(U,ne,K):H(U,ne,K),XD(U,o)&&p.state.next({...n}),p.values.next({name:U,values:{...u}}),!a.mount&&e()},R=async U=>{const G=U.target;let K=G.name,le=!0;const se=me(i,K),ne=()=>G.type?i1(se._f):XJ(U);if(se){let ve,tt;const st=ne(),Mi=U.type===YD.BLUR||U.type===YD.FOCUS_OUT,Cp=!hY(se._f)&&!r.resolver&&!me(n.errors,K)&&!se._f.deps||pY(Mi,me(n.touchedFields,K),n.isSubmitted,b,w),hf=XD(K,o,Mi);yt(u,K,st),Mi?(se._f.onBlur&&se._f.onBlur(U),c&&c(0)):se._f.onChange&&se._f.onChange(U);const pf=g(K,st,Mi,!1),Sp=!$n(pf)||hf;if(!Mi&&p.values.next({name:K,type:U.type,values:{...u}}),Cp)return d.isValid&&A(),Sp&&p.state.next({name:K,...hf?{}:pf});if(!Mi&&hf&&p.state.next({...n}),x(!0),r.resolver){const{errors:Dp}=await v([K]),rt=sk(n.errors,i,K),ut=sk(Dp,i,rt.name||K);ve=ut.error,K=ut.name,tt=$n(Dp)}else ve=(await ik(se,u,F,r.shouldUseNativeValidation))[K],le=isNaN(st)||st===me(u,K,st),le&&(ve?tt=!1:d.isValid&&(tt=await D(i,!0)));le&&(se._f.deps&&j(se._f.deps),h(K,tt,ve,pf))}},j=async(U,G={})=>{let K,le;const se=e1(U);if(x(!0),r.resolver){const ne=await y($t(U)?U:se);K=$n(ne),le=U?!se.some(ve=>me(ne,ve)):K}else U?(le=(await Promise.all(se.map(async ne=>{const ve=me(i,ne);return await D(ve&&ve._f?{[ne]:ve}:ve)}))).every(Boolean),!(!le&&!n.isValid)&&A()):le=K=await D(i);return p.state.next({...!ts(U)||d.isValid&&K!==n.isValid?{}:{name:U},...r.resolver||!U?{isValid:K}:{},errors:n.errors,isValidating:!1}),G.shouldFocus&&!le&&Yb(i,ne=>ne&&me(n.errors,ne),U?se:o.mount),le},I=U=>{const G={...s,...a.mount?u:{}};return $t(U)?G:ts(U)?me(G,U):U.map(K=>me(G,K))},V=(U,G)=>({invalid:!!me((G||n).errors,U),isDirty:!!me((G||n).dirtyFields,U),isTouched:!!me((G||n).touchedFields,U),error:me((G||n).errors,U)}),re=U=>{U&&e1(U).forEach(G=>sr(n.errors,G)),p.state.next({errors:U?n.errors:{}})},Z=(U,G,K)=>{const le=(me(i,U,{_f:{}})._f||{}).ref;yt(n.errors,U,{...G,ref:le}),p.state.next({name:U,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&le&&le.focus&&le.focus()},ge=(U,G)=>Wu(U)?p.values.subscribe({next:K=>U(B(void 0,G),K)}):B(U,G,!0),he=(U,G={})=>{for(const K of U?e1(U):o.mount)o.mount.delete(K),o.array.delete(K),G.keepValue||(sr(i,K),sr(u,K)),!G.keepError&&sr(n.errors,K),!G.keepDirty&&sr(n.dirtyFields,K),!G.keepTouched&&sr(n.touchedFields,K),!r.shouldUnregister&&!G.keepDefaultValue&&sr(s,K);p.values.next({values:{...u}}),p.state.next({...n,...G.keepDirty?{isDirty:N()}:{}}),!G.keepIsValid&&A()},Ce=(U,G={})=>{let K=me(i,U);const le=Gl(G.disabled);return yt(i,U,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:U}},name:U,mount:!0,...G}}),o.mount.add(U),K?le&&yt(u,U,G.disabled?void 0:me(u,U,i1(K._f))):O(U,!0,G.value),{...le?{disabled:G.disabled}:{},...r.progressive?{required:!!G.required,min:Mf(G.min),max:Mf(G.max),minLength:Mf(G.minLength),maxLength:Mf(G.maxLength),pattern:Mf(G.pattern)}:{},name:U,onChange:R,onBlur:R,ref:se=>{if(se){Ce(U,G),K=me(i,U);const ne=$t(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,ve=fY(ne),tt=K._f.refs||[];if(ve?tt.find(st=>st===ne):ne===K._f.ref)return;yt(i,U,{_f:{...K._f,...ve?{refs:[...tt.filter(r1),ne,...Array.isArray(me(s,U))?[{}]:[]],ref:{type:ne.type,name:U}}:{ref:ne}}}),O(U,!1,void 0,ne)}else K=me(i,U,{}),K._f&&(K._f.mount=!1),(r.shouldUnregister||G.shouldUnregister)&&!(tY(o.array,U)&&a.action)&&o.unMount.add(U)}}},Fe=()=>r.shouldFocusError&&Yb(i,U=>U&&me(n.errors,U),o.mount),Se=(U,G)=>async K=>{K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let le=fu(u);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:se,values:ne}=await v();n.errors=se,le=ne}else await D(i);sr(n.errors,"root"),$n(n.errors)?(p.state.next({errors:{}}),await U(le,K)):(G&&await G({...n.errors},K),Fe(),setTimeout(Fe)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(n.errors),submitCount:n.submitCount+1,errors:n.errors})},jt=(U,G={})=>{me(i,U)&&($t(G.defaultValue)?T(U,me(s,U)):(T(U,G.defaultValue),yt(s,U,G.defaultValue)),G.keepTouched||sr(n.touchedFields,U),G.keepDirty||(sr(n.dirtyFields,U),n.isDirty=G.defaultValue?N(U,me(s,U)):N()),G.keepError||(sr(n.errors,U),d.isValid&&A()),p.state.next({...n}))},Kt=(U,G={})=>{const K=U||s,le=fu(K),se=U&&!$n(U)?le:s;if(G.keepDefaultValues||(s=K),!G.keepValues){if(G.keepDirtyValues||m)for(const ne of o.mount)me(n.dirtyFields,ne)?yt(se,ne,me(u,ne)):T(ne,me(se,ne));else{if(gx&&$t(U))for(const ne of o.mount){const ve=me(i,ne);if(ve&&ve._f){const tt=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(ay(tt)){const st=tt.closest("form");if(st){st.reset();break}}}}i={}}u=t.shouldUnregister?G.keepDefaultValues?fu(s):{}:fu(se),p.array.next({values:{...se}}),p.values.next({values:{...se}})}o={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!G.keepIsValid,a.watch=!!t.shouldUnregister,p.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!$a(U,s)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G.keepDirtyValues?n.dirtyFields:G.keepDefaultValues&&U?n1(s,U):{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ni=(U,G)=>Kt(Wu(U)?U(u):U,G);return{control:{register:Ce,unregister:he,getFieldState:V,handleSubmit:Se,setError:Z,_executeSchema:v,_getWatch:B,_getDirty:N,_updateValid:A,_removeUnmounted:P,_updateFieldArray:C,_getFieldArray:L,_reset:Kt,_resetDefaultValues:()=>Wu(r.defaultValues)&&r.defaultValues().then(U=>{ni(U,r.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:U=>{n={...n,...U}},_subjects:p,_proxyFormState:d,get _fields(){return i},get _formValues(){return u},get _state(){return a},set _state(U){a=U},get _defaultValues(){return s},get _names(){return o},set _names(U){o=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r={...r,...U}}},trigger:j,register:Ce,handleSubmit:Se,watch:ge,setValue:T,getValues:I,reset:ni,resetField:jt,clearErrors:re,unregister:he,setError:Z,setFocus:(U,G={})=>{const K=me(i,U),le=K&&K._f;if(le){const se=le.refs?le.refs[0]:le.ref;se.focus&&(se.focus(),G.shouldSelect&&se.select())}},getFieldState:V}}function h8(t={}){const e=Cr.useRef(),[r,n]=Cr.useState({isDirty:!1,isValidating:!1,isLoading:Wu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Wu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...gY(t,()=>n(s=>({...s}))),formState:r});const i=e.current.control;return i._options=t,sY({subject:i._subjects.state,next:s=>{iY(s,i._proxyFormState,i._updateFormState,!0)&&n({...i._formState})}}),Cr.useEffect(()=>{t.values&&!$a(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Cr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=nY(r,i),e.current}const vY=()=>{const{accounts:t,provider:e}=Fn(),r=Vr(),[n,i]=k.useState(),[s,u]=k.useState(!1),[a,o]=k.useState(0),[c,f]=k.useState(0),{register:d,handleSubmit:p,reset:m}=h8(),w=async b=>{u(!0);const F=await UJ(b,t,i),{transactionHash:E}=F||{};if(E){const A=`/${E}`;r(A),m()}u(!1)};return l.jsx(Ti,{title:l.jsx("span",{children:"Create a board"}),className:"pt-4 pb-2",open:!1,children:l.jsx("div",{className:"border center flex",children:e?l.jsx("div",{className:"",children:l.jsxs("form",{id:"dchan-board-form",className:"grid center bg-primary p-2 pointer-events-auto",onSubmit:p(w),children:[l.jsx("table",{children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Board"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-board px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"v",...d("name"),disabled:s,onChange:b=>f(b.target.value.length),maxLength:7}),l.jsx(Cl,{maxLength:7,value:c})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Title"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-title px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Videogames",...d("title"),disabled:s,onChange:b=>o(b.target.value.length),maxLength:70}),l.jsx(Cl,{maxLength:70,value:a})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Options"}),l.jsx("td",{children:l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"whitespace-nowrap",children:[l.jsx("input",{id:"dchan-input-is_nsfw",className:"mx-1",type:"checkbox",...d("nsfw")}),l.jsx("label",{htmlFor:"dchan-input-is_nsfw",className:"text-black font-weight-800 font-family-tahoma",children:"NSFW"})]})})})]})]})}),l.jsx("button",{className:"dchan-post-submit px-2 m-2 bg-gray-100 border",type:"submit",disabled:s,children:"Create"}),l.jsx(Mg,{status:n})]})}):l.jsx(l.Fragment,{})})})};class Re{static post({n:e,board:r,thread:n,from:i}){var u,a;const s=(a=(u=n==null?void 0:n.op)==null?void 0:u.from)==null?void 0:a.id;return r&&r&&r.name&&r.id?n&&s?`/${r.name}/${r.id}/${s}/${n.n}/${i.id}/${e}`:`/${r.name}/${r.id}/${i.id}/${e}`:void 0}static thread({n:e,op:r,board:n}){return n&&n.name&&n.id&&e?`/${n.name}/${n.id}/${r.from.id}/${e}`:void 0}static board({name:e,id:r},n){const i=n&&["catalog","index","archive"].includes(n)?`/${n}`:"";return e&&r?`/${e}/${r}${i}`:void 0}static posts({search:e}={}){return`/_/posts${e?`?search=${e}`:""}`}static boards({search:e}={}){return`/${e||"_/boards"}`}}const na=({board:t})=>{const{timeTraveledToBlockNumber:e}=nt();return l.jsx(Pe,{title:t.title,to:`${Re.board(t)}${e?`?block=${e}`:""}`,children:l.jsxs(Ap,{id:t.id,children:["/",t.name,"/"]})})},p8=({className:t="",limit:e,highlight:r})=>{const{timeTraveledToBlockNumber:n}=nt(),{data:i,loading:s}=hr(n?R5:L5,{pollInterval:3e4,fetchPolicy:n?"cache-first":"network-only",variables:{block:n,limit:e}});return s?l.jsx("div",{className:"border border-solid border-tertiary-accent flex-grow p-2",children:l.jsx(Cn,{})}):i?l.jsx(lj,{className:`${t} w-auto`,firstTab:"Last bumped",children:new Map([["Most popular",l.jsx(Z0,{boards:i.mostPopular,highlight:r})],["Last created",l.jsx(Z0,{boards:i.lastCreated,highlight:r})],["Last bumped",l.jsx(Z0,{boards:i.lastBumped,highlight:r})]])}):l.jsx("span",{})},Ti=({className:t="grid",bodyClassName:e="",title:r,titleRight:n,children:i,open:s=!0,collapsible:u=!0})=>u?l.jsx(l.Fragment,{children:l.jsx("article",{className:`${t} max-w-100vw`,children:l.jsxs("details",{open:s,children:[l.jsx("summary",{className:"bg-secondary border border-tertiary-accent sticky top-0 z-20 text-left px-2",children:l.jsxs("header",{className:"border border-l-0 border-r-0 border-solid z-50 inline",children:[l.jsx("span",{className:"center font-family-tahoma",children:r}),n]})}),l.jsx("section",{className:`${e} bg-white border border-tertiary-accent border-t-0 w-full p-1 overflow-auto`,style:{flex:"1 1 auto"},children:i})]})})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:`${t} max-w-100vw`,children:[l.jsxs("header",{className:"bg-secondary border border-solid border-tertiary-accent z-50",children:[l.jsx("span",{className:"center font-family-tahoma",children:r}),n]}),l.jsx("section",{className:`${e} bg-white border border-tertiary-accent border-t-0 w-full p-1 overflow-auto`,style:{flex:"1 1 auto"},children:i})]})});function m8({score:t},e){return parseInt(t)/1e9<parseInt(`${e||1}`)}function y8({lastBumpedAtBlock:t},e){return(e||ce.now())>ce.fromSeconds(Number(t.timestamp)).plus({seconds:AY})}const AY=60*60*24*30,bY=({thread:t,board:e,showBoard:r=!1})=>{var v,y;const{id:n,isPinned:i,isLocked:s,subject:u,op:a,replyCount:o,imageCount:c}=t,f=t.replies||t.lastReplies,{image:d}=a,{ipfsHash:p,isNsfw:m,isSpoiler:w}=d||{ipfsHash:"",isNsfw:!1,isSpoiler:!1},b="w-full pointer-events-none shadow-xl object-contain max-h-320px",{timeTraveledToBlockNumber:F}=nt(),E=Vr(),[A]=Li(),x=m8(t,(v=A==null?void 0:A.content_filter)==null?void 0:v.score_threshold),[C,S]=k.useState(!1),O=k.useCallback(()=>{E(`${Re.thread(t)||"/"}${F?`?block=${F}`:""}`)},[E,t,F]),g=k.useCallback(()=>{S(!0)},[S]),h=k.useCallback(()=>{S(!1)},[S]);return l.jsx("div",{className:"relative max-w-150px mx-1 w-full",style:{minHeight:"20rem"},children:l.jsxs("article",{id:n,className:"dchan-post justify-self-center text-decoration-none leading-4 text-black m-0.5 border-black overflow-hidden max-w-150px break-word w-full place-items-center flex",style:C?{maxWidth:"initial",zIndex:40,marginLeft:"-2rem",marginRight:"-2rem",width:"14rem",position:"absolute"}:{minHeight:"20rem",position:"relative"},onMouseEnter:g,onMouseLeave:h,children:[x&&!C?l.jsxs("button",{onClick:g,className:"absolute text-2xl text-gray-800 top-0 left-0 right-0 bottom-0",children:[l.jsx("div",{children:l.jsx(pe,{emoji:""})}),l.jsx("div",{children:"Post hidden due to reports."}),l.jsx("div",{className:"text-sm text-gray-600",children:"Click to show anyway."})]}):"",l.jsx("div",{onClick:O,className:"h-full w-full",children:l.jsxs("div",{className:[C?"relative top-0 z-10 bg-tertiary border border-black h-full":"absolute top-0 right-0 left-0",!C&&x?"dchan-censor":""].join(" "),style:{maxHeight:"initial"},children:[l.jsxs("div",{className:"absolute top-0 right-0 z-10",children:[i?l.jsx("span",{title:"Thread pinned. This might be important.",children:l.jsx(pe,{emoji:""})}):"",s?l.jsx("span",{title:"Thread locked. You cannot post.",children:l.jsx(pe,{emoji:""})}):""]}),p&&(!x||C)?l.jsx("div",{children:l.jsx(E8,{className:b,hash:p,expandable:!1,thumbnail:!1,isSpoiler:w,isNsfw:m&&(e==null?void 0:e.isNsfw)!==!0&&!((y=t.board)!=null&&y.isNsfw)||!1})}):"",l.jsxs("div",{className:"p-1",children:[r&&t.board?l.jsx("div",{children:l.jsx(na,{board:t.board})}):"",l.jsxs("div",{children:[l.jsx("abbr",{title:"Replies",children:"R"}),": ",l.jsx("strong",{children:o}),","," ",l.jsx("abbr",{title:"Images",children:"I"}),": ",l.jsx("strong",{children:c})]}),l.jsxs("div",{className:"word-wrap",children:[l.jsx("div",{children:l.jsx("strong",{className:"text-url",children:u})}),l.jsx(fw,{style:{minWidth:C?"12rem":"initial",textAlign:"center"},post:a}),C&&f&&[...f].reverse().map(D=>l.jsxs("div",{className:"mt-1 p-1 border-0 border-t border-black border-solid text-xs text-left",children:[l.jsx("div",{children:ce.fromSeconds(parseInt(D.createdAtBlock.timestamp)).toRelative()}),l.jsx(fw,{post:D})]},D.id))]})]})]})})]})})},wY=({threads:t,board:e,showBoard:r=!1})=>l.jsx("div",{className:"flex flex-row flex-wrap justify-center place-items-start font-size-090rem px-2 sm:px-4 flex-grow",children:t.filter(n=>n&&n.board).map(n=>l.jsx(bY,{board:e,thread:n,showBoard:r},n.id))}),EY=t=>{const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e},xY=EY,FY=typeof performance<"u"?performance:Date,CY=()=>FY.now();function Au(t,e=30,r=!1){const n=xY(t),i=1e3/e,s=k.useRef(0),u=k.useRef(),a=()=>u.current&&clearTimeout(u.current),o=[e,r,n];function c(){s.current=0,a()}return k.useEffect(()=>c,o),k.useCallback(function(){const f=arguments,d=CY(),p=()=>{s.current=d,a(),n.current.apply(null,f)},m=s.current;if(r&&m===0)return p();if(d-m>i){if(m>0)return p();s.current=d}a(),u.current=setTimeout(()=>{p(),s.current=0},i)},o)}const Cg=k.createContext([null,()=>({})]),Sg=({archive:t,board:e,thread:r,title:n,summary:i,onRefresh:s})=>{const{timeTraveledToBlockNumber:u,timeTraveledToDateTime:a,lastBlock:o,isTimeTraveling:c}=nt(),[,f]=k.useContext(Cg),d=Au(s,1,!0);return l.jsxs(l.Fragment,{children:[l.jsx(JJ,{title:n,board:e,thread:r}),e===null?"":r||e?c&&a?l.jsxs("div",{className:"pt-2",children:[l.jsxs("span",{className:"opacity-80 p-2",children:[l.jsx("div",{children:"Time traveled to"}),l.jsx("div",{children:a==null?void 0:a.toLocaleString(ce.DATETIME_SHORT)}),l.jsx("div",{children:a==null?void 0:a.toRelative()})]}),l.jsx("div",{className:"text-xs text-center p-2 select-none",children:l.jsx("button",{className:"dchan-brackets",onClick:()=>f(vp.TIMETRAVEL),children:"Time Travel"})})]}):l.jsx(zY,{thread:r,board:e}):"...",e!==null?l.jsx("div",{className:"p-4 pb-0",children:l.jsx("hr",{})}):"",l.jsx("div",{className:"sticky top-0 z-30 pt-6 dchan-navigation-sticky",children:l.jsxs("div",{className:"text-center sm:text-left grid lg:grid-cols-3 text-xs bg-primary pt-2 lg:pt-0",children:[l.jsxs("div",{className:"mx-2 flex flex-wrap sm:flex-nowrap justify-center md:justify-start items-center select-none",children:[e?l.jsx(SY,{board:e}):l.jsx("span",{}),!u||o&&o.number===u.toString()?l.jsx(Lue,{onRefresh:d}):""]}),l.jsx("div",{className:"center grid",children:i?l.jsx("span",{className:"py-2 text-xs text-gray-600",children:i}):l.jsx("span",{})}),l.jsx("div",{className:"flex flex-wrap justify-center md:justify-end items-center pr-2",children:!t&&!r&&e?l.jsx(Due,{}):""}),l.jsx("div",{className:"w-screen",children:l.jsx("hr",{})})]})})]})},SY=({board:t,dateTime:e})=>{const{timeTraveledToBlockNumber:r}=nt(),n={};r&&(n.block=`${r}`),e!=null&&(n.date=e.toISODate()??void 0);const i=n?`?${Object.entries(n).map(s=>s[0]+"="+s[1]).join("&")}`:"";return l.jsxs("span",{className:"whitespace-nowrap sm:flex",children:[l.jsxs("span",{children:[l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Pe,{className:"dchan-link",to:`${Re.board(t,"index")}${i}`,children:"Index"}),"]"]}),l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Pe,{className:"dchan-link",to:`${Re.board(t,"catalog")}${i}`,children:"Catalog"}),"]"]}),l.jsxs("span",{className:"pr-1",children:["[",l.jsx(Pe,{className:"dchan-link",to:`${Re.board(t,"archive")}${i}`,children:"Archive"}),"]"]})]}),l.jsx(Fg,{to:"#bottom",label:"Bottom"})]})};/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var DY=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:A,toCodePoint:O},onerror:function(){this.parentNode&&this.parentNode.replaceChild(o(this.alt,!1),this)},parse:x,replace:C,test:S},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},r=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,n=/\uFE0F/g,i=String.fromCharCode(8205),s=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function o(g,h){return document.createTextNode(h?g.replace(n,""):g)}function c(g){return g.replace(s,b)}function f(g,h){return"".concat(h.base,h.size,"/",g,h.ext)}function d(g,h){for(var v=g.childNodes,y=v.length,D,P;y--;)D=v[y],P=D.nodeType,P===3?h.push(D):P===1&&!("ownerSVGElement"in D)&&!u.test(D.nodeName.toLowerCase())&&d(D,h);return h}function p(g){return O(g.indexOf(i)<0?g.replace(n,""):g)}function m(g,h){for(var v=d(g,[]),y=v.length,D,P,N,B,L,H,M,T,R,j,I,V,re;y--;){for(N=!1,B=document.createDocumentFragment(),L=v[y],H=L.nodeValue,T=0;M=r.exec(H);){if(R=M.index,R!==T&&B.appendChild(o(H.slice(T,R),!0)),I=M[0],V=p(I),T=R+I.length,re=h.callback(V,h),V&&re){j=new Image,j.onerror=h.onerror,j.setAttribute("draggable","false"),D=h.attributes(I,V);for(P in D)D.hasOwnProperty(P)&&P.indexOf("on")!==0&&!j.hasAttribute(P)&&j.setAttribute(P,D[P]);j.className=h.className,j.alt=I,j.src=re,N=!0,B.appendChild(j)}j||B.appendChild(o(I,!1)),j=null}N&&(T<H.length&&B.appendChild(o(H.slice(T),!0)),L.parentNode.replaceChild(B,L))}return g}function w(g,h){return C(g,function(v){var y=v,D=p(v),P=h.callback(D,h),N,B;if(D&&P){y="<img ".concat('class="',h.className,'" ','draggable="false" ','alt="',v,'"',' src="',P,'"'),N=h.attributes(v,D);for(B in N)N.hasOwnProperty(B)&&B.indexOf("on")!==0&&y.indexOf(" "+B+"=")===-1&&(y=y.concat(" ",B,'="',c(N[B]),'"'));y=y.concat("/>")}return y})}function b(g){return e[g]}function F(){return null}function E(g){return typeof g=="number"?g+"x"+g:g}function A(g){var h=typeof g=="string"?parseInt(g,16):g;return h<65536?a(h):(h-=65536,a(55296+(h>>10),56320+(h&1023)))}function x(g,h){return(!h||typeof h=="function")&&(h={callback:h}),(typeof g=="string"?w:m)(g,{callback:h.callback||f,attributes:typeof h.attributes=="function"?h.attributes:F,base:typeof h.base=="string"?h.base:t.base,ext:h.ext||t.ext,size:h.folder||E(h.size||t.size),className:h.className||t.className,onerror:h.onerror||t.onerror})}function C(g,h){return String(g).replace(r,h)}function S(g){r.lastIndex=0;var h=r.test(g);return r.lastIndex=0,h}function O(g,h){for(var v=[],y=0,D=0,P=0;P<g.length;)y=g.charCodeAt(P++),D?(v.push((65536+(D-55296<<10)+(y-56320)).toString(16)),D=0):55296<=y&&y<=56319?D=y:v.push(y.toString(16));return v.join(h||"-")}}();const pe=k.memo(({emoji:t,className:e=""})=>l.jsx("span",{className:e,dangerouslySetInnerHTML:{__html:DY.parse(t,{folder:"svg",ext:".svg",base:"/vendors/twemoji/"})}})),g8=({subject:t,children:e})=>l.jsx("div",{className:"font-family-arial text-center",children:l.jsx("div",{className:"grid center min-h-100vh",children:l.jsxs("div",{children:[l.jsx(Ti,{title:l.jsx("div",{className:"text-xl text-contrast font-weight-800 font-family-tahoma m-4",children:t}),children:l.jsx("div",{className:"grid center m-4",children:e})}),l.jsx("div",{children:l.jsx(IJ,{})}),l.jsx("div",{children:l.jsx(Pe,{className:"dchan-link m-4",to:"/",children:"Go home"})})]})})}),v8="/assets/4dchan-b89950bb.svg",kY=()=>{const[,t]=V3(),[e,r]=k.useState(!1),n=k.useCallback(s=>{r(s.target.checked)},[r]),i=k.useCallback(()=>{t(e)},[e,t]);return l.jsx("div",{className:"center-grid w-full min-h-screen bg-primary p-2",children:l.jsx("div",{className:"flex flex-wrap center",children:l.jsx(Ti,{title:l.jsxs("span",{children:[l.jsx("a",{className:"color-black",href:"/",children:"4dchan.org"})," ","EULA"]}),children:l.jsxs("div",{children:[l.jsx("div",{className:"center grid",children:l.jsx("img",{className:"p-2 w-16 pointer-events-none",src:v8,alt:"4dchan.org"})}),l.jsxs("div",{className:"p-1 text-left",children:[l.jsx("div",{className:"p-2",children:"To use 4dchan.org, you understand and agree to the following:"}),l.jsx("div",{className:"p-2",children:"* The content of this website is for mature audiences only and may not be suitable for minors. If you are a minor or it is illegal for you to access mature images and language, do not proceed."}),l.jsx("div",{className:"p-2",children:"* Content is presented to you AS IS, with no warranty, express or implied."}),l.jsx("div",{className:"p-2",children:`By clicking "I Agree," you agree to accept full responsibility for any damages from your use of the website, and you understand that the content posted is not owned or generated by 4dchan.org, but rather by 4dchan.org's users.`}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"p-2",children:[l.jsx("input",{id:"dchan-input-agree",className:"mx-1 text-xs whitespace-nowrap opacity-50 hover:opacity-100",type:"checkbox",checked:e,onChange:n}),l.jsx("label",{htmlFor:"dchan-input-agree",children:"I agree"})]}),l.jsxs("div",{className:"p-2",children:["[",l.jsx("button",{className:"dchan-link",disabled:!e,onClick:i,children:"Proceed"}),"]"]})]})]})]})})})})},$f=()=>l.jsxs("span",{children:[l.jsx("a",{className:"dchan-link",href:"//thegraph.com/",target:"_blank",rel:"noreferrer",children:"The Graph"})," ",l.jsxs("span",{className:"text-xs",children:["(ticker:"," ",l.jsx("a",{className:"dchan-link",href:"//www.coingecko.com/en/coins/the-graph",target:"_blank",rel:"noreferrer",children:"GRT"}),")"]})]}),Uf=()=>l.jsxs("span",{children:[l.jsx("a",{className:"dchan-link",href:"//polygon.network/",target:"_blank",rel:"noreferrer",children:"Polygon"})," ",l.jsxs("span",{className:"text-xs",children:["(ticker:"," ",l.jsx("a",{className:"dchan-link",href:"//www.coingecko.com/en/coins/polygon",target:"_blank",rel:"noreferrer",children:"MATIC"}),")"]})]}),Ge=()=>l.jsx("a",{className:"dchan-link",href:"//4dchan.org/",target:"_blank",rel:"noreferrer",children:"4dchan.org"}),s1=()=>l.jsx("a",{className:"dchan-link",href:"//ipfs.io/",target:"_blank",rel:"noreferrer",children:"IPFS"}),OY=({onExit:t,className:e})=>l.jsx(Ti,{title:l.jsx("span",{children:"FAQ"}),className:e,collapsible:!1,children:l.jsxs("div",{className:"text-left p-4 text-sm",children:[l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: What is this?"}),l.jsxs("div",{children:["This is ",l.jsx(Ge,{}),", a decentralized time-traveling imageboard."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Decentralized?"}),l.jsxs("div",{children:[l.jsx(Ge,{})," is a"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://ethereum.org/en/web3/",children:"web3"})," ","imageboard that uses the ",l.jsx(Uf,{})," blockchain, ",l.jsx(s1,{})," and"," ",l.jsx($f,{})," to ensure it will always be online and uncensorable, forever."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Time-Traveling?"}),l.jsxs("div",{children:[l.jsx(Ge,{})," is powered by ",l.jsx($f,{}),", which is capable of obtaining data as it was at any point in time, allowing you to browse"," ",l.jsx(Ge,{}),"'s content exactly as it was, whenever in the past.",l.jsx("br",{}),"This also means that the archive is already built in.",l.jsx("br",{}),"To use it, click the ",l.jsx(pe,{emoji:""})," button in the header and use the time travel control panel."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: ...Imageboard?"}),l.jsxs("div",{children:[l.jsx(Ge,{})," is a simple image-based bulletin board where anyone can post comments, share images and create boards.",l.jsx("br",{}),"It is heavily inspired by 4chan."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: How do I post?"}),l.jsxs("div",{children:["You'll need to connect your crypto wallet and pay the transaction fee to post on ",l.jsx(Ge,{}),".",l.jsx("br",{}),"Supported wallets are"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//metamask.io",children:"Metamask"})," ","(if you're on Desktop) or"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//trustwallet.com/",children:"Trust Wallet"})," ","(if you're on Mobile).",l.jsx("br",{}),l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"//brave.com",children:"Brave Browser"})," ","should also work.",l.jsx("br",{}),"Other wallets might not be supported."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is it free?"}),l.jsxs("div",{children:["Browsing ",l.jsx(Ge,{})," is free, but you will need some ",l.jsx(Uf,{})," to pay the transaction fee when posting.",l.jsx("br",{}),"At the time of writing this FAQ (December 2022) the transaction fee for a post is around 0.001 MATIC, or around than ~$0.001 per post, so $10 worth of MATIC would allow you to post more than 10000 times.",l.jsx("br",{}),"Please note that it is possible that fees will be higher during high on-chain activity, or that MATIC's price may change wildly in the future.",l.jsx("br",{}),"You can get some free ",l.jsx(Uf,{})," at the following faucets:",l.jsx("div",{children:l.jsx(b8,{})}),"Or you can simply buy it from whatever exchange trades it."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is it uncensorable?"}),l.jsxs("div",{children:["Yes.",l.jsx("br",{}),l.jsx(Ge,{})," users post and perform their actions directly on the"," ",l.jsx(Uf,{})," blockchain and upload their content on ",l.jsx(s1,{}),".",l.jsx("br",{}),"Because of this,"," ",l.jsx("i",{children:"no one can delete or alter users' actions and the content they posted, nor can prevent users from further interacting with the contract."}),l.jsx("br",{}),"However, it is still possible and ",l.jsx("u",{children:"mandatory"})," to hide malicious actions/content from ",l.jsx(Ge,{})," itself, as all the infrastructure required to display content on ",l.jsx(Ge,{})," is controlled by ",l.jsx(Ge,{}),"'s ",l.jsx("a",{href:"mailto:op@4dchan.org",children:"operator"}),".",l.jsx("br",{}),l.jsx(Ge,{})," will do anything necessary to protect ",l.jsx(Ge,{}),"'s users and ",l.jsx(Ge,{})," itself from malicious actors, including hiding content, banning users, nuking the servers, and more if required.",l.jsx("br",{}),"Keep in mind that neither ",l.jsx(Ge,{})," nor anyone else can delete or alter any of the content posted through it, as"," ",l.jsx("i",{children:l.jsx("u",{children:"every action and content posted on the blockchain is public and undeletable"})}),".",l.jsx("br",{}),"The content will still be available, it simply will not be shown on"," ",l.jsx(Ge,{}),". It will still be possible for other instances to display that content.",l.jsx("br",{}),"For more information on how to deploy your own instance, see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"}),"."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Are posts anonymous?"}),l.jsxs("div",{children:["Due to the public nature of the blockchain, posts are directly tied to whoever signed the post, meaning that"," ",l.jsx("u",{children:l.jsx("i",{children:"your post history is public, tied to your wallet address' identity and to any past activity"})}),".",l.jsx("br",{}),l.jsx("i",{children:"Please keep this in mind when posting."}),l.jsx("br",{}),"Because every poster's wallet address is public, it is treated as that poster's ",l.jsx("i",{children:"pseudonym"}),' across the entire network: if the same address posts in two different threads/boards, it will have the same "ID".',l.jsx("br",{}),"So use the faucet and change account after every post if you want to be anonymous, or use your ENS-associated address if you want to tripfag."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: How does this work?"}),l.jsxs("div",{children:["In short, ",l.jsx(Ge,{})," stores its content on ",l.jsx(Uf,{})," and ",l.jsx(s1,{}),", and then ",l.jsx($f,{})," makes sense of it.",l.jsx("br",{}),"Long version:",l.jsx("br",{}),"Users post and interact with the website through"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://polygonscan.com/address/0x5a139ee9f56c4f24240af366807490c171922b0e#code#L1",children:"a one-line smart contract"}),", which simply acts as a public record of every action ever performed by users, moderators and administrators.",l.jsx("br",{}),"The smart contract has no logic, and every user, admins included, perform their actions simply by stating their intentions on the blockchain.",l.jsx("br",{}),"For example, if a user wants to make a new post on the website, they will write a JSON message on the blockchain that essentially says:",l.jsxs("details",{children:[l.jsx("summary",{children:`"I want to create a thread on this board with the comment 'it's over' and the IPFS hash of this picture called 'crying_pepe.jpg'".`}),l.jsx("span",{className:"text-xs",children:'To see the JSON, click on the menu of a post, "TX Details", "Click to see more" and "Decode Input Data"!'})]}),"Those actions are then processed by"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:"https://github.com/4dchan-org/dchan-subgraph",children:"a subgraph"}),", which is a computer program running on ",l.jsx($f,{}),"'s decentralized network, whose job is to make sense of those actions, translating them into the final application state, and making it available in a decentralized manner.",l.jsx("br",{}),"Please note: this is experimental software, and this is a"," ",l.jsx("i",{children:"very"})," simplified explanation!",l.jsx("br",{}),"For more information on the inner workings of ",l.jsx(Ge,{}),", see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"}),"."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Ge,{})," use cookies?"]}),l.jsx("div",{children:"No. Web3 dapps don't use centralized servers, thus cookies serve no purpose."})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Ge,{})," respect my privacy?"]}),l.jsxs("div",{children:["Yes. No information is stored on ",l.jsx(Ge,{}),"'s servers, as ",l.jsx(Ge,{})," has no servers to begin with due to using"," ",l.jsx($f,{})," to retrieve its content."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsxs("strong",{children:["Q: Does ",l.jsx(Ge,{})," have a token? I need a useless shitcoin to lose my life savings on."]}),l.jsx("div",{children:"Not right now. In the future, when the time is right."})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: I acted like a dipshit and got banned! Muh free speech??"}),l.jsxs("div",{children:["If you are not happy with the way ",l.jsx(Ge,{})," is moderated, I encourage you to fork off the code and make your own ",l.jsx(Ge,{}),", with (or without) all the posts and boards from ",l.jsx(Ge,{}),". ",l.jsx("br",{}),"All the tools are at your disposal, see"," ",l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"GitHub"}),l.jsx("br",{})]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Oh crap oh no I posted something I shouldn't have, how can I delete it?"}),l.jsxs("div",{children:["Too bad.",l.jsx("br",{}),"Once you post on the blockchain, it's forever.",l.jsx("br",{}),"You cannot delete it.",l.jsx("br",{}),"You cannot change it.",l.jsx("br",{}),l.jsx("u",{children:l.jsx("i",{children:"The blockchain never forgets."})}),l.jsx("br",{}),l.jsx("i",{children:"Please keep this in mind when posting."})]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is there an official Twitter/Telegram/Discord/Mastodon...?"}),l.jsxs("div",{children:[l.jsx(Ge,{})," does not have any official online presence outside of"," ",l.jsx(Ge,{})," itself.",l.jsx("br",{}),l.jsxs("u",{children:[l.jsx(pe,{emoji:""})," Do not trust any account or group who claims to be associated to ",l.jsx(Ge,{})," ",l.jsx(pe,{emoji:""})]}),".",l.jsx("br",{}),"Any account or group that claims to be officially endorsed by"," ",l.jsx(Ge,{})," is either an impersonator, a scammer, or worse."]})]}),l.jsxs("div",{className:"pb-2",children:[l.jsx("strong",{children:"Q: Is this open source?"}),l.jsxs("div",{children:["Of course.",l.jsx("br",{}),l.jsx("a",{className:"dchan-link",href:"//github.com/4dchan-org/",target:"_blank",rel:"noreferrer",children:"github.com/4dchan-org"})]})]}),l.jsx("div",{className:"flex flex-row justify-center mt-4 dchan-brackets sm:hidden",children:l.jsx("span",{className:"dchan-link",onClick:t,children:"Go back"})})]})}),A8=({className:t=""})=>{const[,e]=eg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:r=>{r.stopPropagation(),r.preventDefault(),e("faq")},children:"FAQ"})})},b8=()=>l.jsxs("ul",{children:[l.jsx("li",{children:l.jsx("a",{href:"https://matic.supply/",target:"_blank",rel:"noreferrer",className:"dchan-link px-2",children:"https://matic.supply"})}),l.jsx("li",{children:l.jsx("a",{href:"https://macncheese.finance/matic-polygon-mainnet-faucet.php",target:"_blank",rel:"noreferrer",className:"dchan-link px-2",children:"https://macncheese.finance"})})]}),fy="/assets/polygon-74af5f9b.png",_Y="/assets/thegraph-73ee59e0.png",PY="dchan-client",BY="https://github.com/4dchan-org/dchan-client",TY="AGPL-3.0-only",NY="0.0.5",jY="module",IY={dev:"vite",host:"vite --host",build:"tsc && vite build",lint:"eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview",ipfs:"node ./bin/scripts/ipfs.mjs",release:"npm run build && npm run ipfs"},RY={"@apollo/react-hooks":"^4.0.0","@react-hook/mouse-position":"^4.1.3","@react-hook/throttle":"^2.2.0",bip39:"^3.1.0","eth-sig-util":"^3.0.1","ethereumjs-wallet":"^1.0.2",ethers:"^6.6.0",events:"^3.3.0","lodash-es":"^4.17.21",luxon:"^3.3.0",nprogress:"^0.2.0",parjs:"^0.12.7","pretty-bytes":"^6.1.0","pubsub-js":"^1.9.4","query-string":"^8.1.0",react:"^18.2.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^18.2.0","react-hook-form":"^7.44.3","react-player":"^2.12.0","react-router-dom":"^6.13.0","react-router-hash-link":"^2.4.3","react-singleton-hook":"^4.0.1","react-use":"^17.4.0",router:"^1.3.8",sass:"^1.63.4",twemoji:"^14.0.2","use-local-storage-state":"^18.3.3"},LY={"@types/lodash":"^4.14.195","@types/luxon":"^3.3.0","@types/pubsub-js":"^1.8.3","@types/react":"^18.0.37","@types/react-copy-to-clipboard":"^5.0.4","@types/react-dom":"^18.0.11","@typescript-eslint/eslint-plugin":"^5.59.0","@typescript-eslint/parser":"^5.59.0","@vitejs/plugin-react-swc":"^3.0.0",autoprefixer:"^10.4.14",eslint:"^8.38.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.3.4","ipfs-http-client":"^60.0.1",postcss:"^8.4.24","rollup-plugin-visualizer":"^5.9.2",tailwindcss:"^3.3.2",typescript:"^5.0.2",vite:"^4.3.9"},MY={name:PY,homepage:BY,license:TY,version:NY,type:jY,scripts:IY,dependencies:RY,devDependencies:LY},{name:$Y,version:UY}=MY,Mo=({showContentDisclaimer:t=!1,className:e="mt-auto"})=>{const[r,n]=["a9134920",1697229130];return l.jsxs("div",{className:`flex-grow relative pt-24 ${e}`,children:[l.jsx("div",{id:"bottom"}),l.jsxs("footer",{className:"absolute bottom-0 mt-4",children:[l.jsx("div",{className:"flex center flex-grow",children:t?l.jsxs("div",{className:"text-xs text-gray-400 hover:text-gray-600",children:["---",l.jsx("br",{}),"All trademarks and copyrights on this page are owned by their respective parties. Images uploaded are the responsibility of the Poster. Comments are owned by the Poster."]}):""}),l.jsx("div",{className:"bg-primary flex mt-1 border-t border-top-tertiary-accent text-xs relative w-100vw overflow-visible",children:l.jsxs("div",{className:"flex flex-wrap px-6 text-xs text-gray-600 w-screen",children:[l.jsxs("div",{className:"pb-2 lg:pb-0 flex justify-center align-start items-start dchan-footer-buttons select-none",children:[l.jsx(oj,{className:"border border-tertiary-accent px-4 mx-1 bg-white"}),l.jsx(NJ,{className:"border border-tertiary-accent px-4 mx-1 bg-white whitespace-nowrap"}),l.jsx(A8,{className:"border border-tertiary-accent px-4 mx-1 bg-white"})]}),l.jsx("div",{className:"flex-grow"}),l.jsx("div",{}),l.jsx("div",{className:"flex text-right justify-end ml-2 flex-grow",children:l.jsxs("details",{children:[l.jsxs("summary",{children:[$Y," v",UY]}),l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-2 absolute bottom-0 right-0 mr-4 mb-6",children:[l.jsxs("div",{className:"mb-2",children:["Powered by",l.jsx("a",{className:"ml-1",href:"//polygon.technology/",target:"_blank",rel:"noreferrer",children:l.jsx("img",{className:"inline w-4 h-4",src:fy,alt:"Polygon"})}),l.jsx("a",{className:"ml-1",href:"//thegraph.com/",target:"_blank",rel:"noreferrer",children:l.jsx("img",{className:"inline w-4 h-4",src:_Y,alt:"The Graph"})})]}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org",target:"_blank",rel:"noreferrer",title:"git",children:[l.jsx(pe,{emoji:""})," git"]})}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org/dchan-client/issues/new",target:"_blank",rel:"noreferrer",title:"Report a bug",children:[l.jsx(pe,{emoji:""})," Report a bug"]})}),l.jsx("div",{children:l.jsxs("a",{className:"dchan-link",href:"//github.com/4dchan-org/dchan-client/graphs/contributors",target:"_blank",rel:"noreferrer",title:"Contributors",children:[l.jsx(pe,{emoji:""})," Contributors"]})}),l.jsx("div",{}),l.jsx("div",{className:"text-xs pt-2",children:r?l.jsx("div",{children:l.jsxs("span",{children:["Build"," ",l.jsx("a",{className:"dchan-link",target:"_blank",rel:"noreferrer",href:`https://github.com/4dchan-org/dchan-client/commit/${r}`,children:r})," ",l.jsx("div",{children:ce.fromSeconds(parseInt(n)).toLocaleString(ce.DATETIME_SHORT)})]})}):"dev"})]})]})})]})})]})]})};var VY="[object String]";function Dg(t){return typeof t=="string"||!wn(t)&&Bi(t)&&Ys(t)==VY}var HY=function(){return ri.Date.now()};const em=HY,zY=({baseUrl:t,thread:e,board:r})=>{const{provider:n,chainId:i,accounts:s}=Fn(),[u]=Li(),a=Vr(),o=k.useRef(null),[c,f]=k.useState(!1),[d,p]=k.useState(!1),[m,w]=k.useState(),[b,F]=k.useState(0),[E,A]=k.useState(0),[x,C]=k.useState(0),[S,O]=k.useState(0),[g,h]=k.useState(),[v,y]=k.useState(),[D,P]=k.useState(""),{subscribe:N,unsubscribe:B}=ef(),{addFavorite:L}=yx(),H=h8(),[M,T]=k.useContext(Cg),{register:R,handleSubmit:j,formState:{errors:I},setValue:V,getValues:re,reset:Z,trigger:ge,setFocus:he,watch:Ce}=H,Fe=n&&i==="137",[Se,jt]=k.useState(!1),Kt=k.useRef(null),{ref:ni,...eu}=R("comment",{required:!e}),xa=k.useMemo(()=>(e==null?void 0:e.id)||(r==null?void 0:r.id)||"form",[e,r]),{clear:us}=WR(xa,{watch:Ce,setValue:V},{include:["name","comment","subject"]}),U=k.useCallback(function(rt,{from:ut,n:ii}){var mf;const{comment:Dn}=re(),zr=`>>${ut?`0x${mp(ut).replace("-","")}/`:""}${ii}`,nr=Kt.current;let kn="",as=0;if(nr)if(nr.selectionStart||nr.selectionStart===0){const tu=nr.selectionStart,kp=nr.selectionEnd;as=tu,kn=Dn.substr(0,tu),tu>0&&Dn.substr(tu-1,1).match(/\w/)&&(kn+=" ",as+=1),kn+=zr+`
`+Dn.substr(kp),as+=zr.length+1}else kn=Dn+zr+`
`,as=kn.length;V("comment",kn),nr&&(nr.selectionStart=as,nr.selectionEnd=as);try{(mf=o==null?void 0:o.current)==null||mf.scrollIntoView(),Fe&&he("comment")}catch(tu){console.error({e:tu})}},[re,V,o,he,Fe]);k.useEffect(()=>{const rt=N("FORM_QUOTE",U);return()=>{B(rt)}}),k.useEffect(()=>{jt(d)},[d,jt]);const G=k.useCallback(()=>{V("nonce",em())},[V]),K=k.useCallback(()=>{y(void 0),P(Math.random().toString())},[y]),le=k.useCallback(rt=>{!rt&&!window.confirm("Reset form?")||(K(),Z(),ge(),us(),G(),f(!1),r&&V("board",r.id),e&&V("thread",e.id))},[K,Z,ge,us,G,r,V,e]),se=k.useCallback(async rt=>{var Dn,Fa;if(!u)return;rt.file=v,e&&L&&L(e),p(!0);let ut=null;try{ut=await LJ(rt,s[0],w)}catch(zr){ut={error:zr},(Fa=(Dn=ut==null?void 0:ut.error)==null?void 0:Dn.message)!=null&&Fa.match(/failed.*check.*transaction.*receipt/i)&&(delete ut.error,ut.success=!0),w(ut),console.log({result:ut})}p(!1),ut&&!ut.error&&le(!0);const ii=ut==null?void 0:ut.events;if(ii&&ii[0]){const{transactionHash:zr}=ii[0],nr=`/${zr}`;a(nr)}},[u,v,e,L,s,le,a]),ne=k.useCallback(async()=>{if(v&&v.length>0){const rt=v[0],ut=new FileReader;ut.readAsDataURL(rt),ut.onload=function(){const ii=ut.result;h(ii)}}else h(void 0)},[v,h]);k.useEffect(()=>{v&&v.length>0?C(v[0].size/1024):C(0),ne()},[v]);const ve=k.useCallback(rt=>{const ut=rt.clipboardData||rt.originalEvent.clipboardData,{files:ii,items:Dn}=ut;let Fa;if(Dn&&Dn.length){let zr=0;for(;zr<Dn.length;){const nr=Dn[zr];if(nr.kind==="file"){Fa=nr.getAsFile();break}zr++}}if(Fa){const zr=new FileReader;zr.onload=async nr=>{var as;const kn=(as=nr==null?void 0:nr.target)==null?void 0:as.result;if(Dg(kn)){const mf=kn.substring(kn.indexOf(":")+1,kn.indexOf(";")),tu=await fetch(kn).then($g=>$g.arrayBuffer()).then($g=>new File([$g],`file.${mf.split("/")[1]}`,{type:mf})),kp=new DataTransfer;kp.items.add(tu),y(kp.files)}},zr.readAsDataURL(Fa)}else ii&&ii.length>0&&y(ii)},[y]),[tt,st]=k.useState(t);k.useEffect(()=>{t&&t!==tt&&st(t)},[c,t,tt,st,le]),VR("paste",ve);const{isJannyOf:Mi}=fa(),Cp=r?Mi(r.id):!1,hf=k.useCallback(()=>{G()},[G]),pf=k.useCallback(()=>{f(!0)},[f]);k.useEffect(()=>{G(),r&&V("board",r.id),e&&V("thread",e.id)},[r,G,V,e]);const Sp=()=>l.jsxs("span",{children:[l.jsx("span",{className:"text-xs",children:l.jsx("button",{onClick:()=>window.confirm("The form is being reset. Are you sure?")&&le(!0),children:l.jsx(pe,{emoji:""})})}),l.jsxs(bp,{children:[l.jsx("div",{children:"Options:"}),l.jsxs("div",{className:"flex",children:[l.jsx("input",{id:"dchan-input-sage",className:"mx-1",type:"checkbox",...R("sage"),disabled:Se}),l.jsx("label",{htmlFor:"dchan-input-sage",className:"text-black font-weight-800 font-family-tahoma",children:l.jsx("abbr",{className:"opacity-20 hover:opacity-100",title:"Thread will not be bumped.",children:" Sage"})})]})]})]}),Dp=rt=>{y(rt.target.files)};return l.jsxs("div",{className:"z-30 pt-2",children:[l.jsx("div",{className:"pb-2"}),!Cp&&(e!=null&&e.isLocked)?l.jsxs("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:[l.jsx("div",{children:"Thread locked."}),l.jsx("div",{children:"You cannot reply."})]}):!Cp&&(r!=null&&r.isLocked)?l.jsxs("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:[l.jsx("div",{children:"Board locked."}),l.jsx("div",{children:"You cannot post."})]}):e||r?l.jsx("div",{children:Fe?l.jsxs("div",{className:"sm:grid center w-full text-left sticky top-0 min-h-200px",children:[m?l.jsx("div",{className:"center flex overflow-scroll break-words",children:l.jsx(Mg,{status:m})}):l.jsx(l.Fragment,{}),l.jsxs("form",{ref:o,id:"dchan-post-form",className:"sm:grid center bg-primary p-2 pointer-events-auto bg-primary select-none",onSubmit:j(se),onBlur:hf,onChange:pf,children:[l.jsx("input",{type:"hidden",...R("nonce"),disabled:Se}),r?l.jsx("input",{type:"hidden",...R("board"),disabled:Se}):"",e?l.jsx("input",{type:"hidden",...R("thread"),disabled:Se}):"",l.jsx("table",{children:l.jsxs("tbody",{children:[e?l.jsx("tr",{}):l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Name"}),l.jsx("td",{children:l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-name px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Anonymous",...R("name"),disabled:Se,onChange:rt=>A(rt.target.value.length),maxLength:70}),l.jsx(Cl,{maxLength:70,value:E})]})})]}),e?l.jsx("tr",{}):l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Subject"}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-subject px-1 border border-solid border-gray focus:border-indigo-300",type:"text",...R("subject"),disabled:Se,onChange:rt=>O(rt.target.value.length),maxLength:140,placeholder:"..."}),l.jsx(Cl,{maxLength:140,value:S})]}),l.jsx("button",{className:"dchan-post-submit px-2 mx-1 bg-gray-100 border",type:"submit",disabled:d,children:"New thread"}),m?"":Sp()]})})]}),e?l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Name"}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"dchan-input-name px-1 border border-solid border-gray focus:border-indigo-300",type:"text",placeholder:"Anonymous",...R("name"),disabled:Se,onChange:rt=>A(rt.target.value.length),maxLength:70}),l.jsx(Cl,{maxLength:70,value:E})]}),l.jsx("button",{className:"dchan-post-submit px-2 mx-1 bg-gray-100 border",type:"submit",disabled:Se,children:"Post Reply"}),m?"":Sp()]})})]}):l.jsx("tr",{}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"Comment"}),l.jsxs("td",{children:[l.jsxs("span",{className:"relative",children:[l.jsx("textarea",{id:"dchan-post-form-textarea",autoFocus:!0,className:"dchan-input-comment px-1 font-sans border border-solid border-gray focus:border-indigo-300",cols:40,rows:4,...eu,ref:rt=>{ni(rt),Kt.current=rt},disabled:Se,onChange:rt=>F(rt.target.value.length),maxLength:2e3,placeholder:"..."}),l.jsx(Cl,{className:"pr-4",maxLength:2e3,value:b})]}),I.comment&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 border border-solid border-black bg-highlight font-semibold text-sm",children:"File"}),l.jsx("td",{className:"flex text-xs",children:l.jsxs("div",{className:"flex-grow mx-0.5",children:[l.jsx("span",{className:"text-xs float-right bg-primary",children:"(1000kb max)"}),l.jsx("input",{className:"w-64",type:"file",accept:"image/*",disabled:Se,onChange:Dp},D),l.jsxs("div",{className:"flex",children:[g?l.jsxs("details",{className:"mx-0.5",open:!0,children:[l.jsx("summary",{children:""}),l.jsx("img",{alt:"",className:"max-h-24 max-w-16rem",src:g}),l.jsxs("span",{className:`text-xs ${x>1e3?"text-contrast":""}`,children:[Math.round(x)," kb"]})]}):"",v&&v.length>0?l.jsxs("div",{className:"flex",children:[l.jsx("span",{children:l.jsx("button",{className:"dchan-input-file-remove mx-0.5",title:"Remove file",type:"button",onClick:K,children:l.jsx(pe,{emoji:""})})}),l.jsxs("details",{className:"mx-0.5",open:!0,children:[l.jsx("summary",{children:l.jsx(pe,{emoji:""})}),l.jsxs("div",{children:[l.jsx("input",{id:"dchan-input-is_spoiler",className:"mx-1",type:"checkbox",...R("is_spoiler"),disabled:Se}),l.jsx("label",{htmlFor:"dchan-input-is_spoiler",className:"text-black font-weight-800 font-family-tahoma",children:"Spoiler"})]}),l.jsxs("div",{children:[l.jsx("input",{id:"dchan-input-is_nsfw",className:"mx-1",type:"checkbox",...R("is_nsfw"),disabled:Se}),l.jsx("label",{htmlFor:"dchan-input-is_nsfw",className:"text-black font-weight-800 font-family-tahoma",children:"NSFW"})]})]})]}):""]})]})}),I.file&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]})}),l.jsxs("div",{className:"text-xs grid center",children:[l.jsxs("div",{className:"p-1 flex center",children:[l.jsx("input",{id:"dchan-input-rules",className:"mx-1",type:"checkbox",...R("rulesAccepted",{required:!0}),disabled:Se}),l.jsx("label",{htmlFor:"dchan-input-rules",className:"text-black font-weight-800 font-family-tahoma",children:l.jsxs("ul",{children:[l.jsxs("li",{children:["I've read the ",l.jsx(oj,{})," and the ",l.jsx(A8,{})," ","before posting."]}),l.jsxs("li",{children:["I understand that"," ",l.jsx("abbr",{title:"Other users will be able to view all past transactions you ever made using this address. Be mindful of the security risks this entails.",children:l.jsx("i",{children:"my posts will be publicly signed by my address"})})]}),l.jsx("li",{children:l.jsxs("i",{children:[s&&s.length>0?l.jsx("a",{href:`https://polygonscan.com/address/${s[0]}`,target:"_blank",children:l.jsx(Ap,{id:s[0],children:s[0]})}):""," "]})}),l.jsxs("li",{children:["and that"," ",l.jsx("abbr",{title:"Posts are stored on the blockchain and images are uploaded to IPFS. _THIS_CANNOT_BE_UNDONE_. Content can be hidden, but can still be trivially obtained. Remember, the blockchain never forgets.",children:l.jsx("i",{children:"I won't be able to delete the content I post."})})]})]})})]}),I.rulesAccepted&&l.jsx("div",{className:"px-1 text-contrast",children:"This field is required"})]})]})]}):l.jsxs("div",{children:[l.jsx("div",{className:"text-contrast font-weight-800 font-family-tahoma",children:l.jsx("div",{children:"Wallet not connected."})}),l.jsx("div",{children:l.jsx("button",{className:"dchan-link dchan-brackets whitespace-nowrap",onClick:()=>T(vp.WALLET),children:"Connect"})})]})}):l.jsx(Cn,{})]})},Cl=({value:t,className:e="",maxLength:r})=>l.jsx("span",{className:["absolute bottom-0 right-0 text-xs bg-white pointer-events-none",e,t<r*.1?"opacity-0":t<r*.5?"opacity-25":t<r*.9?"opacity-50":t<r?"opacity-75":"opacity-100 text-contrast"].join(" "),children:`${t}/${r}`}),w8=({title:t})=>l.jsxs("header",{children:[l.jsx(Ex,{}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute",children:l.jsx(wx,{})}),l.jsx("div",{className:"text-4xl text-contrast font-weight-800 font-family-tahoma relative flex center h-20 z-20",children:t}),l.jsx("div",{className:"p-2",children:l.jsx("hr",{})})]})]}),wx=Cr.memo(({block:t})=>l.jsx("span",{className:"font-mono",children:l.jsxs(Pe,{className:"z-20",to:`/${t?`?block=${t}`:""}`,title:"4dchan.org",children:[l.jsx("span",{className:"left-0 top-4 absolute",children:l.jsxs("span",{className:"select-none relative",children:[l.jsx(Dl,{className:"absolute w-14 top-0 bottom-0 opacity-10",size:16,style:{animationDelay:`-${new Date().getSeconds()-3}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Dl,{className:"absolute w-14 top-0 bottom-0 ml-3 opacity-20",size:16,style:{animationDelay:`-${new Date().getSeconds()-2}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Dl,{className:"absolute w-14 top-0 bottom-0 ml-6 opacity-30",size:16,style:{animationDelay:`-${new Date().getSeconds()-1}.${new Date().getMilliseconds()}s`},speed:"minute"}),l.jsx(Dl,{className:"absolute w-14 top-0 bottom-0 ml-9",size:16,style:{animationDelay:`-${new Date().getSeconds()}.${new Date().getMilliseconds()}s`},speed:"minute"})]})}),l.jsxs("div",{className:"text-left invisible lg:visible text-xs text-gray-600 dchan-header-subtitle ml-24",children:[l.jsx("div",{children:"Decentralized"}),l.jsx("div",{children:"Timetraveling"}),l.jsx("div",{children:"Imageboard"})]})]})}));var vp=(t=>(t.TIMETRAVEL="TIMETRAVEL",t.SEARCH="SEARCH",t.WATCHEDTHREADS="WATCHEDTHREADS",t.SETTINGS="SETTINGS",t.WALLET="WALLET",t))(vp||{});const uk={id:"0x04eeaa77c96947c5efca4abd8e3f8de005369390409d79dfef81aa983eb69e89",number:"17766365",timestamp:"1628450632"},Ex=({board:t,thread:e})=>{var S;const{provider:r,accounts:n}=Fn(),{timeTraveledToBlockNumber:i}=nt(),[s,u]=k.useState({label:"Site creation",block:uk}),[a,o]=k.useContext(Cg),[c,f]=k.useState(!1),d=k.useRef(null),p=k.useRef(null),m=k.useRef(null),w=k.useRef(null),b=(S=fa().data)==null?void 0:S.user,F=k.useCallback((O,g)=>{g in vp&&o(g)},[o]);k.useEffect(()=>{const O=bi.subscribe("WIDGET_OPEN",F);return()=>{bi.unsubscribe(O)}}),k.useEffect(()=>{!e&&!t||u(e?{label:"Thread creation",block:e.createdAtBlock}:t?{label:"Board creation",block:t.createdAtBlock}:{label:"Site creation",block:uk})},[e,t,u]);const{data:E}=hr(N5,{variables:{},pollInterval:3e4}),A=k.useCallback(()=>{f(!c)},[c,f]),x=["absolute top-0 w-screen sm:w-max mt-1 md:mt-1 left-0 right-0 sm:left-auto sm:right-2 sm:opacity-90 hover:opacity-100",c?"top-11 md:top-full":"top-full md:top-6"].join(" "),C=E==null?void 0:E.boards;return l.jsx("div",{className:"dchan-header-navigation",children:l.jsxs("div",{className:"text-sm p-01 border-solid border-bottom-tertiary-accent bg-secondary border-0 border-b-2 text-left fixed top-0 left-0 right-0 shadow-md z-50 flex flex-wrap",children:[l.jsx("span",{className:"text-black text-opacity-50 hover:text-opacity-100 dchan-brackets",children:l.jsx(Pe,{className:"dchan-link font-bold",to:`/${i?`?block=${i}`:""}`,children:"4dchan.org"})}),t?l.jsx(na,{board:t}):l.jsx(l.Fragment,{}),l.jsxs("span",{className:"text-black text-opacity-50 hover:text-opacity-100 select-none px-1",children:[l.jsx("span",{className:"inline dchan-brackets",onClick:A,children:l.jsx("span",{className:"dchan-link w-2 inline-block text-center",children:c?"-":"+"})}),l.jsx("span",{className:c?"hidden md:inline":"hidden",children:l.jsx("span",{className:"hidden sm:inline-block dchan-brackets",children:C&&C.map(O=>l.jsxs("span",{className:"dchan-navigation-board",children:[l.jsx("wbr",{}),l.jsx(na,{board:O})]},O.id))})}),l.jsx(Pe,{className:"dchan-brackets "+(c?"":"hidden"),to:`${Re.boards()}${i?`?block=${i}`:""}`,children:l.jsx("span",{className:"dchan-link",children:"..."})})]}),l.jsxs("span",{className:"text-black text-opacity-50 hover:text-opacity-100 select-none pr-1",children:["[",l.jsx(Pe,{className:"dchan-link",to:`${Re.posts()}${i?`?block=${i}`:""}`,children:l.jsx(pe,{emoji:""})}),"]"]}),l.jsx("span",{className:"inline-flex center flex-grow"}),l.jsxs("span",{className:"float-right flex flex-row mr-1 select-none justify-end flex-grow",children:[l.jsx(zue,{ref:d,open:a==="TIMETRAVEL",widgetClassName:x,onOpen:()=>{o(a==="TIMETRAVEL"?null:"TIMETRAVEL")},onClose:()=>o(null),startBlock:s.block,startRangeLabel:s.label}),l.jsxs("details",{className:"mx-1",title:"Watched Threads",open:a==="WATCHEDTHREADS",ref:p,children:[l.jsx("summary",{className:"list-none cursor-pointer opacity-60 hover:opacity-100 select-none",onClick:O=>{O.preventDefault(),o(a==="WATCHEDTHREADS"?null:"WATCHEDTHREADS")},children:l.jsx(pe,{emoji:""})}),l.jsx("div",{className:x,children:l.jsx(Wue,{})})]}),l.jsxs("span",{ref:m,title:"Settings",className:"cursor-pointer opacity-60 hover:opacity-100 mx-1 select-none",onClick:()=>{o(a==="SETTINGS"?null:"SETTINGS")},children:[l.jsx(pe,{emoji:""}),a==="SETTINGS"?l.jsx(x8,{onExit:()=>o(null),overlayClassName:"w-full sm:w-4/6 h-5/6",children:l.jsx(Vue,{onExit:()=>o(null)})}):""]}),l.jsxs("details",{className:"mx-1 select-none",open:a==="WALLET",ref:w,children:[l.jsx("summary",{title:"Wallet",className:"list-none cursor-pointer opacity-60 hover:opacity-100",onClick:O=>{O.preventDefault(),o(a==="WALLET"?null:"WALLET")},children:l.jsxs("span",{className:r?"":"filter grayscale",children:[l.jsx(m2,{user:b||{address:n[0]}}),l.jsx(pe,{emoji:""})]})}),a==="WALLET"?l.jsx("div",{className:x,children:l.jsx(Oue,{})}):""]})]}),l.jsx("div",{className:"w-min top-7 sm:top-full sm:mt-1 left-0 right-0 sm:left-auto mx-auto overflow-scroll "+(c?"block md:hidden":"hidden"),children:l.jsx("span",{className:"dchan-brackets flex",children:C&&C.map(O=>l.jsxs("span",{className:"dchan-navigation-board",children:[l.jsx("wbr",{}),l.jsx(na,{board:O})]},O.id))})})]})})},Ap=({id:t,className:e="",children:r})=>{const n=mp(t);return r==null&&(r=n),l.jsx("span",{style:{backgroundColor:ZJ(n)},className:[e,WY].join(" "),children:r})},WY="font-mono font-bold text-readable-anywhere pt-0.5 px-0.5 mx-0.5 rounded opacity-75 hover:opacity-100 text-xs whitespace-nowrap",tm=({threads:t,board:e,showBoard:r=!1})=>{const{timeTraveledToBlockNumber:n}=nt();return l.jsx("div",{children:t.filter(i=>i.op).map(i=>{var s,u;return l.jsx("div",{className:"border-solid border-black border-b border-secondary bg-primary",children:l.jsxs(Eh,{post:i.op,thread:i,showNsfw:e==null?void 0:e.isNsfw,header:l.jsx("span",{children:l.jsxs("span",{className:"p-1 whitespace-nowrap",children:["[",l.jsx(Pe,{to:`${Re.thread(i)}${n?`?block=${n}`:""}`,className:"dchan-link",children:"Reply"}),"]",r&&i.board?l.jsx("span",{className:"ml-1 whitespace-nowrap",children:l.jsx(na,{board:i.board})}):""]})}),children:[l.jsx("div",{className:"text-left pl-4 text-sm",children:parseInt(i.replyCount)>1+((s=i.replies||i.lastReplies)==null?void 0:s.length)?l.jsxs(Pe,{to:`${Re.thread(i)}${n?`?block=${n}`:""}`,className:"dchan-link",children:["+ ",parseInt(i.replyCount)-((u=i.replies||i.lastReplies)==null?void 0:u.length)," ","replies omitted"]}):""}),[...i.replies||i.lastReplies||[]].reverse().map(a=>l.jsx(Eh,{post:a,thread:i,showNsfw:e==null?void 0:e.isNsfw},a.id))]},i.op.id)},i.id)})})},QY="/assets/spoiler-487fe5e7.png",qY="/assets/nsfw-b49b262a.png",GY="/assets/ipfs-5dd174e6.png",KY="/assets/ipfs_error-deb05f9f.png";function Vi(t,e,r,n){const i=k.useRef(r),s=k.useRef(n);k.useEffect(()=>{i.current=r,s.current=n}),k.useEffect(()=>{const u=t&&"current"in t?t.current:t;if(!u)return;let a=0;function o(...f){a||i.current.apply(this,f)}u.addEventListener(e,o);const c=s.current;return()=>{a=1,u.removeEventListener(e,o),c&&c()}},[t,e])}function JY(t,e){if(typeof window>"u")return t;const{event:r,element:n}=e;let i;"touches"in r?i=r.touches[0]:i=r;const{clientX:s,clientY:u,screenX:a,screenY:o,pageX:c=0,pageY:f=0}=i,d=n.getBoundingClientRect(),p=c-d.left-(window.pageXOffset||window.scrollX),m=f-d.top-(window.pageYOffset||window.scrollY);return"touches"in r&&(p<0||m<0||p>d.width||m>d.height)?{...t,context:{...t.context,hoverStatus:"leave",touchStatus:"end"}}:{context:{...t.context,hoverStatus:"enter"},mouse:{...t.mouse,x:p,y:m,pageX:c,pageY:f,clientX:s,clientY:u,screenX:a,screenY:o,elementWidth:d.width,elementHeight:d.height,isOver:!0,isTouch:"touches"in r}}}function YY(t,e){const{mouse:r,context:n}=t,i=JY;if(e.type==="mousemove")return n.touchStatus==="end"?t:i(t,e);if(e.type==="touchmove"){const s={context:{...n,touchStatus:"start"},mouse:r};return i(s,e)}else if(e.type==="touchdown"){const s={context:{...n,touchStatus:"start"},mouse:{...r,isDown:!0}};return i(s,e)}else{if(e.type==="mousedown")return{context:n,mouse:{...r,isDown:!0}};if(e.type==="mouseup")return{context:n,mouse:{...r,isDown:!1}};if(e.type==="mouseleave")return{context:{...n,hoverStatus:"leave"},mouse:{...r,isOver:!1}};if(e.type==="touchleave")return{context:{...n,hoverStatus:"leave",touchStatus:"end"},mouse:{...r,isOver:!1,isDown:!1}};if(e.type==="activeStatus")return{context:{...n,activeStatus:e.value},mouse:r}}return t}function ZY(t,e={}){const{fps:r=30,enterDelay:n=0,leaveDelay:i=0}=e,[s,u]=k.useReducer(YY,{mouse:ak,context:XY}),a=Au(b=>{const F=t&&"current"in t?t.current:t;F&&u({type:"mousemove",event:b,element:F})},r,!0),o=Au(b=>{const F=t&&"current"in t?t.current:t;F&&u({type:"touchmove",event:b,element:F})},r,!0),c=Au(()=>u({type:"mouseleave"}),r,!1),f=Au(b=>{const F=t&&"current"in t?t.current:t;F&&u("touches"in b?{type:"touchdown",element:F,event:b}:{type:"mousedown",element:F,event:b})},r,!0),d=Au(()=>u({type:"mouseup"}),r,!1),p=Au(()=>u({type:"touchleave"}),r,!1);Vi(t,"mouseenter",a),Vi(t,"mousemove",a),Vi(t,"mouseleave",c),Vi(t,"mousedown",f),Vi(typeof window<"u"?window:null,"mousedown",f),Vi(typeof window<"u"?window:null,"mouseup",d),Vi(t,"touchstart",f),Vi(t,"touchmove",o),Vi(t,"touchend",p),Vi(t,"touchcancel",p);function m(){return u({type:"activeStatus",value:"active"})}function w(){return u({type:"activeStatus",value:"inactive"})}return k.useEffect(()=>{if(s.context.hoverStatus==="enter"){if(n){const b=setTimeout(m,n);return()=>clearTimeout(b)}u({type:"activeStatus",value:"active"})}else{if(i){const b=setTimeout(w,i);return()=>clearTimeout(b)}u({type:"activeStatus",value:"inactive"})}},[s.context.hoverStatus,n,i]),s.context.activeStatus==="active"?s.mouse:ak}const ak={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},XY={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};function eZ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function tZ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var u1=typeof window<"u",rZ=function(t){k.useEffect(t,[])};const nZ=rZ;var iZ=function(t,e){var r=k.useRef(function(){});k.useEffect(function(){r.current=t}),k.useEffect(function(){if(e!==null){var n=setInterval(function(){return r.current()},e||0);return function(){return clearInterval(n)}}},[e])};const sZ=iZ;var uZ=function(t){var e=k.useRef(t);e.current=t,nZ(function(){return function(){return e.current()}})};const aZ=uZ;var oZ=function(t){var e=k.useRef(0),r=k.useState(t),n=r[0],i=r[1],s=k.useCallback(function(u){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){i(u)})},[]);return aZ(function(){cancelAnimationFrame(e.current)}),[n,s]};const lZ=oZ;var cZ={restoreOnUnmount:!1};function fZ(t,e){e===void 0&&(e=cZ);var r=k.useRef(document.title);document.title!==t&&(document.title=t),k.useEffect(function(){if(e&&e.restoreOnUnmount)return function(){document.title=r.current}},[])}const kg=typeof document<"u"?fZ:function(t){};var dZ=function(t,e){t===void 0&&(t=1/0),e===void 0&&(e=1/0);var r=lZ({width:u1?window.innerWidth:t,height:u1?window.innerHeight:e}),n=r[0],i=r[1];return k.useEffect(function(){if(u1){var s=function(){i({width:window.innerWidth,height:window.innerHeight})};return eZ(window,"resize",s),function(){tZ(window,"resize",s)}}},[]),n};const hZ=dZ,E8=({hash:t,style:e,className:r="",isSpoiler:n=!1,isNsfw:i=!1,expandable:s=!1,thumbnail:u=!1,thumbnailClass:a="max-w-8rem max-h-32"})=>{const o=k.useRef(null),[c,f]=k.useState(i8(t)),[d,p]=k.useState(!1),[m,w]=k.useState(!0),[b,F]=k.useState(),[E,A]=k.useState(!1),[x,C]=k.useState(!1),[S,O]=k.useState(!u),g=k.useRef(null);a=u?a:"";const h=(!i||x)&&(!n||E),v=k.useCallback(()=>{const j=[...c],I=j.shift();I&&(F(I),f([...j]))},[c,F,f]);k.useEffect(()=>{!b&&v()},[v,b]);const y=k.useCallback(()=>{w(!0),F(`${b==null?void 0:b.replace(/[&?]t=\d+/,"")}?t=${new Date().getTime()}`),p(void 0)},[b,w,F,p]),D=k.useCallback(j=>{console.log("ipfs load error",j.target.src),w(!1),p(`${j.target.src}: failed to load.`),v()},[v,p,w]),P=hZ(),[N,B]=k.useState(null),L=ZY(o);k.useEffect(()=>{const{clientWidth:j,clientHeight:I}=g.current||{clientWidth:0,clientHeight:0};if(h&&!S&&P.width>768&&L.clientX!==null&&L.clientY!==null){const V={x:Math.max(j/2,Math.min(window.outerWidth-j/2,L.clientX)),y:Math.max(I/2,Math.min(window.outerHeight-I/2,L.clientY)),flip:L.clientX>P.width/2};B(re=>({x:JD((re==null?void 0:re.x)??V.x,V.x,.42),y:JD((re==null?void 0:re.y)??V.y,V.y,.42),flip:V.flip}))}else B(null)},[S,h,P,t,g,L,B]);const H=k.useCallback(()=>w(!1),[w]),M=k.useCallback(()=>{s&&O(!S)},[s,S,O]),T=k.useCallback(()=>C(!0),[C]),R=k.useCallback(()=>A(!0),[A]);return l.jsxs("span",{ref:o,className:"relative",children:[l.jsx("img",{className:`${r} ${!S||d?a:""} animation-fade-in`,style:m?{...e,position:"absolute",...h?{}:{visibility:"hidden"}}:d||!h?{display:"none"}:e,src:b,onLoad:H,loading:"eager",onClick:M,onError:D,alt:"",ref:g}),N&&!m&&!d?l.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 overflow-hidden pointer-events-none opacity-98 z-50",children:l.jsx("img",{className:"fixed max-w-75vw max-h-75vh z-50 overflow-hidden",style:{left:`${N.x}px`,top:`${N.y}px`,transform:`translate(${N.flip?"-100":"0"}%, -50%)`,transition:"position 50ms ease-out"},src:b,alt:""})}):l.jsx(l.Fragment,{}),l.jsx("div",{className:`${r} relative`,children:l.jsx("span",{children:l.jsx("div",{children:l.jsxs("div",{children:[m?l.jsxs("div",{className:"relative center grid",children:[l.jsx("img",{className:a+" animation-download",style:e,src:GY,onClick:y,alt:""}),l.jsxs("div",{className:"p-2 text-xs opacity-80 absolute top-0 left-0 bg-primary animation-fade-in",title:"Retrieving image from IPFS.",children:["Loading from IPFS...",b?l.jsxs("div",{children:["Attempting ",l.jsx("i",{children:new URL(b).hostname})]}):l.jsx(l.Fragment,{})]})]}):d?l.jsxs("div",{className:"relative center grid",children:[l.jsx("img",{className:a+" animation-fade-in",style:e,src:KY,onClick:y,alt:""}),l.jsx("div",{className:"p-2",children:"IPFS Image Load Error"})]}):"",!m&&!d&&!E&&n?l.jsx("img",{className:a,src:QY,alt:"SPOILER",onClick:R}):"",!m&&!d&&(E||!n)&&!x&&i?l.jsx("img",{className:a,src:qY,alt:"NSFW",onClick:T}):""]})})})})]})},pZ=({limit:t,skip:e,board:r})=>{var c;const{timeTraveledToBlockNumber:n}=nt(),i=n?U5:V5,{loading:s,data:u}=hr(i,{pollInterval:1e4,variables:{block:n,limit:t,skip:e,board:(r==null?void 0:r.id)||""}}),[a,o]=k.useState(u);return k.useEffect(()=>u&&o(u),[u,o]),l.jsx("div",{children:s&&!a?l.jsx(Cn,{}):((c=a==null?void 0:a.posts)==null?void 0:c.map(f=>l.jsx(Cue,{post:f},f.id)))||l.jsx("div",{children:"No post found"})})},Cn=({className:t=""})=>{const{isTimeTraveling:e,timeTraveledToDateTime:r}=nt();return l.jsxs("div",{className:`${t} dchan-loading flex center p-2`,children:[l.jsx("div",{className:"opacity-80 pr-1",children:l.jsx(Dl,{size:8,reverse:e,speed:"sanic"})}),l.jsx("div",{className:"",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Time traveling to..."}),l.jsx("div",{className:"text-xs opacity-70",children:r==null?void 0:r.toLocaleString(ce.DATETIME_SHORT)}),l.jsx("div",{className:"text-xs opacity-50",children:r==null?void 0:r.toRelative()})]}):l.jsx(l.Fragment,{children:"Loading..."})})]})},mZ=()=>{var r,n,i;const[t]=Li(),{data:e}=hr(M5,{variables:{id:((r=t==null?void 0:t.contract)==null?void 0:r.address)||""},skip:!((n=t==null?void 0:t.contract)!=null&&n.address)});return(i=e==null?void 0:e.chanStatus)!=null&&i.isLocked?l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-primary relative p-8",style:{height:"100000vh"},children:l.jsx("div",{className:"center grid",children:l.jsx(Ti,{title:l.jsx("div",{className:"text-red-600 text-4xl",children:"UH OH"}),className:"pt-4",children:l.jsxs("div",{className:"text-center grid",children:[l.jsx(pe,{emoji:""}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-md",children:"Someone made a stinky and everything got locked."}),l.jsx("div",{className:"text-sm",children:"Hopefully it wasn't you."}),l.jsx("div",{className:"text-md",children:"Please wait while things go back to normal."})]})]})})})})}):l.jsx("span",{})},bp=({children:t})=>{const e=t?t.map?t:[t]:[];return l.jsxs("details",{className:"dchan-menu z-10 text-sm inline text-left opacity-40 hover:opacity-100 select-none h-16px sm:relative",children:[l.jsx("summary",{className:"pl-1"}),l.jsx("div",{className:"dchan-menu-content bg-secondary border border-solid border-tertiary-accent p-1 z-50 pr-4 absolute w-screen sm:w-auto left-0",children:e.map(r=>r)})]})};function yZ(){const[t,e]=eg();return t!==!1?l.jsx(x8,{onExit:()=>e(!1),children:{abuse:l.jsx(TJ,{}),rules:l.jsx(Sue,{}),faq:l.jsx(OY,{})}[t]}):null}const x8=t=>(Cr.useEffect(()=>{const e=r=>{r.key==="Escape"&&(r.stopPropagation(),t.onExit())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),l.jsx("div",{className:"flex fixed top-0 bottom-0 left-0 right-0 overflow-scroll bg-black bg-opacity-50 cursor-default pb-8",style:{zIndex:9e3},onClick:t.onExit,children:l.jsx("div",{className:`${t.overlayClassName} m-auto`,onClick:e=>e.stopPropagation(),children:t.children})})),kd=({url:t,page:e,maxPage:r,hasNextPage:n})=>{const i=Vr(),{timeTraveledToBlockNumber:s}=nt();return l.jsxs("div",{className:"p-2",children:[l.jsx("span",{children:l.jsx(Pe,{className:`dchan-link px-2 ${e>1?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=1${s?`&block=${s}`:""}`,children:"<<"})}),l.jsx("span",{children:l.jsx(Pe,{className:`dchan-link px-2 ${e>1?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${e-1}${s?`&block=${s}`:""}`,children:"<"})}),l.jsxs("span",{children:["[",l.jsxs("button",{className:"dchan-link px-2",onClick:()=>{const u=prompt(`Page number: ${r?`(range: 1-${r})`:""}`);if(u!=null){const a=parseInt(u||"");isNaN(a)||a<1||r&&a>r?alert(`Invalid page number: ${u}`):i(`${t}${t.indexOf("?")===-1?"?":"&"}page=${a}${s?`&block=${s}`:""}`)}},children:["Page ",e,r?` of ${r}`:""]}),"]"]}),l.jsx("span",{children:l.jsx(Pe,{className:`dchan-link px-2 ${n===!0||r&&e<r?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${e+1}${s?`&block=${s}`:""}`,children:">"})}),l.jsx("span",{children:l.jsx(Pe,{className:`dchan-link px-2 ${n===!0&&r&&e<r?"":"dchan-link-disabled"}`,to:`${t}${t.indexOf("?")===-1?"?":"&"}page=${r}${s?`&block=${s}`:""}`,children:">>"})})]})},gZ=({highlight:t})=>l.jsxs("div",{className:"dchan-popular-boards",children:[l.jsx(p8,{limit:100,highlight:t}),l.jsxs("div",{className:"border border-solid border-tertiary-accent p-2",children:["[",l.jsx(Pe,{className:"dchan-link py-1 px-4",to:Re.boards(),children:"All boards"}),"]"]})]});var vZ="__lodash_hash_undefined__";function AZ(t){return this.__data__.set(t,vZ),this}function bZ(t){return this.__data__.has(t)}function wh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Zs;++e<r;)this.add(t[e])}wh.prototype.add=wh.prototype.push=AZ;wh.prototype.has=bZ;function wZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function F8(t,e){return t.has(e)}var EZ=1,xZ=2;function C8(t,e,r,n,i,s){var u=r&EZ,a=t.length,o=e.length;if(a!=o&&!(u&&o>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var d=-1,p=!0,m=r&xZ?new wh:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var w=t[d],b=e[d];if(n)var F=u?n(b,w,d,e,t,s):n(w,b,d,t,e,s);if(F!==void 0){if(F)continue;p=!1;break}if(m){if(!wZ(e,function(E,A){if(!F8(m,A)&&(w===E||i(w,E,r,n,s)))return m.push(A)})){p=!1;break}}else if(!(w===b||i(w,b,r,n,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function FZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function xx(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var CZ=1,SZ=2,DZ="[object Boolean]",kZ="[object Date]",OZ="[object Error]",_Z="[object Map]",PZ="[object Number]",BZ="[object RegExp]",TZ="[object Set]",NZ="[object String]",jZ="[object Symbol]",IZ="[object ArrayBuffer]",RZ="[object DataView]",ok=Xn?Xn.prototype:void 0,a1=ok?ok.valueOf:void 0;function LZ(t,e,r,n,i,s,u){switch(r){case RZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case IZ:return!(t.byteLength!=e.byteLength||!s(new sy(t),new sy(e)));case DZ:case kZ:case PZ:return lp(+t,+e);case OZ:return t.name==e.name&&t.message==e.message;case BZ:case NZ:return t==e+"";case _Z:var a=FZ;case TZ:var o=n&CZ;if(a||(a=xx),t.size!=e.size&&!o)return!1;var c=u.get(t);if(c)return c==e;n|=SZ,u.set(t,e);var f=C8(a(t),a(e),n,i,s,u);return u.delete(t),f;case jZ:if(a1)return a1.call(t)==a1.call(e)}return!1}var MZ=1,$Z=Object.prototype,UZ=$Z.hasOwnProperty;function VZ(t,e,r,n,i,s){var u=r&MZ,a=qb(t),o=a.length,c=qb(e),f=c.length;if(o!=f&&!u)return!1;for(var d=o;d--;){var p=a[d];if(!(u?p in e:UZ.call(e,p)))return!1}var m=s.get(t),w=s.get(e);if(m&&w)return m==e&&w==t;var b=!0;s.set(t,e),s.set(e,t);for(var F=u;++d<o;){p=a[d];var E=t[p],A=e[p];if(n)var x=u?n(A,E,p,e,t,s):n(E,A,p,t,e,s);if(!(x===void 0?E===A||i(E,A,r,n,s):x)){b=!1;break}F||(F=p=="constructor")}if(b&&!F){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(b=!1)}return s.delete(t),s.delete(e),b}var HZ=1,lk="[object Arguments]",ck="[object Array]",h0="[object Object]",zZ=Object.prototype,fk=zZ.hasOwnProperty;function WZ(t,e,r,n,i,s){var u=wn(t),a=wn(e),o=u?ck:bh(t),c=a?ck:bh(e);o=o==lk?h0:o,c=c==lk?h0:c;var f=o==h0,d=c==h0,p=o==c;if(p&&iy(t)){if(!iy(e))return!1;u=!0,f=!1}if(p&&!f)return s||(s=new ss),u||HN(t)?C8(t,e,r,n,i,s):LZ(t,e,o,r,n,i,s);if(!(r&HZ)){var m=f&&fk.call(t,"__wrapped__"),w=d&&fk.call(e,"__wrapped__");if(m||w){var b=m?t.value():t,F=w?e.value():e;return s||(s=new ss),i(b,F,r,n,s)}}return p?(s||(s=new ss),VZ(t,e,r,n,i,s)):!1}function Og(t,e,r,n,i){return t===e?!0:t==null||e==null||!Bi(t)&&!Bi(e)?t!==t&&e!==e:WZ(t,e,r,n,Og,i)}var QZ=1,qZ=2;function GZ(t,e,r,n){var i=r.length,s=i,u=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var o=a[0],c=t[o],f=a[1];if(u&&a[2]){if(c===void 0&&!(o in t))return!1}else{var d=new ss;if(n)var p=n(c,f,o,t,e,d);if(!(p===void 0?Og(f,c,QZ|qZ,n,d):p))return!1}}return!0}function S8(t){return t===t&&!Pi(t)}function KZ(t){for(var e=hp(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,S8(i)]}return e}function D8(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function JZ(t){var e=KZ(t);return e.length==1&&e[0][2]?D8(e[0][0],e[0][1]):function(r){return r===t||GZ(r,t,e)}}function YZ(t,e,r){var n=t==null?void 0:Eg(t,e);return n===void 0?r:n}function ZZ(t,e){return t!=null&&e in Object(t)}function XZ(t,e,r){e=wg(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var u=pp(e[n]);if(!(s=t!=null&&r(t,u)))break;t=t[u]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&ax(i)&&ux(u,i)&&(wn(t)||sx(t)))}function eX(t,e){return t!=null&&XZ(t,e,ZZ)}var tX=1,rX=2;function nX(t,e){return hx(t)&&S8(e)?D8(pp(t),e):function(r){var n=YZ(r,t);return n===void 0&&n===e?eX(r,t):Og(e,n,tX|rX)}}function k8(t){return function(e){return e==null?void 0:e[t]}}function iX(t){return function(e){return Eg(e,t)}}function sX(t){return hx(t)?k8(pp(t)):iX(t)}function O8(t){return typeof t=="function"?t:t==null?xg:typeof t=="object"?wn(t)?nX(t[0],t[1]):JZ(t):sX(t)}function uX(t){return function(e,r,n){for(var i=-1,s=Object(e),u=n(e),a=u.length;a--;){var o=u[t?a:++i];if(r(s[o],o,s)===!1)break}return e}}var aX=uX();const oX=aX;function lX(t,e){return t&&oX(t,e,hp)}function cX(t,e){return function(r,n){if(r==null)return r;if(!dp(r))return t(r,n);for(var i=r.length,s=e?i:-1,u=Object(r);(e?s--:++s<i)&&n(u[s],s,u)!==!1;);return r}}var fX=cX(lX);const dX=fX;function hX(t,e){var r=-1,n=dp(t)?Array(t.length):[];return dX(t,function(i,s,u){n[++r]=e(i,s,u)}),n}function pX(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function mX(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=Gc(t),u=e!==void 0,a=e===null,o=e===e,c=Gc(e);if(!a&&!c&&!s&&t>e||s&&u&&o&&!a&&!c||n&&u&&o||!r&&o||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||a&&r&&i||!u&&i||!o)return-1}return 0}function yX(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,u=i.length,a=r.length;++n<u;){var o=mX(i[n],s[n]);if(o){if(n>=a)return o;var c=r[n];return o*(c=="desc"?-1:1)}}return t.index-e.index}function gX(t,e,r){e.length?e=Sd(e,function(s){return wn(s)?function(u){return Eg(u,s.length===1?s[0]:s)}:s}):e=[xg];var n=-1;e=Sd(e,fp(O8));var i=hX(t,function(s,u,a){var o=Sd(e,function(c){return c(s)});return{criteria:o,index:++n,value:s}});return pX(i,function(s,u){return yX(s,u,r)})}function _8(t,e){return n8(r8(t,e,xg),t+"")}function dy(t,e,r){if(!Pi(r))return!1;var n=typeof e;return(n=="number"?dp(r)&&ux(e,r.length):n=="string"&&e in r)?lp(r[e],t):!1}var vX=_8(function(t,e){if(t==null)return[];var r=e.length;return r>1&&dy(t,e[0],e[1])?e=[]:r>2&&dy(e[0],e[1],e[2])&&(e=[e[0]]),gX(t,mx(e,1),[])});const AX=vX;var bX=Array.prototype,wX=bX.reverse;function EX(t){return t==null?t:wX.call(t)}function xX(t){return t&&t.length>0?EX(AX(t,e=>parseInt(e.createdAtBlock.timestamp))):void 0}function Fx({score:t},e){return parseInt(t)/1e9<parseInt(`${e||1}`)}function FX(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:e8(t,e,r)}var CX="\\ud800-\\udfff",SX="\\u0300-\\u036f",DX="\\ufe20-\\ufe2f",kX="\\u20d0-\\u20ff",OX=SX+DX+kX,_X="\\ufe0e\\ufe0f",PX="\\u200d",BX=RegExp("["+PX+CX+OX+_X+"]");function Cx(t){return BX.test(t)}var TX="[object RegExp]";function NX(t){return Bi(t)&&Ys(t)==TX}var dk=pa&&pa.isRegExp,jX=dk?fp(dk):NX;const IX=jX;var RX=k8("length");const LX=RX;var P8="\\ud800-\\udfff",MX="\\u0300-\\u036f",$X="\\ufe20-\\ufe2f",UX="\\u20d0-\\u20ff",VX=MX+$X+UX,HX="\\ufe0e\\ufe0f",zX="["+P8+"]",Zb="["+VX+"]",Xb="\\ud83c[\\udffb-\\udfff]",WX="(?:"+Zb+"|"+Xb+")",B8="[^"+P8+"]",T8="(?:\\ud83c[\\udde6-\\uddff]){2}",N8="[\\ud800-\\udbff][\\udc00-\\udfff]",QX="\\u200d",j8=WX+"?",I8="["+HX+"]?",qX="(?:"+QX+"(?:"+[B8,T8,N8].join("|")+")"+I8+j8+")*",GX=I8+j8+qX,KX="(?:"+[B8+Zb+"?",Zb,T8,N8,zX].join("|")+")",hk=RegExp(Xb+"(?="+Xb+")|"+KX+GX,"g");function JX(t){for(var e=hk.lastIndex=0;hk.test(t);)++e;return e}function YX(t){return Cx(t)?JX(t):LX(t)}function ZX(t){return t.split("")}var R8="\\ud800-\\udfff",XX="\\u0300-\\u036f",eee="\\ufe20-\\ufe2f",tee="\\u20d0-\\u20ff",ree=XX+eee+tee,nee="\\ufe0e\\ufe0f",iee="["+R8+"]",ew="["+ree+"]",tw="\\ud83c[\\udffb-\\udfff]",see="(?:"+ew+"|"+tw+")",L8="[^"+R8+"]",M8="(?:\\ud83c[\\udde6-\\uddff]){2}",$8="[\\ud800-\\udbff][\\udc00-\\udfff]",uee="\\u200d",U8=see+"?",V8="["+nee+"]?",aee="(?:"+uee+"(?:"+[L8,M8,$8].join("|")+")"+V8+U8+")*",oee=V8+U8+aee,lee="(?:"+[L8+ew+"?",ew,M8,$8,iee].join("|")+")",cee=RegExp(tw+"(?="+tw+")|"+lee+oee,"g");function fee(t){return t.match(cee)||[]}function dee(t){return Cx(t)?fee(t):ZX(t)}var hee=/\s/;function pee(t){for(var e=t.length;e--&&hee.test(t.charAt(e)););return e}var mee=/^\s+/;function yee(t){return t&&t.slice(0,pee(t)+1).replace(mee,"")}var pk=0/0,gee=/^[-+]0x[0-9a-f]+$/i,vee=/^0b[01]+$/i,Aee=/^0o[0-7]+$/i,bee=parseInt;function hy(t){if(typeof t=="number")return t;if(Gc(t))return pk;if(Pi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yee(t);var r=vee.test(t);return r||Aee.test(t)?bee(t.slice(2),r?2:8):gee.test(t)?pk:+t}var mk=1/0,wee=17976931348623157e292;function Eee(t){if(!t)return t===0?t:0;if(t=hy(t),t===mk||t===-mk){var e=t<0?-1:1;return e*wee}return t===t?t:0}function Sx(t){var e=Eee(t),r=e%1;return e===e?r?e-r:e:0}var xee=30,Fee="...",Cee=/\w*$/;function H8(t,e){var r=xee,n=Fee;if(Pi(e)){var i="separator"in e?e.separator:i;r="length"in e?Sx(e.length):r,n="omission"in e?uy(e.omission):n}t=Oo(t);var s=t.length;if(Cx(t)){var u=dee(t);s=u.length}if(r>=s)return t;var a=r-YX(n);if(a<1)return n;var o=u?FX(u,0,a).join(""):t.slice(0,a);if(i===void 0)return o+n;if(u&&(a+=o.length-a),IX(i)){if(t.slice(a).search(i)){var c,f=o;for(i.global||(i=RegExp(i.source,Oo(Cee.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;o=o.slice(0,d===void 0?a:d)}}else if(t.indexOf(uy(i),a)!=a){var p=o.lastIndexOf(i);p>-1&&(o=o.slice(0,p))}return o+n}function z8(t,e){return Og(t,e)}const See=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Dee=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],kee=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Oee=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],yk=(t,e,r)=>{let n=t;return typeof e=="string"||Array.isArray(e)?n=t.toLocaleString(e,r):(e===!0||r!==void 0)&&(n=t.toLocaleString(void 0,r)),n};function _ee(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const r=e.bits?e.binary?Oee:kee:e.binary?Dee:See,n=e.space?" ":"";if(e.signed&&t===0)return` 0${n}${r[0]}`;const i=t<0,s=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const f=yk(t,e.locale,u);return s+f+n+r[0]}const a=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),r.length-1);t/=(e.binary?1024:1e3)**a,u||(t=t.toPrecision(3));const o=yk(Number(t),e.locale,u),c=r[a];return s+o+n+c}const Eh=k.memo(({children:t,post:e,thread:r,header:n,enableBacklinks:i=!1,showNsfw:s=!1,showPostMarker:u=!0})=>{var V,re,Z,ge;const{id:a,from:{id:o},n:c,image:f,bans:d}=e,{timeTraveledToBlockNumber:p}=nt(),{data:m}=fa(),[w,b]=k.useState(),[F,E]=k.useState(!1),[A,x]=k.useState(!1),[C,S]=k.useState(!1),[O,g]=k.useState({}),h=k.useRef(null),{subscribe:v,unsubscribe:y}=ef(),D=k.useCallback(()=>{var he;(he=h.current)==null||he.scrollIntoView({behavior:"smooth",block:"center"})},[h]);k.useEffect(()=>{const he=v("POST_FOCUS",(Ce,Fe)=>{const Se=e.id===Fe.id;x(Se),S(Se),Se&&D()});return()=>{y(he)}}),k.useEffect(()=>{const he=v("POST_HIGHLIGHT",(Ce,Fe)=>{e.id===Fe&&S(!0)});return()=>{y(he)}}),k.useEffect(()=>{const he=v("POST_DEHIGHLIGHT",(Ce,Fe)=>{e.id===Fe&&!A&&S(!1)});return()=>{y(he)}}),k.useEffect(()=>{if(i){const he=v("POST_BACKLINK",(Ce,{from:Fe,to:{n:Se}})=>{`${Se}`==`${e.n}`&&!(Fe.id in O)&&g({...O,[Fe.id]:Fe})});return()=>{he&&y(he)}}});const P=f?i8(f.ipfsHash)[0]:"",N=a===(r==null?void 0:r.id),B=((V=m==null?void 0:m.user)==null?void 0:V.id)===e.from.id,[L]=Li(),M=!Fx(e,(re=L==null?void 0:L.content_filter)==null?void 0:re.score_threshold)||((Z=L==null?void 0:L.content_filter)==null?void 0:Z.show_below_threshold)||F,T=k.useRef(null),[R,j]=k.useState(M);k.useEffect(()=>{T.current&&j(T.current.open)},[T,j]),k.useEffect(()=>{fetch(P,{method:"HEAD"}).then(he=>{he.status===200?b(Number(he.headers.get("Content-Length"))):console.error("HEAD",P,{response:he})}).catch(he=>console.error({err:he}))},[P,b]);const I=[C||A?"bg-tertiary border-bottom-secondary-accent":N?"":"bg-secondary border-bottom-tertiary-accent border-right-tertiary-accent",B?"dchan-post-you":"","mt-2 relative p-0.5"].join(" ");return l.jsxs("div",{className:"flex relative",id:`${c}`,children:[!N&&u?l.jsx("span",{className:"hidden md:block pl-2 text-secondary",children:">>"}):"",l.jsxs("div",{className:`${N?"w-full":""}`,ref:h,children:[l.jsx("details",{className:"absolute ml-2 z-10 dchan-post-minimizer opacity-70 hover:opacity-100",ref:T,open:M,onToggle:he=>{j(he.target.open)},children:l.jsx("summary",{})}),l.jsx("div",{className:`text-left opacity-50 whitespace-nowrap mb-1 mt-2 overflow-hidden flex ml-5 ${R?"hidden":""}`,title:"Hide/Show",children:l.jsx(lO,{thread:r,post:e,children:n})}),l.jsx("div",{className:`dchan-post bg-primary text-left ${R?"":"hidden"}`,"dchan-post-from-address":o,children:l.jsxs("div",{className:I,children:[l.jsxs("div",{className:"flex sm:flex-wrap ml-5 align-center text-center sm:text-left sm:justify-start max-w-100vw",children:[l.jsx(lO,{thread:r,post:e,backlinks:O,children:n}),e.sage?l.jsx("abbr",{className:"opacity-20 hover:opacity-100",title:"Saged. Thread not bumped.",children:""}):""]}),M?l.jsxs("div",{children:[f?l.jsx("div",{className:"text-center sm:text-left ml-5",children:l.jsx("span",{className:"text-sm",children:l.jsxs("span",{className:"flex flex-wrap items-center",children:[l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link underline max-w-64",href:P,title:f.name,children:H8(f.name,{length:32,omission:"..."})}),w?l.jsxs("span",{className:"mx-1 text-xs opacity-40 hover:opacity-100",children:["(",_ee(w),")"]}):l.jsx(l.Fragment,{}),l.jsx(bp,{children:l.jsxs("div",{children:["Reverse search:",l.jsxs("div",{children:[l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`https://yandex.com/images/search?rpt=imageview&url=${P}`,children:"yandex"})}),l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`//iqdb.org/?url=${P}`,children:"iqdb"})}),l.jsx("div",{children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"dchan-link pr-1",href:`https://trace.moe/?auto&url=${P}`,children:"wait"})})]})]})}),l.jsx("span",{className:"whitespace-nowrap",children:l.jsx("a",{target:"_blank",rel:"noreferrer",className:"px-1 opacity-20 hover:opacity-100 hidden sm:inline-block",href:P,title:f.name,children:l.jsx("small",{children:f.ipfsHash})})})]})})}):"",l.jsxs("div",{className:"y-1",children:[l.jsx("div",{className:"h-full flex flex-wrap text-left sm:items-start pb-2 w-full",children:l.jsxs("div",{className:"w-full table pt-1",children:[f?l.jsx("div",{className:"mx-5 my-1 float-left",children:l.jsx(E8,{hash:f.ipfsHash,isSpoiler:f.isSpoiler,isNsfw:!s&&(f.isNsfw||((ge=e.board)==null?void 0:ge.isNsfw))||!1,thumbnail:!0,thumbnailClass:N?"max-w-8rem max-h-32 md:max-w-16rem md:max-h-64":void 0,expandable:!0})}):"",l.jsxs("div",{children:[l.jsx("div",{children:N&&r?l.jsx("div",{className:"font-semibold md:ml-10 ml-5 break-all",children:r.subject}):""}),l.jsx(fw,{className:"md:ml-10 ml-4 mr-4 pb-2",post:e,thread:r}),d.length>0?l.jsx("div",{className:"text-xl font-bold text-contrast whitespace-nowrap",children:"( USER WAS BANNED FOR THIS POST )"}):""]})]})}),l.jsx("div",{className:N?"pb-2":"",children:t}),l.jsx(Pe,{className:"px-1 text-xs opacity-5 hover:opacity-100 absolute bottom-0 left-0 inline",to:`/${e.id}${p?`?block=${p}`:""}`,title:"Permalink",children:l.jsx("small",{children:e.id})})]})]}):l.jsxs("button",{onClick:()=>E(!0),className:"text-2xl text-gray-800",children:[l.jsx("div",{children:l.jsx(pe,{emoji:""})}),l.jsx("div",{children:"Post hidden due to reports."}),l.jsx("div",{className:"text-sm text-gray-600",children:"Click to show anyway."})]})]})})]},a)]})},z8);var Le={},lt={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});class Dx extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}Ea.ParjsError=Dx;class Pee extends Dx{constructor(e){super(`Expected parsing to succeeded, but it failed. Reason: ${e.trace.reason}`),this.failure=e}}Ea.ParjsParsingFailure=Pee;class Bee extends Dx{constructor(e,r){super(`${e}: ${r}`),this.parserName=e}}Ea.ParserDefinitionError=Bee;var kx={},Ox={},Tee=9007199254740991,Nee=Math.floor;function jee(t,e){var r="";if(!t||e<1||e>Tee)return r;do e%2&&(r+=t),e=Nee(e/2),e&&(t+=t);while(e);return r}function Iee(t,e,r){return(r?dy(t,e,r):e===void 0)?e=1:e=Sx(e),jee(Oo(t),e)}const Ree=Object.freeze(Object.defineProperty({__proto__:null,default:Iee},Symbol.toStringTag,{value:"Module"})),W8=Dy(Ree);(function(t){var e=Vt&&Vt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});const r=e(W8);(function(n){function i(s){return s instanceof Array?s.map(u=>this.recJoin(u)).join(""):String(s)}n.recJoin=i})(t.StringHelpers||(t.StringHelpers={})),function(n){function i(s,u,a){let o=s.toString();return o.length>=u?o:r.default(a,u-o.length)+o}n.padInt=i}(t.NumHelpers||(t.NumHelpers={}))})(Ox);var Q8=Object.prototype,Lee=Q8.hasOwnProperty,Mee=_8(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&dy(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],u=bg(s),a=-1,o=u.length;++a<o;){var c=u[a],f=t[c];(f===void 0||lp(f,Q8[c])&&!Lee.call(t,c))&&(t[c]=s[c])}return t});const $ee=Object.freeze(Object.defineProperty({__proto__:null,default:Mee},Symbol.toStringTag,{value:"Module"})),$o=Dy($ee);var q8=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kx,"__esModule",{value:!0});const Uee=Ox,Vee=q8(W8),Hee=q8($o),G8={lineNumbers:!0,linesBefore:1};function K8(t){let e=Hee.default(t,G8),r=n=>{let i=n.input.split(/\r\n|\n|\r/g),s=n.location.line,u=e.linesBefore,a=Math.max(0,s-u),o=i.slice(a,s+1),c=0;if(e.lineNumbers){let m=Math.floor(1+Math.log(s+1)/Math.log(10)),w=b=>`${Uee.NumHelpers.padInt(a+b,m," ")} | `;c=m+3,o=o.map((b,F)=>`${w(F+1)}${b}`)}let f=`${Vee.default(" ",c+n.location.column)}^${n.reason}`;o.push(f);let d=o.join(`
`);return`${n.kind} failure at Ln ${n.location.line+1} Col ${n.location.column+1}
${d}
Stack: ${n.stackTrace.map(m=>m.type).filter(m=>m).join(" < ")}
`};return r.configure=K8,r}kx.visualizeTrace=K8(G8);(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ea,r=kx;class n{constructor(a){this.value=a,this.kind=s.Ok}toString(){return`Success: ${this.value}`}get isOk(){return!0}}t.ParjsSuccess=n;class i{constructor(a){this.trace=a}get value(){throw new e.ParjsParsingFailure(this)}get kind(){return this.trace.kind}get reason(){return this.trace.reason}toString(){return r.visualizeTrace(this.trace)}get isOk(){return!1}}t.ParjsFailure=i;var s;(function(u){u.Unknown="Unknown",u.Ok="OK",u.SoftFail="Soft",u.HardFail="Hard",u.FatalFail="Fatal"})(s=t.ResultKind||(t.ResultKind={}))})(lt);var Me={},_x={},Vf={},wp={};Object.defineProperty(wp,"__esModule",{value:!0});const Un=lt;function gk(t,e){if(t===Un.ResultKind.Ok)return e===Un.ResultKind.Ok;if(t===Un.ResultKind.SoftFail)return e===Un.ResultKind.SoftFail||e===Un.ResultKind.Ok;if(t===Un.ResultKind.HardFail)return e!==Un.ResultKind.FatalFail;if(t===Un.ResultKind.FatalFail)return!0}class zee{constructor(e,r){this.input=e,this.userState=r,this.position=0,this.stack=[],this.initialUserState=void 0,this.value=void 0}get isOk(){return this.kind===Un.ResultKind.Ok}get isSoft(){return this.kind===Un.ResultKind.SoftFail}get isHard(){return this.kind===Un.ResultKind.HardFail}get isFatal(){return this.kind===Un.ResultKind.FatalFail}atLeast(e){return gk(this.kind,e)}atMost(e){return gk(e,this.kind)}}wp.BasicParsingState=zee;wp.FAIL_RESULT=Object.create(null);wp.UNINITIALIZED_RESULT=Object.create(null);var Yo={},o1={},p0={},vk;function J8(){if(vk)return p0;vk=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=lt,e=$e();function r(n){return new class extends e.ParjserBase{constructor(){super(...arguments),this.expecting=`expecting '${n}'`,this.type="string"}_apply(s){let{position:u,input:a}=s;if(u+n.length>a.length){s.kind=t.ResultKind.SoftFail;return}if(a.slice(u,u+n.length)!==n){s.kind=t.ResultKind.SoftFail;return}s.position+=n.length,s.value=n,s.kind=t.ResultKind.Ok}}}return p0.string=r,p0}var m0={},Ak;function Y8(){if(Ak)return m0;Ak=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=lt,e=$e();function r(n){let i=[n.ignoreCase&&"i",n.multiline&&"m"].filter(u=>u).join(""),s=new RegExp(n.source,`${i}y`);return this.reason=`expecting input matching /${n.source}/`,new class extends e.ParjserBase{constructor(){super(...arguments),this.type="regexp",this.expecting=`expecting input matching '${s.source}'`}_apply(a){let{input:o,position:c}=a;s.lastIndex=c;let f=s.exec(o);if(!f){a.kind=t.ResultKind.SoftFail;return}a.position+=f[0].length,a.value=f.slice(),a.kind=t.ResultKind.Ok}}}return m0.regexp=r,m0}var bk;function cf(){return bk||(bk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=J8(),r=Y8();t.convertibleSymbol=Symbol("ParjsConvertibleLiteral"),function(n){function i(s){return typeof s=="string"?e.string(s):s instanceof RegExp?r.regexp(s):s}n.convert=i}(t.ScalarConverter||(t.ScalarConverter={}))}(o1)),o1}var wk;function Wt(){if(wk)return Yo;wk=1,Object.defineProperty(Yo,"__esModule",{value:!0});const t=cf();function e(i){return s=>{let u=t.ScalarConverter.convert(s);return i(u)}}Yo.defineCombinator=e;function r(...i){return s=>{let u=s;for(let a of i)u=a(u);return u}}Yo.composeCombinator=r;function n(i,...s){let u=t.ScalarConverter.convert(i);for(let a of s)u=a(u);return u}return Yo.pipe=n,Yo}var Ek;function $e(){if(Ek)return Vf;Ek=1;var t=Vt&&Vt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Vf,"__esModule",{value:!0});const e=lt,r=wp,n=t($o),i=Ea,s=Wt();function u(c){let f=/\r\n|\n|\r/g,{input:d,position:p}=c,m=0,w,b=0;for(;(w=f.exec(c.input))&&!(w.index>p);)m=w.index+w[0].length,b++;return{line:b,column:b===0?p:p-m}}class a{}Vf.ParserUserState=a;class o{apply(f){if(f.kind=e.ResultKind.Unknown,f.reason=void 0,f.value=r.UNINITIALIZED_RESULT,this._apply(f),f.kind===e.ResultKind.Unknown)throw new i.ParserDefinitionError(this.type,"the parser's result kind field has not been set.");if(!f.isOk)f.value=r.FAIL_RESULT,f.reason=f.reason||this.expecting;else if(f.value===r.UNINITIALIZED_RESULT)throw new i.ParserDefinitionError(this.type,"a parser must set the result's value field if it succeeds.");if(f.isOk)f.stack=[];else{if(f.reason==null)throw new i.ParserDefinitionError(this.type,"a failure must have a reason");f.stack.push(this)}}parse(f,d){if(typeof f!="string")throw new Error("input must be a valid string");let p=n.default(new a,d),m=new r.BasicParsingState(f,p);if(m.initialUserState=d,this.apply(m),m.isOk&&m.position!==f.length&&(m.kind=e.ResultKind.SoftFail,m.reason="parsers did not consume all input"),m.kind===e.ResultKind.Unknown)throw new Error("should not happen.");if(m.kind===e.ResultKind.Ok)return new e.ParjsSuccess(m.value);{let w={userState:m.userState,position:m.position,reason:m.reason,input:f,get location(){return u(m)},stackTrace:m.stack,kind:m.kind};return new e.ParjsFailure(w)}}pipe(...f){return s.pipe(this,...f)}}return Vf.ParjserBase=o,Vf}Object.defineProperty(_x,"__esModule",{value:!0});const xk=lt,Wee=$e();function Qee(t){return new class extends Wee.ParjserBase{constructor(){super(...arguments),this.type="charCodeWhere",this.expecting="expecting a character matching a predicate"}_apply(r){let{position:n,input:i}=r;if(n>=i.length){r.kind=xk.ResultKind.SoftFail,r.reason="expecting a character";return}let s=i.charCodeAt(n),u=t(s,r.userState);if(u!==!0){r.kind=u.kind||"Soft",r.reason=u.reason||"expecting a character matching a predicate";return}r.value=String.fromCharCode(s),r.position++,r.kind=xk.ResultKind.Ok}}}_x.charCodeWhere=Qee;var _g={};Object.defineProperty(_g,"__esModule",{value:!0});const Fk=lt,qee=$e();function Gee(t){return new class extends qee.ParjserBase{constructor(){super(...arguments),this.type="charWhere",this.expecting="expecting a character matching a predicate"}_apply(r){let{position:n,input:i}=r;if(n>=i.length){r.kind=Fk.ResultKind.SoftFail,r.reason="expecting a character";return}let s=i[n],u=t(s,r.userState);if(u!==!0){r.reason=u.reason||this.expecting,r.kind=u.kind||"Soft";return}r.value=s,r.position++,r.kind=Fk.ResultKind.Ok}}}_g.charWhere=Gee;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});const Ck=lt,Kee=$e();function Jee(t){return new class extends Kee.ParjserBase{constructor(){super(...arguments),this.type="eof",this.expecting="expecting end of input"}_apply(r){r.position===r.input.length?(r.kind=Ck.ResultKind.Ok,r.value=t):r.kind=Ck.ResultKind.SoftFail}}}Px.eof=Jee;var Bx={},Yee=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bx,"__esModule",{value:!0});const Zee=$e(),Xee=Yee($o),ete={kind:"Hard",reason:"The primitive fail parser has been applied."};function tte(t){let e=Xee.default(t,ete);return new class extends Zee.ParjserBase{constructor(){super(...arguments),this.type="fail",this.expecting=e.reason}_apply(n){n.kind=e.kind,n.reason=this.expecting}}}Bx.fail=tte;var Tx={},Nx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e;(function(C){C.a="a".charCodeAt(0),C.f="f".charCodeAt(0),C.F="F".charCodeAt(0),C.z="z".charCodeAt(0),C.A="A".charCodeAt(0),C.Z="Z".charCodeAt(0),C.zero="0".charCodeAt(0),C.nine="9".charCodeAt(0),C.newline=`
`.charCodeAt(0),C.maxAscii=127,C.carriageReturn="\r".charCodeAt(0),C.space=" ".charCodeAt(0),C.tab="	".charCodeAt(0),C.minus="-".charCodeAt(0),C.plus="+".charCodeAt(0),C.decimalPoint=".".charCodeAt(0),C.e=C.a+4,C.E=C.A+4,C.underscore="_".charCodeAt(0)})(e=t.AsciiCodes||(t.AsciiCodes={}));function r(C){return C>=e.A&&C<=e.F||C>=e.a&&C<=e.f||C>=e.zero&&C<=e.nine}t.isHexCode=r;function n(C,S=10){let O=S-10;return O<=0?C>=e.zero&&C<=e.nine+O:C>=e.zero&&C<=e.nine||C>=e.a&&C<e.a+O}t.isDigitCode=n;function i(C){return C>=e.a&&C<=e.z||C>=e.A&&C<=e.Z}t.isLetterCode=i;function s(C){return C>=e.A&&C<=e.Z}t.isUpperCode=s;function u(C){return C>=e.a&&C<=e.z}t.isLowerCode=u;function a(C){return C===e.carriageReturn||C===e.newline}t.isNewlineCode=a;function o(C){return C===e.space||C===e.tab}t.isSpaceCode=o;function c(C){return C>=e.A&&C<=e.Z||C>=e.zero&&C<=e.nine||C>=e.a&&C<=e.z||C===e.underscore||C===e.minus}t.isWordCharCode=c;function f(C){return C>=0&&C<=e.maxAscii}t.isAsciiCode=f;function d(C){return r(C.charCodeAt(0))}t.isHex=d;function p(C,S=10){return n(C.charCodeAt(0),S)}t.isDigit=p;function m(C){return i(C.charCodeAt(0))}t.isLetter=m;function w(C){return s(C.charCodeAt(0))}t.isUpper=w;function b(C){return u(C.charCodeAt(0))}t.isLower=b;function F(C){return a(C.charCodeAt(0))}t.isNewline=F;function E(C){return o(C.charCodeAt(0))}t.isSpace=E;function A(C){return c(C.charCodeAt(0))}t.isWordChar=A;function x(C){return f(C.charCodeAt(0))}t.isAscii=x})(Nx);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});const l1=Nx;class Z8{parseDigitsInBase(e,r){let{position:n,input:i}=e,s=i.length,u=0;for(;n<s;n++){let a=i.charCodeAt(n);if(!l1.isDigitCode(a,r))break}return e.position=n,u}parseSign(e){let r=0,n=e.input.charCodeAt(e.position);return n===l1.AsciiCodes.minus?(r=-1,e.position++):n===l1.AsciiCodes.plus&&(e.position++,r=1),r}}Ep.NumericHelpersType=Z8;Ep.NumericHelpers=new Z8;var rte=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tx,"__esModule",{value:!0});const c1=Nx,Hf=Ep,lu=lt,nte=rte($o),ite=$e(),Sk={allowExponent:!0,allowSign:!0,allowImplicitZero:!0,allowFloatingPoint:!0},f1="one or more digits",ste="exponent sign (+ or -)";function ute(t=Sk){return t=nte.default(t,Sk),new class extends ite.ParjserBase{constructor(){super(...arguments),this.type="float",this.expecting="expecting a floating-point number"}_apply(r){let{allowSign:n,allowFloatingPoint:i,allowImplicitZero:s,allowExponent:u}=t,{position:a,input:o}=r;if(a>=o.length){r.kind=lu.ResultKind.SoftFail;return}let c=a,f=1,d=!1,p=!1,m=!1;n&&(f=Hf.NumericHelpers.parseSign(r),f===0?f=1:d=!0);let w=r.position;Hf.NumericHelpers.parseDigitsInBase(r,10),p=r.position!==w;let b=o.charCodeAt(r.position);if(w=r.position,!s&&!p){r.kind=d?lu.ResultKind.HardFail:lu.ResultKind.SoftFail,r.reason=f1;return}e:{if(i&&b===c1.AsciiCodes.decimalPoint){r.position++;let F=r.position;if(Hf.NumericHelpers.parseDigitsInBase(r,10),m=F!==r.position,!s&&!m)break e;b=o.charCodeAt(r.position),w=r.position}if(!p&&!m){r.kind=d?lu.ResultKind.HardFail:lu.ResultKind.SoftFail,r.reason=f1;return}if(u&&(b===c1.AsciiCodes.e||b===c1.AsciiCodes.E)){if(r.position++,Hf.NumericHelpers.parseSign(r)===0){r.kind=lu.ResultKind.HardFail,r.reason=ste;return}let E=r.position;if(Hf.NumericHelpers.parseDigitsInBase(r,10),r.position===E){r.kind=lu.ResultKind.HardFail,r.reason=f1;return}}}r.kind=lu.ResultKind.Ok,r.value=parseFloat(o.substring(c,r.position))}}}Tx.float=ute;var jx={},ate=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jx,"__esModule",{value:!0});const Dk=Ep,d1=lt,ote=Ea,lte=$e(),cte=ate($o),fte={allowSign:!0,base:10};function dte(t){let e=cte.default(t,fte);if(e.base>36)throw new ote.ParserDefinitionError("int","invalid base");let r=`expecting a ${e.allowSign?"signed":"unsigned"} integer in base ${e.base}`;return new class extends lte.ParjserBase{constructor(){super(...arguments),this.type="int",this.displayName="int",this.expecting=r}_apply(i){let{allowSign:s,base:u}=e,{position:a,input:o}=i,c=i.position,f=s?Dk.NumericHelpers.parseSign(i):0,d=!1;f!==0?d=!0:f=1,a=i.position,Dk.NumericHelpers.parseDigitsInBase(i,u);let p=parseInt(o.substring(c,i.position),u);i.position===a?i.kind=d?d1.ResultKind.HardFail:d1.ResultKind.SoftFail:(i.value=p,i.kind=d1.ResultKind.Ok)}}}jx.int=dte;var Pg={},Oe;(function(t){t.a="a".charCodeAt(0),t.f="f".charCodeAt(0),t.F="F".charCodeAt(0),t.z="z".charCodeAt(0),t.A="A".charCodeAt(0),t.Z="Z".charCodeAt(0),t.zero="0".charCodeAt(0),t.nine="9".charCodeAt(0),t.newline=`
`.charCodeAt(0),t.maxAscii=127,t.carriageReturn="\r".charCodeAt(0),t.space=" ".charCodeAt(0),t.tab="	".charCodeAt(0),t.minus="-".charCodeAt(0),t.plus="+".charCodeAt(0),t.decimalPoint=".".charCodeAt(0),t.e=t.a+4,t.E=t.A+4,t.underscore="_".charCodeAt(0)})(Oe||(Oe={}));function X8(t){return t>=Oe.A&&t<=Oe.F||t>=Oe.a&&t<=Oe.f||t>=Oe.zero&&t<=Oe.nine}function e6(t,e=10){let r=e-10;return r<=0?t>=Oe.zero&&t<=Oe.nine+r:t>=Oe.zero&&t<=Oe.nine||t>=Oe.a&&t<Oe.a+r}function t6(t){return t>=Oe.a&&t<=Oe.z||t>=Oe.A&&t<=Oe.Z}function r6(t){return t>=Oe.A&&t<=Oe.Z}function n6(t){return t>=Oe.a&&t<=Oe.z}function i6(t){return t===Oe.carriageReturn||t===Oe.newline}function s6(t){return t===Oe.space||t===Oe.tab}function u6(t){return t>=Oe.A&&t<=Oe.Z||t>=Oe.zero&&t<=Oe.nine||t>=Oe.a&&t<=Oe.z||t===Oe.underscore||t===Oe.minus}function a6(t){return t>=0&&t<=Oe.maxAscii}function hte(t){return X8(t.charCodeAt(0))}function pte(t,e=10){return e6(t.charCodeAt(0),e)}function mte(t){return t6(t.charCodeAt(0))}function yte(t){return r6(t.charCodeAt(0))}function gte(t){return n6(t.charCodeAt(0))}function vte(t){return i6(t.charCodeAt(0))}function Ate(t){return s6(t.charCodeAt(0))}function bte(t){return u6(t.charCodeAt(0))}function wte(t){return a6(t.charCodeAt(0))}var ff={},Ete=function(e,r,n,i){var s=n?n.call(i,e,r):void 0;if(s!==void 0)return!!s;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var u=Object.keys(e),a=Object.keys(r);if(u.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(r),c=0;c<u.length;c++){var f=u[c];if(!o(f))return!1;var d=e[f],p=r[f];if(s=n?n.call(i,d,p,f):void 0,s===!1||s===void 0&&d!==p)return!1}return!0};Object.defineProperty(ff,"__esModule",{value:!0});var h1=Ete;function Hi(t){return t===void 0?-1:t.height}var rw=function(){function t(e,r){this.intervalTree=e,this.records=[],this.height=0,this.key=r.low,this.max=r.high,this.records.push(r)}return t.prototype.getNodeHigh=function(){for(var e=this.records[0].high,r=1;r<this.records.length;r++)this.records[r].high>e&&(e=this.records[r].high);return e},t.prototype.updateHeight=function(){this.height=Math.max(Hi(this.left),Hi(this.right))+1},t.prototype.updateMaxOfParents=function(){if(this!==void 0){var e=this.getNodeHigh();this.left!==void 0&&this.right!==void 0?this.max=Math.max(Math.max(this.left.max,this.right.max),e):this.left!==void 0&&this.right===void 0?this.max=Math.max(this.left.max,e):this.left===void 0&&this.right!==void 0?this.max=Math.max(this.right.max,e):this.max=e,this.parent&&this.parent.updateMaxOfParents()}},t.prototype._updateMaxAfterRightRotate=function(){var e=this.parent,r=e.left,n=r.getNodeHigh();r.left===void 0&&r.right!==void 0?r.max=Math.max(n,r.right.max):r.left!==void 0&&r.right===void 0?r.max=Math.max(n,r.left.max):r.left===void 0&&r.right===void 0?r.max=n:r.max=Math.max(Math.max(r.left.max,r.right.max),n);var i=this.getNodeHigh();this.left===void 0&&this.right!==void 0?this.max=Math.max(i,this.right.max):this.left!==void 0&&this.right===void 0?this.max=Math.max(i,this.left.max):this.left===void 0&&this.right===void 0?this.max=i:this.max=Math.max(Math.max(this.left.max,this.right.max),i),e.max=Math.max(Math.max(e.left.max,e.right.max),e.getNodeHigh())},t.prototype._updateMaxAfterLeftRotate=function(){var e=this.parent,r=e.right,n=r.getNodeHigh();r.left===void 0&&r.right!==void 0?r.max=Math.max(n,r.right.max):r.left!==void 0&&r.right===void 0?r.max=Math.max(n,r.left.max):r.left===void 0&&r.right===void 0?r.max=n:r.max=Math.max(Math.max(r.left.max,r.right.max),n);var i=this.getNodeHigh();this.left===void 0&&this.right!==void 0?this.max=Math.max(i,this.right.max):this.left!==void 0&&this.right===void 0?this.max=Math.max(i,this.left.max):this.left===void 0&&this.right===void 0?this.max=i:this.max=Math.max(Math.max(this.left.max,this.right.max),i),e.max=Math.max(Math.max(e.left.max,r.max),e.getNodeHigh())},t.prototype._leftRotate=function(){var e=this.right;e.parent=this.parent,e.parent===void 0?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.right=e.left,this.right!==void 0&&(this.right.parent=this),e.left=this,this.parent=e,this.updateHeight(),e.updateHeight()},t.prototype._rightRotate=function(){var e=this.left;e.parent=this.parent,e.parent===void 0?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.left=e.right,this.left!==void 0&&(this.left.parent=this),e.right=this,this.parent=e,this.updateHeight(),e.updateHeight()},t.prototype._rebalance=function(){if(Hi(this.left)>=2+Hi(this.right)){var e=this.left;Hi(e.left)>=Hi(e.right)?(this._rightRotate(),this._updateMaxAfterRightRotate()):(e._leftRotate(),this._rightRotate(),this._updateMaxAfterRightRotate())}else if(Hi(this.right)>=2+Hi(this.left)){var r=this.right;Hi(r.right)>=Hi(r.left)?(this._leftRotate(),this._updateMaxAfterLeftRotate()):(r._rightRotate(),this._leftRotate(),this._updateMaxAfterLeftRotate())}},t.prototype.insert=function(e){e.low<this.key?this.left===void 0?(this.left=new t(this.intervalTree,e),this.left.parent=this):this.left.insert(e):this.right===void 0?(this.right=new t(this.intervalTree,e),this.right.parent=this):this.right.insert(e),this.max<e.high&&(this.max=e.high),this.updateHeight(),this._rebalance()},t.prototype._getOverlappingRecords=function(e,r,n){if(e.key<=n&&r<=e.getNodeHigh()){for(var i=[],s=0;s<e.records.length;s++)e.records[s].high>=r&&i.push(e.records[s]);return i}return[]},t.prototype.search=function(e,r){if(this===void 0)return[];var n=[],i=[],s=[];return e>this.max?[]:(this.left!==void 0&&this.left.max>=e&&(n=this.left.search(e,r)),i=this._getOverlappingRecords(this,e,r),r<this.key?n.concat(i):(this.right!==void 0&&(s=this.right.search(e,r)),n.concat(i,s)))},t.prototype.searchExisting=function(e){if(this!==void 0){if(this.key===e)return this;if(e<this.key){if(this.left!==void 0)return this.left.searchExisting(e)}else if(this.right!==void 0)return this.right.searchExisting(e)}},t.prototype._minValue=function(){return this.left===void 0?this:this.left._minValue()},t.prototype.remove=function(e){var r=this.parent;if(e.key<this.key)return this.left!==void 0?this.left.remove(e):void 0;if(e.key>this.key)return this.right!==void 0?this.right.remove(e):void 0;if(this.left!==void 0&&this.right!==void 0){var n=this.right._minValue();return this.key=n.key,this.records=n.records,this.right.remove(this)}else{if(r.left===this)return this.right!==void 0?(r.left=this.right,this.right.parent=r):(r.left=this.left,this.left!==void 0&&(this.left.parent=r)),r.updateMaxOfParents(),r.updateHeight(),r._rebalance(),this;if(r.right===this)return this.right!==void 0?(r.right=this.right,this.right.parent=r):(r.right=this.left,this.left!==void 0&&(this.left.parent=r)),r.updateMaxOfParents(),r.updateHeight(),r._rebalance(),this}},t}();ff.Node=rw;var o6=function(){function t(){this.count=0}return t.prototype.insert=function(e){if(e.low>e.high)throw new Error("`low` value must be lower or equal to `high` value");if(this.root===void 0)return this.root=new rw(this,e),this.count++,!0;var r=this.root.searchExisting(e.low);if(r!==void 0){for(var n=0;n<r.records.length;n++)if(h1(r.records[n],e))return!1;return r.records.push(e),e.high>r.max&&(r.max=e.high,r.parent&&r.parent.updateMaxOfParents()),this.count++,!0}else return this.root.insert(e),this.count++,!0},t.prototype.search=function(e,r){return this.root===void 0?[]:this.root.search(e,r)},t.prototype.remove=function(e){if(this.root===void 0)return!1;var r=this.root.searchExisting(e.low);if(r===void 0)return!1;if(r.records.length>1){for(var n=void 0,i=0;i<r.records.length;i++)if(h1(r.records[i],e)){n=r.records[i],r.records.splice(i,1);break}if(n){if(n=void 0,e.high===r.max){var s=r.getNodeHigh();r.left!==void 0&&r.right!==void 0?r.max=Math.max(Math.max(r.left.max,r.right.max),s):r.left!==void 0&&r.right===void 0?r.max=Math.max(r.left.max,s):r.left===void 0&&r.right!==void 0?r.max=Math.max(r.right.max,s):r.max=s,r.parent&&r.parent.updateMaxOfParents()}return this.count--,!0}else return!1}else if(r.records.length===1)if(h1(r.records[0],e))if(this.root.key===r.key){var u=new rw(this,{low:e.low,high:e.low});u.left=this.root,this.root.parent=u;var a=this.root.remove(r);return this.root=u.left,this.root!==void 0&&(this.root.parent=void 0),a?(a=void 0,this.count--,!0):!1}else{var a=this.root.remove(r);return a?(a=void 0,this.count--,!0):!1}else return!1;else return!1},t.prototype.inOrder=function(){return new Ix(this.root)},t.prototype.preOrder=function(){return new Rx(this.root)},t}();ff.IntervalTree=o6;var xte=function(){function t(){this.tree=new o6}return t.prototype.insert=function(e,r,n){return this.tree.insert({low:e,high:r,data:n})},t.prototype.remove=function(e,r,n){return this.tree.remove({low:e,high:r,data:n})},t.prototype.search=function(e,r){return this.tree.search(e,r).map(function(n){return n.data})},t.prototype.inOrder=function(){return this.tree.inOrder()},t.prototype.preOrder=function(){return this.tree.preOrder()},Object.defineProperty(t.prototype,"count",{get:function(){return this.tree.count},enumerable:!0,configurable:!0}),t}(),p1=ff.default=xte,Ix=function(){function t(e){this.stack=[],e!==void 0&&this.push(e)}return t.prototype.next=function(){return this.currentNode===void 0?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(this.currentNode.right!==void 0?this.push(this.currentNode.right):this.pop(),this.next())},t.prototype.push=function(e){for(this.currentNode=e,this.i=0;this.currentNode.left!==void 0;)this.stack.push(this.currentNode),this.currentNode=this.currentNode.left},t.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},t}();ff.InOrder=Ix;typeof Symbol=="function"&&(Ix.prototype[Symbol.iterator]=function(){return this});var Rx=function(){function t(e){this.stack=[],this.i=0,this.currentNode=e}return t.prototype.next=function(){return this.currentNode===void 0?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(this.currentNode.right!==void 0&&this.push(this.currentNode.right),this.currentNode.left!==void 0&&this.push(this.currentNode.left),this.pop(),this.next())},t.prototype.push=function(e){this.stack.push(e)},t.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},t}();ff.PreOrder=Rx;typeof Symbol=="function"&&(Rx.prototype[Symbol.iterator]=function(){return this});const Fte=[["AlphabeticPresentationForms","-"],["Arabic","-"],["ArabicExtendedA","-"],["ArabicPresentationFormsA","-"],["ArabicPresentationFormsB","-\uFEFF"],["ArabicSupplement","-"],["Armenian","-"],["Arrows","-"],["Balinese","-"],["Bamum","-"],["BasicLatin","\0-"],["Batak","-"],["Bengali","-"],["BlockElements","-"],["Bopomofo","-"],["BopomofoExtended","-"],["BoxDrawing","-"],["BraillePatterns","-"],["Buginese","-"],["Buhid","-"],["CJKCompatibility","-"],["CJKCompatibilityForms","-"],["CJKCompatibilityIdeographs","-"],["CJKRadicalsSupplement","-"],["CJKStrokes","-"],["CJKSymbolsandPunctuation","-"],["CJKUnifiedIdeographs","-"],["CJKUnifiedIdeographsExtensionA","-"],["Cham","-"],["Cherokee","-"],["CherokeeSupplement","-"],["CombiningDiacriticalMarks","-"],["CombiningDiacriticalMarksExtended","-"],["CombiningDiacriticalMarksSupplement","-"],["CombiningDiacriticalMarksforSymbols","-"],["CombiningHalfMarks","-"],["CommonIndicNumberForms","-"],["ControlPictures","-"],["Coptic","-"],["CurrencySymbols","-"],["Cyrillic","-"],["CyrillicExtendedA","-"],["CyrillicExtendedB","-"],["CyrillicExtendedC","-"],["CyrillicSupplement","-"],["Devanagari","-"],["DevanagariExtended","-"],["Dingbats","-"],["EnclosedAlphanumerics","-"],["EnclosedCJKLettersandMonths","-"],["Ethiopic","-"],["EthiopicExtended","-"],["EthiopicExtendedA","-"],["EthiopicSupplement","-"],["GeneralPunctuation","-"],["GeometricShapes","-"],["Georgian","-"],["GeorgianSupplement","-"],["Glagolitic","-"],["GreekExtended","-"],["GreekandCoptic","-"],["Gujarati","-"],["Gurmukhi","-"],["HalfwidthandFullwidthForms","-"],["HangulCompatibilityJamo","-"],["HangulJamo","-"],["HangulJamoExtendedA","-"],["HangulJamoExtendedB","-"],["HangulSyllables","-"],["Hanunoo","-"],["Hebrew","-"],["HighPrivateUseSurrogates","\uDB80-\uDBFF"],["HighSurrogates","\uD800-\uDB7F"],["Hiragana","-"],["IPAExtensions","-"],["IdeographicDescriptionCharacters","-"],["Javanese","-"],["Kanbun","-"],["KangxiRadicals","-"],["Kannada","-"],["Katakana","-"],["KatakanaPhoneticExtensions","-"],["KayahLi","-"],["Khmer","-"],["KhmerSymbols","-"],["Lao","-"],["LatinExtendedAdditional","-"],["LatinExtendedA","-"],["LatinExtendedB","-"],["LatinExtendedC","-"],["LatinExtendedD","-"],["LatinExtendedE","-"],["Latin1Supplement","-"],["Lepcha","-"],["LetterlikeSymbols","-"],["Limbu","-"],["Lisu","-"],["LowSurrogates","\uDC00-\uDFFF"],["Malayalam","-"],["Mandaic","-"],["MathematicalOperators","-"],["MeeteiMayek","-"],["MeeteiMayekExtensions","-"],["MiscellaneousMathematicalSymbolsA","-"],["MiscellaneousMathematicalSymbolsB","-"],["MiscellaneousSymbols","-"],["MiscellaneousSymbolsandArrows","-"],["MiscellaneousTechnical","-"],["ModifierToneLetters","-"],["Mongolian","-"],["Myanmar","-"],["MyanmarExtendedA","-"],["MyanmarExtendedB","-"],["NKo","-"],["NewTaiLue","-"],["NumberForms","-"],["Ogham","-"],["OlChiki","-"],["OpticalCharacterRecognition","-"],["Oriya","-"],["Phagspa","-"],["PhoneticExtensions","-"],["PhoneticExtensionsSupplement","-"],["PrivateUseArea","-"],["Rejang","-"],["Runic","-"],["Samaritan","-"],["Saurashtra","-"],["Sinhala","-"],["SmallFormVariants","-"],["SpacingModifierLetters","-"],["Specials","-"],["Sundanese","-"],["SundaneseSupplement","-"],["SuperscriptsandSubscripts","-"],["SupplementalArrowsA","-"],["SupplementalArrowsB","-"],["SupplementalMathematicalOperators","-"],["SupplementalPunctuation","-"],["SylotiNagri","-"],["Syriac","-"],["Tagalog","-"],["Tagbanwa","-"],["TaiLe","-"],["TaiTham","-"],["TaiViet","-"],["Tamil","-"],["Telugu","-"],["Thaana","-"],["Thai","-"],["Tibetan","-"],["Tifinagh","-"],["UnifiedCanadianAboriginalSyllabics","-"],["UnifiedCanadianAboriginalSyllabicsExtended","-"],["Vai","-"],["VariationSelectors","-"],["VedicExtensions","-"],["VerticalForms","-"],["YiRadicals","-"],["YiSyllables","-"],["YijingHexagramSymbols","-"]],Cte=[[["C","Other"],"\0------------------------------------------------------------------------------------------------------------------------------------------------------"],[["Cc","Control"],"\0--"],[["Cf","Format"],"-----\uFEFF-"],[["Cn","Unassigned"],"------------------------------------------------------------------------------------------------------------------------------------------------"],[["Co","PrivateUse"],"-"],[["Cs","Surrogate"],"\uD800-\uDFFF"],[["L","Letter"],"A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"],[["Ll","LowercaseLetter"],"a-z-------------------------------------------------"],[["Lm","ModifierLetter"],"------------"],[["Lo","OtherLetter"],"----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"],[["Lt","TitlecaseLetter"],"---"],[["Lu","UppercaseLetter"],"A-Z---------------------------------------"],[["M","Mark"],"-------------------------------------------------------------------------------------------------------------"],[["Mc","SpacingMark"],"-----------------------------"],[["Me","EnclosingMark"],"---"],[["Mn","NonspacingMark"],"--------------------------------------------------------------------------------"],[["N","Number"],"0-9-------------------------------------------------------------"],[["Nd","DecimalNumber"],"0-9------------------------------------"],[["Nl","LetterNumber"],"------"],[["No","OtherNumber"],"-----------------------"],[["P","Punctuation"],"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D\\x7B}-------------------------------------------------"],[["Pc","ConnectorPunctuation"],"-"],[["Pd","DashPunctuation"],"\\x2D-"],[["Pe","ClosePunctuation"],"\\x29\\x5D}"],[["Pf","FinalPunctuation"],""],[["Pi","InitialPunctuation"],""],[["Po","OtherPunctuation"],"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C----------------------------------------------"],[["Ps","OpenPunctuation"],"\\x28\\x5B\\x7B"],[["S","Symbol"],"\\x24\\x2B<->\\x5E`\\x7C~-------------------------------------------------------------------------"],[["Sc","CurrencySymbol"],"\\x24--"],[["Sk","ModifierSymbol"],"\\x5E`----------"],[["Sm","MathSymbol"],"\\x2B<->\\x7C~---------------------"],[["So","OtherSymbol"],"-----------------------------------------------------------"],[["Z","Separator"]," -\u2028\u2029"],[["Zl","LineSeparator"],"\u2028"],[["Zp","ParagraphSeparator"],"\u2029"],[["Zs","SpaceSeparator"]," -	"],[["_Zv","Custom_VerticalSeparator"],"\\x0A-\\x0D\\x85\\u2028-\\u2029"]],Ste=[["Arabic","--------------------"],["Armenian","-----"],["Balinese","--"],["Bamum","-"],["Batak","--"],["Bengali","---------"],["Bopomofo","--"],["Braille","-"],["Buginese","-"],["Buhid","-"],["CanadianAboriginal","--"],["Cham","----"],["Cherokee","---"],["Common","\0-@\\x5B-`\\x7B---------------------------------------------------\uFEFF------"],["Coptic","---"],["Cyrillic","-----"],["Devanagari","----"],["Ethiopic","------------------------------"],["Georgian","----"],["Glagolitic","--"],["Greek","-----------------------"],["Gujarati","-----------"],["Gurmukhi","--------"],["Han","---------"],["Hangul","-------------"],["Hanunoo","-"],["Hebrew","------"],["Hiragana","--"],["Inherited","------------"],["Javanese","--"],["Kannada","-----------"],["Katakana","-------"],["KayahLi","-"],["Khmer","----"],["Lao","---------"],["Latin","A-Za-z----------------------"],["Lepcha","---"],["Limbu","----"],["Lisu","-"],["Malayalam","---------"],["Mandaic","-"],["MeeteiMayek","---"],["Mongolian","----"],["Myanmar","---"],["NewTaiLue","---"],["Nko","-"],["Ogham","-"],["OlChiki","-"],["Oriya","---------"],["PhagsPa","-"],["Rejang","-"],["Runic","--"],["Samaritan","--"],["Saurashtra","--"],["Sinhala","--------"],["Sundanese","--"],["SylotiNagri","-"],["Syriac","---"],["Tagalog","--"],["Tagbanwa","--"],["TaiLe","--"],["TaiTham","-----"],["TaiViet","--"],["Tamil","---------"],["Telugu","------------"],["Thaana","-"],["Thai","--"],["Tibetan","------"],["Tifinagh","-"],["Vai","-"],["Yi","--"]];function y0(t){return t.toLowerCase().replace(/_/g,"")}const Dte=/(\\\w[0-9a-fA-F]+|[\s\S])(?:-(\\\w[0-9a-fA-F]+|[\s\S]))?/g;function kk(t){if(t.length===1)return t.charCodeAt(0);let e=t.slice(2);return Number.parseInt(e,16)}function kte(t){let e=[],r=null;for(;r=Dte.exec(t);)e.push([r[1],r[2]||r[1]]);let n=[];for(let i of e){let s=kk(i[0]),u=kk(i[1]);n.push({low:s,high:u})}return n.sort((i,s)=>i.low-s.low),n}function m1(t){let e,r,n=t[0];return n.constructor===Array?(e=n[0],r=n[1]):e=n,{name:e,alias:r,intervals:kte(t[1]),get displayName(){return this.alias||this.name}}}function Ote(){let t={allBlocks:new p1,allCategories:new p1,allScripts:new p1,blocks:new Map,categories:new Map,scripts:new Map,longCategoryToCode:new Map};for(let e of Fte){let r=m1(e);t.blocks.set(y0(r.name),r);for(let n of r.intervals)t.allBlocks.insert(n.low,n.high,r)}for(let e of Cte){let r=m1(e),n=y0(r.name);t.categories.set(n,r),t.longCategoryToCode.set(y0(r.alias),n);for(let i of r.intervals)t.allCategories.insert(i.low,i.high,r)}for(let e of Ste){let r=m1(e);t.scripts.set(y0(r.name),r);for(let n of r.intervals)t.allScripts.insert(n.low,n.high,r)}return t}const _o=Ote();function _te(t){return function e(r,n,i){if(r>n)return!1;let s=r+n>>1,u=t[s];return u.low>i?e(r,s-1,i):u.high<i?e(s+1,n,i):!0}}class Lx{constructor(e){this._group=e;let r=e.intervals;this._binarySearchInIntervals=_te(r),this.char=this.char.bind(this),this.code=this.code.bind(this)}code(e){let r=this._group.intervals;return this._binarySearchInIntervals(0,r.length-1,e)}char(e){return e===""?!1:(this._group.intervals,this.code(e.codePointAt(0)))}}var nw;(function(t){t.AlphabeticPresentationForms="AlphabeticPresentationForms",t.Arabic="Arabic",t.ArabicExtendedA="ArabicExtendedA",t.ArabicPresentationFormsA="ArabicPresentationFormsA",t.ArabicPresentationFormsB="ArabicPresentationFormsB",t.ArabicSupplement="ArabicSupplement",t.Armenian="Armenian",t.Arrows="Arrows",t.Balinese="Balinese",t.Bamum="Bamum",t.BasicLatin="BasicLatin",t.Batak="Batak",t.BlockElements="BlockElements",t.Bopomofo="Bopomofo",t.BopomofoExtended="BopomofoExtended",t.BoxDrawing="BoxDrawing",t.BraillePatterns="BraillePatterns",t.Buginese="Buginese",t.Buhid="Buhid",t.CJKCompatibility="CJKCompatibility",t.CJKCompatibilityForms="CJKCompatibilityForms",t.CJKCompatibilityIdeographs="CJKCompatibilityIdeographs",t.CJKRadicalsSupplement="CJKRadicalsSupplement",t.CJKStrokes="CJKStrokes",t.CJKSymbolsAndPunctuation="CJKSymbolsandPunctuation",t.CJKUnifiedIdeographs="CJKUnifiedIdeographs",t.CJKUnifiedIdeographsExtensionA="CJKUnifiedIdeographsExtensionA",t.Cham="Cham",t.Cherokee="Cherokee",t.CherokeeSupplement="CherokeeSupplement",t.CombiningDiacriticalMarks="CombiningDiacriticalMarks",t.CombiningDiacriticalMarksExtended="CombiningDiacriticalMarksExtended",t.CombiningDiacriticalMarksSupplement="CombiningDiacriticalMarksSupplement",t.CombiningDiacriticalMarksforSymbols="CombiningDiacriticalMarksforSymbols",t.CombiningHalfMarks="CombiningHalfMarks",t.CommonIndicNumberForms="CommonIndicNumberForms",t.ControlPictures="ControlPictures",t.Coptic="Coptic",t.CurrencySymbols="CurrencySymbols",t.Cyrillic="Cyrillic",t.CyrillicExtendedA="CyrillicExtendedA",t.CyrillicExtendedB="CyrillicExtendedB",t.CyrillicExtendedC="CyrillicExtendedC",t.CyrillicSupplement="CyrillicSupplement",t.Devanagari="Devanagari",t.DevanagariExtended="DevanagariExtended",t.Dingbats="Dingbats",t.EnclosedAlphanumerics="EnclosedAlphanumerics",t.EnclosedCJKLettersAndMonths="EnclosedCJKLettersandMonths",t.Ethiopic="Ethiopic",t.EthiopicExtended="EthiopicExtended",t.EthiopicExtendedA="EthiopicExtendedA",t.EthiopicSupplement="EthiopicSupplement",t.GeneralPunctuation="GeneralPunctuation",t.GeometricShapes="GeometricShapes",t.Georgian="Georgian",t.GeorgianSupplement="GeorgianSupplement",t.Glagolitic="Glagolitic",t.GreekExtended="GreekExtended",t.GreekAndCoptic="GreekandCoptic",t.Gujarati="Gujarati",t.Gurmukhi="Gurmukhi",t.HalfwidthAndFullwidthForms="HalfwidthandFullwidthForms",t.HangulCompatibilityJamo="HangulCompatibilityJamo",t.HangulJamo="HangulJamo",t.HangulJamoExtendedA="HangulJamoExtendedA",t.HangulJamoExtendedB="HangulJamoExtendedB",t.HangulSyllables="HangulSyllables",t.Hanunoo="Hanunoo",t.Hebrew="Hebrew",t.HighPrivateUseSurrogates="HighPrivateUseSurrogates",t.HighSurrogates="HighSurrogates",t.Hiragana="Hiragana",t.IPAExtensions="IPAExtensions",t.IdeographicDescriptionCharacters="IdeographicDescriptionCharacters",t.Javanese="Javanese",t.Kanbun="Kanbun",t.KangxiRadicals="KangxiRadicals",t.Kannada="Kannada",t.Katakana="Katakana",t.KatakanaPhoneticExtensions="KatakanaPhoneticExtensions",t.KayahLi="KayahLi",t.Khmer="Khmer",t.KhmerSymbols="KhmerSymbols",t.Lao="Lao",t.LatinExtendedAdditional="LatinExtendedAdditional",t.LatinExtendedA="LatinExtendedA",t.LatinExtendedB="LatinExtendedB",t.LatinExtendedC="LatinExtendedC",t.LatinExtendedD="LatinExtendedD",t.LatinExtendedE="LatinExtendedE",t.Latin1Supplement="Latin1Supplement",t.Lepcha="Lepcha",t.LetterlikeSymbols="LetterlikeSymbols",t.Limbu="Limbu",t.Lisu="Lisu",t.LowSurrogates="LowSurrogates",t.Malayalam="Malayalam",t.MAndaic="Mandaic",t.MathematicalOperators="MathematicalOperators",t.MeeteiMayek="MeeteiMayek",t.MeeteiMayekExtensions="MeeteiMayekExtensions",t.MiscellaneousMathematicalSymbolsA="MiscellaneousMathematicalSymbolsA",t.MiscellaneousMathematicalSymbolsB="MiscellaneousMathematicalSymbolsB",t.MiscellaneousSymbols="MiscellaneousSymbols",t.MiscellaneousSymbolsAndArrows="MiscellaneousSymbolsandArrows",t.MiscellaneousTechnical="MiscellaneousTechnical",t.ModifierToneLetters="ModifierToneLetters",t.Mongolian="Mongolian",t.Myanmar="Myanmar",t.MyanmarExtendedA="MyanmarExtendedA",t.MyanmarExtendedB="MyanmarExtendedB",t.NKo="NKo",t.NewTaiLue="NewTaiLue",t.NumberForms="NumberForms",t.Ogham="Ogham",t.OlChiki="OlChiki",t.OpticalCharacterRecognition="OpticalCharacterRecognition",t.Oriya="Oriya",t.Phagspa="Phagspa",t.PhoneticExtensions="PhoneticExtensions",t.PhoneticExtensionsSupplement="PhoneticExtensionsSupplement",t.PrivateUseArea="PrivateUseArea",t.Rejang="Rejang",t.Runic="Runic",t.Samaritan="Samaritan",t.Saurashtra="Saurashtra",t.Sinhala="Sinhala",t.SmallFormVariants="SmallFormVariants",t.SpacingModifierLetters="SpacingModifierLetters",t.Specials="Specials",t.Sundanese="Sundanese",t.SundaneseSupplement="SundaneseSupplement",t.SuperscriptsAndSubscripts="SuperscriptsandSubscripts",t.SupplementalArrowsA="SupplementalArrowsA",t.SupplementalArrowsB="SupplementalArrowsB",t.SupplementalMathematicalOperators="SupplementalMathematicalOperators",t.SupplementalPunctuation="SupplementalPunctuation",t.SylotiNagri="SylotiNagri",t.Syriac="Syriac",t.Tagalog="Tagalog",t.Tagbanwa="Tagbanwa",t.TaiLe="TaiLe",t.TaiTham="TaiTham",t.TaiViet="TaiViet",t.Tamil="Tamil",t.Telugu="Telugu",t.Thaana="Thaana",t.Thai="Thai",t.Tibetan="Tibetan",t.Tifinagh="Tifinagh",t.UnifiedCanadianAboriginalSyllabics="UnifiedCanadianAboriginalSyllabics",t.UnifiedCanadianAboriginalSyllabicsExtended="UnifiedCanadianAboriginalSyllabicsExtended",t.Vai="Vai",t.VariationSelectors="VariationSelectors",t.VedicExtensions="VedicExtensions",t.VerticalForms="VerticalForms",t.YiRadicals="YiRadicals",t.YiSyllables="YiSyllables",t.YijingHexagramSymbols="YijingHexagramSymbols"})(nw||(nw={}));var Qs;(function(t){t.Letter="L",t.LetterUppercase="Lu",t.LetterLowercase="Ll",t.LetterTitlecase="Lt",t.LetterModifier="Lm",t.LetterOther="Lo",t.MarkNonspacing="Mn",t.MarkSpacingCombining="Mc",t.MarkEncloding="Me",t.Mark="M",t.NumberDecimalDigit="Nd",t.NumberLetter="Nl",t.NumberOther="No",t.Number="N",t.PunctuationConnector="Pc",t.PunctuationDash="Pd",t.PuncutationOpen="Ps",t.PunctuationClose="Pe",t.PunctuationInitialQuote="Pi",t.PunctuationFinalQuote="Pf",t.PunctuationOther="Po",t.Punctuation="P",t.SymbolMath="Sm",t.SymbolCurrency="Sc",t.SymbolModifier="Sk",t.SymbolOther="So",t.Symbol="S",t.SeparatorSpace="Zs",t.SeparatorLine="Zl",t.SeparatorParagraph="Zp",t.Separator="Z",t.Custom_SeparatorVertical="_Zv",t.OtherControl="Cc",t.OtherFormat="Cf",t.OtherSurrogate="Cs",t.OtherPrivateUse="Co",t.OtherNotAssigned="Cn",t.Other="C"})(Qs||(Qs={}));var iw;(function(t){t.Arabic="Arabic",t.Armenian="Armenian",t.Balinese="Balinese",t.Bamum="Bamum",t.Batak="Batak",t.Bengali="Bengali",t.Bopomofo="Bopomofo",t.Braille="Braille",t.Buginese="Buginese",t.Buhid="Buhid",t.CanadianAboriginal="CanadianAboriginal",t.Cham="Cham",t.Cherokee="Cherokee",t.Common="Common",t.Coptic="Coptic",t.Cyrillic="Cyrillic",t.Devanagari="Devanagari",t.Ethiopic="Ethiopic",t.Georgian="Georgian",t.Glagolitic="Glagolitic",t.Greek="Greek",t.Gujarati="Gujarati",t.Gurmukhi="Gurmukhi",t.Han="Han",t.Hangul="Hangul",t.Hanunoo="Hanunoo",t.Hebrew="Hebrew",t.Hiragana="Hiragana",t.Inherited="Inherited",t.Javanese="Javanese",t.Kannada="Kannada",t.Katakana="Katakana",t.KayahLi="KayahLi",t.Khmer="Khmer",t.Lao="Lao",t.Latin="Latin",t.Lepcha="Lepcha",t.Limbu="Limbu",t.Lisu="Lisu",t.Malayalam="Malayalam",t.Mandaic="Mandaic",t.MeeteiMayek="MeeteiMayek",t.Mongolian="Mongolian",t.Myanmar="Myanmar",t.NewTaiLue="NewTaiLue",t.Nko="Nko",t.Ogham="Ogham",t.OlChiki="OlChiki",t.Oriya="Oriya",t.PhagsPa="PhagsPa",t.Rejang="Rejang",t.Runic="Runic",t.Samaritan="Samaritan",t.Saurashtra="Saurashtra",t.Sinhala="Sinhala",t.Sundanese="Sundanese",t.SylotiNagri="SylotiNagri",t.Syriac="Syriac",t.Tagalog="Tagalog",t.Tagbanwa="Tagbanwa",t.TaiLe="TaiLe",t.TaiTham="TaiTham",t.TaiViet="TaiViet",t.Tamil="Tamil",t.Telugu="Telugu",t.Thaana="Thaana",t.Thai="Thai",t.Tibetan="Tibetan",t.Tifinagh="Tifinagh",t.Vai="Vai",t.Yi="Yi"})(iw||(iw={}));function Mx(t){return t.toLowerCase().replace(/[_ -,]/g,"")}function Uo(t){t=Mx(t),t.length>3&&(t=_o.longCategoryToCode.get(t));let e=_o.categories.get(t);return new Lx(e)}function Pte(t){t=Mx(t);let e=_o.scripts.get(t);return new Lx(e)}function Bte(t){t=Mx(t);let e=_o.blocks.get(t);return new Lx(e)}const Tte=Uo(Qs.NumberDecimalDigit),Nte=Uo(Qs.Letter),jte=Uo(Qs.LetterLowercase),Ite=Uo(Qs.LetterUppercase),Rte=Uo(Qs.SeparatorSpace),Lte=Uo(Qs.Custom_SeparatorVertical),l6={code(t){return _o.allCategories.search(t,t)},char(t){return l6.code(t.charCodeAt(0))}},c6={code(t){return _o.allScripts.search(t,t)},char(t){return c6.code(t.charCodeAt(0))}},f6={code(t){return _o.allBlocks.search(t,t)[0]},char(t){return f6.code(t.charCodeAt(0))}},Mte=Object.freeze(Object.defineProperty({__proto__:null,get AsciiCodes(){return Oe},get UnicodeBlock(){return nw},get UnicodeCategory(){return Qs},get UnicodeScript(){return iw},isAscii:wte,isAsciiCode:a6,isDigit:pte,isDigitCode:e6,isHex:hte,isHexCode:X8,isLetter:mte,isLetterCode:t6,isLower:gte,isLowerCode:n6,isNewline:vte,isNewlineCode:i6,isSpace:Ate,isSpaceCode:s6,isUpper:yte,isUpperCode:r6,isWordChar:bte,isWordCharCode:u6,uniGetBlock:f6,uniGetCategories:l6,uniGetScripts:c6,uniInBlock:Bte,uniInCategory:Uo,uniInScript:Pte,uniIsDecimal:Tte,uniIsLetter:Nte,uniIsLower:jte,uniIsNewline:Lte,uniIsSpace:Rte,uniIsUpper:Ite},Symbol.toStringTag,{value:"Module"})),d6=Dy(Mte);Object.defineProperty(Pg,"__esModule",{value:!0});const g0=lt,$te=$e(),sw=d6;function h6(t){return new class extends $te.ParjserBase{constructor(){super(...arguments),this.expecting="expecting newline",this.type="newline"}_apply(r){let{position:n,input:i}=r;if(n>=i.length){r.kind=g0.ResultKind.SoftFail;return}let s=i.slice(n,n+2);if(s===`\r
`){r.position+=2,r.value=s,r.kind=g0.ResultKind.Ok;return}let u=s.charCodeAt(0);if(u===sw.AsciiCodes.newline||u===sw.AsciiCodes.carriageReturn||t&&t(u)){r.position++,r.value=s[0],r.kind=g0.ResultKind.Ok;return}r.kind=g0.ResultKind.SoftFail}}}function Ute(){return h6()}Pg.newline=Ute;function Vte(){return h6(sw.uniIsNewline.code)}Pg.uniNewline=Vte;var $x={};Object.defineProperty($x,"__esModule",{value:!0});const Hte=lt,zte=$e();function Wte(){return new class extends zte.ParjserBase{constructor(){super(...arguments),this.expecting="anything",this.type="position"}_apply(e){e.value=e.position,e.kind=Hte.ResultKind.Ok}}}$x.position=Wte;var Ux={};Object.defineProperty(Ux,"__esModule",{value:!0});const Qte=lt,qte=$e();function Gte(){return new class extends qte.ParjserBase{constructor(){super(...arguments),this.expecting="expecting anything",this.type="rest"}_apply(e){let{position:r,input:n}=e,i=n.substr(Math.min(r,n.length));e.position=n.length,e.value=i,e.kind=Qte.ResultKind.Ok}}}Ux.rest=Gte;var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});const Kte=lt,Jte=$e();function Yte(t){return new class extends Jte.ParjserBase{constructor(){super(...arguments),this.expecting="expecting anything",this.type="result"}_apply(r){r.value=t,r.kind=Kte.ResultKind.Ok}}}Vx.result=Yte;var Hx={};Object.defineProperty(Hx,"__esModule",{value:!0});const Zte=lt,Xte=$e();function ere(){return new class extends Xte.ParjserBase{constructor(){super(...arguments),this.type="state",this.expecting="expecting anything"}_apply(e){e.value=e.userState,e.kind=Zte.ResultKind.Ok}}}Hx.state=ere;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});const Ok=lt,tre=$e();function rre(t){return new class extends tre.ParjserBase{constructor(){super(...arguments),this.type="stringLen",this.expecting=`expecting ${t} characters`}_apply(r){let{position:n,input:i}=r;if(i.length<n+t){r.kind=Ok.ResultKind.SoftFail;return}r.position+=t,r.value=i.substr(n,t),r.kind=Ok.ResultKind.Ok}}}Bg.stringLen=rre;var zx={};Object.defineProperty(zx,"__esModule",{value:!0});const _k=lt,nre=$e();function ire(...t){return new class extends nre.ParjserBase{constructor(){super(...arguments),this.type="anyStringOf",this.expecting=`expecting any of ${t.map(r=>`'${r}'`).join(", ")}`}_apply(r){let{position:n,input:i}=r;for(let s=0;s<t.length;s++){let u=t[s];if(i.length-n<u.length)continue;if(i.slice(n,n+u.length)===u){r.position=n+u.length,r.value=u,r.kind=_k.ResultKind.Ok;return}}r.kind=_k.ResultKind.SoftFail}}}zx.anyStringOf=ire;var pr={},Tg={},xp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ea;(function(r){function n(u){throw new e.ParserDefinitionError(u,`The combinator '${u}' expected one of its arguments to change the parser state.`)}r.guardAgainstInfiniteLoop=n;function i(u){throw new e.ParserDefinitionError(u,"Delayed parser not initalized.")}r.delayedParserNotInit=i;function s(){throw new e.ParserDefinitionError("","Delayed parser has already been initialized")}r.delayedParserAlreadyInit=s})(t.Issues||(t.Issues={}))})(xp);Object.defineProperty(Tg,"__esModule",{value:!0});const sre=xp,Pk=lt,ure=Wt(),are=$e();function ore(t=1/0){return ure.defineCombinator(e=>new class extends are.ParjserBase{constructor(){super(...arguments),this.type="many",this.expecting=e.expecting}_apply(n){let{position:i}=n,s=[],u=0;for(;e.apply(n),!(!n.isOk||u>=t);)t===1/0&&n.position===i&&sre.Issues.guardAgainstInfiniteLoop("many"),i=n.position,s.push(n.value),u++;n.atLeast(Pk.ResultKind.HardFail)||(n.value=s,n.position=i,n.kind=Pk.ResultKind.Ok)}})}Tg.many=ore;var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});const lre=Ox,cre=Wt(),fre=$e();function dre(){return cre.defineCombinator(t=>new class extends fre.ParjserBase{constructor(){super(...arguments),this.type="stringify",this.expecting=t.expecting}_apply(r){if(t.apply(r),!r.isOk)return;let{value:n}=r,i=typeof n;i==="string"||(n==null?r.value=String(n):n instanceof Array?r.value=lre.StringHelpers.recJoin(n):i==="symbol"?r.value=String(n).slice(7,-1):r.value=n.toString())}})}Ng.stringify=dre;var jg={};Object.defineProperty(jg,"__esModule",{value:!0});const hre=Wt(),pre=$e();function mre(t){return hre.defineCombinator(e=>new class extends pre.ParjserBase{constructor(){super(...arguments),this.type="must",this.expecting=`internal parser ${e.type} yielding a result satisfying condition`}_apply(n){if(e.apply(n),!n.isOk)return;let i=t(n.value,n.userState);i!==!0&&(n.kind=i.kind||"Soft",n.reason=i.reason||"failed to fulfill a predicate")}})}jg.must=mre;Object.defineProperty(pr,"__esModule",{value:!0});const p6=Tg,m6=Ng,yre=Bg,Sn=_g,ei=d6,gre=jg;function vre(){return yre.stringLen(1)}pr.anyChar=vre;function y6(){return Sn.charWhere(t=>ei.isSpace(t)||{reason:"expecting a space"})}pr.space=y6;function Are(){return y6().pipe(p6.many(),gre.must(t=>t.length>0||{kind:"Soft"}),m6.stringify())}pr.spaces1=Are;function bre(t){return Sn.charWhere(e=>t.includes(e)||{reason:`any char of ${t}`})}pr.anyCharOf=bre;function wre(t){return Sn.charWhere(e=>!t.includes(e)||{reason:`no char of: ${t}`})}pr.noCharOf=wre;function Ere(){return Sn.charWhere(t=>ei.isLetter(t)||{reason:"expecting a letter"})}pr.letter=Ere;function xre(){return Sn.charWhere(t=>ei.uniIsLetter.char(t)||{reason:"expecting a Unicode letter"})}pr.uniLetter=xre;function Fre(t=10){return Sn.charWhere(e=>ei.isDigit(e,t)||{reason:`expecting a digit in base ${t}`})}pr.digit=Fre;function Cre(){return Sn.charWhere(t=>ei.uniIsDecimal.char(t)||{reason:"expecting a Unicode decimal digit"})}pr.uniDecimal=Cre;function Sre(){return Sn.charWhere(t=>ei.uniIsUpper.char(t)||{reason:"expecting a Unicode upper-case letter"})}pr.uniUpper=Sre;function Dre(){return Sn.charWhere(t=>ei.isHex(t)||{reason:"expecting a hex digit"})}pr.hex=Dre;function kre(){return Sn.charWhere(t=>ei.isLower(t)||{reason:"expecting a lowercase letter"})}pr.lower=kre;function Ore(){return Sn.charWhere(t=>ei.isUpper(t)||{reason:"expecting an uppercase letter"})}pr.upper=Ore;function _re(){return Sn.charWhere(t=>ei.uniIsLower.char(t)||{reason:"expecting a Unicode lowercase letter"})}pr.uniLower=_re;function Pre(){return Sn.charWhere(t=>ei.isSpace(t)||ei.isNewline(t)||{reason:"expecting a whitespaced character"}).pipe(p6.many(),m6.stringify())}pr.whitespace=Pre;Object.defineProperty(Me,"__esModule",{value:!0});var Bre=_x;Me.charCodeWhere=Bre.charCodeWhere;var Tre=_g;Me.charWhere=Tre.charWhere;var Nre=Px;Me.eof=Nre.eof;var jre=Bx;Me.fail=jre.fail;var Ire=Tx;Me.float=Ire.float;var Rre=jx;Me.int=Rre.int;var g6=Pg;Me.newline=g6.newline;Me.uniNewline=g6.uniNewline;var Lre=$x;Me.position=Lre.position;var Mre=Y8();Me.regexp=Mre.regexp;var $re=Ux;Me.rest=$re.rest;var Ure=Vx;Me.result=Ure.result;var Vre=Hx;Me.state=Vre.state;var Hre=J8();Me.string=Hre.string;var zre=Bg;Me.stringLen=zre.stringLen;var Wre=zx;Me.anyStringOf=Wre.anyStringOf;var Hr=pr;Me.anyChar=Hr.anyChar;Me.anyCharOf=Hr.anyCharOf;Me.noCharOf=Hr.noCharOf;Me.whitespace=Hr.whitespace;Me.uniLower=Hr.uniLower;Me.uniDecimal=Hr.uniDecimal;Me.uniUpper=Hr.uniUpper;Me.digit=Hr.digit;Me.hex=Hr.hex;Me.letter=Hr.letter;Me.lower=Hr.lower;Me.space=Hr.space;Me.spaces1=Hr.spaces1;Me.uniLetter=Hr.uniLetter;Me.upper=Hr.upper;Object.defineProperty(Le,"__esModule",{value:!0});var Qre=lt;Le.ResultKind=Qre.ResultKind;var qe=Me;Le.anyStringOf=qe.anyStringOf;Le.stringLen=qe.stringLen;var qre=Le.string=qe.string;Le.state=qe.state;Le.rest=qe.rest;Le.result=qe.result;var Gre=Le.regexp=qe.regexp;Le.position=qe.position;Le.newline=qe.newline;Le.int=qe.int;Le.float=qe.float;Le.fail=qe.fail;Le.eof=qe.eof;Le.charWhere=qe.charWhere;Le.charCodeWhere=qe.charCodeWhere;Le.noCharOf=qe.noCharOf;Le.anyCharOf=qe.anyCharOf;Le.anyChar=qe.anyChar;Le.whitespace=qe.whitespace;Le.uniNewline=qe.uniNewline;Le.upper=qe.upper;Le.uniLetter=qe.uniLetter;Le.spaces1=qe.spaces1;Le.space=qe.space;Le.lower=qe.lower;Le.letter=qe.letter;Le.hex=qe.hex;Le.digit=qe.digit;Le.uniDecimal=qe.uniDecimal;Le.uniLower=qe.uniLower;Le.uniUpper=qe.uniUpper;var it={},Xe={},Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});const Kre=Wt(),Jre=$e();function Yre(t){return Kre.defineCombinator(e=>new class extends Jre.ParjserBase{constructor(){super(...arguments),this.type="each",this.expecting=e.expecting}_apply(r){e.apply(r),r.isOk&&t(r.value,r.userState)}})}Wx.each=Yre;var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});const Zre=lt,Xre=Wt(),ene=$e();function tne(t=void 0){return Xre.defineCombinator(e=>new class extends ene.ParjserBase{constructor(){super(...arguments),this._inner=e,this.expecting="expecting anything",this.type="maybe"}_apply(n){e.apply(n),n.isSoft&&(n.value=t,n.kind=Zre.ResultKind.Ok)}})}Qx.maybe=tne;var qx={};Object.defineProperty(qx,"__esModule",{value:!0});const rne=lt,nne=cf(),ine=Wt(),sne=$e();function une(...t){let e=t.map(r=>nne.ScalarConverter.convert(r));return ine.defineCombinator(r=>{e.splice(0,0,r);let n=e.map(i=>i.type);return new class extends sne.ParjserBase{constructor(){super(...arguments),this.type="or",this.expecting=`expecting one of: ${n.join(", ")}`}_apply(s){let{position:u}=s;for(let a=0;a<e.length;a++){if(e[a].apply(s),s.isOk)return;if(s.isSoft)s.position=u;else return}s.kind=rne.ResultKind.SoftFail}}})}qx.or=une;var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});const ane=$e(),one=Wt();function lne(){return one.defineCombinator(t=>new class extends ane.ParjserBase{constructor(){super(...arguments),this.type="backtrack",this.expecting=t.expecting}_apply(r){let{position:n}=r;t.apply(r),r.isOk&&(r.position=n)}})}Gx.backtrack=lne;var Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});const Bk=lt,cne=Wt(),fne=$e();function dne(t){return cne.defineCombinator(e=>new class extends fne.ParjserBase{constructor(){super(...arguments),this.type="exactly",this.expecting=e.expecting}_apply(n){let i=[];for(let s=0;s<t;s++){if(e.apply(n),!n.isOk){n.kind===Bk.ResultKind.SoftFail&&s>0&&(n.kind=Bk.ResultKind.HardFail);return}i.push(n.value)}n.value=i}})}Kx.exactly=dne;var Jx={};Object.defineProperty(Jx,"__esModule",{value:!0});const hne=$e(),Tk=xp;function pne(){return new class extends hne.ParjserBase{constructor(){super(...arguments),this.type="later"}get expecting(){return this._resolved?this._resolved.expecting:"unbound delayed parser"}init(e){this._resolved&&Tk.Issues.delayedParserAlreadyInit(),this._resolved=e}_apply(e){this._resolved||Tk.Issues.delayedParserNotInit(""),this._resolved.apply(e)}}}Jx.later=pne;var Yx={};Object.defineProperty(Yx,"__esModule",{value:!0});const mne=xp,zf=lt,yne=cf(),gne=$e(),vne=Wt();function Ane(t,e=1/0){let r=yne.ScalarConverter.convert(t);return vne.defineCombinator(n=>new class extends gne.ParjserBase{constructor(){super(...arguments),this.type="manySepBy",this.expecting=n.expecting}_apply(i){let s=[];if(n.apply(i),i.atLeast(zf.ResultKind.HardFail))return;if(i.isSoft){i.value=[],i.kind=zf.ResultKind.Ok;return}let{position:u}=i;s.push(i.value);let a=1;for(;!(a>=e||(r.apply(i),i.isSoft));){if(i.atLeast(zf.ResultKind.HardFail))return;if(n.apply(i),i.isSoft)break;if(i.atLeast(zf.ResultKind.HardFail))return;e>=1/0&&i.position===u&&mne.Issues.guardAgainstInfiniteLoop("many"),s.push(i.value),u=i.position,a++}i.kind=zf.ResultKind.Ok,i.position=u,i.value=s}})}Yx.manySepBy=Ane;var Ig={},Vo={},df={};Object.defineProperty(df,"__esModule",{value:!0});const bne=Wt(),wne=$e();function v6(t){return bne.defineCombinator(e=>new class extends wne.ParjserBase{constructor(){super(...arguments),this.type="map",this.expecting=e.expecting}_apply(n){e.apply(n),n.isOk&&(n.value=t(n.value,n.userState))}})}df.map=v6;function Ene(t){return v6(()=>t)}df.mapConst=Ene;Object.defineProperty(Vo,"__esModule",{value:!0});const Nk=lt,Zx=Wt(),xne=$e(),Fne=cf(),A6=df;function Cne(t){return Zx.composeCombinator(Xx(t),A6.map(e=>e[1]))}Vo.qthen=Cne;function Sne(t){return Zx.composeCombinator(Xx(t),A6.map(e=>e[0]))}Vo.thenq=Sne;function Xx(...t){let e=t.map(r=>Fne.ScalarConverter.convert(r));return Zx.defineCombinator(r=>(e.splice(0,0,r),new class extends xne.ParjserBase{constructor(){super(...arguments),this.type="then",this.expecting=r.expecting}_apply(i){let s=[],u=i.position;for(let a=0;a<e.length;a++)if(e[a].apply(i),i.isOk)s.push(i.value);else{if(i.isSoft&&u===i.position)return;if(i.isSoft){i.kind=Nk.ResultKind.HardFail;return}else return}i.value=s,i.kind=Nk.ResultKind.Ok}}))}Vo.then=Xx;Object.defineProperty(Ig,"__esModule",{value:!0});const Dne=xp,v0=lt,uw=Wt(),kne=$e(),One=cf(),_ne=Vo,Pne=(t,e,r)=>t;function b6(t,e){let r=One.ScalarConverter.convert(t),n=e||Pne;return uw.defineCombinator(i=>new class extends kne.ParjserBase{constructor(){super(...arguments),this.type="manyTill",this.expecting=`${i.expecting} or ${r.expecting}`}_apply(u){let{position:a}=u,o=[],c=0;for(;r.apply(u),!u.isOk;){if(u.atLeast(v0.ResultKind.HardFail))return;if(u.position=a,i.apply(u),u.isOk)o.push(u.value);else if(u.isSoft){u.kind=c===0?v0.ResultKind.SoftFail:v0.ResultKind.HardFail;return}else return;u.position===a&&Dne.Issues.guardAgainstInfiniteLoop("manyTill"),a=u.position,c++}u.value=n(o,u.value,u.userState),u.kind=v0.ResultKind.Ok}})}Ig.manyTill=b6;function Bne(t,e,r){let n=e||t;return uw.defineCombinator(i=>uw.pipe(t,_ne.qthen(i.pipe(b6(n,r)))))}Ig.manyBetween=Bne;var e2={},Tne=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e2,"__esModule",{value:!0});const Nne=Wt(),jne=$e(),Ine=Tne($o),Rne={reason:"succeeded without capturing input",kind:"Hard"};function Lne(t){let e=Ine.default(t,Rne);return Nne.defineCombinator(r=>new class extends jne.ParjserBase{constructor(){super(...arguments),this.expecting=`expecting internal parser ${r.type} to consume input`,this.type="mustCapture"}_apply(i){let{position:s}=i;r.apply(i),i.isOk&&s===i.position&&(i.kind=e.kind,i.reason=e.reason)}})}e2.mustCapture=Lne;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});const A0=lt,Mne=Wt(),$ne=$e();function Une(){return Mne.defineCombinator(t=>new class extends $ne.ParjserBase{constructor(){super(...arguments),this.type="not",this.expecting=`not expecting: ${t.expecting}`}_apply(r){let{position:n}=r;if(t.apply(r),r.isOk)r.position=n,r.kind=A0.ResultKind.SoftFail;else if(r.kind===A0.ResultKind.HardFail||r.kind===A0.ResultKind.SoftFail){r.kind=A0.ResultKind.Ok,r.position=n;return}}})}t2.not=Une;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});const Vne=Wt(),Hne=$e();function zne(t){return Vne.defineCombinator(e=>new class extends Hne.ParjserBase{constructor(){super(...arguments),this.type="recover",this.expecting=e.expecting}_apply(n){if(e.apply(n),n.isOk||n.isFatal)return;let i=t({userState:n.userState,kind:n.kind,reason:n.reason});i&&(n.kind=i.kind||n.kind,i.kind==="OK"?n.value=i.value:n.reason=i.reason||n.reason)}})}r2.recover=zne;var n2={},Wne=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n2,"__esModule",{value:!0});const Qne=Wt(),y1=$e(),jk=Wne($o);function qne(t){return Qne.defineCombinator(e=>new class extends y1.ParjserBase{constructor(){super(...arguments),this.type="replaceState",this.expecting=e.expecting}_apply(n){let i=n.userState;typeof t=="function"?n.userState=jk.default(new y1.ParserUserState,t(i)):n.userState=jk.default(new y1.ParserUserState,t),e.apply(n),n.userState=i}})}n2.replaceState=qne;var i2={};Object.defineProperty(i2,"__esModule",{value:!0});const Gne=Wt(),Ik=Vo,Rk=cf();function Kne(t,e){e=e||t;let r=Rk.ScalarConverter.convert(t),n=Rk.ScalarConverter.convert(e);return Gne.defineCombinator(i=>r.pipe(Ik.qthen(i),Ik.thenq(n)))}i2.between=Kne;var s2={};Object.defineProperty(s2,"__esModule",{value:!0});const Jne=df;function w6(t){if(!Array.isArray(t))return[t];let e=[];for(let r of t)Array.isArray(r)?e.push(...w6(r)):e.push(r);return e}function Yne(){return Jne.map(t=>w6(t))}s2.flatten=Yne;var u2={};Object.defineProperty(u2,"__esModule",{value:!0});const Zne=$e(),Xne=Wt();function eie(t){return Xne.defineCombinator(e=>new class extends Zne.ParjserBase{constructor(){super(...arguments),this.expecting=e.expecting,this.type="then-pick"}_apply(n){e.apply(n),!(!n.isOk||(n.value,t(n.value,n.userState).apply(n),n.isOk))&&n.isSoft&&(n.kind="Hard")}})}u2.thenPick=eie;Object.defineProperty(Xe,"__esModule",{value:!0});var tie=Wx;Xe.each=tie.each;var rie=Qx;Xe.maybe=rie.maybe;var nie=qx;Xe.or=nie.or;var iie=Gx;Xe.backtrack=iie.backtrack;var sie=Kx;Xe.exactly=sie.exactly;var uie=Jx;Xe.later=uie.later;var aie=Tg;Xe.many=aie.many;var oie=Yx;Xe.manySepBy=oie.manySepBy;var E6=Ig;Xe.manyTill=E6.manyTill;Xe.manyBetween=E6.manyBetween;var x6=df;Xe.map=x6.map;Xe.mapConst=x6.mapConst;var lie=jg;Xe.must=lie.must;var cie=e2;Xe.mustCapture=cie.mustCapture;var fie=t2;Xe.not=fie.not;var a2=Vo;Xe.then=a2.then;Xe.qthen=a2.qthen;Xe.thenq=a2.thenq;var die=r2;Xe.recover=die.recover;var hie=Ng;Xe.stringify=hie.stringify;var pie=n2;Xe.replaceState=pie.replaceState;var mie=i2;Xe.between=mie.between;var yie=s2;Xe.flatten=yie.flatten;var F6=Wt();Xe.defineCombinator=F6.defineCombinator;Xe.composeCombinator=F6.composeCombinator;var gie=u2;Xe.thenPick=gie.thenPick;Object.defineProperty(it,"__esModule",{value:!0});var ct=Xe;it.stringify=ct.stringify;it.recover=ct.recover;it.then=ct.then;it.not=ct.not;it.mustCapture=ct.mustCapture;it.must=ct.must;var un=it.map=ct.map;it.manyTill=ct.manyTill;it.manySepBy=ct.manySepBy;var o2=it.many=ct.many,vie=it.later=ct.later;it.exactly=ct.exactly;var Aie=it.backtrack=ct.backtrack,bie=it.or=ct.or;it.maybe=ct.maybe;it.each=ct.each;var wie=it.thenq=ct.thenq,Eie=it.qthen=ct.qthen;it.replaceState=ct.replaceState;var xie=it.between=ct.between;it.flatten=ct.flatten;it.mapConst=ct.mapConst;it.thenPick=ct.thenPick;it.defineCombinator=ct.defineCombinator;it.composeCombinator=ct.composeCombinator;it.manyBetween=ct.manyBetween;var Fie=0;function C6(t){var e=++Fie;return Oo(t)+e}const ti=Gre.bind({});function Fp(t,...e){return bie(...e)(t)}function l2(t){const e=[];if(t.length===0)return t;let r=t[0];for(let n=1;n<t.length;n++){const i=t[n];r.type==="text"&&i.type==="text"?(r.value+=i.value,r.key+=i.key):(e.push(r),r=t[n])}return e.push(r),e}const Cie=ti(/.[^[\n>hfQ]*/g).pipe(un(t=>({type:"text",key:t[0],value:t[0]}))),S6=ti(/(Qm[1-9A-Za-z]{44})/).pipe(un(t=>({type:"ipfs",key:t[0],hash:t[0]}))),D6=qre(`
`).pipe(un(()=>({type:"newline",key:""}))),Sie=ti(/>>(0[xX][0-9a-fA-F]+)/).pipe(un(t=>({type:"ref",key:t[1],id:t[1]}))),Die=ti(/(0[xX][0-9a-fA-F]+)/).pipe(un(t=>({type:"txhashref",key:t[1],id:t[1]}))),kie=ti(/>>(?:(0[xX][0-9a-fA-F]+)\/)?(\d+)/).pipe(un(t=>({type:"postref",key:`${t[1]}/${t[2]}`,id:t[1],n:t[2]}))),Oie=ti(/>>(\/[a-zA-Z]+\/)(0[xX][0-9a-fA-F]+(?:\/\d+)?)?/).pipe(un(t=>({type:"boardref",key:`${t[1]}${t[2]}`,board:t[1],id:t[2]}))),c2=Fp(Die,Oie,kie,Sie),k6=ti(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/i).pipe(un(t=>({type:"link",key:t[0],value:t[0]}))),O6=vie(),_6=O6.pipe(o2(),xie("[spoiler]","[/spoiler]"),un(t=>{const e=l2(t);for(let r=0;r<e.length;r++)e[r].key+=` ${r}`;return{type:"spoiler",key:C6("spoiler_"),value:e}})),_ie=ti(/[^[][^[\n>hfQ]*/g).pipe(un(t=>({type:"text",key:t[0],value:t[0]}))),P6=ti(/((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(-nocookie)?\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?/g).pipe(un(t=>({type:"youtubelink",key:t[6],id:t[6],url:t[0]}))),B6=ti(/https?:\/\/(www\.)?soundcloud\.com\/.+\w/g).pipe(un(t=>({type:"soundcloudlink",key:t[6],id:t[6],url:t[0]})));O6.init(Fp(c2,_6,k6,S6,D6,_ie,P6,B6));const T6=Fp(_6,P6,B6,k6,S6,Cie),Pie=ti(/^>/m).pipe(Eie(Fp(c2,T6).pipe(o2())),wie(ti(/$/m).pipe(Aie())),un(t=>{const e=l2(t);for(let r=0;r<e.length;r++)e[r].key+=` ${r}`;return{type:"textquote",key:C6("textquote_"),value:e}})),Bie=Fp(c2,Pie,D6,T6).pipe(o2(),un(t=>{const e=l2(t);for(let r=0;r<e.length;r++)e[r].key+=` ${r}`;return e})),Tie=t=>t===""?[]:Bie.parse(t).value;var N6={},j6={},et={},Nie=function(e,r,n){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async="async"in r?!!r.async:!0,s.src=e,r.attrs&&jie(s,r.attrs),r.text&&(s.text=""+r.text);var u="onload"in s?Lk:Iie;u(s,n),s.onload||Lk(s,n),i.appendChild(s)};function jie(t,e){for(var r in e)t.setAttribute(r,e[r])}function Lk(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Iie(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var Rie=function(e){return Lie(e)&&!Mie(e)};function Lie(t){return!!t&&typeof t=="object"}function Mie(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Vie(t)}var $ie=typeof Symbol=="function"&&Symbol.for,Uie=$ie?Symbol.for("react.element"):60103;function Vie(t){return t.$$typeof===Uie}function Hie(t){return Array.isArray(t)?[]:{}}function xh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Kc(Hie(t),t,e):t}function zie(t,e,r){return t.concat(e).map(function(n){return xh(n,r)})}function Wie(t,e){if(!e.customMerge)return Kc;var r=e.customMerge(t);return typeof r=="function"?r:Kc}function Qie(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Mk(t){return Object.keys(t).concat(Qie(t))}function I6(t,e){try{return e in t}catch{return!1}}function qie(t,e){return I6(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Gie(t,e,r){var n={};return r.isMergeableObject(t)&&Mk(t).forEach(function(i){n[i]=xh(t[i],r)}),Mk(e).forEach(function(i){qie(t,i)||(I6(t,i)&&r.isMergeableObject(e[i])?n[i]=Wie(i,r)(t[i],e[i],r):n[i]=xh(e[i],r))}),n}function Kc(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||zie,r.isMergeableObject=r.isMergeableObject||Rie,r.cloneUnlessOtherwiseSpecified=xh;var n=Array.isArray(e),i=Array.isArray(t),s=n===i;return s?n?r.arrayMerge(t,e,r):Gie(t,e,r):xh(e,r)}Kc.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return Kc(n,i,r)},{})};var Kie=Kc,R6=Kie;Object.defineProperty(et,"__esModule",{value:!0});et.parseStartTime=ase;et.parseEndTime=ose;et.randomString=lse;et.queryString=cse;et.getSDK=fse;et.getConfig=dse;et.omit=hse;et.callPlayer=pse;et.isMediaStream=mse;et.isBlobUrl=yse;et.supportsWebKitPresentationMode=gse;var Jie=L6(Nie),Yie=L6(R6);function L6(t){return t&&t.__esModule?t:{default:t}}function Zie(t,e){return rse(t)||tse(t,e)||ese(t,e)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var u=t[Symbol.iterator](),a;!(n=(a=u.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(o){i=!0,s=o}finally{try{!n&&u.return!=null&&u.return()}finally{if(i)throw s}}return r}}function rse(t){if(Array.isArray(t))return t}var nse=/[?&#](?:start|t)=([0-9hms]+)/,ise=/[?&#]end=([0-9hms]+)/,aw=/(\d+)(h|m|s)/g,sse=/^\d+$/;function M6(t,e){if(!(t instanceof Array)){var r=t.match(e);if(r){var n=r[1];if(n.match(aw))return use(n);if(sse.test(n))return parseInt(n)}}}function use(t){for(var e=0,r=aw.exec(t);r!==null;){var n=r,i=Zie(n,3),s=i[1],u=i[2];u==="h"&&(e+=parseInt(s,10)*60*60),u==="m"&&(e+=parseInt(s,10)*60),u==="s"&&(e+=parseInt(s,10)),r=aw.exec(t)}return e}function ase(t){return M6(t,nse)}function ose(t){return M6(t,ise)}function lse(){return Math.random().toString(36).substr(2,5)}function cse(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")}function g1(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var Zo={};function fse(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Jie.default,s=g1(e);return s&&n(s)?Promise.resolve(s):new Promise(function(u,a){if(Zo[t]){Zo[t].push({resolve:u,reject:a});return}Zo[t]=[{resolve:u,reject:a}];var o=function(d){Zo[t].forEach(function(p){return p.resolve(d)})};if(r){var c=window[r];window[r]=function(){c&&c(),o(g1(e))}}i(t,function(f){f?(Zo[t].forEach(function(d){return d.reject(f)}),Zo[t]=null):r||o(g1(e))})})}function dse(t,e){return(0,Yie.default)(e.config,t.config)}function hse(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var s=(e=[]).concat.apply(e,n),u={},a=Object.keys(t),o=0,c=a;o<c.length;o++){var f=c[o];s.indexOf(f)===-1&&(u[f]=t[f])}return u}function pse(t){var e;if(!this.player||!this.player[t]){var r="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c  ");return this.player?this.player[t]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return(e=this.player)[t].apply(e,i)}function mse(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function yse(t){return/^blob:/.test(t)}function gse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var be={};Object.defineProperty(be,"__esModule",{value:!0});be.canPlay=be.FLV_EXTENSIONS=be.DASH_EXTENSIONS=be.HLS_EXTENSIONS=be.VIDEO_EXTENSIONS=be.AUDIO_EXTENSIONS=be.MATCH_URL_KALTURA=be.MATCH_URL_VIDYARD=be.MATCH_URL_MIXCLOUD=be.MATCH_URL_DAILYMOTION=be.MATCH_URL_TWITCH_CHANNEL=be.MATCH_URL_TWITCH_VIDEO=be.MATCH_URL_WISTIA=be.MATCH_URL_STREAMABLE=be.MATCH_URL_FACEBOOK_WATCH=be.MATCH_URL_FACEBOOK=be.MATCH_URL_VIMEO=be.MATCH_URL_SOUNDCLOUD=be.MATCH_URL_YOUTUBE=void 0;var Uk=et;function vse(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=Ase(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,a;return{s:function(){r=t[Symbol.iterator]()},n:function(){var c=r.next();return s=c.done,c},e:function(c){u=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(u)throw a}}}}function Ase(t,e){if(t){if(typeof t=="string")return Vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ow=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;be.MATCH_URL_YOUTUBE=ow;var $6=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;be.MATCH_URL_SOUNDCLOUD=$6;var U6=/vimeo\.com\/(?!progressive_redirect).+/;be.MATCH_URL_VIMEO=U6;var V6=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;be.MATCH_URL_FACEBOOK=V6;var H6=/^https?:\/\/fb\.watch\/.+$/;be.MATCH_URL_FACEBOOK_WATCH=H6;var z6=/streamable\.com\/([a-z0-9]+)$/;be.MATCH_URL_STREAMABLE=z6;var W6=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;be.MATCH_URL_WISTIA=W6;var Q6=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;be.MATCH_URL_TWITCH_VIDEO=Q6;var q6=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;be.MATCH_URL_TWITCH_CHANNEL=q6;var G6=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;be.MATCH_URL_DAILYMOTION=G6;var K6=/mixcloud\.com\/([^/]+\/[^/]+)/;be.MATCH_URL_MIXCLOUD=K6;var J6=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;be.MATCH_URL_VIDYARD=J6;var Y6=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;be.MATCH_URL_KALTURA=Y6;var f2=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;be.AUDIO_EXTENSIONS=f2;var d2=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;be.VIDEO_EXTENSIONS=d2;var h2=/\.(m3u8)($|\?)/i;be.HLS_EXTENSIONS=h2;var Z6=/\.(mpd)($|\?)/i;be.DASH_EXTENSIONS=Z6;var X6=/\.(flv)($|\?)/i;be.FLV_EXTENSIONS=X6;var bse=function t(e){if(e instanceof Array){var r=vse(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;if(typeof i=="string"&&t(i)||t(i.src))return!0}}catch(s){r.e(s)}finally{r.f()}return!1}return(0,Uk.isMediaStream)(e)||(0,Uk.isBlobUrl)(e)?!0:f2.test(e)||d2.test(e)||h2.test(e)||Z6.test(e)||X6.test(e)},wse={youtube:function(e){return e instanceof Array?e.every(function(r){return ow.test(r)}):ow.test(e)},soundcloud:function(e){return $6.test(e)&&!f2.test(e)},vimeo:function(e){return U6.test(e)&&!d2.test(e)&&!h2.test(e)},facebook:function(e){return V6.test(e)||H6.test(e)},streamable:function(e){return z6.test(e)},wistia:function(e){return W6.test(e)},twitch:function(e){return Q6.test(e)||q6.test(e)},dailymotion:function(e){return G6.test(e)},mixcloud:function(e){return K6.test(e)},vidyard:function(e){return J6.test(e)},kaltura:function(e){return Y6.test(e)},file:bse};be.canPlay=wse;var v1={},Hk;function Ese(){return Hk||(Hk=1,function(t){function e(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(j){return typeof j}:e=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},e(T)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return s=function(){return T},T}function u(T){if(T&&T.__esModule)return T;if(T===null||e(T)!=="object"&&typeof T!="function")return{default:T};var R=s();if(R&&R.has(T))return R.get(T);var j={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in T)if(Object.prototype.hasOwnProperty.call(T,V)){var re=I?Object.getOwnPropertyDescriptor(T,V):null;re&&(re.get||re.set)?Object.defineProperty(j,V,re):j[V]=T[V]}return j.default=T,R&&R.set(T,j),j}function a(T,R){var j=Object.keys(T);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(T);R&&(I=I.filter(function(V){return Object.getOwnPropertyDescriptor(T,V).enumerable})),j.push.apply(j,I)}return j}function o(T){for(var R=1;R<arguments.length;R++){var j=arguments[R]!=null?arguments[R]:{};R%2?a(Object(j),!0).forEach(function(I){v(T,I,j[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(j)):a(Object(j)).forEach(function(I){Object.defineProperty(T,I,Object.getOwnPropertyDescriptor(j,I))})}return T}function c(T,R){return w(T)||m(T,R)||d(T,R)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(T,R){if(T){if(typeof T=="string")return p(T,R);var j=Object.prototype.toString.call(T).slice(8,-1);if(j==="Object"&&T.constructor&&(j=T.constructor.name),j==="Map"||j==="Set")return Array.from(T);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return p(T,R)}}function p(T,R){(R==null||R>T.length)&&(R=T.length);for(var j=0,I=new Array(R);j<R;j++)I[j]=T[j];return I}function m(T,R){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(T)))){var j=[],I=!0,V=!1,re=void 0;try{for(var Z=T[Symbol.iterator](),ge;!(I=(ge=Z.next()).done)&&(j.push(ge.value),!(R&&j.length===R));I=!0);}catch(he){V=!0,re=he}finally{try{!I&&Z.return!=null&&Z.return()}finally{if(V)throw re}}return j}}function w(T){if(Array.isArray(T))return T}function b(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function F(T,R){for(var j=0;j<R.length;j++){var I=R[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}}function E(T,R,j){return R&&F(T.prototype,R),j&&F(T,j),T}function A(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),R&&x(T,R)}function x(T,R){return x=Object.setPrototypeOf||function(I,V){return I.__proto__=V,I},x(T,R)}function C(T){var R=g();return function(){var I=h(T),V;if(R){var re=h(this).constructor;V=Reflect.construct(I,arguments,re)}else V=I.apply(this,arguments);return S(this,V)}}function S(T,R){return R&&(e(R)==="object"||typeof R=="function")?R:O(T)}function O(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(T){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},h(T)}function v(T,R,j){return R in T?Object.defineProperty(T,R,{value:j,enumerable:!0,configurable:!0,writable:!0}):T[R]=j,T}var y="https://www.youtube.com/iframe_api",D="YT",P="onYouTubeIframeAPIReady",N=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,B=/user\/([a-zA-Z0-9_-]+)\/?/,L=/youtube-nocookie\.com/,H="https://www.youtube-nocookie.com",M=function(T){A(j,T);var R=C(j);function j(){var I;b(this,j);for(var V=arguments.length,re=new Array(V),Z=0;Z<V;Z++)re[Z]=arguments[Z];return I=R.call.apply(R,[this].concat(re)),v(O(I),"callPlayer",n.callPlayer),v(O(I),"parsePlaylist",function(ge){if(ge instanceof Array)return{listType:"playlist",playlist:ge.map(I.getID).join(",")};if(N.test(ge)){var he=ge.match(N),Ce=c(he,2),Fe=Ce[1];return{listType:"playlist",list:Fe.replace(/^UC/,"UU")}}if(B.test(ge)){var Se=ge.match(B),jt=c(Se,2),Kt=jt[1];return{listType:"user_uploads",list:Kt}}return{}}),v(O(I),"onStateChange",function(ge){var he=ge.data,Ce=I.props,Fe=Ce.onPlay,Se=Ce.onPause,jt=Ce.onBuffer,Kt=Ce.onBufferEnd,ni=Ce.onEnded,eu=Ce.onReady,xa=Ce.loop,us=Ce.config,U=us.playerVars,G=us.onUnstarted,K=window[D].PlayerState,le=K.UNSTARTED,se=K.PLAYING,ne=K.PAUSED,ve=K.BUFFERING,tt=K.ENDED,st=K.CUED;if(he===le&&G(),he===se&&(Fe(),Kt()),he===ne&&Se(),he===ve&&jt(),he===tt){var Mi=!!I.callPlayer("getPlaylist");xa&&!Mi&&(U.start?I.seekTo(U.start):I.play()),ni()}he===st&&eu()}),v(O(I),"mute",function(){I.callPlayer("mute")}),v(O(I),"unmute",function(){I.callPlayer("unMute")}),v(O(I),"ref",function(ge){I.container=ge}),I}return E(j,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(V){return!V||V instanceof Array||N.test(V)?null:V.match(i.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(V,re){var Z=this,ge=this.props,he=ge.playing,Ce=ge.muted,Fe=ge.playsinline,Se=ge.controls,jt=ge.loop,Kt=ge.config,ni=ge.onError,eu=Kt.playerVars,xa=Kt.embedOptions,us=this.getID(V);if(re){if(N.test(V)||B.test(V)||V instanceof Array){this.player.loadPlaylist(this.parsePlaylist(V));return}this.player.cueVideoById({videoId:us,startSeconds:(0,n.parseStartTime)(V)||eu.start,endSeconds:(0,n.parseEndTime)(V)||eu.end});return}(0,n.getSDK)(y,D,P,function(U){return U.loaded}).then(function(U){Z.container&&(Z.player=new U.Player(Z.container,o({width:"100%",height:"100%",videoId:us,playerVars:o(o({autoplay:he?1:0,mute:Ce?1:0,controls:Se?1:0,start:(0,n.parseStartTime)(V),end:(0,n.parseEndTime)(V),origin:window.location.origin,playsinline:Fe?1:0},Z.parsePlaylist(V)),eu),events:{onReady:function(){jt&&Z.player.setLoop(!0),Z.props.onReady()},onPlaybackRateChange:function(K){return Z.props.onPlaybackRateChange(K.data)},onStateChange:Z.onStateChange,onError:function(K){return ni(K.data)}},host:L.test(V)?H:void 0},xa)))},ni),xa.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(V){this.callPlayer("seekTo",V),this.props.playing||this.pause()}},{key:"setVolume",value:function(V){this.callPlayer("setVolume",V*100)}},{key:"setPlaybackRate",value:function(V){this.callPlayer("setPlaybackRate",V)}},{key:"setLoop",value:function(V){this.callPlayer("setLoop",V)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var V=this.props.display,re={width:"100%",height:"100%",display:V};return r.default.createElement("div",{style:re},r.default.createElement("div",{ref:this.ref}))}}]),j}(r.Component);t.default=M,v(M,"displayName","YouTube"),v(M,"canPlay",i.canPlay.youtube)}(v1)),v1}var A1={},zk;function xse(){return zk||(zk=1,function(t){function e(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(v){return typeof v}:e=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return s=function(){return g},g}function u(g){if(g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var h=s();if(h&&h.has(g))return h.get(g);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)){var P=y?Object.getOwnPropertyDescriptor(g,D):null;P&&(P.get||P.set)?Object.defineProperty(v,D,P):v[D]=g[D]}return v.default=g,h&&h.set(g,v),v}function a(g,h){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);h&&(y=y.filter(function(D){return Object.getOwnPropertyDescriptor(g,D).enumerable})),v.push.apply(v,y)}return v}function o(g){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?a(Object(v),!0).forEach(function(y){x(g,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(v,y))})}return g}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function f(g,h){for(var v=0;v<h.length;v++){var y=h[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function d(g,h,v){return h&&f(g.prototype,h),v&&f(g,v),g}function p(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&m(g,h)}function m(g,h){return m=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},m(g,h)}function w(g){var h=E();return function(){var y=A(g),D;if(h){var P=A(this).constructor;D=Reflect.construct(y,arguments,P)}else D=y.apply(this,arguments);return b(this,D)}}function b(g,h){return h&&(e(h)==="object"||typeof h=="function")?h:F(g)}function F(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(g){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},A(g)}function x(g,h,v){return h in g?Object.defineProperty(g,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[h]=v,g}var C="https://w.soundcloud.com/player/api.js",S="SC",O=function(g){p(v,g);var h=w(v);function v(){var y;c(this,v);for(var D=arguments.length,P=new Array(D),N=0;N<D;N++)P[N]=arguments[N];return y=h.call.apply(h,[this].concat(P)),x(F(y),"callPlayer",n.callPlayer),x(F(y),"duration",null),x(F(y),"currentTime",null),x(F(y),"fractionLoaded",null),x(F(y),"mute",function(){y.setVolume(0)}),x(F(y),"unmute",function(){y.props.volume!==null&&y.setVolume(y.props.volume)}),x(F(y),"ref",function(B){y.iframe=B}),y}return d(v,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(D,P){var N=this;(0,n.getSDK)(C,S).then(function(B){if(N.iframe){var L=B.Widget.Events,H=L.PLAY,M=L.PLAY_PROGRESS,T=L.PAUSE,R=L.FINISH,j=L.ERROR;P||(N.player=B.Widget(N.iframe),N.player.bind(H,N.props.onPlay),N.player.bind(T,function(){var I=N.duration-N.currentTime;I<.05||N.props.onPause()}),N.player.bind(M,function(I){N.currentTime=I.currentPosition/1e3,N.fractionLoaded=I.loadedProgress}),N.player.bind(R,function(){return N.props.onEnded()}),N.player.bind(j,function(I){return N.props.onError(I)})),N.player.load(D,o(o({},N.props.config.options),{},{callback:function(){N.player.getDuration(function(V){N.duration=V/1e3,N.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(D){this.callPlayer("seekTo",D*1e3)}},{key:"setVolume",value:function(D){this.callPlayer("setVolume",D*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var D=this.props.display,P={width:"100%",height:"100%",display:D};return r.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:P,frameBorder:0,allow:"autoplay"})}}]),v}(r.Component);t.default=O,x(O,"displayName","SoundCloud"),x(O,"canPlay",i.canPlay.soundcloud),x(O,"loopOnEnded",!0)}(A1)),A1}var b1={},Wk;function Fse(){return Wk||(Wk=1,function(t){function e(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(v){return typeof v}:e=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return s=function(){return g},g}function u(g){if(g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var h=s();if(h&&h.has(g))return h.get(g);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)){var P=y?Object.getOwnPropertyDescriptor(g,D):null;P&&(P.get||P.set)?Object.defineProperty(v,D,P):v[D]=g[D]}return v.default=g,h&&h.set(g,v),v}function a(g,h){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);h&&(y=y.filter(function(D){return Object.getOwnPropertyDescriptor(g,D).enumerable})),v.push.apply(v,y)}return v}function o(g){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?a(Object(v),!0).forEach(function(y){x(g,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(v,y))})}return g}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function f(g,h){for(var v=0;v<h.length;v++){var y=h[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function d(g,h,v){return h&&f(g.prototype,h),v&&f(g,v),g}function p(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&m(g,h)}function m(g,h){return m=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},m(g,h)}function w(g){var h=E();return function(){var y=A(g),D;if(h){var P=A(this).constructor;D=Reflect.construct(y,arguments,P)}else D=y.apply(this,arguments);return b(this,D)}}function b(g,h){return h&&(e(h)==="object"||typeof h=="function")?h:F(g)}function F(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(g){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},A(g)}function x(g,h,v){return h in g?Object.defineProperty(g,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[h]=v,g}var C="https://player.vimeo.com/api/player.js",S="Vimeo",O=function(g){p(v,g);var h=w(v);function v(){var y;c(this,v);for(var D=arguments.length,P=new Array(D),N=0;N<D;N++)P[N]=arguments[N];return y=h.call.apply(h,[this].concat(P)),x(F(y),"callPlayer",n.callPlayer),x(F(y),"duration",null),x(F(y),"currentTime",null),x(F(y),"secondsLoaded",null),x(F(y),"mute",function(){y.setMuted(!0)}),x(F(y),"unmute",function(){y.setMuted(!1)}),x(F(y),"ref",function(B){y.container=B}),y}return d(v,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(D){var P=this;this.duration=null,(0,n.getSDK)(C,S).then(function(N){if(P.container){var B=P.props.config,L=B.playerOptions,H=B.title;P.player=new N.Player(P.container,o({url:D,autoplay:P.props.playing,muted:P.props.muted,loop:P.props.loop,playsinline:P.props.playsinline,controls:P.props.controls},L)),P.player.ready().then(function(){var M=P.container.querySelector("iframe");M.style.width="100%",M.style.height="100%",H&&(M.title=H)}).catch(P.props.onError),P.player.on("loaded",function(){P.props.onReady(),P.refreshDuration()}),P.player.on("play",function(){P.props.onPlay(),P.refreshDuration()}),P.player.on("pause",P.props.onPause),P.player.on("seeked",function(M){return P.props.onSeek(M.seconds)}),P.player.on("ended",P.props.onEnded),P.player.on("error",P.props.onError),P.player.on("timeupdate",function(M){var T=M.seconds;P.currentTime=T}),P.player.on("progress",function(M){var T=M.seconds;P.secondsLoaded=T}),P.player.on("bufferstart",P.props.onBuffer),P.player.on("bufferend",P.props.onBufferEnd),P.player.on("playbackratechange",function(M){return P.props.onPlaybackRateChange(M.playbackRate)})}},this.props.onError)}},{key:"refreshDuration",value:function(){var D=this;this.player.getDuration().then(function(P){D.duration=P})}},{key:"play",value:function(){var D=this.callPlayer("play");D&&D.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(D){this.callPlayer("setCurrentTime",D)}},{key:"setVolume",value:function(D){this.callPlayer("setVolume",D)}},{key:"setMuted",value:function(D){this.callPlayer("setMuted",D)}},{key:"setLoop",value:function(D){this.callPlayer("setLoop",D)}},{key:"setPlaybackRate",value:function(D){this.callPlayer("setPlaybackRate",D)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var D=this.props.display,P={width:"100%",height:"100%",overflow:"hidden",display:D};return r.default.createElement("div",{key:this.props.url,ref:this.ref,style:P})}}]),v}(r.Component);t.default=O,x(O,"displayName","Vimeo"),x(O,"canPlay",i.canPlay.vimeo),x(O,"forceLoad",!0)}(b1)),b1}var w1={},Qk;function Cse(){return Qk||(Qk=1,function(t){function e(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return s=function(){return h},h}function u(h){if(h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var v=s();if(v&&v.has(h))return v.get(h);var y={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var N=D?Object.getOwnPropertyDescriptor(h,P):null;N&&(N.get||N.set)?Object.defineProperty(y,P,N):y[P]=h[P]}return y.default=h,v&&v.set(h,y),y}function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var D in y)Object.prototype.hasOwnProperty.call(y,D)&&(h[D]=y[D])}return h},a.apply(this,arguments)}function o(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function c(h,v){for(var y=0;y<v.length;y++){var D=v[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(h,D.key,D)}}function f(h,v,y){return v&&c(h.prototype,v),y&&c(h,y),h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&p(h,v)}function p(h,v){return p=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D},p(h,v)}function m(h){var v=F();return function(){var D=E(h),P;if(v){var N=E(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return w(this,P)}}function w(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:b(h)}function b(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(h){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},E(h)}function A(h,v,y){return v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y,h}var x="https://connect.facebook.net/en_US/sdk.js",C="FB",S="fbAsyncInit",O="facebook-player-",g=function(h){d(y,h);var v=m(y);function y(){var D;o(this,y);for(var P=arguments.length,N=new Array(P),B=0;B<P;B++)N[B]=arguments[B];return D=v.call.apply(v,[this].concat(N)),A(b(D),"callPlayer",n.callPlayer),A(b(D),"playerID",D.props.config.playerId||"".concat(O).concat((0,n.randomString)())),A(b(D),"mute",function(){D.callPlayer("mute")}),A(b(D),"unmute",function(){D.callPlayer("unmute")}),D}return f(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P,N){var B=this;if(N){(0,n.getSDK)(x,C,S).then(function(L){return L.XFBML.parse()});return}(0,n.getSDK)(x,C,S).then(function(L){L.init({appId:B.props.config.appId,xfbml:!0,version:B.props.config.version}),L.Event.subscribe("xfbml.render",function(H){B.props.onLoaded()}),L.Event.subscribe("xfbml.ready",function(H){H.type==="video"&&H.id===B.playerID&&(B.player=H.instance,B.player.subscribe("startedPlaying",B.props.onPlay),B.player.subscribe("paused",B.props.onPause),B.player.subscribe("finishedPlaying",B.props.onEnded),B.player.subscribe("startedBuffering",B.props.onBuffer),B.player.subscribe("finishedBuffering",B.props.onBufferEnd),B.player.subscribe("error",B.props.onError),B.props.muted?B.callPlayer("mute"):B.callPlayer("unmute"),B.props.onReady(),document.getElementById(B.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(P){this.callPlayer("seek",P)}},{key:"setVolume",value:function(P){this.callPlayer("setVolume",P)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var P=this.props.config.attributes,N={width:"100%",height:"100%"};return r.default.createElement("div",a({style:N,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},P))}}]),y}(r.Component);t.default=g,A(g,"displayName","Facebook"),A(g,"canPlay",i.canPlay.facebook),A(g,"loopOnEnded",!0)}(w1)),w1}var E1={},qk;function Sse(){return qk||(qk=1,function(t){function e(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return s=function(){return S},S}function u(S){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var O=s();if(O&&O.has(S))return O.get(S);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in S)if(Object.prototype.hasOwnProperty.call(S,v)){var y=h?Object.getOwnPropertyDescriptor(S,v):null;y&&(y.get||y.set)?Object.defineProperty(g,v,y):g[v]=S[v]}return g.default=S,O&&O.set(S,g),g}function a(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function o(S,O){for(var g=0;g<O.length;g++){var h=O[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}function c(S,O,g){return O&&o(S.prototype,O),g&&o(S,g),S}function f(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),O&&d(S,O)}function d(S,O){return d=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},d(S,O)}function p(S){var O=b();return function(){var h=F(S),v;if(O){var y=F(this).constructor;v=Reflect.construct(h,arguments,y)}else v=h.apply(this,arguments);return m(this,v)}}function m(S,O){return O&&(e(O)==="object"||typeof O=="function")?O:w(S)}function w(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(S){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},F(S)}function E(S,O,g){return O in S?Object.defineProperty(S,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):S[O]=g,S}var A="https://cdn.embed.ly/player-0.1.0.min.js",x="playerjs",C=function(S){f(g,S);var O=p(g);function g(){var h;a(this,g);for(var v=arguments.length,y=new Array(v),D=0;D<v;D++)y[D]=arguments[D];return h=O.call.apply(O,[this].concat(y)),E(w(h),"callPlayer",n.callPlayer),E(w(h),"duration",null),E(w(h),"currentTime",null),E(w(h),"secondsLoaded",null),E(w(h),"mute",function(){h.callPlayer("mute")}),E(w(h),"unmute",function(){h.callPlayer("unmute")}),E(w(h),"ref",function(P){h.iframe=P}),h}return c(g,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(v){var y=this;(0,n.getSDK)(A,x).then(function(D){y.iframe&&(y.player=new D.Player(y.iframe),y.player.setLoop(y.props.loop),y.player.on("ready",y.props.onReady),y.player.on("play",y.props.onPlay),y.player.on("pause",y.props.onPause),y.player.on("seeked",y.props.onSeek),y.player.on("ended",y.props.onEnded),y.player.on("error",y.props.onError),y.player.on("timeupdate",function(P){var N=P.duration,B=P.seconds;y.duration=N,y.currentTime=B}),y.player.on("buffered",function(P){var N=P.percent;y.duration&&(y.secondsLoaded=y.duration*N)}),y.props.muted&&y.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(v){this.callPlayer("setCurrentTime",v)}},{key:"setVolume",value:function(v){this.callPlayer("setVolume",v*100)}},{key:"setLoop",value:function(v){this.callPlayer("setLoop",v)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var v=this.props.url.match(i.MATCH_URL_STREAMABLE)[1],y={width:"100%",height:"100%"};return r.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(v),frameBorder:"0",scrolling:"no",style:y,allow:"encrypted-media; autoplay; fullscreen;"})}}]),g}(r.Component);t.default=C,E(C,"displayName","Streamable"),E(C,"canPlay",i.canPlay.streamable)}(E1)),E1}var x1={},Gk;function Dse(){return Gk||(Gk=1,function(t){function e(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return s=function(){return h},h}function u(h){if(h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var v=s();if(v&&v.has(h))return v.get(h);var y={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var N=D?Object.getOwnPropertyDescriptor(h,P):null;N&&(N.get||N.set)?Object.defineProperty(y,P,N):y[P]=h[P]}return y.default=h,v&&v.set(h,y),y}function a(h,v){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(h);v&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),y.push.apply(y,D)}return y}function o(h){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?a(Object(y),!0).forEach(function(D){x(h,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach(function(D){Object.defineProperty(h,D,Object.getOwnPropertyDescriptor(y,D))})}return h}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){for(var y=0;y<v.length;y++){var D=v[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(h,D.key,D)}}function d(h,v,y){return v&&f(h.prototype,v),y&&f(h,y),h}function p(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&m(h,v)}function m(h,v){return m=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D},m(h,v)}function w(h){var v=E();return function(){var D=A(h),P;if(v){var N=A(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return b(this,P)}}function b(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:F(h)}function F(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},A(h)}function x(h,v,y){return v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y,h}var C="https://fast.wistia.com/assets/external/E-v1.js",S="Wistia",O="wistia-player-",g=function(h){p(y,h);var v=w(y);function y(){var D;c(this,y);for(var P=arguments.length,N=new Array(P),B=0;B<P;B++)N[B]=arguments[B];return D=v.call.apply(v,[this].concat(N)),x(F(D),"callPlayer",n.callPlayer),x(F(D),"playerID",D.props.config.playerId||"".concat(O).concat((0,n.randomString)())),x(F(D),"onPlay",function(){var L;return(L=D.props).onPlay.apply(L,arguments)}),x(F(D),"onPause",function(){var L;return(L=D.props).onPause.apply(L,arguments)}),x(F(D),"onSeek",function(){var L;return(L=D.props).onSeek.apply(L,arguments)}),x(F(D),"onEnded",function(){var L;return(L=D.props).onEnded.apply(L,arguments)}),x(F(D),"onPlaybackRateChange",function(){var L;return(L=D.props).onPlaybackRateChange.apply(L,arguments)}),x(F(D),"mute",function(){D.callPlayer("mute")}),x(F(D),"unmute",function(){D.callPlayer("unmute")}),D}return d(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P){var N=this,B=this.props,L=B.playing,H=B.muted,M=B.controls,T=B.onReady,R=B.config,j=B.onError;(0,n.getSDK)(C,S).then(function(I){R.customControls&&R.customControls.forEach(function(V){return I.defineControl(V)}),window._wq=window._wq||[],window._wq.push({id:N.playerID,options:o({autoPlay:L,silentAutoPlay:"allow",muted:H,controlsVisibleOnLoad:M,fullscreenButton:M,playbar:M,playbackRateControl:M,qualityControl:M,volumeControl:M,settingsControl:M,smallPlayButton:M},R.options),onReady:function(re){N.player=re,N.unbind(),N.player.bind("play",N.onPlay),N.player.bind("pause",N.onPause),N.player.bind("seek",N.onSeek),N.player.bind("end",N.onEnded),N.player.bind("playbackratechange",N.onPlaybackRateChange),T()}})},j)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(P){this.callPlayer("time",P)}},{key:"setVolume",value:function(P){this.callPlayer("volume",P)}},{key:"setPlaybackRate",value:function(P){this.callPlayer("playbackRate",P)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var P=this.props.url,N=P&&P.match(i.MATCH_URL_WISTIA)[1],B="wistia_embed wistia_async_".concat(N),L={width:"100%",height:"100%"};return r.default.createElement("div",{id:this.playerID,key:N,className:B,style:L})}}]),y}(r.Component);t.default=g,x(g,"displayName","Wistia"),x(g,"canPlay",i.canPlay.wistia),x(g,"loopOnEnded",!0)}(x1)),x1}var F1={},Kk;function kse(){return Kk||(Kk=1,function(t){function e(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return s=function(){return h},h}function u(h){if(h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var v=s();if(v&&v.has(h))return v.get(h);var y={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var N=D?Object.getOwnPropertyDescriptor(h,P):null;N&&(N.get||N.set)?Object.defineProperty(y,P,N):y[P]=h[P]}return y.default=h,v&&v.set(h,y),y}function a(h,v){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(h);v&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),y.push.apply(y,D)}return y}function o(h){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?a(Object(y),!0).forEach(function(D){x(h,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach(function(D){Object.defineProperty(h,D,Object.getOwnPropertyDescriptor(y,D))})}return h}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){for(var y=0;y<v.length;y++){var D=v[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(h,D.key,D)}}function d(h,v,y){return v&&f(h.prototype,v),y&&f(h,y),h}function p(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&m(h,v)}function m(h,v){return m=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D},m(h,v)}function w(h){var v=E();return function(){var D=A(h),P;if(v){var N=A(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return b(this,P)}}function b(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:F(h)}function F(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},A(h)}function x(h,v,y){return v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y,h}var C="https://player.twitch.tv/js/embed/v1.js",S="Twitch",O="twitch-player-",g=function(h){p(y,h);var v=w(y);function y(){var D;c(this,y);for(var P=arguments.length,N=new Array(P),B=0;B<P;B++)N[B]=arguments[B];return D=v.call.apply(v,[this].concat(N)),x(F(D),"callPlayer",n.callPlayer),x(F(D),"playerID",D.props.config.playerId||"".concat(O).concat((0,n.randomString)())),x(F(D),"mute",function(){D.callPlayer("setMuted",!0)}),x(F(D),"unmute",function(){D.callPlayer("setMuted",!1)}),D}return d(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P,N){var B=this,L=this.props,H=L.playsinline,M=L.onError,T=L.config,R=L.controls,j=i.MATCH_URL_TWITCH_CHANNEL.test(P),I=j?P.match(i.MATCH_URL_TWITCH_CHANNEL)[1]:P.match(i.MATCH_URL_TWITCH_VIDEO)[1];if(N){j?this.player.setChannel(I):this.player.setVideo("v"+I);return}(0,n.getSDK)(C,S).then(function(V){B.player=new V.Player(B.playerID,o({video:j?"":I,channel:j?I:"",height:"100%",width:"100%",playsinline:H,autoplay:B.props.playing,muted:B.props.muted,controls:j?!0:R,time:(0,n.parseStartTime)(P)},T.options));var re=V.Player,Z=re.READY,ge=re.PLAYING,he=re.PAUSE,Ce=re.ENDED,Fe=re.ONLINE,Se=re.OFFLINE,jt=re.SEEK;B.player.addEventListener(Z,B.props.onReady),B.player.addEventListener(ge,B.props.onPlay),B.player.addEventListener(he,B.props.onPause),B.player.addEventListener(Ce,B.props.onEnded),B.player.addEventListener(jt,B.props.onSeek),B.player.addEventListener(Fe,B.props.onLoaded),B.player.addEventListener(Se,B.props.onLoaded)},M)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(P){this.callPlayer("seek",P)}},{key:"setVolume",value:function(P){this.callPlayer("setVolume",P)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var P={width:"100%",height:"100%"};return r.default.createElement("div",{style:P,id:this.playerID})}}]),y}(r.Component);t.default=g,x(g,"displayName","Twitch"),x(g,"canPlay",i.canPlay.twitch),x(g,"loopOnEnded",!0)}(F1)),F1}var C1={},Jk;function Ose(){return Jk||(Jk=1,function(t){function e(B){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(H){return typeof H}:e=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},e(B)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var B=new WeakMap;return s=function(){return B},B}function u(B){if(B&&B.__esModule)return B;if(B===null||e(B)!=="object"&&typeof B!="function")return{default:B};var L=s();if(L&&L.has(B))return L.get(B);var H={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in B)if(Object.prototype.hasOwnProperty.call(B,T)){var R=M?Object.getOwnPropertyDescriptor(B,T):null;R&&(R.get||R.set)?Object.defineProperty(H,T,R):H[T]=B[T]}return H.default=B,L&&L.set(B,H),H}function a(B,L){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(B);L&&(M=M.filter(function(T){return Object.getOwnPropertyDescriptor(B,T).enumerable})),H.push.apply(H,M)}return H}function o(B){for(var L=1;L<arguments.length;L++){var H=arguments[L]!=null?arguments[L]:{};L%2?a(Object(H),!0).forEach(function(M){v(B,M,H[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):a(Object(H)).forEach(function(M){Object.defineProperty(B,M,Object.getOwnPropertyDescriptor(H,M))})}return B}function c(B,L){return w(B)||m(B,L)||d(B,L)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(B,L){if(B){if(typeof B=="string")return p(B,L);var H=Object.prototype.toString.call(B).slice(8,-1);if(H==="Object"&&B.constructor&&(H=B.constructor.name),H==="Map"||H==="Set")return Array.from(B);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return p(B,L)}}function p(B,L){(L==null||L>B.length)&&(L=B.length);for(var H=0,M=new Array(L);H<L;H++)M[H]=B[H];return M}function m(B,L){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(B)))){var H=[],M=!0,T=!1,R=void 0;try{for(var j=B[Symbol.iterator](),I;!(M=(I=j.next()).done)&&(H.push(I.value),!(L&&H.length===L));M=!0);}catch(V){T=!0,R=V}finally{try{!M&&j.return!=null&&j.return()}finally{if(T)throw R}}return H}}function w(B){if(Array.isArray(B))return B}function b(B,L){if(!(B instanceof L))throw new TypeError("Cannot call a class as a function")}function F(B,L){for(var H=0;H<L.length;H++){var M=L[H];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(B,M.key,M)}}function E(B,L,H){return L&&F(B.prototype,L),H&&F(B,H),B}function A(B,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(L&&L.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),L&&x(B,L)}function x(B,L){return x=Object.setPrototypeOf||function(M,T){return M.__proto__=T,M},x(B,L)}function C(B){var L=g();return function(){var M=h(B),T;if(L){var R=h(this).constructor;T=Reflect.construct(M,arguments,R)}else T=M.apply(this,arguments);return S(this,T)}}function S(B,L){return L&&(e(L)==="object"||typeof L=="function")?L:O(B)}function O(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(B){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},h(B)}function v(B,L,H){return L in B?Object.defineProperty(B,L,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[L]=H,B}var y="https://api.dmcdn.net/all.js",D="DM",P="dmAsyncInit",N=function(B){A(H,B);var L=C(H);function H(){var M;b(this,H);for(var T=arguments.length,R=new Array(T),j=0;j<T;j++)R[j]=arguments[j];return M=L.call.apply(L,[this].concat(R)),v(O(M),"callPlayer",n.callPlayer),v(O(M),"onDurationChange",function(){var I=M.getDuration();M.props.onDuration(I)}),v(O(M),"mute",function(){M.callPlayer("setMuted",!0)}),v(O(M),"unmute",function(){M.callPlayer("setMuted",!1)}),v(O(M),"ref",function(I){M.container=I}),M}return E(H,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(T){var R=this,j=this.props,I=j.controls,V=j.config,re=j.onError,Z=j.playing,ge=T.match(i.MATCH_URL_DAILYMOTION),he=c(ge,2),Ce=he[1];if(this.player){this.player.load(Ce,{start:(0,n.parseStartTime)(T),autoplay:Z});return}(0,n.getSDK)(y,D,P,function(Fe){return Fe.player}).then(function(Fe){if(R.container){var Se=Fe.player;R.player=new Se(R.container,{width:"100%",height:"100%",video:Ce,params:o({controls:I,autoplay:R.props.playing,mute:R.props.muted,start:(0,n.parseStartTime)(T),origin:window.location.origin},V.params),events:{apiready:R.props.onReady,seeked:function(){return R.props.onSeek(R.player.currentTime)},video_end:R.props.onEnded,durationchange:R.onDurationChange,pause:R.props.onPause,playing:R.props.onPlay,waiting:R.props.onBuffer,error:function(Kt){return re(Kt)}}})}},re)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(T){this.callPlayer("seek",T)}},{key:"setVolume",value:function(T){this.callPlayer("setVolume",T)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var T=this.props.display,R={width:"100%",height:"100%",display:T};return r.default.createElement("div",{style:R},r.default.createElement("div",{ref:this.ref}))}}]),H}(r.Component);t.default=N,v(N,"displayName","DailyMotion"),v(N,"canPlay",i.canPlay.dailymotion),v(N,"loopOnEnded",!0)}(C1)),C1}var S1={},Yk;function _se(){return Yk||(Yk=1,function(t){function e(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(v){return typeof v}:e=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return s=function(){return g},g}function u(g){if(g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var h=s();if(h&&h.has(g))return h.get(g);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)){var P=y?Object.getOwnPropertyDescriptor(g,D):null;P&&(P.get||P.set)?Object.defineProperty(v,D,P):v[D]=g[D]}return v.default=g,h&&h.set(g,v),v}function a(g,h){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);h&&(y=y.filter(function(D){return Object.getOwnPropertyDescriptor(g,D).enumerable})),v.push.apply(v,y)}return v}function o(g){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?a(Object(v),!0).forEach(function(y){x(g,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(v,y))})}return g}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function f(g,h){for(var v=0;v<h.length;v++){var y=h[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function d(g,h,v){return h&&f(g.prototype,h),v&&f(g,v),g}function p(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&m(g,h)}function m(g,h){return m=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},m(g,h)}function w(g){var h=E();return function(){var y=A(g),D;if(h){var P=A(this).constructor;D=Reflect.construct(y,arguments,P)}else D=y.apply(this,arguments);return b(this,D)}}function b(g,h){return h&&(e(h)==="object"||typeof h=="function")?h:F(g)}function F(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(g){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},A(g)}function x(g,h,v){return h in g?Object.defineProperty(g,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[h]=v,g}var C="https://widget.mixcloud.com/media/js/widgetApi.js",S="Mixcloud",O=function(g){p(v,g);var h=w(v);function v(){var y;c(this,v);for(var D=arguments.length,P=new Array(D),N=0;N<D;N++)P[N]=arguments[N];return y=h.call.apply(h,[this].concat(P)),x(F(y),"callPlayer",n.callPlayer),x(F(y),"duration",null),x(F(y),"currentTime",null),x(F(y),"secondsLoaded",null),x(F(y),"mute",function(){}),x(F(y),"unmute",function(){}),x(F(y),"ref",function(B){y.iframe=B}),y}return d(v,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(D){var P=this;(0,n.getSDK)(C,S).then(function(N){P.player=N.PlayerWidget(P.iframe),P.player.ready.then(function(){P.player.events.play.on(P.props.onPlay),P.player.events.pause.on(P.props.onPause),P.player.events.ended.on(P.props.onEnded),P.player.events.error.on(P.props.error),P.player.events.progress.on(function(B,L){P.currentTime=B,P.duration=L}),P.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(D){this.callPlayer("seek",D)}},{key:"setVolume",value:function(D){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var D=this.props,P=D.url,N=D.config,B=P.match(i.MATCH_URL_MIXCLOUD)[1],L={width:"100%",height:"100%"},H=(0,n.queryString)(o(o({},N.options),{},{feed:"/".concat(B,"/")}));return r.default.createElement("iframe",{key:B,ref:this.ref,style:L,src:"https://www.mixcloud.com/widget/iframe/?".concat(H),frameBorder:"0",allow:"autoplay"})}}]),v}(r.Component);t.default=O,x(O,"displayName","Mixcloud"),x(O,"canPlay",i.canPlay.mixcloud),x(O,"loopOnEnded",!0)}(S1)),S1}var D1={},Zk;function Pse(){return Zk||(Zk=1,function(t){function e(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return s=function(){return h},h}function u(h){if(h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var v=s();if(v&&v.has(h))return v.get(h);var y={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var N=D?Object.getOwnPropertyDescriptor(h,P):null;N&&(N.get||N.set)?Object.defineProperty(y,P,N):y[P]=h[P]}return y.default=h,v&&v.set(h,y),y}function a(h,v){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(h);v&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),y.push.apply(y,D)}return y}function o(h){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?a(Object(y),!0).forEach(function(D){x(h,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach(function(D){Object.defineProperty(h,D,Object.getOwnPropertyDescriptor(y,D))})}return h}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){for(var y=0;y<v.length;y++){var D=v[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(h,D.key,D)}}function d(h,v,y){return v&&f(h.prototype,v),y&&f(h,y),h}function p(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&m(h,v)}function m(h,v){return m=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D},m(h,v)}function w(h){var v=E();return function(){var D=A(h),P;if(v){var N=A(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return b(this,P)}}function b(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:F(h)}function F(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},A(h)}function x(h,v,y){return v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y,h}var C="https://play.vidyard.com/embed/v4.js",S="VidyardV4",O="onVidyardAPI",g=function(h){p(y,h);var v=w(y);function y(){var D;c(this,y);for(var P=arguments.length,N=new Array(P),B=0;B<P;B++)N[B]=arguments[B];return D=v.call.apply(v,[this].concat(N)),x(F(D),"callPlayer",n.callPlayer),x(F(D),"mute",function(){D.setVolume(0)}),x(F(D),"unmute",function(){D.props.volume!==null&&D.setVolume(D.props.volume)}),x(F(D),"ref",function(L){D.container=L}),D}return d(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P){var N=this,B=this.props,L=B.playing,H=B.config,M=B.onError,T=B.onDuration,R=P&&P.match(i.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,n.getSDK)(C,S,O).then(function(j){N.container&&(j.api.addReadyListener(function(I,V){N.player||(N.player=V,N.player.on("ready",N.props.onReady),N.player.on("play",N.props.onPlay),N.player.on("pause",N.props.onPause),N.player.on("seek",N.props.onSeek),N.player.on("playerComplete",N.props.onEnded))},R),j.api.renderPlayer(o({uuid:R,container:N.container,autoplay:L?1:0},H.options)),j.api.getPlayerMetadata(R).then(function(I){N.duration=I.length_in_seconds,T(I.length_in_seconds)}))},M)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(P){this.callPlayer("seek",P)}},{key:"setVolume",value:function(P){this.callPlayer("setVolume",P)}},{key:"setPlaybackRate",value:function(P){this.callPlayer("setPlaybackSpeed",P)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var P=this.props.display,N={width:"100%",height:"100%",display:P};return r.default.createElement("div",{style:N},r.default.createElement("div",{ref:this.ref}))}}]),y}(r.Component);t.default=g,x(g,"displayName","Vidyard"),x(g,"canPlay",i.canPlay.vidyard)}(D1)),D1}var k1={},Xk;function Bse(){return Xk||(Xk=1,function(t){function e(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return s=function(){return S},S}function u(S){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var O=s();if(O&&O.has(S))return O.get(S);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in S)if(Object.prototype.hasOwnProperty.call(S,v)){var y=h?Object.getOwnPropertyDescriptor(S,v):null;y&&(y.get||y.set)?Object.defineProperty(g,v,y):g[v]=S[v]}return g.default=S,O&&O.set(S,g),g}function a(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function o(S,O){for(var g=0;g<O.length;g++){var h=O[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}function c(S,O,g){return O&&o(S.prototype,O),g&&o(S,g),S}function f(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),O&&d(S,O)}function d(S,O){return d=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},d(S,O)}function p(S){var O=b();return function(){var h=F(S),v;if(O){var y=F(this).constructor;v=Reflect.construct(h,arguments,y)}else v=h.apply(this,arguments);return m(this,v)}}function m(S,O){return O&&(e(O)==="object"||typeof O=="function")?O:w(S)}function w(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(S){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},F(S)}function E(S,O,g){return O in S?Object.defineProperty(S,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):S[O]=g,S}var A="https://cdn.embed.ly/player-0.1.0.min.js",x="playerjs",C=function(S){f(g,S);var O=p(g);function g(){var h;a(this,g);for(var v=arguments.length,y=new Array(v),D=0;D<v;D++)y[D]=arguments[D];return h=O.call.apply(O,[this].concat(y)),E(w(h),"callPlayer",n.callPlayer),E(w(h),"duration",null),E(w(h),"currentTime",null),E(w(h),"secondsLoaded",null),E(w(h),"mute",function(){h.callPlayer("mute")}),E(w(h),"unmute",function(){h.callPlayer("unmute")}),E(w(h),"ref",function(P){h.iframe=P}),h}return c(g,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(v){var y=this;(0,n.getSDK)(A,x).then(function(D){y.iframe&&(y.player=new D.Player(y.iframe),y.player.on("ready",function(){setTimeout(function(){y.player.isReady=!0,y.player.setLoop(y.props.loop),y.props.muted&&y.player.mute(),y.addListeners(y.player,y.props),y.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(v,y){var D=this;v.on("play",y.onPlay),v.on("pause",y.onPause),v.on("ended",y.onEnded),v.on("error",y.onError),v.on("timeupdate",function(P){var N=P.duration,B=P.seconds;D.duration=N,D.currentTime=B})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(v){this.callPlayer("setCurrentTime",v)}},{key:"setVolume",value:function(v){this.callPlayer("setVolume",v)}},{key:"setLoop",value:function(v){this.callPlayer("setLoop",v)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var v={width:"100%",height:"100%"};return r.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:v,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),g}(r.Component);t.default=C,E(C,"displayName","Kaltura"),E(C,"canPlay",i.canPlay.kaltura)}(k1)),k1}var O1={},eO;function Tse(){return eO||(eO=1,function(t){function e(M){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(R){return typeof R}:e=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(M)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(k),n=et,i=be;function s(){if(typeof WeakMap!="function")return null;var M=new WeakMap;return s=function(){return M},M}function u(M){if(M&&M.__esModule)return M;if(M===null||e(M)!=="object"&&typeof M!="function")return{default:M};var T=s();if(T&&T.has(M))return T.get(M);var R={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in M)if(Object.prototype.hasOwnProperty.call(M,I)){var V=j?Object.getOwnPropertyDescriptor(M,I):null;V&&(V.get||V.set)?Object.defineProperty(R,I,V):R[I]=M[I]}return R.default=M,T&&T.set(M,R),R}function a(){return a=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(M[j]=R[j])}return M},a.apply(this,arguments)}function o(M,T){if(!(M instanceof T))throw new TypeError("Cannot call a class as a function")}function c(M,T){for(var R=0;R<T.length;R++){var j=T[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function f(M,T,R){return T&&c(M.prototype,T),R&&c(M,R),M}function d(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(T&&T.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),T&&p(M,T)}function p(M,T){return p=Object.setPrototypeOf||function(j,I){return j.__proto__=I,j},p(M,T)}function m(M){var T=F();return function(){var j=E(M),I;if(T){var V=E(this).constructor;I=Reflect.construct(j,arguments,V)}else I=j.apply(this,arguments);return w(this,I)}}function w(M,T){return T&&(e(T)==="object"||typeof T=="function")?T:b(M)}function b(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(M){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},E(M)}function A(M,T,R){return T in M?Object.defineProperty(M,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):M[T]=R,M}var x=typeof navigator<"u",C=x&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,S=x&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||C)&&!window.MSStream,O=x&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,g="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",h="Hls",v="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",y="dashjs",D="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",P="flvjs",N=/www\.dropbox\.com\/.+/,B=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,L="https://videodelivery.net/{id}/manifest/video.m3u8",H=function(M){d(R,M);var T=m(R);function R(){var j;o(this,R);for(var I=arguments.length,V=new Array(I),re=0;re<I;re++)V[re]=arguments[re];return j=T.call.apply(T,[this].concat(V)),A(b(j),"onReady",function(){var Z;return(Z=j.props).onReady.apply(Z,arguments)}),A(b(j),"onPlay",function(){var Z;return(Z=j.props).onPlay.apply(Z,arguments)}),A(b(j),"onBuffer",function(){var Z;return(Z=j.props).onBuffer.apply(Z,arguments)}),A(b(j),"onBufferEnd",function(){var Z;return(Z=j.props).onBufferEnd.apply(Z,arguments)}),A(b(j),"onPause",function(){var Z;return(Z=j.props).onPause.apply(Z,arguments)}),A(b(j),"onEnded",function(){var Z;return(Z=j.props).onEnded.apply(Z,arguments)}),A(b(j),"onError",function(){var Z;return(Z=j.props).onError.apply(Z,arguments)}),A(b(j),"onPlayBackRateChange",function(Z){return j.props.onPlaybackRateChange(Z.target.playbackRate)}),A(b(j),"onEnablePIP",function(){var Z;return(Z=j.props).onEnablePIP.apply(Z,arguments)}),A(b(j),"onDisablePIP",function(Z){var ge=j.props,he=ge.onDisablePIP,Ce=ge.playing;he(Z),Ce&&j.play()}),A(b(j),"onPresentationModeChange",function(Z){if(j.player&&(0,n.supportsWebKitPresentationMode)(j.player)){var ge=j.player.webkitPresentationMode;ge==="picture-in-picture"?j.onEnablePIP(Z):ge==="inline"&&j.onDisablePIP(Z)}}),A(b(j),"onSeek",function(Z){j.props.onSeek(Z.target.currentTime)}),A(b(j),"mute",function(){j.player.muted=!0}),A(b(j),"unmute",function(){j.player.muted=!1}),A(b(j),"renderSourceElement",function(Z,ge){return typeof Z=="string"?r.default.createElement("source",{key:ge,src:Z}):r.default.createElement("source",a({key:ge},Z))}),A(b(j),"renderTrack",function(Z,ge){return r.default.createElement("track",a({key:ge},Z))}),A(b(j),"ref",function(Z){j.player&&(j.prevPlayer=j.player),j.player=Z}),j}return f(R,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),this.player.src=this.getSource(this.props.url),S&&this.player.load()}},{key:"componentDidUpdate",value:function(I){this.shouldUseAudio(this.props)!==this.shouldUseAudio(I)&&(this.removeListeners(this.prevPlayer,I.url),this.addListeners(this.player)),this.props.url!==I.url&&!(0,n.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(I){var V=this.props,re=V.url,Z=V.playsinline;I.addEventListener("play",this.onPlay),I.addEventListener("waiting",this.onBuffer),I.addEventListener("playing",this.onBufferEnd),I.addEventListener("pause",this.onPause),I.addEventListener("seeked",this.onSeek),I.addEventListener("ended",this.onEnded),I.addEventListener("error",this.onError),I.addEventListener("ratechange",this.onPlayBackRateChange),I.addEventListener("enterpictureinpicture",this.onEnablePIP),I.addEventListener("leavepictureinpicture",this.onDisablePIP),I.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(re)||I.addEventListener("canplay",this.onReady),Z&&(I.setAttribute("playsinline",""),I.setAttribute("webkit-playsinline",""),I.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(I,V){I.removeEventListener("canplay",this.onReady),I.removeEventListener("play",this.onPlay),I.removeEventListener("waiting",this.onBuffer),I.removeEventListener("playing",this.onBufferEnd),I.removeEventListener("pause",this.onPause),I.removeEventListener("seeked",this.onSeek),I.removeEventListener("ended",this.onEnded),I.removeEventListener("error",this.onError),I.removeEventListener("ratechange",this.onPlayBackRateChange),I.removeEventListener("enterpictureinpicture",this.onEnablePIP),I.removeEventListener("leavepictureinpicture",this.onDisablePIP),I.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(V)||I.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(I){return I.config.forceVideo||I.config.attributes.poster?!1:i.AUDIO_EXTENSIONS.test(I.url)||I.config.forceAudio}},{key:"shouldUseHLS",value:function(I){return this.props.config.forceHLS||O&&this.props.config.forceSafariHLS?!0:S?!1:i.HLS_EXTENSIONS.test(I)||B.test(I)}},{key:"shouldUseDASH",value:function(I){return i.DASH_EXTENSIONS.test(I)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(I){return i.FLV_EXTENSIONS.test(I)||this.props.config.forceFLV}},{key:"load",value:function(I){var V=this,re=this.props.config,Z=re.hlsVersion,ge=re.hlsOptions,he=re.dashVersion,Ce=re.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(I)&&(0,n.getSDK)(g.replace("VERSION",Z),h).then(function(Fe){if(V.hls=new Fe(ge),V.hls.on(Fe.Events.MANIFEST_PARSED,function(){V.props.onReady()}),V.hls.on(Fe.Events.ERROR,function(jt,Kt){V.props.onError(jt,Kt,V.hls,Fe)}),B.test(I)){var Se=I.match(B)[1];V.hls.loadSource(L.replace("{id}",Se))}else V.hls.loadSource(I);V.hls.attachMedia(V.player),V.props.onLoaded()}),this.shouldUseDASH(I)&&(0,n.getSDK)(v.replace("VERSION",he),y).then(function(Fe){V.dash=Fe.MediaPlayer().create(),V.dash.initialize(V.player,I,V.props.playing),V.dash.on("error",V.props.onError),parseInt(he)<3?V.dash.getDebug().setLogToBrowserConsole(!1):V.dash.updateSettings({debug:{logLevel:Fe.Debug.LOG_LEVEL_NONE}}),V.props.onLoaded()}),this.shouldUseFLV(I)&&(0,n.getSDK)(D.replace("VERSION",Ce),P).then(function(Fe){V.flv=Fe.createPlayer({type:"flv",url:I}),V.flv.attachMediaElement(V.player),V.flv.on(Fe.Events.ERROR,function(Se,jt){V.props.onError(Se,jt,V.flv,Fe)}),V.flv.load(),V.props.onLoaded()}),I instanceof Array)this.player.load();else if((0,n.isMediaStream)(I))try{this.player.srcObject=I}catch{this.player.src=window.URL.createObjectURL(I)}}},{key:"play",value:function(){var I=this.player.play();I&&I.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(I){this.player.currentTime=I}},{key:"setVolume",value:function(I){this.player.volume=I}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,n.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,n.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(I){try{this.player.playbackRate=I}catch(V){this.props.onError(V)}}},{key:"getDuration",value:function(){if(!this.player)return null;var I=this.player,V=I.duration,re=I.seekable;return V===1/0&&re.length>0?re.end(re.length-1):V}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var I=this.player.buffered;if(I.length===0)return 0;var V=I.end(I.length-1),re=this.getDuration();return V>re?re:V}},{key:"getSource",value:function(I){var V=this.shouldUseHLS(I),re=this.shouldUseDASH(I),Z=this.shouldUseFLV(I);if(!(I instanceof Array||(0,n.isMediaStream)(I)||V||re||Z))return N.test(I)?I.replace("www.dropbox.com","dl.dropboxusercontent.com"):I}},{key:"render",value:function(){var I=this.props,V=I.url,re=I.playing,Z=I.loop,ge=I.controls,he=I.muted,Ce=I.config,Fe=I.width,Se=I.height,jt=this.shouldUseAudio(this.props),Kt=jt?"audio":"video",ni={width:Fe==="auto"?Fe:"100%",height:Se==="auto"?Se:"100%"};return r.default.createElement(Kt,a({ref:this.ref,src:this.getSource(V),style:ni,preload:"auto",autoPlay:re||void 0,controls:ge,muted:he,loop:Z},Ce.attributes),V instanceof Array&&V.map(this.renderSourceElement),Ce.tracks.map(this.renderTrack))}}]),R}(r.Component);t.default=H,A(H,"displayName","FilePlayer"),A(H,"canPlay",i.canPlay.file)}(O1)),O1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=k,r=et,n=be;function i(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(f){return typeof f}:i=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(o)}function s(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return s=function(){return o},o}function u(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var c=s();if(c&&c.has(o))return c.get(o);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p)){var m=d?Object.getOwnPropertyDescriptor(o,p):null;m&&(m.get||m.set)?Object.defineProperty(f,p,m):f[p]=o[p]}return f.default=o,c&&c.set(o,f),f}var a=[{key:"youtube",name:"YouTube",canPlay:n.canPlay.youtube,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Ese())})})},{key:"soundcloud",name:"SoundCloud",canPlay:n.canPlay.soundcloud,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(xse())})})},{key:"vimeo",name:"Vimeo",canPlay:n.canPlay.vimeo,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Fse())})})},{key:"facebook",name:"Facebook",canPlay:n.canPlay.facebook,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Cse())})})},{key:"streamable",name:"Streamable",canPlay:n.canPlay.streamable,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Sse())})})},{key:"wistia",name:"Wistia",canPlay:n.canPlay.wistia,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Dse())})})},{key:"twitch",name:"Twitch",canPlay:n.canPlay.twitch,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(kse())})})},{key:"dailymotion",name:"DailyMotion",canPlay:n.canPlay.dailymotion,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Ose())})})},{key:"mixcloud",name:"Mixcloud",canPlay:n.canPlay.mixcloud,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(_se())})})},{key:"vidyard",name:"Vidyard",canPlay:n.canPlay.vidyard,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Pse())})})},{key:"kaltura",name:"Kaltura",canPlay:n.canPlay.kaltura,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Bse())})})},{key:"file",name:"FilePlayer",canPlay:n.canPlay.file,canEnablePIP:function(c){return n.canPlay.file(c)&&(document.pictureInPictureEnabled||(0,r.supportsWebKitPresentationMode)())&&!n.AUDIO_EXTENSIONS.test(c)},lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return u(Tse())})})}];t.default=a})(j6);var Rg={},tO=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Nse(t,e){return!!(t===e||tO(t)&&tO(e))}function jse(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Nse(t[r],e[r]))return!1;return!0}function Ise(t,e){e===void 0&&(e=jse);var r,n=[],i,s=!1;function u(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return s&&r===this&&e(a,n)||(i=t.apply(this,a),s=!0,r=this,n=a),i}return u}const Rse=Object.freeze(Object.defineProperty({__proto__:null,default:Ise},Symbol.toStringTag,{value:"Module"})),Lse=Dy(Rse);var Mse=typeof Element<"u",$se=typeof Map=="function",Use=typeof Set=="function",Vse=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function rm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!rm(t[n],e[n]))return!1;return!0}var s;if($se&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;for(s=t.entries();!(n=s.next()).done;)if(!rm(n.value[1],e.get(n.value[0])))return!1;return!0}if(Use&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(Vse&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(Mse&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&t.$$typeof)&&!rm(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}var ej=function(e,r){try{return rm(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Po={},tj={exports:{}},Hse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zse=Hse,Wse=zse;function rj(){}function nj(){}nj.resetWarningCache=rj;var Qse=function(){function t(n,i,s,u,a,o){if(o!==Wse){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nj,resetWarningCache:rj};return r.PropTypes=r,r};tj.exports=Qse();var qse=tj.exports;Object.defineProperty(Po,"__esModule",{value:!0});Po.defaultProps=Po.propTypes=void 0;var Xs=Gse(qse);function Gse(t){return t&&t.__esModule?t:{default:t}}var kr=Xs.default.string,Wr=Xs.default.bool,Xo=Xs.default.number,_1=Xs.default.array,Wf=Xs.default.oneOfType,Pn=Xs.default.shape,Or=Xs.default.object,Jt=Xs.default.func,rO=Xs.default.node,Kse={url:Wf([kr,_1,Or]),playing:Wr,loop:Wr,controls:Wr,volume:Xo,muted:Wr,playbackRate:Xo,width:Wf([kr,Xo]),height:Wf([kr,Xo]),style:Or,progressInterval:Xo,playsinline:Wr,pip:Wr,stopOnUnmount:Wr,light:Wf([Wr,kr,Or]),playIcon:rO,previewTabIndex:Xo,fallback:rO,oEmbedUrl:kr,wrapper:Wf([kr,Jt,Pn({render:Jt.isRequired})]),config:Pn({soundcloud:Pn({options:Or}),youtube:Pn({playerVars:Or,embedOptions:Or,onUnstarted:Jt}),facebook:Pn({appId:kr,version:kr,playerId:kr,attributes:Or}),dailymotion:Pn({params:Or}),vimeo:Pn({playerOptions:Or,title:kr}),file:Pn({attributes:Or,tracks:_1,forceVideo:Wr,forceAudio:Wr,forceHLS:Wr,forceSafariHLS:Wr,forceDASH:Wr,forceFLV:Wr,hlsOptions:Or,hlsVersion:kr,dashVersion:kr,flvVersion:kr}),wistia:Pn({options:Or,playerId:kr,customControls:_1}),mixcloud:Pn({options:Or}),twitch:Pn({options:Or,playerId:kr}),vidyard:Pn({options:Or})}),onReady:Jt,onStart:Jt,onPlay:Jt,onPause:Jt,onBuffer:Jt,onBufferEnd:Jt,onEnded:Jt,onError:Jt,onDuration:Jt,onSeek:Jt,onPlaybackRateChange:Jt,onProgress:Jt,onClickPreview:Jt,onEnablePIP:Jt,onDisablePIP:Jt};Po.propTypes=Kse;var gr=function(){},Jse={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:gr},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:gr,onStart:gr,onPlay:gr,onPause:gr,onBuffer:gr,onBufferEnd:gr,onEnded:gr,onError:gr,onDuration:gr,onSeek:gr,onPlaybackRateChange:gr,onProgress:gr,onClickPreview:gr,onEnablePIP:gr,onDisablePIP:gr};Po.defaultProps=Jse;var ij={};(function(t){function e(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(v){return typeof v}:e=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(k),n=u(ej),i=Po,s=et;function u(g){return g&&g.__esModule?g:{default:g}}function a(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return a=function(){return g},g}function o(g){if(g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var h=a();if(h&&h.has(g))return h.get(g);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)){var P=y?Object.getOwnPropertyDescriptor(g,D):null;P&&(P.get||P.set)?Object.defineProperty(v,D,P):v[D]=g[D]}return v.default=g,h&&h.set(g,v),v}function c(){return c=Object.assign||function(g){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},c.apply(this,arguments)}function f(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function d(g,h){for(var v=0;v<h.length;v++){var y=h[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function p(g,h,v){return h&&d(g.prototype,h),v&&d(g,v),g}function m(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&w(g,h)}function w(g,h){return w=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},w(g,h)}function b(g){var h=A();return function(){var y=x(g),D;if(h){var P=x(this).constructor;D=Reflect.construct(y,arguments,P)}else D=y.apply(this,arguments);return F(this,D)}}function F(g,h){return h&&(e(h)==="object"||typeof h=="function")?h:E(g)}function E(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(g){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},x(g)}function C(g,h,v){return h in g?Object.defineProperty(g,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[h]=v,g}var S=5e3,O=function(g){m(v,g);var h=b(v);function v(){var y;f(this,v);for(var D=arguments.length,P=new Array(D),N=0;N<D;N++)P[N]=arguments[N];return y=h.call.apply(h,[this].concat(P)),C(E(y),"mounted",!1),C(E(y),"isReady",!1),C(E(y),"isPlaying",!1),C(E(y),"isLoading",!0),C(E(y),"loadOnReady",null),C(E(y),"startOnPlay",!0),C(E(y),"seekOnPlay",null),C(E(y),"onDurationCalled",!1),C(E(y),"handlePlayerMount",function(B){if(y.player){y.progress();return}y.player=B,y.player.load(y.props.url),y.progress()}),C(E(y),"getInternalPlayer",function(B){return y.player?y.player[B]:null}),C(E(y),"progress",function(){if(y.props.url&&y.player&&y.isReady){var B=y.getCurrentTime()||0,L=y.getSecondsLoaded(),H=y.getDuration();if(H){var M={playedSeconds:B,played:B/H};L!==null&&(M.loadedSeconds=L,M.loaded=L/H),(M.playedSeconds!==y.prevPlayed||M.loadedSeconds!==y.prevLoaded)&&y.props.onProgress(M),y.prevPlayed=M.playedSeconds,y.prevLoaded=M.loadedSeconds}}y.progressTimeout=setTimeout(y.progress,y.props.progressFrequency||y.props.progressInterval)}),C(E(y),"handleReady",function(){if(y.mounted){y.isReady=!0,y.isLoading=!1;var B=y.props,L=B.onReady,H=B.playing,M=B.volume,T=B.muted;L(),!T&&M!==null&&y.player.setVolume(M),y.loadOnReady?(y.player.load(y.loadOnReady,!0),y.loadOnReady=null):H&&y.player.play(),y.handleDurationCheck()}}),C(E(y),"handlePlay",function(){y.isPlaying=!0,y.isLoading=!1;var B=y.props,L=B.onStart,H=B.onPlay,M=B.playbackRate;y.startOnPlay&&(y.player.setPlaybackRate&&M!==1&&y.player.setPlaybackRate(M),L(),y.startOnPlay=!1),H(),y.seekOnPlay&&(y.seekTo(y.seekOnPlay),y.seekOnPlay=null),y.handleDurationCheck()}),C(E(y),"handlePause",function(B){y.isPlaying=!1,y.isLoading||y.props.onPause(B)}),C(E(y),"handleEnded",function(){var B=y.props,L=B.activePlayer,H=B.loop,M=B.onEnded;L.loopOnEnded&&H&&y.seekTo(0),H||(y.isPlaying=!1,M())}),C(E(y),"handleError",function(){var B;y.isLoading=!1,(B=y.props).onError.apply(B,arguments)}),C(E(y),"handleDurationCheck",function(){clearTimeout(y.durationCheckTimeout);var B=y.getDuration();B?y.onDurationCalled||(y.props.onDuration(B),y.onDurationCalled=!0):y.durationCheckTimeout=setTimeout(y.handleDurationCheck,100)}),C(E(y),"handleLoaded",function(){y.isLoading=!1}),y}return p(v,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(D){var P=this;if(this.player){var N=this.props,B=N.url,L=N.playing,H=N.volume,M=N.muted,T=N.playbackRate,R=N.pip,j=N.loop,I=N.activePlayer,V=N.disableDeferredLoading;if(!(0,n.default)(D.url,B)){if(this.isLoading&&!I.forceLoad&&!V&&!(0,s.isMediaStream)(B)){console.warn("ReactPlayer: the attempt to load ".concat(B," is being deferred until the player has loaded")),this.loadOnReady=B;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(B,this.isReady)}!D.playing&&L&&!this.isPlaying&&this.player.play(),D.playing&&!L&&this.isPlaying&&this.player.pause(),!D.pip&&R&&this.player.enablePIP&&this.player.enablePIP(),D.pip&&!R&&this.player.disablePIP&&this.player.disablePIP(),D.volume!==H&&H!==null&&this.player.setVolume(H),D.muted!==M&&(M?this.player.mute():(this.player.unmute(),H!==null&&setTimeout(function(){return P.player.setVolume(H)}))),D.playbackRate!==T&&this.player.setPlaybackRate&&this.player.setPlaybackRate(T),D.loop!==j&&this.player.setLoop&&this.player.setLoop(j)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(D,P){var N=this;if(!this.isReady){D!==0&&(this.seekOnPlay=D,setTimeout(function(){N.seekOnPlay=null},S));return}var B=P?P==="fraction":D>0&&D<1;if(B){var L=this.player.getDuration();if(!L){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(L*D);return}this.player.seekTo(D)}},{key:"render",value:function(){var D=this.props.activePlayer;return D?r.default.createElement(D,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),v}(r.Component);t.default=O,C(O,"displayName","Player"),C(O,"propTypes",i.propTypes),C(O,"defaultProps",i.defaultProps)})(ij);var P1={},nO;function Yse(){return nO||(nO=1,function(t){function e(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(k);function n(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return n=function(){return S},S}function i(S){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var O=n();if(O&&O.has(S))return O.get(S);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in S)if(Object.prototype.hasOwnProperty.call(S,v)){var y=h?Object.getOwnPropertyDescriptor(S,v):null;y&&(y.get||y.set)?Object.defineProperty(g,v,y):g[v]=S[v]}return g.default=S,O&&O.set(S,g),g}function s(S,O){var g=Object.keys(S);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(S);O&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),g.push.apply(g,h)}return g}function u(S){for(var O=1;O<arguments.length;O++){var g=arguments[O]!=null?arguments[O]:{};O%2?s(Object(g),!0).forEach(function(h){E(S,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(h){Object.defineProperty(S,h,Object.getOwnPropertyDescriptor(g,h))})}return S}function a(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function o(S,O){for(var g=0;g<O.length;g++){var h=O[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}function c(S,O,g){return O&&o(S.prototype,O),g&&o(S,g),S}function f(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),O&&d(S,O)}function d(S,O){return d=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},d(S,O)}function p(S){var O=b();return function(){var h=F(S),v;if(O){var y=F(this).constructor;v=Reflect.construct(h,arguments,y)}else v=h.apply(this,arguments);return m(this,v)}}function m(S,O){return O&&(e(O)==="object"||typeof O=="function")?O:w(S)}function w(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(S){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},F(S)}function E(S,O,g){return O in S?Object.defineProperty(S,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):S[O]=g,S}var A="64px",x={},C=function(S){f(g,S);var O=p(g);function g(){var h;a(this,g);for(var v=arguments.length,y=new Array(v),D=0;D<v;D++)y[D]=arguments[D];return h=O.call.apply(O,[this].concat(y)),E(w(h),"mounted",!1),E(w(h),"state",{image:null}),E(w(h),"handleKeyPress",function(P){(P.key==="Enter"||P.key===" ")&&h.props.onClick()}),h}return c(g,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(v){var y=this.props,D=y.url,P=y.light;(v.url!==D||v.light!==P)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(v){var y=this,D=v.url,P=v.light,N=v.oEmbedUrl;if(!r.default.isValidElement(P)){if(typeof P=="string"){this.setState({image:P});return}if(x[D]){this.setState({image:x[D]});return}return this.setState({image:null}),window.fetch(N.replace("{url}",D)).then(function(B){return B.json()}).then(function(B){if(B.thumbnail_url&&y.mounted){var L=B.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");y.setState({image:L}),x[D]=L}})}}},{key:"render",value:function(){var v=this.props,y=v.light,D=v.onClick,P=v.playIcon,N=v.previewTabIndex,B=this.state.image,L=r.default.isValidElement(y),H={display:"flex",alignItems:"center",justifyContent:"center"},M={preview:u({width:"100%",height:"100%",backgroundImage:B&&!L?"url(".concat(B,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},H),shadow:u({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:A,width:A,height:A,position:L?"absolute":void 0},H),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},T=r.default.createElement("div",{style:M.shadow,className:"react-player__shadow"},r.default.createElement("div",{style:M.playIcon,className:"react-player__play-icon"}));return r.default.createElement("div",{style:M.preview,className:"react-player__preview",onClick:D,tabIndex:N,onKeyPress:this.handleKeyPress},L?y:null,P||T)}}]),g}(r.Component);t.default=C}(P1)),P1}Object.defineProperty(Rg,"__esModule",{value:!0});Rg.createReactPlayer=void 0;var Ta=uj(k),Zse=Lg(R6),B1=Lg(Lse),iO=Lg(ej),ud=Po,Xse=et,eue=Lg(ij);function Lg(t){return t&&t.__esModule?t:{default:t}}function Od(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Od=function(r){return typeof r}:Od=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Od(t)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){Dt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function py(){return py=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},py.apply(this,arguments)}function T1(t){return iue(t)||nue(t)||rue(t)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return lw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(t,e)}}function nue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iue(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uue(t,e,r){return e&&aO(t.prototype,e),r&&aO(t,r),t}function aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cw(t,e)}function oue(t){var e=cue();return function(){var n=my(t),i;if(e){var s=my(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return lue(this,i)}}function lue(t,e){return e&&(Od(e)==="object"||typeof e=="function")?e:vr(t)}function vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},my(t)}function Dt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sj(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return sj=function(){return t},t}function uj(t){if(t&&t.__esModule)return t;if(t===null||Od(t)!=="object"&&typeof t!="function")return{default:t};var e=sj();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}var fue=(0,Ta.lazy)(function(){return Promise.resolve().then(function(){return uj(Yse())})}),due=typeof window<"u"&&window.document,hue=typeof Vt<"u"&&Vt.window&&Vt.window.document,pue=Object.keys(ud.propTypes),mue=due||hue?Ta.Suspense:function(){return null},Qf=[],yue=function(e,r){var n,i;return i=n=function(s){aue(a,s);var u=oue(a);function a(){var o;sue(this,a);for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return o=u.call.apply(u,[this].concat(f)),Dt(vr(o),"state",{showPreview:!!o.props.light}),Dt(vr(o),"references",{wrapper:function(m){o.wrapper=m},player:function(m){o.player=m}}),Dt(vr(o),"handleClickPreview",function(p){o.setState({showPreview:!1}),o.props.onClickPreview(p)}),Dt(vr(o),"showPreview",function(){o.setState({showPreview:!0})}),Dt(vr(o),"getDuration",function(){return o.player?o.player.getDuration():null}),Dt(vr(o),"getCurrentTime",function(){return o.player?o.player.getCurrentTime():null}),Dt(vr(o),"getSecondsLoaded",function(){return o.player?o.player.getSecondsLoaded():null}),Dt(vr(o),"getInternalPlayer",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return o.player?o.player.getInternalPlayer(p):null}),Dt(vr(o),"seekTo",function(p,m){if(!o.player)return null;o.player.seekTo(p,m)}),Dt(vr(o),"handleReady",function(){o.props.onReady(vr(o))}),Dt(vr(o),"getActivePlayer",(0,B1.default)(function(p){for(var m=0,w=[].concat(Qf,T1(e));m<w.length;m++){var b=w[m];if(b.canPlay(p))return b}return r||null})),Dt(vr(o),"getConfig",(0,B1.default)(function(p,m){var w=o.props.config;return Zse.default.all([ud.defaultProps.config,ud.defaultProps.config[m]||{},w,w[m]||{}])})),Dt(vr(o),"getAttributes",(0,B1.default)(function(p){return(0,Xse.omit)(o.props,pue)})),Dt(vr(o),"renderActivePlayer",function(p){if(!p)return null;var m=o.getActivePlayer(p);if(!m)return null;var w=o.getConfig(p,m.key);return Ta.default.createElement(eue.default,py({},o.props,{key:m.key,ref:o.references.player,config:w,activePlayer:m.lazyPlayer||m,onReady:o.handleReady}))}),o}return uue(a,[{key:"shouldComponentUpdate",value:function(c,f){return!(0,iO.default)(this.props,c)||!(0,iO.default)(this.state,f)}},{key:"componentDidUpdate",value:function(c){var f=this.props.light;!c.light&&f&&this.setState({showPreview:!0}),c.light&&!f&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(c){if(!c)return null;var f=this.props,d=f.light,p=f.playIcon,m=f.previewTabIndex,w=f.oEmbedUrl;return Ta.default.createElement(fue,{url:c,light:d,playIcon:p,previewTabIndex:m,oEmbedUrl:w,onClick:this.handleClickPreview})}},{key:"render",value:function(){var c=this.props,f=c.url,d=c.style,p=c.width,m=c.height,w=c.fallback,b=c.wrapper,F=this.state.showPreview,E=this.getAttributes(f),A=typeof b=="string"?this.references.wrapper:void 0;return Ta.default.createElement(b,py({ref:A,style:uO(uO({},d),{},{width:p,height:m})},E),Ta.default.createElement(mue,{fallback:w},F?this.renderPreview(f):this.renderActivePlayer(f)))}}]),a}(Ta.Component),Dt(n,"displayName","ReactPlayer"),Dt(n,"propTypes",ud.propTypes),Dt(n,"defaultProps",ud.defaultProps),Dt(n,"addCustomPlayer",function(s){Qf.push(s)}),Dt(n,"removeCustomPlayers",function(){Qf.length=0}),Dt(n,"canPlay",function(s){for(var u=0,a=[].concat(Qf,T1(e));u<a.length;u++){var o=a[u];if(o.canPlay(s))return!0}return!1}),Dt(n,"canEnablePIP",function(s){for(var u=0,a=[].concat(Qf,T1(e));u<a.length;u++){var o=a[u];if(o.canEnablePIP&&o.canEnablePIP(s))return!0}return!1}),i};Rg.createReactPlayer=yue;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(j6),r=Rg;function n(u){return u&&u.__esModule?u:{default:u}}var i=e.default[e.default.length-1],s=(0,r.createReactPlayer)(e.default,i);t.default=s})(N6);const gue=hO(N6),vue=({children:t,post:e,thread:r,block:n})=>l.jsxs("span",{className:"text-quote",children:[">",t.map(i=>p2(i,e,r,n))]});function oO({link:t,children:e}){return l.jsxs(Pe,{className:"dchan-postref dchan-link",to:t,children:[l.jsx("wbr",{}),l.jsxs("span",{children:[">>",e]})]})}function Aue({id:t,children:e}){return l.jsxs(Pe,{className:"dchan-link",to:`https://polygonscan.com/tx/${t}`,children:[l.jsx("wbr",{}),l.jsx("span",{children:e})]})}function bue({post:t,thread:e,value:r,block:n}){const{publish:i}=ef(),s=r.id?`${r.id}/${r.n}`:r.n,u=k.useMemo(()=>e&&[e.op,...e.replies||e.lastReplies||[]].find(w=>r.id?`${w.from.id}/${w.n}`===s||`0x${mp(w.from.id).replace("-","")}/${w.n}`===s:w.n===r.n),[e,r,s]);k.useEffect(()=>{const w={from:t,to:{userId:r.id,n:r.n}};i("POST_BACKLINK",w)},[t,r,i]);const a=k.useCallback(()=>{u!=null&&i("POST_HIGHLIGHT",u.id)},[i,u]),o=k.useCallback(()=>{u!=null&&i("POST_DEHIGHLIGHT",u.id)},[i,u]),c=`${t.thread?Re.thread(t.thread):t.board?Re.board(t.board):""}/`,{accounts:f}=Fn(),d=e&&u&&e.op.id===u.id,p=f&&f[0]&&u&&f[0]===u.from.address,m=e&&!u;return l.jsxs(Pe,{className:"dchan-postref dchan-link",to:`${m?"/":c}${s}${n?`?block=${n}`:""}`,onMouseEnter:a,onMouseLeave:o,children:[l.jsx("wbr",{}),l.jsxs("span",{className:"whitespace-nowrap",children:[">>",s]}),d?" (OP)":"",p?" (You)":""]})}function wue({children:t,post:e,thread:r,block:n}){return l.jsx("span",{className:"dchan-post-spoiler",children:t.map(i=>p2(i,e,r,n))})}function aj({link:t}){return l.jsx("a",{className:"dchan-link",href:t,target:"_blank",rel:"noreferrer",children:t})}function Eue({hash:t}){return l.jsxs("details",{className:"inline w-full",children:[l.jsx("summary",{children:l.jsx("a",{className:"dchan-link",href:`//ipfs.4dchan.org/ipfs/${t}`,target:"_blank",rel:"noreferrer",children:t})}),l.jsx("img",{src:`//ipfs.4dchan.org/ipfs/${t}`,alt:""})]})}function xue({url:t,id:e}){const[r,n]=k.useState(!1),i=k.useCallback(()=>{n(!r)},[r,n]);return l.jsxs("span",{id:e,children:[l.jsx(aj,{link:t})," ",l.jsxs("button",{className:"dchan-link",onClick:i,children:["(",r?"unembed":"embed",")"]}),r?l.jsx(gue,{url:t,controls:!0,className:"grid"}):""]})}function p2(t,e,r,n){switch(t.type){case"text":return t.value;case"link":return l.jsx(aj,{link:t.value},t.key);case"ipfs":return l.jsx(Eue,{hash:t.hash},t.key);case"newline":return l.jsx("br",{},t.key);case"textquote":return l.jsx(vue,{post:e,thread:r,block:n,children:t.value},t.key);case"ref":return l.jsx(oO,{link:`/${t.id}${n?`?block=${n}`:""}`,children:t.id},t.key);case"txhashref":return l.jsx(Aue,{id:t.id,children:t.id},t.key);case"postref":return l.jsx(bue,{post:e,thread:r,block:n,value:t},t.key);case"boardref":return l.jsxs(oO,{link:`/${t.id}${n?`?block=${n}`:""}`,children:[t.board,t.id]},t.key);case"spoiler":return l.jsx(wue,{post:e,thread:r,block:n,children:t.value},t.key);case"youtubelink":case"soundcloudlink":return l.jsx(xue,{url:t.url,id:t.id},t.key)}}const fw=k.memo(({post:t,thread:e,style:r={},className:n=""})=>{const{timeTraveledToBlockNumber:i}=nt(),s=k.useMemo(()=>Tie(t.comment),[t.comment]);return l.jsx("div",{className:n+" block text-left break-words font-sans text-sm max-w-90vw dchan-post-body",style:r,children:s.map(u=>p2(u,t,e,i==null?void 0:i.toString()))},`${t.id}-${e==null?void 0:e.id}`)},z8);function Sl(t){return ce.fromSeconds(parseInt(t))}const Fue=({post:t})=>{const e=Sl(t.createdAtBlock.timestamp),{currentBlock:r}=nt(),n=e.toRelative(),i=r?Sl(r.timestamp):void 0,s=i&&e.diff(i).milliseconds?e.toRelative({base:i}):"Now",u=`${e.toLocaleString({day:"2-digit",month:"2-digit",year:"2-digit"})}(${e.weekdayShort})${e.toLocaleString(ce.TIME_24_WITH_SECONDS)}`,a=Ni(),o=of.parse(a.search);o.block=`${t.createdAtBlock.number}`;const c=`${a.pathname}?${new URLSearchParams(o).toString()}`;return l.jsxs("span",{className:"px-0.5 whitespace-nowrap text-sm flex center",title:n!==null?n:void 0,children:[u,l.jsxs("span",{className:"text-xs px-1 opacity-20 hover:opacity-100 inline-block",children:["[",l.jsx(Pe,{title:`Time travel to ${u}`,to:c,children:r?l.jsxs("span",{children:[s," (",n,")"]}):n}),"]"]})]})},lO=({post:t,thread:e,backlinks:r,children:n})=>{var R,j,I;const{timeTraveledToBlockNumber:i}=nt(),{id:s,n:u,name:a,from:{address:o}}=t,{accounts:c}=Fn(),{publish:f}=ef(),[d]=Li(),p=fa(),m=fa(o),w=c.length>0&&c[0]===o,[b,F]=k.useState(),E=((R=e==null?void 0:e.board)==null?void 0:R.id)&&p.isJannyOf(e.board.id),A=m.isAdmin(),x=((j=e==null?void 0:e.board)==null?void 0:j.id)&&m.isJannyOf(e==null?void 0:e.board.id),C=k.useCallback((V,re)=>{f("FORM_QUOTE",{n:re,...e&&[...e.replies||e.lastReplies||[],e.op].filter(Z=>Z.n===re).length>1?{from:V}:{}})},[e,f]),S=k.useCallback(async(V,re)=>{try{if(re=re||parseFloat(prompt("How much? (MATIC)")||""),isNaN(re)){alert("Invalid amount");return}await XW(c[0],V,re)}catch(Z){console.error({onSendTipError:Z})}},[c]),O=e==null?void 0:e.isPinned,g=e==null?void 0:e.isLocked,h=s===(e==null?void 0:e.id),v=h&&E,y=w||E,D=E,P=h&&(w||E),N=r?Object.values(r):[],{isFavorite:B,addFavorite:L,removeFavorite:H}=yx(),M=e&&B?B(e):!1,T=k.useCallback(()=>{e&&H&&L&&(M?H(e):L(e))},[L,H,e,M]);return l.jsxs("span",{className:"max-w-95vw inline-flex flex-wrap items-center",children:[h&&e?l.jsx("button",{className:`inline-block ${M?"opacity-70 hover:opacity-100":"opacity-40 hover:opacity-70"}`,title:M?"Remove from watched":"Add to watched",onClick:T,children:l.jsx(pe,{emoji:M?"":""})}):l.jsx("span",{}),l.jsx("span",{className:"px-0.5 break-all grid center",children:l.jsxs("span",{className:`font-bold font-size-090rem ${A?"text-red-600":x?"text-purple-600":"text-accent"}`,title:A?"This user is an administrator.":x?"This user is a moderator for this board.":"",children:[!a||a===""?"Anonymous":a,A?" ## Admin":x?" ## Mod":""]})}),l.jsxs("span",{className:"px-1 whitespace-nowrap text-xs",children:["(ID: ",l.jsx(m2,{user:t.from})," )"]}),l.jsx(Fue,{post:t}),l.jsxs("span",{className:"whitespace-nowrap flex center",children:[l.jsxs("span",{className:"px-0.5 on-parent-target-font-bold text-sm whitespace-nowrap",children:[l.jsx(Pe,{className:"dchan-link",to:`${Re.post(t)}${i?`?block=${i}`:""}`,title:"Link to this post",children:"No."}),l.jsx("span",{className:"dchan-link",title:"Reply to this post",onClick:()=>C(t.from.id,t.n),children:u})]}),l.jsxs(bp,{children:[l.jsx("div",{children:l.jsxs("a",{href:`https://polygonscan.com/tx/${t.id}`,title:"TX Details",target:"_blank",rel:"noreferrer",children:[l.jsx(pe,{emoji:""})," TX Details"]})}),l.jsx("div",{children:l.jsxs(Pe,{to:`${Re.post(t)}?block=${t.createdAtBlock.number}`,children:[l.jsx(pe,{emoji:""})," Time travel to"]})}),c&&c[0]?l.jsxs("div",{children:[P?l.jsx("div",{children:e&&e.isLocked?l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>QJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Unlock"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"lock",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>WJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Lock"]})]})}):"",v?l.jsx("div",{children:e&&e.isPinned?l.jsxs("span",{children:[l.jsx("input",{name:"sticky",type:"hidden",value:"false"}),l.jsxs("button",{onClick:()=>GJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Unpin"]})]}):l.jsxs("span",{children:[l.jsx("input",{name:"sticky",type:"hidden",value:"true"}),l.jsxs("button",{onClick:()=>qJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Pin"]})]})}):"",y?l.jsx("div",{children:l.jsxs("button",{onClick:()=>MJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Remove"]})}):"",D?l.jsx("div",{children:l.jsxs("button",{onClick:()=>KJ(s,c,F),children:[l.jsx(pe,{emoji:""})," Ban"]})}):"",l.jsx("div",{children:l.jsxs("button",{onClick:()=>$J(s,c,F),children:[l.jsx(pe,{emoji:""})," Report"]})}),l.jsx("div",{children:l.jsx("button",{title:"Send MATIC tip",onClick:()=>S(o),children:" Send Tip"})})]}):""]}),l.jsxs("span",{className:"flex gap-1",children:[h&&O?l.jsx("span",{title:"Thread pinned. This might be important.",children:l.jsx(pe,{emoji:""})}):l.jsx(l.Fragment,{}),h&&g?l.jsx("span",{title:"Thread locked. You cannot reply anymore.",children:l.jsx(pe,{emoji:""})}):l.jsx(l.Fragment,{}),h&&y8(e)?l.jsx("span",{title:"Thread archived. You can still reply.",children:l.jsx(pe,{emoji:""})}):l.jsx(l.Fragment,{}),Fx(t,(I=d==null?void 0:d.content_filter)==null?void 0:I.score_threshold)?l.jsx("span",{title:"Post hidden due to reports. Click to show anyway.",children:l.jsx(pe,{emoji:""})}):l.jsx(l.Fragment,{})]})]}),n,l.jsx("span",{className:"dchan-backlinks text-left text-xs flex flex-wrap",children:N==null?void 0:N.map(V=>l.jsx(Pe,{className:"dchan-link px-1",to:`${Re.post(V)}${i?`?block=${i}`:""}`,onMouseEnter:()=>f("POST_HIGHLIGHT",V.id),onMouseLeave:()=>f("POST_DEHIGHLIGHT",V.id),children:`>>${V.n}`},V.id))}),l.jsx(Mg,{status:b})]})},Cue=({post:t})=>{var s;const{timeTraveledToBlockNumber:e}=nt(),r=Vr(),n=`/${t.id}${e?`?block=${e}`:""}`,i=k.useCallback(()=>{r(n)},[r,n]);return l.jsx("div",{"data-theme":(s=t==null?void 0:t.board)!=null&&s.isNsfw?"nsfw":"blueboard",onDoubleClick:i,children:l.jsx(Eh,{post:t,showPostMarker:!1,header:l.jsxs("span",{children:[l.jsxs("span",{className:"p-1 whitespace-nowrap",children:["[",l.jsx(Pe,{to:n,className:"dchan-link inline",title:"View post in thread",children:"View"}),"]"]}),t.board?l.jsx("span",{className:"whitespace-nowrap",children:l.jsx(na,{board:t.board})}):""]})},t.id)})},Sue=()=>l.jsx(Ti,{title:l.jsx("span",{children:"The rules"}),className:"flex flex-col flex-grow flex-shrink-0",bodyClassName:"flex",collapsible:!1,children:l.jsx("div",{className:"p-8",children:l.jsxs("ul",{className:"list-disc text-wrap text-left m-auto",children:[l.jsx("li",{children:"Do not post anything that can get you in trouble with local or global jurisdictions."}),l.jsx("li",{children:"Be decent."})]})})}),oj=({className:t=""})=>{const[,e]=eg();return l.jsx(l.Fragment,{children:l.jsx("span",{className:`${t} cursor-pointer dchan-link`,onClick:r=>{r.stopPropagation(),r.preventDefault(),e("rules")},children:"Rules"})})},Due=()=>{var r,n,i,s;const[t,e]=Li();return l.jsxs("details",{children:[l.jsx("summary",{children:l.jsxs("span",{className:"inline-flex flex-wrap center",children:[l.jsxs("span",{className:"whitespace-nowrap",children:[l.jsx("label",{className:"pl-2",htmlFor:"dchan-input-view-mode",children:"Sort by"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_sort_threads_by:u.target.value}})},value:(r=t==null?void 0:t.content_view)==null?void 0:r.board_sort_threads_by,children:[l.jsx("option",{value:"lastBumpedAt",children:"Last bumped at"}),l.jsx("option",{value:"replyCount",children:"Reply count"}),l.jsx("option",{value:"imageCount",children:"File count"})]})]}),l.jsxs("span",{className:"whitespace-nowrap",children:[l.jsx("label",{className:"pl-2",htmlFor:"dchan-input-view-mode",children:"Sort direction"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_sort_direction:u.target.value}})},value:(n=t==null?void 0:t.content_view)==null?void 0:n.board_sort_direction,children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]})]})}),l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"px-2",htmlFor:"dchan-input-view-mode",children:"Page size"}),l.jsx("input",{id:"dchan-input-page-size",type:"number",min:1,value:(i=t==null?void 0:t.content_view)==null?void 0:i.page_size,onChange:u=>{t&&e({...t,content_view:{...t.content_view,page_size:Number(u.target.value)}})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"px-2",htmlFor:"dchan-input-view-mode",children:"Default board view mode"}),l.jsxs("select",{id:"dchan-input-view-mode",onChange:u=>{t&&e({...t,content_view:{...t.content_view,board_default_view_mode:u.target.value}})},value:(s=t==null?void 0:t.content_view)==null?void 0:s.board_default_view_mode,children:[l.jsx("option",{value:"catalog",children:"Catalog"}),l.jsx("option",{value:"index",children:"Index"})]})]})]})]})},Dl=({className:t="",speed:e="slow",reverse:r=!1,size:n=16,style:i={}})=>l.jsx("span",{className:`center flex ${t}`,children:l.jsx("img",{className:`spin-${e} ${{16:"h-16 w-16",8:"h-8 w-8",4:"h-4 w-4"}[n]} ${r?"animation-direction-reverse":""} animation-spin pointer-events-none`,src:v8,alt:"",style:i})}),Mg=({status:t,className:e=""})=>t?l.jsx("div",{className:e+" inline-block text-xs",children:l.jsx("div",{className:"bg-secondary px-1 border border-black",children:t.error?l.jsx("div",{className:"text-red-600",children:l.jsxs("details",{children:[l.jsx("summary",{children:"Error"}),l.jsx("pre",{className:"whitespace-pre-wrap max-w-32rem mt-2",children:t.error.message?t.error.message:JSON.stringify(t.error,null,2)})]})}):t.progress?l.jsxs("div",{className:"text-gray-900 flex center",children:[l.jsx(Dl,{size:4,speed:"faster"}),l.jsx("span",{className:"px-2",children:t.progress})]}):t.success?l.jsx("div",{className:"text-green-600",children:l.jsx("span",{className:"px-2",children:t.success})}):Dg(t)?t:JSON.stringify(t)==="{}"?"No tx result returned by wallet, but it likely went through successfully.":JSON.stringify(t)})}):l.jsx("span",{}),yy=({ms:t=1e4,children:e})=>{const[r,n]=k.useState(!1);return k.useEffect(()=>{const i=setTimeout(()=>{n(!0)},t);return()=>clearTimeout(i)},[t]),r?e:l.jsx("span",{})},lj=({children:t,className:e="",sectionClassName:r="",containerClassName:n="",firstTab:i="",slideshowInterval:s=0})=>{const u=Array.from(t.keys()),[a,o]=k.useState(i||u[0]);let c=a;t.has(a)||(c=u[0]);const[f,d]=k.useState(!1),p=k.useCallback(()=>{d(!0)},[d]),m=k.useCallback(()=>{d(!1)},[d]);return k.useEffect(()=>{const w=s>0?setInterval(()=>{!f&&o(u[(u.findIndex(b=>b===a)+1)%u.length])},s):null;return()=>{w&&clearInterval(w)}},[s,a,o,f,u]),l.jsxs("article",{className:`${e}`,onMouseOver:p,onMouseOut:m,children:[l.jsx("header",{className:"bg-white border border-highlight flex flex-row justify-evenly",style:{flex:"0 1 auto"},children:Array.from(t.keys()).map((w,b)=>l.jsxs(Cr.Fragment,{children:[l.jsx("button",{className:["bg-highlight py-1 px-4 w-full font-bold",w===c?"opacity-100":"opacity-80 hover:opacity-100"].join(" "),onClick:()=>{o(w)},children:w}),b<t.size-1?l.jsx("div",{className:"border-l border-highlight"}):null]},w))}),l.jsx("section",{className:`animation-fade-in bg-white border border-tertiary-accent flex flex-col border-t-0 ${r}`,style:{flex:"1 1 auto"},children:l.jsx("div",{className:n,children:Array.from(t.entries()).map(([w,b])=>l.jsx("div",{className:["",w!==c?"hidden":""].join(" "),style:{flex:"0 0 auto"},children:b},w))})}),l.jsx("div",{})]})},kue=({className:t="",limit:e,board:r})=>{const{currentBlock:n,timeTraveledToBlockNumber:i}=nt(),s=k.useMemo(()=>Math.floor((n?parseInt(n.timestamp):ce.now().toSeconds())-60*60*24*30),[n]),{data:u,loading:a}=hr(i?Z5:X5,{pollInterval:3e4,fetchPolicy:i?"cache-first":"network-only",variables:{block:i,limit:e,cutoff:s,board:(r==null?void 0:r.id)||""}});return u?l.jsx(lj,{className:`${t} w-auto`,firstTab:"Last bumped",children:new Map([["Most popular",u.mostPopular.length?l.jsx(tm,{threads:u.mostPopular,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})],["Last created",u.lastCreated.length?l.jsx(tm,{threads:u.lastCreated,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})],["Last bumped",u.lastBumped.length?l.jsx(tm,{threads:u.lastBumped,showBoard:!0}):l.jsx("div",{className:"p-4",children:"No active threads."})]])}):a?l.jsx("div",{className:"border border-solid border-tertiary-accent flex-grow p-2",children:l.jsx(Cn,{})}):l.jsx("span",{})},m2=({user:t,className:e=""})=>t.address?l.jsx("a",{className:"dchan-link",href:`https://polygonscan.com/address/${t.address}`,target:"_blank",children:l.jsx(Ap,{id:t.address||"0x000000",className:e,children:t.b58id})}):"",Oue=()=>l.jsx("div",{className:"grid center",children:l.jsx(Ti,{title:"Wallet",collapsible:!0,children:l.jsxs("span",{className:"text-center",children:[l.jsx(cj,{}),l.jsx(_ue,{}),l.jsx(Bue,{}),l.jsx(Rue,{})]})})}),_ue=()=>{var u;const{provider:t,accounts:e,balance:r,chainId:n}=Fn(),i=(u=fa().data)==null?void 0:u.user,s=e[0];return t&&s&&TN(n)?l.jsxs("div",{className:"text-xs center grid",children:[l.jsxs("div",{children:[l.jsx("span",{className:"px-1",children:"Connected as"}),l.jsxs("span",{children:["[",l.jsx(m2,{user:i||{address:s}}),"]"]},s),l.jsx("div",{className:"text-gray-700",children:i?l.jsx(l.Fragment,{}):l.jsxs("div",{className:"p-2",children:["It seems you haven't posted yet.",l.jsx("br",{}),"You'll be assigned a unique ID once you do."]})})]}),l.jsx("div",{children:r!==void 0?l.jsxs("span",{children:[l.jsxs("span",{className:"flex center text-gray-600",children:[r.toFixed(4),l.jsx("img",{className:"inline h-4 w-4 mx-1",alt:"MATIC",src:fy})]}),r!==void 0&&r<.01?l.jsx("div",{className:"p-4",children:l.jsxs("details",{children:[l.jsx("summary",{children:"Need Matic?"}),l.jsxs("div",{className:"pt-2",children:["Free faucets:",l.jsx(b8,{})]}),l.jsxs("div",{className:"pt-2",children:["Or ",l.jsx("a",{className:"dchan-link",href:"https://wallet.polygon.technology/gas-swap",target:"_blank",rel:"noreferrer",children:"swap tokens for Matic."})]}),l.jsxs("div",{className:"pt-2",children:["Or ",l.jsx("a",{className:"dchan-link",href:"https://presearch.com/search?q=buy+matic",target:"_blank",rel:"noreferrer",children:"buy some."})]})]})}):""]}):""})]}):l.jsx("span",{})},Pue=({className:t=""})=>{const[e,r]=k.useState(!1),[n,i]=k.useState(!1),[s,u]=k.useState(),{provider:a,connect:o,disconnect:c}=Fn(),f=k.useCallback(async()=>{try{if(a)c();else{r(!0);const{success:d,error:p}=await o();r(!1),i(!d),u(p)}}catch(d){console.error({onClickError:d})}},[o,c,a]);return l.jsxs("span",{className:`text-center select-none ${t}`,children:[l.jsx("div",{children:l.jsx("button",{className:"dchan-link dchan-brackets whitespace-nowrap",onClick:f,children:e?"Connecting wallet...":a?"Disconnect Wallet":"Connect Wallet"})}),l.jsxs("span",{className:"text-sm",children:[n?l.jsx("span",{children:l.jsxs("details",{children:[l.jsxs("summary",{children:[l.jsx(pe,{emoji:""})," Something went wrong. ",l.jsx("br",{}),"Check that your wallet is unlocked and doesn't have any pending modals, then try again."]}),l.jsx("div",{className:"bg-red",children:JSON.stringify(s,null,2)})]})}):"",!n&&e?l.jsx(yy,{ms:2e3,children:l.jsx("span",{children:"If the above button does not work, try unlocking your wallet first, then retry."})}):""]})]})},cj=()=>{const{provider:t}=Fn();return l.jsxs("div",{children:[l.jsx(Pue,{}),t?l.jsx(l.Fragment,{}):l.jsx("div",{className:"text-xs px-2",children:l.jsxs("small",{className:"p-1 text-center",children:[l.jsxs("div",{children:["Use ",l.jsx("a",{className:"dchan-link",href:"//metamask.io",target:"_blank",children:"Metamask"})," or ",l.jsx("a",{className:"dchan-link",href:"//brave.com/",target:"_blank",children:"Brave Browser"})," for Desktop"]}),l.jsxs("div",{children:["or ",l.jsx("a",{className:"dchan-link",href:"//trustwallet.com/",target:"_blank",children:"Trust Wallet"})," for Mobile","."]}),l.jsx("div",{children:"Other wallets might not be supported."})]})})]})},Bue=()=>{const{provider:t,chainId:e,network:r}=Fn(),[n,i]=k.useState(!1),s=k.useCallback(async()=>{i(!0),await JW(),i(!1)},[]);return t&&!TN(e)?l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{children:[l.jsx(pe,{emoji:""})," You need to be connected to the"," ",l.jsx("img",{className:"inline h-4 w-4",alt:"Polygon",src:fy})," ","Polygon chain in order to interact with 4dchan.org."," ",l.jsx(pe,{emoji:""})]}),l.jsxs("div",{className:"flex center",children:[l.jsxs("div",{className:"m-2 relative",children:[l.jsx("div",{className:"flex center w-16 h-16 rounded-full bg-secondary",children:r==null?void 0:r.name}),l.jsxs("div",{className:"text-xs",children:["ID: ",e]}),l.jsx("div",{className:"text-xs absolute left-0 right-0 opacity-60",style:{bottom:"-1rem"},children:"(current)"})]}),l.jsx("div",{children:l.jsxs("button",{className:"dchan-link",onClick:s,children:[l.jsx("div",{children:l.jsx(pe,{emoji:""})}),l.jsx("div",{children:l.jsx("span",{className:"m-2",children:"Switch chain"})})]})}),l.jsxs("div",{className:"m-2",children:[l.jsx("div",{className:"flex center w-16 h-16 rounded-full bg-secondary",children:l.jsxs("div",{children:[l.jsx("img",{className:"h-8 w-8",alt:"Polygon",title:"Polygon",src:fy})," "]})}),l.jsx("div",{className:"text-xs",children:"ID: 137"})]})]}),n?l.jsx(yy,{ms:3e3,children:l.jsxs("div",{className:"text-xs px-2",children:["If the button doesn't work, try switching the network from your wallet.",l.jsx(yy,{ms:6e3,children:l.jsxs("div",{children:["If you can't find the correct chain in your wallet, try manually adding it using"," ",l.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.google.com/search?q=how+to+add+polygon+chain",className:"dchan-link",children:"this guide"}),"."]})})]})}):""]}):l.jsx(l.Fragment,{})};var Tue=ri.isFinite,Nue=Math.min;function jue(t){var e=Math[t];return function(r,n){if(r=hy(r),n=n==null?0:Nue(Sx(n),292),n&&Tue(r)){var i=(Oo(r)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+n));return i=(Oo(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(r)}}var Iue=jue("round");const cO=Iue,Rue=()=>{const{balance:t,gasPrice:e,provider:r}=Fn(),[n,i]=k.useState(NaN),[s,u]=k.useState(NaN);k.useEffect(()=>{e&&(u(cO(parseFloat(bb(e,"ether"))*5e4,5)),i(cO(parseFloat(bb(e,"gwei")))))},[e]);const a=s!==0&&(t||t===0)?Math.floor(t/s):null;return r?l.jsxs("div",{className:"text-xs pt-1 text-gray-400 hover:text-gray-600",children:[a!==null?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"pb-2",children:["~",a||0," posts left"]})}):l.jsx(l.Fragment,{}),l.jsx("small",{children:l.jsxs("a",{href:"//polygonscan.com/gastracker",target:"_blank",rel:"noreferrer",children:[l.jsx("div",{children:"Posting costs gas."}),l.jsxs("div",{children:[l.jsx(pe,{emoji:""})," Current est. tx price: ",s||"?"," ","MATIC @ ",n||"?"," gwei."," ",n>=100?l.jsx("span",{className:"px-1",title:n>1e3?"VERY high fees!":"High fees!",children:[...Math.floor(n/100).toString()].map((o,c)=>l.jsx(pe,{emoji:""},"highfees-"+c))}):l.jsx(l.Fragment,{})]})]})})]}):l.jsx(l.Fragment,{})},Lue=({onRefresh:t})=>{var c,f;const[e,r]=Li(),[n,i]=k.useState(""),[s,u]=k.useState(ce.now()),a=k.useCallback(()=>{u(ce.now()),t()},[u,t]),o=k.useCallback(()=>{var p,m;const d=-(s.diffNow().toMillis()/1e3);if((p=e==null?void 0:e.autorefresh)!=null&&p.enabled&&d>(((m=e==null?void 0:e.autorefresh)==null?void 0:m.seconds)||Number.MAX_SAFE_INTEGER))a();else{if(d===0)return;i(s.toRelative()||"")}},[e,s,i,a]);return k.useEffect(()=>{o()},[s,o]),sZ(()=>{o()},1e3),l.jsx("span",{className:"mx-2 flex whitespace-nowrap select-none",children:l.jsxs("div",{children:[l.jsxs("span",{children:["[",l.jsx("button",{className:"dchan-link",onClick:a,children:n||"Refreshing..."}),"]"]}),l.jsx(bp,{children:l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dchan-input-refresh-toggle",children:"Enable autorefresh"}),l.jsx("input",{id:"dchan-input-refresh-toggle",className:"mx-1 text-xs whitespace-nowrap",type:"checkbox",checked:(c=e==null?void 0:e.autorefresh)==null?void 0:c.enabled,onChange:d=>{e&&r({...e,autorefresh:{...e.autorefresh,enabled:d.target.checked}})}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dchan-input-autorefresh-interval",children:"Autorefresh interval (seconds)"}),l.jsx("input",{id:"dchan-input-autorefresh-interval",className:"mx-1 text-xs whitespace-nowrap",type:"number",min:"10",value:(f=e==null?void 0:e.autorefresh)==null?void 0:f.seconds,onChange:d=>{e&&r({...e,autorefresh:{...e.autorefresh,seconds:Number(d.target.value)}})}})]})]})})]})})};var Mue="Expected a function",$ue=Math.max,Uue=Math.min;function gy(t,e,r){var n,i,s,u,a,o,c=0,f=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(Mue);e=hy(e)||0,Pi(r)&&(f=!!r.leading,d="maxWait"in r,s=d?$ue(hy(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p);function m(O){var g=n,h=i;return n=i=void 0,c=O,u=t.apply(h,g),u}function w(O){return c=O,a=setTimeout(E,e),f?m(O):u}function b(O){var g=O-o,h=O-c,v=e-g;return d?Uue(v,s-h):v}function F(O){var g=O-o,h=O-c;return o===void 0||g>=e||g<0||d&&h>=s}function E(){var O=em();if(F(O))return A(O);a=setTimeout(E,b(O))}function A(O){return a=void 0,p&&n?m(O):(n=i=void 0,u)}function x(){a!==void 0&&clearTimeout(a),c=0,n=o=i=a=void 0}function C(){return a===void 0?u:A(em())}function S(){var O=em(),g=F(O);if(n=arguments,i=this,o=O,g){if(a===void 0)return w(o);if(d)return clearTimeout(a),a=setTimeout(E,e),m(o)}return a===void 0&&(a=setTimeout(E,e)),u}return S.cancel=x,S.flush=C,S}const fj=({search:t="",open:e=!0,onSearch:r=()=>{}})=>{const[n,i]=k.useState(t||""),s=k.useCallback(f=>{i(f)},[i]),u=k.useRef(null),a=k.useCallback(()=>{s(""),u!=null&&u.current&&(u.current.value="")},[s]),o=k.useMemo(()=>gy(r,500),[r]),c=k.useCallback(f=>{const d=f.target.value;i(d),o(d)},[o]);return l.jsxs("details",{className:"grid center self-center bg-secondary border border-secondary-accent p-1",open:e,children:[l.jsx("summary",{children:"Search"}),l.jsx("div",{children:l.jsx("input",{id:"dchan-search",className:"text-center w-32",ref:u,type:"text",placeholder:"...",value:n,onChange:c,autoFocus:!0})}),l.jsx("div",{className:"relative",children:t?l.jsxs("span",{className:"text-xs",children:["[",l.jsx("button",{className:"dchan-link",onClick:a,children:"Cancel"}),"]"]}):""})]})},Vue=({onExit:t})=>{var d,p;const[e,r]=Li(),[n,i]=k.useState((d=e==null?void 0:e.subgraph)==null?void 0:d.endpoint),s=k.useCallback((m,w)=>{const b={...m};m.subgraph.endpoint=w,r(b)},[r]),u=k.useMemo(()=>gy(s,500),[s]),[a,o]=k.useState((p=e==null?void 0:e.content_filter)==null?void 0:p.score_threshold),c=k.useMemo(()=>gy((m,w)=>{const b={...m};m.content_filter.score_threshold=w,r(b)},500),[r]),f=k.useCallback(()=>{window.confirm("All settings will be reset to their default value. Are you sure?")||r($l),window.alert("Reset successful"),window.location.reload()},[r]);return l.jsxs("div",{className:"bg-secondary border-tertiary-accent border-2 flex flex-col h-full",children:[l.jsxs("div",{className:"mb-2 mt-1 px-3",style:{flex:"0 1 auto"},children:[l.jsx("div",{className:"float-left",children:l.jsx("span",{className:"font-bold",children:"4dchan.org Settings"})}),l.jsxs("div",{className:"float-right",children:[l.jsx("button",{className:"dchan-link",onClick:f,children:"Reset settings"}),l.jsx("span",{className:"px-2",children:"|"}),l.jsx("button",{onClick:t,children:l.jsx(pe,{emoji:""})})]})]}),l.jsxs("div",{className:"h-full overflow-y-scroll overscroll-contain",style:{flex:"1 1 auto"},children:[l.jsxs("fieldset",{className:"border border-tertiary-accent rounded px-4 pb-2 mx-2",children:[l.jsx("legend",{className:"font-bold",children:"Subgraph Endpoint"}),l.jsx("div",{children:"Endpoint used to query the subgraph for data."}),l.jsx("div",{children:"If you're having issues with boards/threads not loading, check if resetting to default fixes the issue first."}),l.jsx("button",{className:"border border-black px-1 mb-0.5 bg-primary",onClick:()=>{i($l.subgraph.endpoint),s(e,$l.subgraph.endpoint)},children:"Reset to default"}),l.jsx("textarea",{className:"w-full",spellCheck:!1,onChange:m=>{i(m.target.value),u(e,m.target.value)},value:n})]}),l.jsxs("fieldset",{className:"border border-tertiary-accent rounded px-4 pb-2 mx-2",children:[l.jsx("legend",{className:"font-bold",children:"Filter Settings"}),l.jsxs("div",{className:"text-contrast",children:[" By disabling/changing filters, it's possible you may view/download highly disturbing content, or content which may be illegal in your jurisdiction.",l.jsx("div",{children:"Do so at your own risk."})]}),l.jsx("input",{id:"dchan-input-show-below-threshold",className:"mx-1 text-xs whitespace-nowrap opacity-80 hover:opacity-100",type:"checkbox",checked:e==null?void 0:e.content_filter.show_below_threshold,onChange:m=>{if(!e)return;const w={...e};e.content_filter.show_below_threshold=m.target.checked,r(w)}}),l.jsx("label",{htmlFor:"dchan-input-show-below-threshold",children:"Show hidden content"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"dchan-input-score-threshold",children:"Score hide threshold"}),l.jsx("div",{children:l.jsx("input",{id:"dchan-input-score-threshold",className:"mx-1 text-xs whitespace-nowrap opacity-80 hover:opacity-100",type:"range",min:0,max:1,step:.1,value:a,onChange:m=>{if(!e)return;const w=parseFloat(m.target.value);o(w),c(e,w)}})}),l.jsx("div",{className:"text-sm",children:{0:"Show everything","0.1":"Hide heavily reported content","0.2":"Hide heavily reported content","0.3":"Hide heavily reported content","0.4":"Hide reported content","0.5":"Hide reported content","0.6":"Hide reported content","0.7":"Hide slighly reported content","0.8":"Hide slighly reported content","0.9":"Hide slighly reported content",1:"Only show content with no reports"}[a??"1"]})]})]})]})},Hue="You time traveled! The content is being displayed as it was shown to users at the specified date.",zue=k.forwardRef(({startBlock:t,startRangeLabel:e,widgetClassName:r,open:n,onOpen:i},s)=>{var L;const[u,a]=k.useState(ce.now()),[o,c]=k.useState(),{currentBlock:f,nextBlock:d,travelToDateTime:p,travelToBlockNumber:m,travelToPreviousBlock:w,travelToNextBlock:b,travelToPresent:F,lastBlock:E,timeTraveledToBlockNumber:A,timeTraveledToDateTime:x,isPlayback:C,setIsPlayback:S,nextBlockPlaybackAt:O,travelToBeginning:g}=nt(),h=f,v=k.useCallback(H=>{p(ce.fromISO(H))},[p]),y=k.useMemo(()=>gy(m,300),[m]),D=k.useCallback(H=>{y(Number(H))},[y]),P=k.useCallback(()=>{S(!1)},[S]),N=k.useCallback(()=>{S(!0)},[S]),B=k.useCallback(()=>{if(o==null)return;const H=prompt(`Block number: (range: ${o.min.number}-${o.max.number})`,(A||(E==null?void 0:E.number)||0).toString());if(H===null)return;const M=parseInt(H||"");isNaN(M)||M<parseInt(o.min.number)||M>parseInt(o.max.number)?alert(`Invalid block number: ${H}`):m(Number(H))},[o,m,A,E]);return k.useEffect(()=>{const H=setInterval(()=>a(ce.now()),1e3);return()=>clearInterval(H)}),k.useEffect(()=>{t&&E&&c({min:t,max:E})},[t,E,c]),l.jsxs("details",{className:"sm:relative",open:n,ref:s,children:[l.jsx("summary",{className:"list-none cursor-pointer w-full whitespace-nowrap",onClick:H=>{H.preventDefault()},children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mx-1",children:l.jsxs("span",{className:"hidden sm:flex center",onClick:i,children:[l.jsx("span",{className:"select-none",children:h?l.jsxs("span",{children:[l.jsx("strong",{children:l.jsxs("div",{className:"inline-block relative",title:`Time traveled to ${x}!`,children:[l.jsx("span",{className:"animation-pulse absolute",children:"Time Traveled"}),"Time Traveled"]})})," ","to"]}):l.jsx(l.Fragment,{})}),l.jsxs("span",{className:"ml-1 text-xs",children:["[",l.jsx("span",{className:"inline-block min-w-3rem",children:(x||u).toLocaleString(ce.DATETIME_SHORT_WITH_SECONDS)}),"]"]}),h?l.jsx("span",{className:"filter opacity-80 hover:opacity-100 pl-2",title:"Return to present time",onClick:F,children:l.jsx(pe,{emoji:""})}):l.jsx("span",{className:"filter grayscale opacity-30 hover:opacity-100 pl-2",title:"Currently at present time",children:l.jsx(pe,{emoji:""})})]})}),l.jsx("div",{className:"mx-1 sm:hidden",onClick:i,children:h?l.jsxs("abbr",{title:Hue,children:[l.jsx("span",{className:"animation-pulse absolute",children:l.jsx(pe,{emoji:""})}),l.jsx(pe,{emoji:""})]}):l.jsx("span",{className:"filter grayscale opacity-30",children:l.jsx(pe,{emoji:""})})})]}):null}),l.jsx("div",{className:r,children:o?l.jsxs("div",{className:"bg-secondary border border-tertiary-accent border-solid p-1",children:[l.jsx("div",{className:"flex center text-xs my-1 ml-2",children:l.jsxs("span",{children:["[",l.jsx("input",{required:!0,type:"datetime-local",id:"dchan-timetravel-date-input",value:(L=(x||u).toISO())==null?void 0:L.slice(0,16),onChange:H=>v(H.target.value),min:Sl(o.min.timestamp).toISODate()||"",max:Sl(o.max.timestamp).toISODate()||""}),"]"]})}),l.jsx("div",{className:"grid align-center text-xs w-full",children:l.jsx("span",{className:"mx-auto",children:l.jsx("button",{className:"dchan-link",onClick:B,children:`Block #${A||(E==null?void 0:E.number)||"????????"}`})})}),l.jsxs("div",{className:"text-xs bg-secondary",children:[l.jsxs("div",{className:"grid grid-cols-4 center text-center",children:[l.jsx("span",{className:"mx-1",children:e}),l.jsx("input",{className:"col-span-2",id:"timetravel",type:"range",min:parseInt(o.min.number),max:parseInt(o.max.number),onChange:H=>D(H.target.value),value:A||(E==null?void 0:E.number)})," ",l.jsx("span",{className:"mx-1",children:"Now"})]}),l.jsxs("div",{className:"grid grid-cols-4 center text-center",children:[l.jsxs("span",{className:"mx-1",children:[l.jsx("div",{children:Sl(o.min.timestamp).toLocaleString(ce.DATETIME_SHORT)}),l.jsxs("div",{children:["#",o.min.number]})]}),l.jsx("span",{className:"col-span-2"}),l.jsxs("span",{className:"mx-1",children:[l.jsx("div",{children:Sl(o.max.timestamp).toLocaleString(ce.DATETIME_SHORT)}),l.jsxs("div",{children:["#",o.max.number]})]})]}),l.jsx("div",{children:h?l.jsxs("div",{children:[l.jsxs("div",{className:"flex center",children:[l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:g,title:"Travel To Beginning",children:l.jsx(pe,{emoji:""})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:w,title:"Travel To Previous Block",children:l.jsx(pe,{emoji:""})})}),l.jsx("div",{className:"text-xs text-center px-2",children:C?l.jsx("button",{className:"dchan-link",onClick:P,title:"Pause",children:l.jsx(pe,{emoji:""})}):l.jsx("button",{className:"dchan-link",onClick:N,title:"Start",children:l.jsx(pe,{emoji:""})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:b,title:"Travel To Next Block",children:l.jsx(pe,{emoji:""})})}),l.jsx("div",{className:"text-xs text-center px-2",children:l.jsx("button",{className:"dchan-link",onClick:F,title:"Travel To Present",children:l.jsx(pe,{emoji:""})})})]}),l.jsx("div",{className:"flex center mt-1",children:C&&d&&O?l.jsx(l.Fragment,{children:l.jsxs("div",{children:["Next block in ",Math.max(0,Math.round((O-new Date().getTime())/1e3)),"s"]})}):""})]}):l.jsx("div",{className:"mb-4"})})]})]}):l.jsx("div",{className:"bg-secondary border border-tertiary-accent border-solid p-1",children:"Cannot time travel here."})})]})}),Wue=()=>{const{favorites:t,removeFavorite:e}=yx(),r=k.useMemo(()=>t?Object.keys(t):[],[t]),{data:n,loading:i,refetch:s}=hr(Y5,{pollInterval:3e4,variables:{ids:r},skip:!t}),[u,a]=k.useState(n);k.useEffect(()=>n&&a(n),[n,a]);const o=u==null?void 0:u.threads,c=k.useCallback(()=>s({ids:r}),[s,r]),f=Au(c,1,!0),d=e||(()=>({}));return t?l.jsx("div",{className:"bg-secondary border border-tertiary-accent p-1",children:i?l.jsx(Cn,{}):r.length>0&&o&&o.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-1",children:["Watched threads:",l.jsxs("span",{className:"text-xs pl-2",children:["[",l.jsx("button",{className:"dchan-link",onClick:f,children:"Refresh"}),"]"]})]}),l.jsx("div",{className:"text-sm",children:o.map(p=>{const m=p.board;return l.jsxs("div",{children:[l.jsx("button",{onClick:()=>d(p),children:l.jsx(pe,{emoji:""})})," ",m?l.jsx("span",{children:l.jsx(na,{board:m})}):"",l.jsxs(Pe,{className:"dchan-link",to:`${Re.thread(p)}`,children:[" ","- (",p.replyCount,") -"," ",H8(p.subject||p.op.comment,{length:32})," ",p.isLocked?l.jsx(pe,{emoji:""}):""," ",p.isPinned?l.jsx(pe,{emoji:""}):"",y8(p)?l.jsx(pe,{emoji:""}):""]})]},p.id)})})]}):l.jsxs("span",{children:["No threads are being watched. Use the ",l.jsx(pe,{emoji:""})," button on threads to keep track of them here."]})}):l.jsx("div",{className:"bg-secondary border border-tertiary-accent p-1",children:"..."})},Que=()=>{const{isAdmin:t}=fa(),{accounts:e}=Fn();k.useEffect(()=>{window.scrollTo({top:0})},[]);const r=async()=>{await lr("admin:claim",{},e[0])},n=async()=>{const a=prompt("Whomst 0x?");alert(`Granting admin to ${a}`),await lr("admin:grant",{hex_address:a},e[0])},i=async()=>{const a=prompt("IPFS hash?"),o=prompt("Version?"),c=prompt("Channel?")||"",f=a&&o;alert(`${f?"Publishing":"Invalid"} '${a}', version '${o}' on channel '${c}'`),await f&&lr("client:publish",{ipfs_hash:a,version:o,channel:c},e[0])},s=async()=>{await lr("chan:lock",{},e[0])},u=async()=>{await lr("chan:unlock",{},e[0])};return l.jsxs("div",{className:"bg-primary min-h-100vh",children:[l.jsx(w8,{title:"Admin panel"}),l.jsx(cj,{}),t()?l.jsxs("div",{children:[l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:i,children:"Publish Client"})}),l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:r,children:"Claim Admin"})}),l.jsx("div",{className:"center grid",children:l.jsx("button",{onClick:n,children:"Grant Admin"})}),l.jsxs("div",{className:"center grid",children:[l.jsx("button",{onClick:s,children:"Lock"}),l.jsx("button",{onClick:u,children:"Unlock"})]}),l.jsx(Pe,{className:"m-4 dchan-link",to:"/",children:"Home"}),l.jsx(Mo,{})]}):""]})},que=()=>{var g;const t=Ni(),{board_id:e,board_name:r}=ua(),{timeTraveledToBlockNumber:n,lastBlock:i,currentBlock:s}=nt(),[u,a]=k.useContext(tg),o=of.parse(t.search),c=parseInt(`${o.page||"1"}`),f=Vr(),[d]=Li(),p=Number(n||(i==null?void 0:i.number)),m=100,w=k.useMemo(()=>Math.floor((s?parseInt(s.timestamp):ce.now().toSeconds())-60*60*24*30),[s]),b={board:e||"",block:p,orderDirection:((g=d==null?void 0:d.content_view)==null?void 0:g.board_sort_direction)||"desc",limit:m,cutoff:w,skip:m*(c-1)},{refetch:F,data:E,loading:A}=hr(B5,{variables:b}),{loading:x,data:C}=hr(MP,{skip:!p,variables:{board:e||"",block:p}}),S=C==null?void 0:C.board,O=k.useMemo(()=>[...(E==null?void 0:E.pinned)||[],...(E==null?void 0:E.threads)||[]],[E]);return k.useEffect(()=>{window.scrollTo({top:0})},[S==null?void 0:S.id]),k.useEffect(()=>{S&&S.name!==r&&f(`/${S.id}`,{replace:!0})},[S,r,f]),k.useEffect(()=>{F()},[p,F]),kg(x?`Loading... - 4dchan.org - [${e}]`:S?`/${S.name}/ - 4dchan.org - [${S.id}]`:`??? - 4dchan.org - [${e}]`),k.useEffect(()=>{S&&a(S!=null&&S.isNsfw?"nsfw":"blueboard")},[S,a]),l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":u,children:[l.jsxs("div",{children:[l.jsx(Sg,{board:S,summary:A?l.jsx("span",{children:"..."}):l.jsx("span",{className:"font-bold",children:"Displaying threads without replies after 30 days"}),onRefresh:F,archive:!0}),l.jsxs("div",{children:[S===null?l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"text-xs p-2",children:e}),l.jsx("br",{}),"Board does not exist.",isNaN(p)?"":l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"You may have time traveled to before it was created, or after it was deleted."]})]}):A&&!E?l.jsx("div",{className:"center grid",children:l.jsx(Cn,{})}):S&&O?O.length===0?l.jsx("div",{className:"center grid p-8",children:"No threads."}):l.jsx("div",{className:"center flex",children:l.jsxs("table",{className:"w-full md:w-4/5 xl:w-3/5 border-separate mt-4 text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-2",children:"No."}),l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-full max-w-75vw",children:"Excerpt"}),l.jsx("td",{className:"p-1 bg-highlight border border-solid border-black font-bold w-2"})]})}),l.jsx("tbody",{children:O.map((h,v)=>l.jsxs("tr",{className:v%2===1?"bg-primary":"bg-secondary",children:[l.jsx("td",{children:h.n}),l.jsxs("td",{className:"text-left whitespace-nowrap truncate max-w-75vw",children:[h.subject?l.jsxs("b",{children:[h.subject,":"]}):""," ",h.op.comment]}),l.jsxs("td",{children:["[",l.jsx(Pe,{className:"dchan-link",to:Re.thread(h)||"#",children:"View"}),"]"]})]}))})]})}):l.jsx("div",{}),S?l.jsxs("div",{children:[l.jsx("hr",{}),l.jsx(kd,{url:t.pathname,page:c,hasNextPage:O.length>=m}),l.jsx(Fg,{to:"#board-header",label:"Top"})]}):""]})]}),l.jsx(Mo,{showContentDisclaimer:!0})]})},fO=()=>{var D,P,N,B;const t=ua(),{board_id:e}=t,{timeTraveledToBlockNumber:r,lastBlock:n}=nt(),{currentBlock:i}=nt(),s=of.parse(location.search),u=parseInt(`${s.page||"1"}`),[a]=Li(),o=k.useMemo(()=>Math.floor((i?parseInt(i.timestamp):ce.now().toSeconds())-60*60*24*30),[i]),[c,f]=k.useContext(tg),d=Number(r||(n==null?void 0:n.number)),p=t.view_mode||((D=a==null?void 0:a.content_view)==null?void 0:D.board_default_view_mode)||"catalog",m=((P=a==null?void 0:a.content_view)==null?void 0:P.board_sort_threads_by)||"lastBumpedAt",w=parseInt(`${((N=a==null?void 0:a.content_view)==null?void 0:N.page_size)||"100"}`),b={board:e||"",block:d,orderBy:m,orderDirection:((B=a==null?void 0:a.content_view)==null?void 0:B.board_sort_direction)||"desc",limit:w,skip:w*(u-1),cutoff:o},{refetch:F,data:E,loading:A}=hr(T5,{variables:b}),{loading:x,data:C}=hr(MP,{skip:!d,variables:{board:e||"",block:d}}),[S,O]=k.useState(C);k.useEffect(()=>C&&O(C),[C,O]);const g=S==null?void 0:S.board,h=k.useMemo(()=>[...(E==null?void 0:E.pinned)||[],...(E==null?void 0:E.threads)||[]],[E]);k.useEffect(()=>{window.scrollTo({top:0})},[g==null?void 0:g.id]),k.useEffect(()=>{F()},[d,m,F]);const v=(h||[]).filter(L=>{var H,M;return((H=a==null?void 0:a.content_filter)==null?void 0:H.show_below_threshold)||!m8(L,(M=a==null?void 0:a.content_filter)==null?void 0:M.score_threshold)});kg(x?`Loading... - 4dchan.org - [${e}]`:g?`/${g.name}/ - 4dchan.org - [${g.id}]`:`??? - 4dchan.org - [${e}]`),k.useEffect(()=>{g&&f(g!=null&&g.isNsfw?"nsfw":"blueboard")},[g,f]);const y=k.useCallback(()=>{bi.publish("WIDGET_OPEN",vp.TIMETRAVEL)},[]);return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":c,children:[l.jsxs("div",{children:[l.jsx(Sg,{board:g,summary:A?l.jsx("span",{children:"..."}):l.jsxs("span",{children:["Threads: ",h.length," (Hidden:"," ",h.length-v.length,"), Posts: ",g==null?void 0:g.postCount]}),onRefresh:F}),l.jsxs("div",{children:[g===null?l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"text-xs p-2",children:e}),l.jsx("br",{}),"Board does not exist.",isNaN(d)?"":l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"You may have time traveled to before it was created, or after it was deleted."]})]}):A&&!E?l.jsx("div",{className:"center grid",children:l.jsx(Cn,{})}):g&&h?h.length===0?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"center grid p-8",children:[l.jsx("div",{className:"p-2",children:"No threads."}),l.jsx("button",{className:"dchan-link dchan-brackets p-2",onClick:y,children:"Time Travel"}),l.jsx(Pe,{className:"dchan-link dchan-brackets p-2",to:Re.board(g,"archive")??"",children:"Archive"})]})}):l.jsx("div",{children:({catalog:()=>l.jsx(wY,{board:g,threads:v}),index:()=>l.jsx(tm,{board:g,threads:v})}[p]||(()=>l.jsx(l.Fragment,{})))()}):l.jsx("div",{}),g?l.jsxs("div",{children:[l.jsx("hr",{}),l.jsx(kd,{url:location.pathname,page:u,hasNextPage:h.length>=w}),l.jsx(Fg,{to:"#board-header",label:"Top"})]}):""]})]}),l.jsx(Mo,{showContentDisclaimer:!0})]})};function Gue(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Kue(t){return t!==t}function Jue(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Yue(t,e,r){return e===e?Jue(t,e,r):Gue(t,Kue,r)}function Zue(t,e){var r=t==null?0:t.length;return!!r&&Yue(t,e,0)>-1}function Xue(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function eae(){}var tae=1/0,rae=ql&&1/xx(new ql([,-0]))[1]==tae?function(t){return new ql(t)}:eae;const nae=rae;var iae=200;function sae(t,e,r){var n=-1,i=Zue,s=t.length,u=!0,a=[],o=a;if(r)u=!1,i=Xue;else if(s>=iae){var c=e?null:nae(t);if(c)return xx(c);u=!1,i=F8,o=new wh}else o=e?[]:a;e:for(;++n<s;){var f=t[n],d=e?e(f):f;if(f=r||f!==0?f:0,u&&d===d){for(var p=o.length;p--;)if(o[p]===d)continue e;e&&o.push(d),a.push(f)}else i(o,d,r)||(o!==a&&o.push(d),a.push(f))}return a}function uae(t,e){return t&&t.length?sae(t,O8(e)):[]}const dO=()=>{const t=Ni(),{id:e}=ua(),r=Vr(),n=of.parse(t.search),i=`${e||""}`||(Dg(n.s)?n.s:""),{timeTraveledToBlockNumber:s}=nt(),{refetch:u,data:a,loading:o}=hr(s?j5:I5,{pollInterval:3e4,fetchPolicy:s?"cache-first":"network-only",variables:{searchName:i,searchTitle:i.length>1?`${i}:*`:"",block:s},skip:!i}),c=k.useCallback(d=>{r(Re.boards({search:d}))},[r]);k.useEffect(()=>{u()},[i,u]),k.useEffect(()=>{window.scrollTo({top:0})},[i]);const f=a&&(a.searchByTitle||a.searchByName)?uae([...a.searchByName,...a.searchByTitle],"id"):[];return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col",children:[l.jsx(w8,{title:"Boards"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"flex center",children:l.jsx(fj,{baseUrl:`${Re.boards()}${s?`?block=${s}`:""}`,search:i,onSearch:c})}),l.jsxs("div",{className:"",children:[o?l.jsx("div",{className:"center grid",children:l.jsx(Cn,{})}):i?l.jsx("div",{className:"center flex",children:l.jsx("div",{className:"p-2",children:f.length>0?l.jsx(Ti,{title:l.jsxs("span",{children:['Results for "',i,'"']}),className:"pt-4",children:l.jsx(Z0,{boards:f})}):"No boards found"})}):l.jsx(l.Fragment,{children:l.jsx("div",{className:"grid pt-2 justify-center",children:l.jsx(p8,{})})}),l.jsx("div",{className:"center flex sticky bottom-0",children:l.jsx("div",{className:"",children:l.jsx(vY,{})})})]})]}),l.jsx(Mo,{})]})},aae=()=>{kg("4dchan.org");const[t,e]=k.useState(),[r,n]=k.useState();k.useEffect(()=>{window.scrollTo({top:0})},[]);const i=k.useCallback(s=>{s.preventDefault(),n(void 0),e(void 0)},[n]);return k.useEffect(()=>{const s=bi.subscribe("BOARD_ITEM_SELECT",(u,a)=>{n(a),e(a)});return()=>{bi.unsubscribe(s)}},[n]),l.jsxs("div",{className:"h-screen bg-primary flex flex-col pb-2",children:[l.jsx(Ex,{}),l.jsxs("div",{className:"mt-6 relative",children:[l.jsx("div",{className:"top-6 left-0 absolute ",children:l.jsx(wx,{})}),l.jsx("div",{className:"ml-28 lg:ml-64 h-20 overflow-scroll text-xs"})]}),l.jsx("hr",{}),l.jsxs("div",{className:"mt-2 flex flex-grow flex-col grid-cols-2 lg:grid px-4 text-sm",children:[l.jsx("div",{children:l.jsx(Ti,{title:"Boards",titleRight:l.jsx(l.Fragment,{children:t!=null?l.jsxs("div",{className:"absolute top-1/2 bottom-1/2 right-0 mr-4",children:["[",l.jsx("div",{className:"inline dchan-link",onClick:i,children:"Clear Board"}),"]"]}):""}),className:"md:px-1 w-full pb-4",bodyClassName:"p-none b-none",children:l.jsx(gZ,{highlight:r})})}),l.jsx("div",{children:l.jsx(Ti,{title:l.jsxs("span",{children:["Threads"," ",t?l.jsxs("span",{children:["on ",l.jsx(na,{board:t})]}):""]}),className:"md:px-1 w-full pb-4",bodyClassName:"p-none b-none",children:l.jsx(kue,{limit:10,board:t})})})]}),l.jsx(Mo,{})]})},oae=()=>{const[t,e]=k.useState(),r=Vr(),{id:n}=ua(),{timeTraveledToBlockNumber:i}=nt(),s=i?W5:Q5,{data:u}=hr(s,{variables:{id:n||"",block:i},fetchPolicy:"cache-and-network",pollInterval:5e3});return k.useEffect(()=>{if(u){let a=null;const{boardRef:o,threadRef:c,postRef:f}=u;let{board:d,thread:p,post:m}=u;!d&&o?d=o.board:!p&&c?p=c.thread:!m&&f&&(m=f.post);const w=i?`?block=${i}`:"";d?a=`${Re.board(d)}${w}`:p?a=`${Re.thread(p)}${w}`:m&&(a=`${Re.post(m)}${w}`),(d||p||m)&&!a&&e("Content not found. It may have been deleted, or the ID is invalid."),a&&r(a,{replace:!0})}},[u,i,r]),l.jsx("div",{className:"bg-primary center grid w-screen h-screen",children:t?l.jsx(g8,{subject:"Not found",children:l.jsx("span",{children:t})}):l.jsxs("div",{children:[l.jsx(Cn,{}),l.jsx("div",{className:"text-xs dchan-link",children:n}),l.jsx("div",{children:l.jsx(yy,{children:l.jsx("span",{children:(n==null?void 0:n.indexOf("0x"))===0?"The content is being indexed, please wait...":"Are you sure it's a valid ID?"})})})]})})},lae=()=>{const t=Ni(),e=of.parse(t.search),r=e.s||e.search,n=Dg(r)?r:"",i=parseInt(`${e.page||"1"}`),{timeTraveledToBlockNumber:s}=nt(),[u]=Li(),a=Vr(),o=100,c={block:s,search:n.length>1?`${n.trim().split(" ").join(" & ")}`:"*:*",limit:o,skip:(i-1)*o},{refetch:f,data:d,loading:p}=hr(s?H5:z5,{variables:c,pollInterval:6e4}),m=k.useMemo(()=>{const{postSearch:F}=d||{};return xX((F||[]).filter(E=>E&&E.thread&&E.board))},[d]);k.useEffect(()=>{window.scrollTo({top:0})},[n]),k.useEffect(()=>{f()},[n,s,f]);const w=k.useCallback(F=>{a(Re.posts({search:F}))},[a]),b=k.useMemo(()=>d&&d.postSearch.length>=0,[d]);return l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":"blueboard",children:[l.jsx(Sg,{board:null,title:"Posts",summary:m?l.jsxs("span",{children:["Found: ",m.length," posts (Hidden:"," ",m.filter(F=>{var E;return Fx(F,(E=u==null?void 0:u.content_filter)==null?void 0:E.score_threshold)}).length,")"]}):l.jsx("span",{children:"..."}),onRefresh:f}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex justify-center md:justify-start p-2",children:[l.jsx(fj,{baseUrl:`${Re.posts({search:n})}${s?`?block=${s}`:""}`,search:n,open:!0,onSearch:w}),p?l.jsx("span",{}):l.jsx("span",{className:"grid center bg-secondary border border-secondary-accent mx-2",children:l.jsx(kd,{page:i,url:Re.posts({search:n}),hasNextPage:b})})]}),l.jsx("div",{className:"p-2",children:l.jsx("hr",{})}),p?l.jsx("div",{className:"center grid",children:l.jsx(Cn,{})}):m&&m.length?l.jsxs("div",{children:[l.jsx("div",{children:m==null?void 0:m.map(F=>{var E,A,x,C;return l.jsx("div",{className:"p-2 flex flex-wrap",children:l.jsx(Eh,{post:F,header:l.jsxs("span",{children:[l.jsxs("span",{className:"p-1",children:["[",l.jsx("span",{className:"p-1",children:l.jsxs(Pe,{className:"dchan-link",to:`/${(E=F.board)==null?void 0:E.name}/${(A=F.board)==null?void 0:A.id}`,children:["/",(x=F.board)==null?void 0:x.name,"/",l.jsx(Ap,{id:((C=F.board)==null?void 0:C.id)||"0x000000"})]})}),"]"]}),l.jsxs("span",{className:"p-1",children:["[",l.jsx(Pe,{to:`/${F.id}`,className:"dchan-link",children:"View"}),"]"]})]})},F.id)},F.id)})}),l.jsx(kd,{page:i,url:Re.posts({search:n}),hasNextPage:b})]}):n?l.jsx("div",{className:"py-4",children:"No results"}):l.jsxs("div",{children:[l.jsx(pZ,{limit:25,skip:i>1?i*25:0}),l.jsx(kd,{page:i,url:Re.posts({search:n}),hasNextPage:b})]})]}),l.jsx(Mo,{showContentDisclaimer:!0})]})},cae=()=>{const t=ua(),[e,r]=k.useState(),n=Vr(),{board_name:i,board_id:s}=t,u=`${i}/${s}`,{timeTraveledToBlockNumber:a}=nt(),{loading:o,data:c,error:f}=hr(a?LC.query_ref_by_block:LC.query_ref,{variables:{id:i||"",post_n:s||"",post_ref:u,block:a}});return k.useEffect(()=>{f&&r(JSON.stringify(f,null,2).repeat(100))},[f]),k.useEffect(()=>{if(c){let d=null,p=null,m=null;const{threads:w,posts:b,postRef:F}=c;w&&w.length>0?p=w[0]:b&&b.length>0?m=b[0]:F&&(m=F.post);const E=a?`?block=${a}`:"";p?d=`${Re.thread(p)}${E}`:m&&(d=`${Re.post(m)}${E}`),(p||m||F)&&!d&&r("Content not found. It may have been deleted, or the ID is invalid."),d&&n(d,{replace:!0})}},[c,a,n]),l.jsx("div",{className:"bg-primary center grid w-screen h-screen",children:e?l.jsx(g8,{subject:"Something went wrong",children:l.jsx("pre",{className:"text-left",children:e})}):l.jsxs("div",{children:[o?l.jsx(Cn,{}):"",l.jsxs("div",{className:"text-xs",children:[i,"/",s]})]})})},qf=()=>{var O,g;const t=ua(),{board_name:e,board_id:r,user_id:n,thread_n:i,focus_user_id:s,focus_post_n:u}=t,a=Vr(),{publish:o}=ef(),{timeTraveledToBlockNumber:c}=nt(),[f,d]=k.useContext(tg),p={board:r||"",n:i||"",block:c},{refetch:m,data:w,loading:b}=hr(c?J5:K5,{variables:p}),[F,E]=k.useState(w);k.useEffect(()=>w&&E(w),[w,E]);const A=(O=F==null?void 0:F.posts)==null?void 0:O[0],x=F==null?void 0:F.board,C=(g=F==null?void 0:F.threads)==null?void 0:g[0],S=k.useMemo(()=>C?[C.op,...C.replies||C.lastReplies]:[],[C]);return k.useEffect(()=>{window.scrollTo({top:0})},[C==null?void 0:C.id]),k.useEffect(()=>{const h=!C&&A?Re.post(A):void 0;h&&a(`${h}${c?`?block=${c}`:""}`,{replace:!0})},[a,C,c,A]),k.useEffect(()=>{const h=!b&&(s||u)?S.filter(v=>{const y=!s||v.from.id===s||`0x${mp(v.from.id).replace("-","")}`===s,D=!u||v.n===u;return y&&D}):[];if(h.length>0){const v=h[0];a(`${Re.post(v)}${c?`?block=${c}`:""}`,{replace:!0}),o("POST_FOCUS",v)}else!b&&s&&u&&a(`/${s}/${u}`,{replace:!0})},[S,s,u,c,b,o,a]),k.useEffect(()=>{if(x&&C&&(e!==x.name||n!==C.op.from.id)){const h=Re.thread(C);h&&a(`${h}${c?`?block=${c}`:""}`,{replace:!0})}},[x,C,e,n,a,c]),k.useEffect(()=>{m({block:c})},[c,m]),k.useEffect(()=>{x&&d(x!=null&&x.isNsfw?"nsfw":"blueboard")},[x,d]),kg(x&&C?`/${x.name}/ - ${C.subject||C.op.comment} - 4dchan.org - [${C.id}]`:`/${r}/ - Loading... - 4dchan.org`),l.jsxs("div",{className:"bg-primary min-h-100vh flex flex-col","data-theme":f,children:[l.jsx(Sg,{board:x,thread:C,summary:b?l.jsx("span",{children:"..."}):l.jsxs("span",{children:["Posts: ",S.length]}),onRefresh:m}),l.jsx("div",{className:"flex-grow",children:S&&C?l.jsxs("div",{children:[l.jsx("div",{children:S.map(h=>{var v;return l.jsx(Eh,{post:h,thread:C,enableBacklinks:!0,showNsfw:(v=C.board)==null?void 0:v.isNsfw},h.id)})}),l.jsx("div",{className:"flex text-xs pr-1 sticky bottom-0 z-30 pointer-events-none",children:l.jsxs("span",{className:"flex bg-primary pl-2 rounded select-none pointer-events-auto",children:[l.jsx("span",{className:"pr-1",children:l.jsx(Fg,{to:"#board-header",label:"Top"})}),l.jsx("span",{className:"pr-1",children:l.jsxs("div",{children:["[",l.jsx("button",{className:"dchan-link",onClick:()=>{var h,v;(h=document.getElementById("board-header"))==null||h.scrollIntoView(),(v=document.getElementById("dchan-post-form-textarea"))==null||v.focus()},children:"Reply"}),"]"]})})]})})]}):b?l.jsx("div",{className:"center grid",children:l.jsx(Cn,{})}):l.jsx("div",{className:"p-4",children:"Thread not found."})}),l.jsx(Mo,{showContentDisclaimer:S&&C&&!0})]})},fae=({children:t})=>{const e=k.useState(!1),r=k.useState("blueboard"),n=k.useState(null),i=k.useMemo(()=>UB,[]);return l.jsx(g5,{client:i,children:l.jsx(tQ,{children:l.jsx(pU,{children:l.jsx(tg.Provider,{value:r,children:l.jsx(UP.Provider,{value:e,children:l.jsx(Cg.Provider,{value:n,children:t})})})})})})};function dae(){const[t]=V3(),e=()=>{const{id:n}=ua();return(n==null?void 0:n.indexOf("0x"))===0?l.jsx(oae,{}):l.jsx(dO,{})},r=()=>{const{board_name:n}=ua();return(n==null?void 0:n.indexOf("0x"))===0?l.jsx(cae,{}):l.jsx(fO,{})};return t===!1?l.jsx(kY,{}):l.jsx(TR,{basename:"/",children:l.jsxs(fae,{children:[l.jsx(jJ,{}),l.jsx($3,{}),l.jsx(mZ,{}),l.jsxs("div",{className:"App text-center",children:[l.jsxs(kR,{children:[l.jsx(Qr,{path:"/",element:l.jsx(aae,{})}),l.jsx(Qr,{path:"_/boards",element:l.jsx(dO,{})}),l.jsx(Qr,{path:"_/admin",element:l.jsx(Que,{})}),l.jsx(Qr,{path:"_/posts",element:l.jsx(lae,{})}),l.jsx(Qr,{path:":id",element:l.jsx(e,{})}),l.jsx(Qr,{path:":board_name/:board_id",element:l.jsx(r,{})}),l.jsx(Qr,{path:":board_name/:board_id/archive",element:l.jsx(que,{})}),l.jsx(Qr,{path:":board_name/:board_id/:view_mode",element:l.jsx(fO,{})}),l.jsx(Qr,{path:":board_name/:board_id/:user_id/:thread_n/:focus_user_id/:focus_post_n",element:l.jsx(qf,{})}),l.jsx(Qr,{path:":board_name/:board_id/:user_id/:thread_n/:focus_user_id",element:l.jsx(qf,{})}),l.jsx(Qr,{path:":board_name/:board_id/:user_id/:thread_n/:focus_post_n",element:l.jsx(qf,{})}),l.jsx(Qr,{path:":board_name/:board_id/:user_id/:thread_n/:post_n",element:l.jsx(qf,{})}),l.jsx(Qr,{path:":board_name/:board_id/:user_id/:thread_n",element:l.jsx(qf,{})})]}),l.jsx(yZ,{})]})]})})}N1.createRoot(document.getElementById("root")).render(l.jsx(Cr.StrictMode,{children:l.jsx(dae,{})}))});export default pae();
